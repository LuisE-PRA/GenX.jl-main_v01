

â”œâ”€â”€ .JuliaFormatter.toml
â”œâ”€â”€ .git-blame-ignore-revs
â”œâ”€â”€ .gitattributes
â”œâ”€â”€ .github
    â”œâ”€â”€ ISSUE_TEMPLATE
    â”‚   â”œâ”€â”€ bug.yml
    â”‚   â”œâ”€â”€ config.yml
    â”‚   â”œâ”€â”€ feature.yml
    â”‚   â””â”€â”€ question.yml
    â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
    â””â”€â”€ workflows
    â”‚   â”œâ”€â”€ CompatHelper.yml
    â”‚   â”œâ”€â”€ TagBot.yml
    â”‚   â”œâ”€â”€ changelog.yml
    â”‚   â”œâ”€â”€ ci.yml
    â”‚   â”œâ”€â”€ dev_version_update.yml
    â”‚   â”œâ”€â”€ documentation.yml
    â”‚   â””â”€â”€ test_examples.yml
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .zenodo.json
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ CITATION.cff
â”œâ”€â”€ LICENSE
â”œâ”€â”€ Project.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ codecov.yml
â”œâ”€â”€ docs
    â”œâ”€â”€ Project.toml
    â”œâ”€â”€ make.jl
    â””â”€â”€ src
    â”‚   â”œâ”€â”€ Getting_Started
    â”‚       â”œâ”€â”€ commercial_solvers.md
    â”‚       â””â”€â”€ examples_casestudies.md
    â”‚   â”œâ”€â”€ Model_Concept_Overview
    â”‚       â”œâ”€â”€ model_introduction.md
    â”‚       â”œâ”€â”€ model_notation.md
    â”‚       â”œâ”€â”€ objective_function.md
    â”‚       â””â”€â”€ power_balance.md
    â”‚   â”œâ”€â”€ Model_Reference
    â”‚       â”œâ”€â”€ Multi_Stage
    â”‚       â”‚   â”œâ”€â”€ configure_multi_stage_inputs.md
    â”‚       â”‚   â”œâ”€â”€ dual_dynamic_programming.md
    â”‚       â”‚   â”œâ”€â”€ endogenous_retirement.md
    â”‚       â”‚   â””â”€â”€ multi_stage_overview.md
    â”‚       â”œâ”€â”€ Resources
    â”‚       â”‚   â”œâ”€â”€ curtailable_variable_renewable.md
    â”‚       â”‚   â”œâ”€â”€ electrolyzers.md
    â”‚       â”‚   â”œâ”€â”€ flexible_demand.md
    â”‚       â”‚   â”œâ”€â”€ fusion.md
    â”‚       â”‚   â”œâ”€â”€ hydro_inter_period_linkage.md
    â”‚       â”‚   â”œâ”€â”€ hydro_res.md
    â”‚       â”‚   â”œâ”€â”€ investment_charge.md
    â”‚       â”‚   â”œâ”€â”€ investment_energy.md
    â”‚       â”‚   â”œâ”€â”€ long_duration_storage.md
    â”‚       â”‚   â”œâ”€â”€ maintenance.md
    â”‚       â”‚   â”œâ”€â”€ must_run.md
    â”‚       â”‚   â”œâ”€â”€ resource.md
    â”‚       â”‚   â”œâ”€â”€ retrofit.md
    â”‚       â”‚   â”œâ”€â”€ storage.md
    â”‚       â”‚   â”œâ”€â”€ storage_all.md
    â”‚       â”‚   â”œâ”€â”€ storage_asymmetric.md
    â”‚       â”‚   â”œâ”€â”€ storage_symmetric.md
    â”‚       â”‚   â”œâ”€â”€ thermal.md
    â”‚       â”‚   â”œâ”€â”€ thermal_commit.md
    â”‚       â”‚   â”œâ”€â”€ thermal_no_commit.md
    â”‚       â”‚   â””â”€â”€ vre_stor.md
    â”‚       â”œâ”€â”€ TDR.md
    â”‚       â”œâ”€â”€ core.md
    â”‚       â”œâ”€â”€ generate_model.md
    â”‚       â”œâ”€â”€ load_inputs.md
    â”‚       â”œâ”€â”€ methodofmorris.md
    â”‚       â”œâ”€â”€ mga.md
    â”‚       â”œâ”€â”€ policies.md
    â”‚       â”œâ”€â”€ precompile.md
    â”‚       â”œâ”€â”€ solve_model.md
    â”‚       â”œâ”€â”€ solver_configuration_api.md
    â”‚       â”œâ”€â”€ utility_functions.md
    â”‚       â””â”€â”€ write_outputs.md
    â”‚   â”œâ”€â”€ Public_API
    â”‚       â””â”€â”€ public_api.md
    â”‚   â”œâ”€â”€ Tutorials
    â”‚       â”œâ”€â”€ Tutorial_1_configuring_settings.md
    â”‚       â”œâ”€â”€ Tutorial_2_network_visualization.md
    â”‚       â”œâ”€â”€ Tutorial_3_K-means_time_domain_reduction.md
    â”‚       â”œâ”€â”€ Tutorial_4_model_generation.md
    â”‚       â”œâ”€â”€ Tutorial_5_solve_model.md
    â”‚       â”œâ”€â”€ Tutorial_6_solver_settings.md
    â”‚       â”œâ”€â”€ Tutorial_7_setup.md
    â”‚       â”œâ”€â”€ Tutorial_8_outputs.md
    â”‚       â”œâ”€â”€ Tutorials_intro.md
    â”‚       â””â”€â”€ files
    â”‚       â”‚   â”œâ”€â”€ Julia.png
    â”‚       â”‚   â”œâ”€â”€ LatexHierarchy.png
    â”‚       â”‚   â”œâ”€â”€ addGenX.png
    â”‚       â”‚   â”œâ”€â”€ addIJulia.png
    â”‚       â”‚   â”œâ”€â”€ default_settings.png
    â”‚       â”‚   â”œâ”€â”€ genx_settings_none.png
    â”‚       â”‚   â”œâ”€â”€ genxsettings.png
    â”‚       â”‚   â”œâ”€â”€ highs_defaults.png
    â”‚       â”‚   â”œâ”€â”€ jump_logo.png
    â”‚       â”‚   â”œâ”€â”€ jupyter_screen.png
    â”‚       â”‚   â”œâ”€â”€ new_england.png
    â”‚       â”‚   â”œâ”€â”€ opennotebook.png
    â”‚       â”‚   â”œâ”€â”€ runcase.png
    â”‚       â”‚   â”œâ”€â”€ t3_TDR_demand.svg
    â”‚       â”‚   â”œâ”€â”€ t3_demand.svg
    â”‚       â”‚   â”œâ”€â”€ t3_ext_periods.svg
    â”‚       â”‚   â”œâ”€â”€ t3_kmeans.png
    â”‚       â”‚   â”œâ”€â”€ t3_nokmeans.png
    â”‚       â”‚   â”œâ”€â”€ t3_obj_vals.svg
    â”‚       â”‚   â”œâ”€â”€ t3_recon.png
    â”‚       â”‚   â”œâ”€â”€ t6_tols.svg
    â”‚       â”‚   â”œâ”€â”€ t7_1p_none.svg
    â”‚       â”‚   â”œâ”€â”€ t7_2p_load_mass.svg
    â”‚       â”‚   â”œâ”€â”€ t7_2p_mass_none.svg
    â”‚       â”‚   â”œâ”€â”€ t7_2p_mass_zero.svg
    â”‚       â”‚   â”œâ”€â”€ t7_3p_csm_esr_mass.svg
    â”‚       â”‚   â”œâ”€â”€ t7_3p_mass_load_gen.svg
    â”‚       â”‚   â”œâ”€â”€ t7_3p_slack.svg
    â”‚       â”‚   â”œâ”€â”€ t7_4p_esr_mass_load_gen.svg
    â”‚       â”‚   â”œâ”€â”€ t7_4p_mcr_csm_esr_mass.svg
    â”‚       â”‚   â”œâ”€â”€ t7_mcr_esr_csm_load.svg
    â”‚       â”‚   â”œâ”€â”€ t8_cap.svg
    â”‚       â”‚   â”œâ”€â”€ t8_cost.svg
    â”‚       â”‚   â”œâ”€â”€ t8_emm1.svg
    â”‚       â”‚   â”œâ”€â”€ t8_emm2.svg
    â”‚       â”‚   â”œâ”€â”€ t8_emm_comp.svg
    â”‚       â”‚   â”œâ”€â”€ t8_heatmap.svg
    â”‚       â”‚   â”œâ”€â”€ t8_resource_allocation.svg
    â”‚       â”‚   â””â”€â”€ usingIJulia.png
    â”‚   â”œâ”€â”€ User_Guide
    â”‚       â”œâ”€â”€ TDR_input.md
    â”‚       â”œâ”€â”€ generate_alternatives.md
    â”‚       â”œâ”€â”€ methodofmorris_input.md
    â”‚       â”œâ”€â”€ model_configuration.md
    â”‚       â”œâ”€â”€ model_input.md
    â”‚       â”œâ”€â”€ model_output.md
    â”‚       â”œâ”€â”€ multi_stage_input.md
    â”‚       â”œâ”€â”€ running_TDR.md
    â”‚       â”œâ”€â”€ running_model.md
    â”‚       â”œâ”€â”€ slack_variables_overview.md
    â”‚       â”œâ”€â”€ solver_configuration.md
    â”‚       â””â”€â”€ workflow.md
    â”‚   â”œâ”€â”€ additional_third_party_extensions.md
    â”‚   â”œâ”€â”€ assets
    â”‚       â”œâ”€â”€ Dimensions_graphic3_background.png
    â”‚       â”œâ”€â”€ GenX_setup_tutorial_part_1.png
    â”‚       â”œâ”€â”€ GenX_setup_tutorial_part_2.png
    â”‚       â”œâ”€â”€ LDES_approach.png
    â”‚       â”œâ”€â”€ genx_style.css
    â”‚       â”œâ”€â”€ logo-dark.svg
    â”‚       â”œâ”€â”€ logo.svg
    â”‚       â”œâ”€â”€ logo_readme.svg
    â”‚       â”œâ”€â”€ type_hierarchy.png
    â”‚       â””â”€â”€ vre_stor_module.png
    â”‚   â”œâ”€â”€ developer_guide.md
    â”‚   â”œâ”€â”€ index.md
    â”‚   â”œâ”€â”€ installation.md
    â”‚   â”œâ”€â”€ limitations_genx.md
    â”‚   â””â”€â”€ third_party_genx.md
â”œâ”€â”€ example_systems
    â”œâ”€â”€ 1_three_zones
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ Run.jl
    â”‚   â”œâ”€â”€ policies
    â”‚   â”‚   â”œâ”€â”€ CO2_cap.csv
    â”‚   â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
    â”‚   â”œâ”€â”€ resources
    â”‚   â”‚   â”œâ”€â”€ Storage.csv
    â”‚   â”‚   â”œâ”€â”€ Thermal.csv
    â”‚   â”‚   â”œâ”€â”€ Vre.csv
    â”‚   â”‚   â””â”€â”€ policy_assignments
    â”‚   â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
    â”‚   â”œâ”€â”€ settings
    â”‚   â”‚   â”œâ”€â”€ clp_settings.yml
    â”‚   â”‚   â”œâ”€â”€ cplex_settings.yml
    â”‚   â”‚   â”œâ”€â”€ genx_settings.yml
    â”‚   â”‚   â”œâ”€â”€ gurobi_settings.yml
    â”‚   â”‚   â”œâ”€â”€ highs_settings.yml
    â”‚   â”‚   â””â”€â”€ time_domain_reduction_settings.yml
    â”‚   â””â”€â”€ system
    â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
    â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
    â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
    â”‚   â”‚   â””â”€â”€ Network.csv
    â”œâ”€â”€ 6_three_zones_w_multistage
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ Run.jl
    â”‚   â”œâ”€â”€ inputs
    â”‚   â”‚   â”œâ”€â”€ inputs_p1
    â”‚   â”‚   â”‚   â”œâ”€â”€ policies
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CO2_cap.csv
    â”‚   â”‚   â”‚   â”œâ”€â”€ resources
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Vre.csv
    â”‚   â”‚   â”‚   â””â”€â”€ system
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Network.csv
    â”‚   â”‚   â”œâ”€â”€ inputs_p2
    â”‚   â”‚   â”‚   â”œâ”€â”€ policies
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CO2_cap.csv
    â”‚   â”‚   â”‚   â”œâ”€â”€ resources
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Vre.csv
    â”‚   â”‚   â”‚   â””â”€â”€ system
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Network.csv
    â”‚   â”‚   â””â”€â”€ inputs_p3
    â”‚   â”‚   â”‚   â”œâ”€â”€ policies
    â”‚   â”‚   â”‚       â””â”€â”€ CO2_cap.csv
    â”‚   â”‚   â”‚   â”œâ”€â”€ resources
    â”‚   â”‚   â”‚       â”œâ”€â”€ Resource_multistage_data.csv
    â”‚   â”‚   â”‚       â”œâ”€â”€ Storage.csv
    â”‚   â”‚   â”‚       â”œâ”€â”€ Thermal.csv
    â”‚   â”‚   â”‚       â””â”€â”€ Vre.csv
    â”‚   â”‚   â”‚   â””â”€â”€ system
    â”‚   â”‚   â”‚       â”œâ”€â”€ Demand_data.csv
    â”‚   â”‚   â”‚       â”œâ”€â”€ Fuels_data.csv
    â”‚   â”‚   â”‚       â”œâ”€â”€ Generators_variability.csv
    â”‚   â”‚   â”‚       â””â”€â”€ Network.csv
    â”‚   â””â”€â”€ settings
    â”‚   â”‚   â”œâ”€â”€ clp_settings.yml
    â”‚   â”‚   â”œâ”€â”€ cplex_settings.yml
    â”‚   â”‚   â”œâ”€â”€ genx_settings.yml
    â”‚   â”‚   â”œâ”€â”€ gurobi_settings.yml
    â”‚   â”‚   â”œâ”€â”€ highs_settings.yml
    â”‚   â”‚   â”œâ”€â”€ multi_stage_settings.yml
    â”‚   â”‚   â””â”€â”€ time_domain_reduction_settings.yml
    â””â”€â”€ CaseStudy_w_multistage
    â”‚   â”œâ”€â”€ Run.jl
    â”‚   â”œâ”€â”€ inputs
    â”‚       â”œâ”€â”€ inputs_p1
    â”‚       â”‚   â”œâ”€â”€ resources
    â”‚       â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Storage.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Thermal.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Thermalformatissues.csv
    â”‚       â”‚   â”‚   â””â”€â”€ Vre.csv
    â”‚       â”‚   â””â”€â”€ system
    â”‚       â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Network - Copy (2).csv
    â”‚       â”‚   â”‚   â””â”€â”€ Network.csv
    â”‚       â”œâ”€â”€ inputs_p2
    â”‚       â”‚   â”œâ”€â”€ resources
    â”‚       â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Storage.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Thermal.csv
    â”‚       â”‚   â”‚   â””â”€â”€ Vre.csv
    â”‚       â”‚   â””â”€â”€ system
    â”‚       â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
    â”‚       â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
    â”‚       â”‚   â”‚   â””â”€â”€ Network.csv
    â”‚       â””â”€â”€ inputs_p3
    â”‚       â”‚   â”œâ”€â”€ resources
    â”‚       â”‚       â”œâ”€â”€ Resource_multistage_data.csv
    â”‚       â”‚       â”œâ”€â”€ Storage.csv
    â”‚       â”‚       â”œâ”€â”€ Thermal.csv
    â”‚       â”‚       â””â”€â”€ Vre.csv
    â”‚       â”‚   â””â”€â”€ system
    â”‚       â”‚       â”œâ”€â”€ Demand_data.csv
    â”‚       â”‚       â”œâ”€â”€ Fuels_data.csv
    â”‚       â”‚       â”œâ”€â”€ Generators_variability.csv
    â”‚       â”‚       â””â”€â”€ Network.csv
    â”‚   â””â”€â”€ settings
    â”‚       â”œâ”€â”€ clp_settings.yml
    â”‚       â”œâ”€â”€ cplex_settings.yml
    â”‚       â”œâ”€â”€ genx_settings.yml
    â”‚       â”œâ”€â”€ gurobi_settings.yml
    â”‚       â”œâ”€â”€ highs_settings.yml
    â”‚       â”œâ”€â”€ multi_stage_settings.yml
    â”‚       â””â”€â”€ time_domain_reduction_settings.yml
â”œâ”€â”€ precompile
    â””â”€â”€ case
    â”‚   â”œâ”€â”€ policies
    â”‚       â”œâ”€â”€ CO2_cap.csv
    â”‚       â””â”€â”€ Minimum_capacity_requirement.csv
    â”‚   â”œâ”€â”€ resources
    â”‚       â”œâ”€â”€ Electrolyzer.csv
    â”‚       â”œâ”€â”€ Storage.csv
    â”‚       â”œâ”€â”€ Thermal.csv
    â”‚       â”œâ”€â”€ Vre.csv
    â”‚       â””â”€â”€ policy_assignments
    â”‚       â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
    â”‚   â”œâ”€â”€ settings
    â”‚       â”œâ”€â”€ genx_settings.yml
    â”‚       â”œâ”€â”€ highs_settings.yml
    â”‚       â””â”€â”€ time_domain_reduction_settings.yml
    â”‚   â””â”€â”€ system
    â”‚       â”œâ”€â”€ Demand_data.csv
    â”‚       â”œâ”€â”€ Fuels_data.csv
    â”‚       â”œâ”€â”€ Generators_variability.csv
    â”‚       â”œâ”€â”€ Network.csv
    â”‚       â”œâ”€â”€ Operational_reserves.csv
    â”‚       â””â”€â”€ Period_map.csv
â”œâ”€â”€ src
    â”œâ”€â”€ GenX.jl
    â”œâ”€â”€ additional_tools
    â”‚   â”œâ”€â”€ method_of_morris.jl
    â”‚   â””â”€â”€ modeling_to_generate_alternatives.jl
    â”œâ”€â”€ case_runners
    â”‚   â””â”€â”€ case_runner.jl
    â”œâ”€â”€ configure_settings
    â”‚   â””â”€â”€ configure_settings.jl
    â”œâ”€â”€ configure_solver
    â”‚   â”œâ”€â”€ configure_cbc.jl
    â”‚   â”œâ”€â”€ configure_clp.jl
    â”‚   â”œâ”€â”€ configure_cplex.jl
    â”‚   â”œâ”€â”€ configure_gurobi.jl
    â”‚   â”œâ”€â”€ configure_highs.jl
    â”‚   â”œâ”€â”€ configure_scip.jl
    â”‚   â””â”€â”€ configure_solver.jl
    â”œâ”€â”€ load_inputs
    â”‚   â”œâ”€â”€ load_cap_reserve_margin.jl
    â”‚   â”œâ”€â”€ load_co2_cap.jl
    â”‚   â”œâ”€â”€ load_dataframe.jl
    â”‚   â”œâ”€â”€ load_demand_data.jl
    â”‚   â”œâ”€â”€ load_energy_share_requirement.jl
    â”‚   â”œâ”€â”€ load_fuels_data.jl
    â”‚   â”œâ”€â”€ load_generators_variability.jl
    â”‚   â”œâ”€â”€ load_hydrogen_demand.jl
    â”‚   â”œâ”€â”€ load_inputs.jl
    â”‚   â”œâ”€â”€ load_maximum_capacity_requirement.jl
    â”‚   â”œâ”€â”€ load_minimum_capacity_requirement.jl
    â”‚   â”œâ”€â”€ load_multistage_data.jl
    â”‚   â”œâ”€â”€ load_network_data.jl
    â”‚   â”œâ”€â”€ load_operational_reserves.jl
    â”‚   â”œâ”€â”€ load_period_map.jl
    â”‚   â”œâ”€â”€ load_resources_data.jl
    â”‚   â””â”€â”€ load_vre_stor_variability.jl
    â”œâ”€â”€ model
    â”‚   â”œâ”€â”€ core
    â”‚   â”‚   â”œâ”€â”€ co2.jl
    â”‚   â”‚   â”œâ”€â”€ discharge
    â”‚   â”‚   â”‚   â”œâ”€â”€ discharge.jl
    â”‚   â”‚   â”‚   â””â”€â”€ investment_discharge.jl
    â”‚   â”‚   â”œâ”€â”€ fuel.jl
    â”‚   â”‚   â”œâ”€â”€ non_served_energy.jl
    â”‚   â”‚   â”œâ”€â”€ operational_reserves.jl
    â”‚   â”‚   â”œâ”€â”€ transmission
    â”‚   â”‚   â”‚   â”œâ”€â”€ dcopf_transmission.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ investment_transmission.jl
    â”‚   â”‚   â”‚   â””â”€â”€ transmission.jl
    â”‚   â”‚   â””â”€â”€ ucommit.jl
    â”‚   â”œâ”€â”€ expression_manipulation.jl
    â”‚   â”œâ”€â”€ generate_model.jl
    â”‚   â”œâ”€â”€ policies
    â”‚   â”‚   â”œâ”€â”€ cap_reserve_margin.jl
    â”‚   â”‚   â”œâ”€â”€ co2_cap.jl
    â”‚   â”‚   â”œâ”€â”€ energy_share_requirement.jl
    â”‚   â”‚   â”œâ”€â”€ hourly_matching.jl
    â”‚   â”‚   â”œâ”€â”€ hydrogen_demand.jl
    â”‚   â”‚   â”œâ”€â”€ maximum_capacity_requirement.jl
    â”‚   â”‚   â””â”€â”€ minimum_capacity_requirement.jl
    â”‚   â”œâ”€â”€ resources
    â”‚   â”‚   â”œâ”€â”€ curtailable_variable_renewable
    â”‚   â”‚   â”‚   â””â”€â”€ curtailable_variable_renewable.jl
    â”‚   â”‚   â”œâ”€â”€ flexible_demand
    â”‚   â”‚   â”‚   â””â”€â”€ flexible_demand.jl
    â”‚   â”‚   â”œâ”€â”€ fusion
    â”‚   â”‚   â”‚   â”œâ”€â”€ fusion.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ fusion_maintenance.jl
    â”‚   â”‚   â”‚   â””â”€â”€ fusion_policy_adjustments.jl
    â”‚   â”‚   â”œâ”€â”€ hydro
    â”‚   â”‚   â”‚   â”œâ”€â”€ hydro_inter_period_linkage.jl
    â”‚   â”‚   â”‚   â””â”€â”€ hydro_res.jl
    â”‚   â”‚   â”œâ”€â”€ hydrogen
    â”‚   â”‚   â”‚   â””â”€â”€ electrolyzer.jl
    â”‚   â”‚   â”œâ”€â”€ maintenance.jl
    â”‚   â”‚   â”œâ”€â”€ must_run
    â”‚   â”‚   â”‚   â””â”€â”€ must_run.jl
    â”‚   â”‚   â”œâ”€â”€ resources.jl
    â”‚   â”‚   â”œâ”€â”€ retrofits
    â”‚   â”‚   â”‚   â””â”€â”€ retrofits.jl
    â”‚   â”‚   â”œâ”€â”€ storage
    â”‚   â”‚   â”‚   â”œâ”€â”€ investment_charge.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ investment_energy.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ long_duration_storage.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ storage.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ storage_all.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ storage_asymmetric.jl
    â”‚   â”‚   â”‚   â””â”€â”€ storage_symmetric.jl
    â”‚   â”‚   â”œâ”€â”€ thermal
    â”‚   â”‚   â”‚   â”œâ”€â”€ thermal.jl
    â”‚   â”‚   â”‚   â”œâ”€â”€ thermal_commit.jl
    â”‚   â”‚   â”‚   â””â”€â”€ thermal_no_commit.jl
    â”‚   â”‚   â””â”€â”€ vre_stor
    â”‚   â”‚   â”‚   â””â”€â”€ vre_stor.jl
    â”‚   â”œâ”€â”€ solve_model.jl
    â”‚   â””â”€â”€ utility.jl
    â”œâ”€â”€ multi_stage
    â”‚   â”œâ”€â”€ configure_multi_stage_inputs.jl
    â”‚   â”œâ”€â”€ dual_dynamic_programming.jl
    â”‚   â”œâ”€â”€ endogenous_retirement.jl
    â”‚   â”œâ”€â”€ write_multi_stage_capacities_charge.jl
    â”‚   â”œâ”€â”€ write_multi_stage_capacities_discharge.jl
    â”‚   â”œâ”€â”€ write_multi_stage_capacities_energy.jl
    â”‚   â”œâ”€â”€ write_multi_stage_costs.jl
    â”‚   â”œâ”€â”€ write_multi_stage_network_expansion.jl
    â”‚   â”œâ”€â”€ write_multi_stage_outputs.jl
    â”‚   â”œâ”€â”€ write_multi_stage_settings.jl
    â”‚   â””â”€â”€ write_multi_stage_stats.jl
    â”œâ”€â”€ startup
    â”‚   â””â”€â”€ genx_startup.jl
    â”œâ”€â”€ time_domain_reduction
    â”‚   â”œâ”€â”€ full_time_series_reconstruction.jl
    â”‚   â”œâ”€â”€ precluster.jl
    â”‚   â””â”€â”€ time_domain_reduction.jl
    â””â”€â”€ write_outputs
    â”‚   â”œâ”€â”€ capacity_reserve_margin
    â”‚       â”œâ”€â”€ effective_capacity.jl
    â”‚       â”œâ”€â”€ write_capacity_value.jl
    â”‚       â”œâ”€â”€ write_reserve_margin.jl
    â”‚       â”œâ”€â”€ write_reserve_margin_revenue.jl
    â”‚       â”œâ”€â”€ write_reserve_margin_slack.jl
    â”‚       â”œâ”€â”€ write_reserve_margin_w.jl
    â”‚       â””â”€â”€ write_virtual_discharge.jl
    â”‚   â”œâ”€â”€ choose_output_dir.jl
    â”‚   â”œâ”€â”€ co2_cap
    â”‚       â””â”€â”€ write_co2_cap.jl
    â”‚   â”œâ”€â”€ dftranspose.jl
    â”‚   â”œâ”€â”€ energy_share_requirement
    â”‚       â”œâ”€â”€ write_esr_prices.jl
    â”‚       â””â”€â”€ write_esr_revenue.jl
    â”‚   â”œâ”€â”€ hydrogen
    â”‚       â”œâ”€â”€ write_hourly_matching_prices.jl
    â”‚       â””â”€â”€ write_hydrogen_prices.jl
    â”‚   â”œâ”€â”€ long_duration_storage
    â”‚       â”œâ”€â”€ write_opwrap_lds_dstor.jl
    â”‚       â””â”€â”€ write_opwrap_lds_stor_init.jl
    â”‚   â”œâ”€â”€ min_max_capacity_requirement
    â”‚       â”œâ”€â”€ write_maximum_capacity_requirement.jl
    â”‚       â””â”€â”€ write_minimum_capacity_requirement.jl
    â”‚   â”œâ”€â”€ reserves
    â”‚       â”œâ”€â”€ write_operating_reserve_price_revenue.jl
    â”‚       â”œâ”€â”€ write_reg.jl
    â”‚       â””â”€â”€ write_rsv.jl
    â”‚   â”œâ”€â”€ transmission
    â”‚       â”œâ”€â”€ write_nw_expansion.jl
    â”‚       â”œâ”€â”€ write_transmission_flows.jl
    â”‚       â””â”€â”€ write_transmission_losses.jl
    â”‚   â”œâ”€â”€ ucommit
    â”‚       â””â”€â”€ write_ucommit.jl
    â”‚   â”œâ”€â”€ write_angles.jl
    â”‚   â”œâ”€â”€ write_capacity.jl
    â”‚   â”œâ”€â”€ write_capacityfactor.jl
    â”‚   â”œâ”€â”€ write_charge.jl
    â”‚   â”œâ”€â”€ write_charging_cost.jl
    â”‚   â”œâ”€â”€ write_co2.jl
    â”‚   â”œâ”€â”€ write_costs.jl
    â”‚   â”œâ”€â”€ write_curtailment.jl
    â”‚   â”œâ”€â”€ write_emissions.jl
    â”‚   â”œâ”€â”€ write_energy_revenue.jl
    â”‚   â”œâ”€â”€ write_fuel_consumption.jl
    â”‚   â”œâ”€â”€ write_fusion.jl
    â”‚   â”œâ”€â”€ write_maintenance.jl
    â”‚   â”œâ”€â”€ write_net_revenue.jl
    â”‚   â”œâ”€â”€ write_nse.jl
    â”‚   â”œâ”€â”€ write_outputs.jl
    â”‚   â”œâ”€â”€ write_power.jl
    â”‚   â”œâ”€â”€ write_power_balance.jl
    â”‚   â”œâ”€â”€ write_price.jl
    â”‚   â”œâ”€â”€ write_reliability.jl
    â”‚   â”œâ”€â”€ write_status.jl
    â”‚   â”œâ”€â”€ write_storage.jl
    â”‚   â”œâ”€â”€ write_storagedual.jl
    â”‚   â”œâ”€â”€ write_subsidy_revenue.jl
    â”‚   â”œâ”€â”€ write_time_weights.jl
    â”‚   â””â”€â”€ write_vre_stor.jl
â””â”€â”€ test
    â”œâ”€â”€ DCOPF
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ resources
        â”‚   â””â”€â”€ Thermal.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â””â”€â”€ Network.csv
    â”œâ”€â”€ TDR
        â”œâ”€â”€ TDR_results_true
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”œâ”€â”€ Period_map.csv
        â”‚   â””â”€â”€ clusters_true.jld2
        â”œâ”€â”€ TDR_results_true_LTS
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”œâ”€â”€ Period_map.csv
        â”‚   â””â”€â”€ clusters_true.jld2
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”œâ”€â”€ Energy_share_requirement.csv
        â”‚   â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”œâ”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â””â”€â”€ Reserves.csv
        â””â”€â”€ time_domain_reduction_settings.yml
    â”œâ”€â”€ VRE_storage
        â”œâ”€â”€ solar
        â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚   â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Flex_demand.csv
        â”‚   â”‚   â”œâ”€â”€ Hydro.csv
        â”‚   â”‚   â”œâ”€â”€ Must_run.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â”‚   â”œâ”€â”€ Vre_stor.csv
        â”‚   â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Network.csv
        â”‚   â”‚   â””â”€â”€ Vre_and_stor_solar_variability.csv
        â”œâ”€â”€ solar_wind
        â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚   â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Flex_demand.csv
        â”‚   â”‚   â”œâ”€â”€ Hydro.csv
        â”‚   â”‚   â”œâ”€â”€ Must_run.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â”‚   â”œâ”€â”€ Vre_stor.csv
        â”‚   â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Network.csv
        â”‚   â”‚   â”œâ”€â”€ Vre_and_stor_solar_variability.csv
        â”‚   â”‚   â””â”€â”€ Vre_and_stor_wind_variability.csv
        â””â”€â”€ wind
        â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”œâ”€â”€ policies
        â”‚       â”œâ”€â”€ CO2_cap.csv
        â”‚       â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚       â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚       â””â”€â”€ Minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ resources
        â”‚       â”œâ”€â”€ Flex_demand.csv
        â”‚       â”œâ”€â”€ Hydro.csv
        â”‚       â”œâ”€â”€ Must_run.csv
        â”‚       â”œâ”€â”€ Storage.csv
        â”‚       â”œâ”€â”€ Thermal.csv
        â”‚       â”œâ”€â”€ Vre.csv
        â”‚       â”œâ”€â”€ Vre_stor.csv
        â”‚       â””â”€â”€ policy_assignments
        â”‚       â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚       â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚       â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”‚   â””â”€â”€ system
        â”‚       â”œâ”€â”€ Demand_data.csv
        â”‚       â”œâ”€â”€ Fuels_data.csv
        â”‚       â”œâ”€â”€ Generators_variability.csv
        â”‚       â”œâ”€â”€ Network.csv
        â”‚       â””â”€â”€ Vre_and_stor_wind_variability.csv
    â”œâ”€â”€ compute_conflicts
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â””â”€â”€ Maximum_capacity_requirement.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â””â”€â”€ Vre.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â””â”€â”€ Generators_variability.csv
    â”œâ”€â”€ electrolyzer
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ Energy_share_requirement.csv
        â”‚   â””â”€â”€ Hydrogen_demand.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Electrolyzer.csv
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_hourly_matching.csv
        â”‚   â”‚   â””â”€â”€ Resource_hydrogen_demand.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â””â”€â”€ Period_map.csv
    â”œâ”€â”€ expression_manipulation_test.jl
    â”œâ”€â”€ fusion_pulse_every_hour
        â”œâ”€â”€ README.md
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ resources
        â”‚   â””â”€â”€ Thermal.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â””â”€â”€ Generators_variability.csv
    â”œâ”€â”€ load_resources
        â”œâ”€â”€ test_gen_non_colocated
        â”‚   â”œâ”€â”€ generators_data.csv
        â”‚   â”œâ”€â”€ inputs_after_loadgen.jld2
        â”‚   â”œâ”€â”€ inputs_before_loadgen.jld2
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Energy_share_requirement.csv
        â”‚   â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Electrolyzer.csv
        â”‚   â”‚   â”œâ”€â”€ Flex_demand.csv
        â”‚   â”‚   â”œâ”€â”€ Hydro.csv
        â”‚   â”‚   â”œâ”€â”€ Must_run.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ settings
        â”‚   â”‚   â”œâ”€â”€ genx_settings.yml
        â”‚   â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”‚   â””â”€â”€ time_domain_reduction_settings.yml
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Network.csv
        â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â””â”€â”€ Period_map.csv
        â””â”€â”€ test_gen_vre_stor
        â”‚   â”œâ”€â”€ Vre_and_stor_data.csv
        â”‚   â”œâ”€â”€ generators_data.csv
        â”‚   â”œâ”€â”€ inputs_after_loadgen.jld2
        â”‚   â”œâ”€â”€ inputs_before_loadgen.jld2
        â”‚   â”œâ”€â”€ policies
        â”‚       â”œâ”€â”€ CO2_cap.csv
        â”‚       â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚       â”œâ”€â”€ Energy_share_requirement.csv
        â”‚       â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚       â””â”€â”€ Minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ resources
        â”‚       â”œâ”€â”€ Flex_demand.csv
        â”‚       â”œâ”€â”€ Hydro.csv
        â”‚       â”œâ”€â”€ Must_run.csv
        â”‚       â”œâ”€â”€ Storage.csv
        â”‚       â”œâ”€â”€ Thermal.csv
        â”‚       â”œâ”€â”€ Vre.csv
        â”‚       â”œâ”€â”€ Vre_stor.csv
        â”‚       â””â”€â”€ policy_assignments
        â”‚       â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚       â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚       â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚       â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â”‚   â”œâ”€â”€ settings
        â”‚       â”œâ”€â”€ genx_settings.yml
        â”‚       â”œâ”€â”€ highs_settings.yml
        â”‚       â””â”€â”€ time_domain_reduction_settings.yml
        â”‚   â””â”€â”€ system
        â”‚       â”œâ”€â”€ Demand_data.csv
        â”‚       â”œâ”€â”€ Fuels_data.csv
        â”‚       â”œâ”€â”€ Generators_variability.csv
        â”‚       â”œâ”€â”€ Network.csv
        â”‚       â”œâ”€â”€ Operational_reserves.csv
        â”‚       â”œâ”€â”€ Vre_and_stor_solar_variability.csv
        â”‚       â””â”€â”€ Vre_and_stor_wind_variability.csv
    â”œâ”€â”€ multi_fuels
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”œâ”€â”€ Energy_share_requirement.csv
        â”‚   â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â””â”€â”€ Generators_variability.csv
    â”œâ”€â”€ multi_stage
        â”œâ”€â”€ can_retire
        â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”œâ”€â”€ inputs_p1
        â”‚   â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â”‚   â””â”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Vre.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Period_map.csv
        â”‚   â”œâ”€â”€ inputs_p2
        â”‚   â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â”‚   â””â”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Vre.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Period_map.csv
        â”‚   â””â”€â”€ inputs_p3
        â”‚   â”‚   â”œâ”€â”€ policies
        â”‚   â”‚       â””â”€â”€ CO2_cap.csv
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚       â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚       â”œâ”€â”€ Storage.csv
        â”‚   â”‚       â”œâ”€â”€ Thermal.csv
        â”‚   â”‚       â””â”€â”€ Vre.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚       â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚       â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚       â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚       â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚       â””â”€â”€ Period_map.csv
        â”œâ”€â”€ cum_min_ret
        â”‚   â”œâ”€â”€ inputs_p1
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Vre_stor.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚   â”‚   â””â”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ inputs_p2
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â”‚   â”‚   â””â”€â”€ Vre_stor.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚   â”‚   â””â”€â”€ Demand_data.csv
        â”‚   â””â”€â”€ inputs_p3
        â”‚   â”‚   â”œâ”€â”€ resources
        â”‚   â”‚       â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚       â”œâ”€â”€ Storage.csv
        â”‚   â”‚       â”œâ”€â”€ Thermal.csv
        â”‚   â”‚       â”œâ”€â”€ Vre.csv
        â”‚   â”‚       â””â”€â”€ Vre_stor.csv
        â”‚   â”‚   â””â”€â”€ system
        â”‚   â”‚       â””â”€â”€ Demand_data.csv
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ inputs_p1
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â””â”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â””â”€â”€ Vre.csv
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â””â”€â”€ Period_map.csv
        â”œâ”€â”€ inputs_p2
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â””â”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â””â”€â”€ Vre.csv
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â””â”€â”€ Period_map.csv
        â”œâ”€â”€ inputs_p3
        â”‚   â”œâ”€â”€ policies
        â”‚   â”‚   â””â”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ resources
        â”‚   â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚   â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”‚   â””â”€â”€ Vre.csv
        â”‚   â””â”€â”€ system
        â”‚   â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â”‚   â””â”€â”€ Period_map.csv
        â””â”€â”€ new_build
        â”‚   â”œâ”€â”€ highs_settings.yml
        â”‚   â”œâ”€â”€ inputs_p1
        â”‚       â”œâ”€â”€ policies
        â”‚       â”‚   â””â”€â”€ CO2_cap.csv
        â”‚       â”œâ”€â”€ resources
        â”‚       â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚       â”‚   â”œâ”€â”€ Storage.csv
        â”‚       â”‚   â”œâ”€â”€ Thermal.csv
        â”‚       â”‚   â””â”€â”€ Vre.csv
        â”‚       â””â”€â”€ system
        â”‚       â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚       â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚       â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚       â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚       â”‚   â””â”€â”€ Period_map.csv
        â”‚   â”œâ”€â”€ inputs_p2
        â”‚       â”œâ”€â”€ policies
        â”‚       â”‚   â””â”€â”€ CO2_cap.csv
        â”‚       â”œâ”€â”€ resources
        â”‚       â”‚   â”œâ”€â”€ Resource_multistage_data.csv
        â”‚       â”‚   â”œâ”€â”€ Storage.csv
        â”‚       â”‚   â”œâ”€â”€ Thermal.csv
        â”‚       â”‚   â””â”€â”€ Vre.csv
        â”‚       â””â”€â”€ system
        â”‚       â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚       â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚       â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚       â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚       â”‚   â””â”€â”€ Period_map.csv
        â”‚   â””â”€â”€ inputs_p3
        â”‚       â”œâ”€â”€ policies
        â”‚           â””â”€â”€ CO2_cap.csv
        â”‚       â”œâ”€â”€ resources
        â”‚           â”œâ”€â”€ Resource_multistage_data.csv
        â”‚           â”œâ”€â”€ Storage.csv
        â”‚           â”œâ”€â”€ Thermal.csv
        â”‚           â””â”€â”€ Vre.csv
        â”‚       â””â”€â”€ system
        â”‚           â”œâ”€â”€ Demand_data.csv
        â”‚           â”œâ”€â”€ Fuels_data.csv
        â”‚           â”œâ”€â”€ Generators_variability.csv
        â”‚           â”œâ”€â”€ Operational_reserves.csv
        â”‚           â””â”€â”€ Period_map.csv
    â”œâ”€â”€ piecewise_fuel
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â””â”€â”€ CO2_cap.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â””â”€â”€ Vre.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â””â”€â”€ Generators_variability.csv
    â”œâ”€â”€ resource_test.jl
    â”œâ”€â”€ retrofit
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â”œâ”€â”€ Capacity_reserve_margin.csv
        â”‚   â”œâ”€â”€ Energy_share_requirement.csv
        â”‚   â”œâ”€â”€ Maximum_capacity_requirement.csv
        â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â”œâ”€â”€ Resource_capacity_reserve_margin.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_energy_share_requirement.csv
        â”‚   â”‚   â”œâ”€â”€ Resource_maximum_capacity_requirement.csv
        â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â””â”€â”€ Period_map.csv
    â”œâ”€â”€ runtests.jl
    â”œâ”€â”€ test_DCOPF.jl
    â”œâ”€â”€ test_VRE_storage.jl
    â”œâ”€â”€ test_compute_conflicts.jl
    â”œâ”€â”€ test_electrolyzer.jl
    â”œâ”€â”€ test_examples.jl
    â”œâ”€â”€ test_fusion.jl
    â”œâ”€â”€ test_load_resource_data.jl
    â”œâ”€â”€ test_multifuels.jl
    â”œâ”€â”€ test_multistage.jl
    â”œâ”€â”€ test_piecewisefuel.jl
    â”œâ”€â”€ test_retrofit.jl
    â”œâ”€â”€ test_threezones.jl
    â”œâ”€â”€ test_time_domain_reduction.jl
    â”œâ”€â”€ three_zones
        â”œâ”€â”€ highs_settings.yml
        â”œâ”€â”€ policies
        â”‚   â”œâ”€â”€ CO2_cap.csv
        â”‚   â””â”€â”€ Minimum_capacity_requirement.csv
        â”œâ”€â”€ resources
        â”‚   â”œâ”€â”€ Storage.csv
        â”‚   â”œâ”€â”€ Thermal.csv
        â”‚   â”œâ”€â”€ Vre.csv
        â”‚   â””â”€â”€ policy_assignments
        â”‚   â”‚   â””â”€â”€ Resource_minimum_capacity_requirement.csv
        â””â”€â”€ system
        â”‚   â”œâ”€â”€ Demand_data.csv
        â”‚   â”œâ”€â”€ Fuels_data.csv
        â”‚   â”œâ”€â”€ Generators_variability.csv
        â”‚   â”œâ”€â”€ Network.csv
        â”‚   â”œâ”€â”€ Operational_reserves.csv
        â”‚   â””â”€â”€ Period_map.csv
    â”œâ”€â”€ utilities.jl
    â””â”€â”€ writing_outputs
        â”œâ”€â”€ test_writing_stats_ms.jl
        â”œâ”€â”€ test_zone_no_resources.jl
        â””â”€â”€ zone_no_resources
            â”œâ”€â”€ highs_settings.yml
            â”œâ”€â”€ policies
                â””â”€â”€ CO2_cap.csv
            â”œâ”€â”€ resources
                â”œâ”€â”€ Storage.csv
                â”œâ”€â”€ Thermal.csv
                â””â”€â”€ Vre.csv
            â””â”€â”€ system
                â”œâ”€â”€ Demand_data.csv
                â”œâ”€â”€ Fuels_data.csv
                â”œâ”€â”€ Generators_variability.csv
                â””â”€â”€ Network.csv


/.JuliaFormatter.toml:
--------------------------------------------------------------------------------
1 | style = "sciml"


--------------------------------------------------------------------------------
/.git-blame-ignore-revs:
--------------------------------------------------------------------------------
1 | # .git-blame-ignore-revs
2 | # Standardize code formatting across project (#673)
3 | ee3f08756584ba16a57bb701492270a7bf129b4d
4 | # Update code formatting
5 | 730f91df23447e94177c3a9c3d4e553cb502e2bf


--------------------------------------------------------------------------------
/.gitattributes:
--------------------------------------------------------------------------------
1 | # Auto detect text files and perform LF normalization
2 | * text=auto
3 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/bug.yml:
--------------------------------------------------------------------------------
 1 | name: Bug Report
 2 | description: File a bug report
 3 | title: "[Bug]: "
 4 | labels: ["bug", "triage"]
 5 | body:
 6 |   - type: markdown
 7 |     attributes:
 8 |       value: |
 9 |         Thanks for taking the time to fill out this bug report!
10 |   - type: textarea
11 |     id: what-happened
12 |     attributes:
13 |       label: Bug description
14 |       description: Also tell us, what did you expect to happen?
15 |       placeholder: Tell us what you see!
16 |     validations:
17 |       required: true
18 |   - type: textarea
19 |     id: version
20 |     attributes:
21 |       label: Environment and Version
22 |       description: |
23 |         What are your OS, Julia version, and GenX version (release/tag, branch, or commit)?
24 |       placeholder: MacOS, Julia 1.x, main branch v0.x.y
25 |     validations:
26 |       required: true
27 |   - type: textarea
28 |     id: logs
29 |     attributes:
30 |       label: Relevant error messages
31 |       description: Please copy and paste any relevant error messages output. This will be automatically formatted into code, so no need for backticks. (optional)
32 |       render: shell
33 |   - type: textarea
34 |     id: additional-context
35 |     attributes:
36 |       label: Additional context
37 |       description: Anything else that would help us understand or fix this (optional)
38 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/config.yml:
--------------------------------------------------------------------------------
1 | blank_issues_enabled: true
2 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/feature.yml:
--------------------------------------------------------------------------------
 1 | name: Feature Request
 2 | description: Suggest a new feature to be incorporated
 3 | title: "[Feature]: "
 4 | labels: ["feature-request"]
 5 | body:
 6 |   - type: textarea
 7 |     id: desciption
 8 |     attributes:
 9 |       label: Feature description
10 |       description: What new capability would you like to add?
11 |       placeholder: What you want to be able to do
12 |     validations:
13 |       required: true
14 |   - type: textarea
15 |     id: motivation
16 |     attributes:
17 |       label: Motivation
18 |       description: What will you able to do, or how this makes GenX better (optional)
19 |       placeholder: New studies of ...
20 |   - type: textarea
21 |     id: strategy
22 |     attributes:
23 |       label: Implementation strategy
24 |       description: How might this be incorporated? (optional)
25 |   - type: textarea
26 |     id: additional-context
27 |     attributes:
28 |       label: Additional context
29 |       description: Any other details. (optional)
30 | 


--------------------------------------------------------------------------------
/.github/ISSUE_TEMPLATE/question.yml:
--------------------------------------------------------------------------------
 1 | name: General question
 2 | description: Ask a question about GenX
 3 | title: "[Question]: "
 4 | labels: ["question"]
 5 | body:
 6 |   - type: textarea
 7 |     id: desciption
 8 |     attributes:
 9 |       label: Question
10 |       description: What would you like to know?
11 |     validations:
12 |       required: true
13 |   - type: textarea
14 |     id: additional-context
15 |     attributes:
16 |       label: Additional context
17 |       description: Any other details. (optional)
18 | 


--------------------------------------------------------------------------------
/.github/PULL_REQUEST_TEMPLATE.md:
--------------------------------------------------------------------------------
 1 | ## Description
 2 | 
 3 | <!-- 
 4 | Please do not leave this blank 
 5 | This PR [adds/removes/fixes/replaces] the [feature/bug/etc].
 6 | 
 7 | This section should include a detailed description of the motivation for the PR,
 8 | and a description of why it was implemented in the way that it was,
 9 | to the extent that these things are applicable.
10 | -->
11 | 
12 | ## What type of PR is this? (check all applicable)
13 | 
14 | - [ ] Feature
15 | - [ ] Bug Fix
16 | - [ ] Documentation Update
17 | - [ ] Code Refactor
18 | - [ ] Performance Improvements
19 | 
20 | ## Related Tickets & Documents
21 | <!-- 
22 | Please use this format to link issue numbers: Fixes #123
23 | https://docs.github.com/en/free-pro-team@latest/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword 
24 | -->
25 | 
26 | ## Checklist
27 | 
28 | - [ ] Code changes are sufficiently documented; i.e. new functions contain docstrings and .md files under /docs/src have been updated if necessary.
29 | - [ ] The latest changes on the target branch have been incorporated, so that any conflicts are taken care of before merging. This can be accomplished either by merging in the target branch (e.g. 'git merge develop') or by rebasing on top of the target branch (e.g. 'git rebase develop'). Please do not hesitate to reach out to the GenX development team if you need help with this.
30 | - [ ] Code has been tested to ensure all functionality works as intended.
31 | - [ ] CHANGELOG.md has been updated (if this is a 'notable' change).
32 | - [ ] I consent to the release of this PR's code under the GNU General Public license.
33 | 
34 | ## How this can be tested
35 | 
36 | <!--
37 | If applicable: What cases should we try before/after? Will this alter any outputs, or is it a strictly internal change?
38 | -->
39 | 
40 | <!--
41 |   For Work In Progress Pull Requests, please use the Draft PR feature,
42 |   see https://github.blog/2019-02-14-introducing-draft-pull-requests/ for further details.
43 |   
44 |   For a timely review/response, please avoid force-pushing additional
45 |   commits if your PR already received reviews or comments.
46 |   After the PR is approved we will give you a chance to tidy up the branch before merging.
47 |   
48 |   Before submitting a Pull Request, please ensure you've done the following:
49 |   - ðŸ‘·â€â™€ï¸ Create small PRs. In most cases, this will be possible. In the case of large feature or module additions, it is best to work towards a "minimum viable product" that is thoroughly tested but may not have all desired functionality or features, make a PR for this, and then later work to add more features.
50 |   - ðŸ“ Use descriptive commit messages.
51 |   - ðŸ“— Update any related documentation.
52 | 
53 | -->
54 | 
55 | ## Post-approval checklist for GenX core developers
56 | After the PR is approved
57 | 
58 | - [ ] Check that the latest changes on the target branch are incorporated, either via merge or rebase
59 | - [ ] Remember to squash and merge if incorporating into develop
60 | 


--------------------------------------------------------------------------------
/.github/workflows/CompatHelper.yml:
--------------------------------------------------------------------------------
 1 | name: CompatHelper
 2 | on:
 3 |   schedule:
 4 |     - cron: 0 0 1 * *
 5 |   workflow_dispatch:
 6 | jobs:
 7 |   CompatHelper:
 8 |     runs-on: ubuntu-latest
 9 |     steps:
10 |       - name: Pkg.add("CompatHelper")
11 |         run: julia -e 'using Pkg; Pkg.add("CompatHelper")'
12 |       - name: CompatHelper.main()
13 |         env:
14 |           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
15 |           COMPATHELPER_PRIV: ${{ secrets.DOCUMENTER_KEY }}
16 |         run: julia -e 'using CompatHelper; CompatHelper.main()'
17 | 


--------------------------------------------------------------------------------
/.github/workflows/TagBot.yml:
--------------------------------------------------------------------------------
 1 | name: TagBot
 2 | on:
 3 |   issue_comment:
 4 |     types:
 5 |       - created
 6 |   workflow_dispatch:
 7 |     inputs:
 8 |       lookback:
 9 |         default: 3
10 | permissions:
11 |   actions: read
12 |   checks: read
13 |   contents: write
14 |   deployments: read
15 |   issues: read
16 |   discussions: read
17 |   packages: read
18 |   pages: read
19 |   pull-requests: read
20 |   repository-projects: read
21 |   security-events: read
22 |   statuses: read
23 | jobs:
24 |   TagBot:
25 |     if: github.event_name == 'workflow_dispatch' || github.actor == 'JuliaTagBot'
26 |     runs-on: ubuntu-latest
27 |     steps:
28 |       - uses: JuliaRegistries/TagBot@v1
29 |         with:
30 |           token: ${{ secrets.GITHUB_TOKEN }}
31 |           # Edit the following line to reflect the actual name of the GitHub Secret containing your private key
32 |           ssh: ${{ secrets.DOCUMENTER_KEY }}
33 |           # ssh: ${{ secrets.NAME_OF_MY_SSH_PRIVATE_KEY_SECRET }}


--------------------------------------------------------------------------------
/.github/workflows/changelog.yml:
--------------------------------------------------------------------------------
 1 | name: Changelog Enforcer
 2 | on:
 3 |   pull_request:
 4 |     types: [opened, synchronize, reopened, ready_for_review, labeled, unlabeled]
 5 | 
 6 | jobs:
 7 |   # Enforces update of changelog file on every pull request
 8 |   Changelog:
 9 |     runs-on: ubuntu-latest
10 |     steps:
11 |       - uses: actions/checkout@v4
12 |       - uses: dangoslen/changelog-enforcer@v3
13 |         with:
14 |           changeLogPath: 'CHANGELOG.md'
15 |           skipLabels: 'Skip-Changelog, skip changelog'
16 |           token: ${{ secrets.GITHUB_TOKEN }}
17 |           missingUpdateErrorMessage: >
18 |             No update to CHANGELOG.md found! Please add an entry describing 
19 |             your change and include the pull request tag. Note that we use 
20 |             the keepachangelog format (https://keepachangelog.com). If your 
21 |             change doesnâ€™t require a changelog entry, please add the 
22 |             'Skip-Changelog' or 'skip changelog' label to the pull request.
23 | 


--------------------------------------------------------------------------------
/.github/workflows/ci.yml:
--------------------------------------------------------------------------------
 1 | name: CI
 2 | 
 3 | on: 
 4 |   pull_request:
 5 |   push:
 6 |     branches: [main, develop]
 7 |     tags: ['*']
 8 |     
 9 | jobs:
10 |   test:
11 |     name: Julia ${{ matrix.version }} - ${{ matrix.os }} - ${{ matrix.arch }} - ${{ github.event_name}}
12 |     runs-on: ${{ matrix.os }}
13 |     strategy: 
14 |       fail-fast: false
15 |       matrix:
16 |         version:
17 |           - "1.6"
18 |           - "1.9" 
19 |           - "1.10"  # LTS
20 |           - '1'     # latest stable
21 |         os:
22 |           - ubuntu-latest
23 |         arch:
24 |           - x64
25 |         include:
26 |           - version: '1'
27 |             os: windows-latest
28 |             arch: x64
29 | 
30 |     steps:
31 |       - uses: actions/checkout@v4
32 |       - uses: julia-actions/setup-julia@latest
33 |         with:
34 |           version: ${{ matrix.version }}
35 |           arch: ${{ matrix.arch }}
36 |       - uses: julia-actions/cache@v2
37 |       - uses: julia-actions/julia-buildpkg@latest
38 |       - uses: julia-actions/julia-runtest@latest
39 |       - uses: julia-actions/julia-processcoverage@v1
40 |       - uses: codecov/codecov-action@v3
41 |         with:
42 |           file: lcov.info
43 | 


--------------------------------------------------------------------------------
/.github/workflows/dev_version_update.yml:
--------------------------------------------------------------------------------
  1 | name: Dev Version Check and Update
  2 | 
  3 | on:
  4 |   pull_request_review:
  5 |     types: [submitted]
  6 | 
  7 | jobs:
  8 |   check-version:
  9 |     if: github.event.review.state == 'approved' && github.event.pull_request.base.ref == 'develop'
 10 |     runs-on: ubuntu-latest
 11 |     permissions:
 12 |       contents: write
 13 |       pull-requests: write
 14 |     
 15 |     steps:
 16 |       - uses: actions/checkout@v4
 17 |         with:
 18 |           fetch-depth: 0
 19 |           ref: ${{ github.event.pull_request.head.ref }}
 20 |           
 21 |       - name: Set up Julia
 22 |         uses: julia-actions/setup-julia@latest
 23 |         with:
 24 |           version: '1.x'
 25 | 
 26 |       - uses: julia-actions/cache@v2
 27 |           
 28 |       - name: Configure Git
 29 |         run: |
 30 |           git config user.name "GitHub Actions Bot"
 31 |           git config user.email "actions@github.com"
 32 |           
 33 |       - name: Check and Update Version
 34 |         env:
 35 |           PR_NUMBER: ${{ github.event.pull_request.number }}
 36 |           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
 37 |           REPO: ${{ github.repository }}
 38 |         run: |
 39 |           # Get PR base branch and export it
 40 |           export BASE_BRANCH=$(curl -s -H "Authorization: token $GITHUB_TOKEN" \
 41 |             "https://api.github.com/repos/$REPO/pulls/$PR_NUMBER" | \
 42 |             jq -r .base.ref)
 43 |           
 44 |           julia -e '
 45 | 
 46 |           # Get base branch directly from environment variable
 47 |           base_branch = ENV["BASE_BRANCH"]
 48 |           
 49 |           # First ensure we have the base branch
 50 |           run(`git fetch origin $(base_branch)`)
 51 |           
 52 |           function parse_version(version_str)
 53 |               # Extract M.m.p and optional dev number
 54 |               base_pattern = r"^(\d+\.\d+\.\d+)(?:-dev\.(\d+))?

quot;
 55 |               m = match(base_pattern, version_str)
 56 |               if isnothing(m)
 57 |                   error("Invalid version format: $version_str")
 58 |               end
 59 |               
 60 |               version = m.captures[1]
 61 |               dev_num = isnothing(m.captures[2]) ? nothing : parse(Int, m.captures[2])
 62 |               return (version, dev_num)
 63 |           end
 64 | 
 65 |           function should_update_version(base_ver_str, current_ver_str)
 66 |               base_ver, base_dev = parse_version(base_ver_str)
 67 |               current_ver, current_dev = parse_version(current_ver_str)
 68 |               
 69 |               # If versions differ, no update needed
 70 |               if base_ver != current_ver
 71 |                   return false
 72 |               end
 73 |               
 74 |               # If base has dev number, we should increment from the base dev number
 75 |               if !isnothing(base_dev)
 76 |                   return true
 77 |               end
 78 |               
 79 |               # If base has no dev number and current has none, add dev.1
 80 |               if isnothing(base_dev) && isnothing(current_dev)
 81 |                   return true
 82 |               end
 83 |               
 84 |               return false
 85 |           end
 86 | 
 87 |           function get_new_version(base_ver_str, current_ver_str)
 88 |               base_ver, base_dev = parse_version(base_ver_str)
 89 |               current_ver, current_dev = parse_version(current_ver_str)
 90 |               
 91 |               # If base has a dev number, increment from that
 92 |               if !isnothing(base_dev)
 93 |                   return "$(base_ver)-dev.$(base_dev + 1)"
 94 |               end
 95 |               
 96 |               # If no dev numbers exist, start with dev.1
 97 |               return "$(current_ver)-dev.1"
 98 |           end
 99 | 
100 |           function check_and_update_version()
101 |               # Get the base branch version
102 |               base_content = read(pipeline(`git show origin/$(base_branch):Project.toml`), String)
103 |               # Get current branch version
104 |               current_content = read(joinpath(pwd(), "Project.toml"), String)
105 |               
106 |               # Extract versions using regex
107 |               version_pattern = r"version = \"(.*?)\""
108 |               base_version = match(version_pattern, base_content).captures[1]
109 |               current_version = match(version_pattern, current_content).captures[1]
110 |               
111 |               println("Base version: $base_version")
112 |               println("Current version: $current_version")
113 |               
114 |               if should_update_version(base_version, current_version)
115 |                   println("Version needs updating")
116 |                   
117 |                   new_version = get_new_version(base_version, current_version)
118 |                   
119 |                   # Update the file
120 |                   new_content = replace(current_content, 
121 |                       "version = \"$current_version\"" => 
122 |                       "version = \"$new_version\"")
123 |                   
124 |                   write(joinpath(pwd(), "Project.toml"), new_content)
125 |                   
126 |                   # Commit and push the change
127 |                   run(`git add $(joinpath(pwd(), "Project.toml"))`)
128 |                   run(`git commit -m "Bump version to $new_version"`)
129 |                   run(`git push`)
130 |                   
131 |                   println("Version updated to $new_version")
132 |               else
133 |                   println("Version already updated")
134 |               end
135 |           end
136 |           
137 |           check_and_update_version()'


--------------------------------------------------------------------------------
/.github/workflows/documentation.yml:
--------------------------------------------------------------------------------
 1 | name: Documenter
 2 | 
 3 | on:
 4 |   pull_request:
 5 |   push:
 6 |     branches: [main, develop]
 7 |     tags: ['*']
 8 | 
 9 | jobs:
10 |   Documenter:
11 |     permissions:
12 |       contents: write
13 |     name: Documentation
14 |     runs-on: ubuntu-latest
15 |     steps:
16 |       - uses: actions/checkout@v4
17 |       - uses: julia-actions/setup-julia@v2
18 |       - uses: julia-actions/cache@v2
19 |       - uses: julia-actions/julia-buildpkg@latest
20 |       - uses: julia-actions/julia-docdeploy@latest
21 |         env:
22 |           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
23 |           DOCUMENTER_KEY: ${{ secrets.DOCUMENTER_KEY }}


--------------------------------------------------------------------------------
/.github/workflows/test_examples.yml:
--------------------------------------------------------------------------------
 1 | name: Test-examples
 2 | 
 3 | on:
 4 |   push:
 5 |     branches: [main, develop]
 6 |     tags: ['*']
 7 |   schedule:
 8 |     - cron: 21 4 * * * # Run at 12:21am US Eastern time
 9 | 
10 | jobs:
11 |   test:
12 |     strategy:
13 |       matrix:
14 |         branch: ["main", "develop"]
15 |         version: ["1.9", "1.10", '1']
16 |         include:
17 |           - version: '1'
18 |             os: windows-latest
19 |             arch: x64
20 |     runs-on: ubuntu-latest
21 | 
22 |     steps:
23 |       - uses: actions/checkout@v4
24 |         with:
25 |           ref: ${{ matrix.branch }}
26 |       - uses: julia-actions/setup-julia@latest
27 |         with:
28 |           version: ${{ matrix.version }}
29 |       - uses: julia-actions/cache@v2
30 |       - uses: julia-actions/julia-buildpkg@latest
31 |       - name: Test examples
32 |         shell: julia --project=. --color=yes {0}
33 |         run: |
34 |           using GenX
35 |           using Test
36 | 
37 |           base_path = Base.dirname(Base.dirname(pathof(GenX)))
38 |           examples_path = joinpath(base_path, "example_systems")
39 | 
40 |           if !isdir(examples_path)
41 |               @warn "No example systems found in $examples_path"
42 |               exit(0)
43 |           end
44 | 
45 |           @testset "Test examples" begin 
46 |             for example_dir in readdir(examples_path, join=true)
47 |               if isdir(example_dir) && isfile(joinpath(example_dir, "Run.jl"))
48 |                   @info "Running example in $example_dir"
49 |                   @test isnothing(run_genx_case!(example_dir))
50 |               end
51 |             end
52 |           end
53 | 


--------------------------------------------------------------------------------
/.gitignore:
--------------------------------------------------------------------------------
 1 | *.jl.cov
 2 | *.jl.*.cov
 3 | *.jl.mem
 4 | *.DS_Store
 5 | Manifest.toml
 6 | .Rhistory
 7 | deps/deps.jl
 8 | .vscode/
 9 | GenXJulEnv/
10 | output_data/
11 | MGAResults_min/
12 | MGAResults_max/
13 | YourModel.lp
14 | time_domain_reduction/PreCluster_Plots.jl
15 | time_domain_reduction/TSC_Plots.jl
16 | time_domain_reduction/TSC.jl
17 | 
18 | gurobi.log
19 | cplex.log
20 | Highs.log
21 | 
22 | test/Logs
23 | 
24 | /docs/build/
25 | 
26 | # Microsoft office temporary files
27 | ~$*
28 | 
29 | # Never include output folders
30 | **/results*/
31 | **/TDR_results/
32 | 
33 | # Test files
34 | test/TDR/TDR_results_test
35 | !test/TDR/TDR_results_true


--------------------------------------------------------------------------------
/.zenodo.json:
--------------------------------------------------------------------------------
 1 | {
 2 |     "creators": [
 3 |         {
 4 |             "name": "Bonaldo, Luca",
 5 |             "affiliation": "Princeton University",
 6 |             "orcid": "0009-0000-0650-0266"
 7 |         },
 8 |         {
 9 |             "name": "Chakrabarti, Sambuddha",
10 |             "affiliation": "Princeton University",
11 |             "orcid": "0000-0002-8916-5076"
12 |         },
13 |         {
14 |             "name": "Cheng, Fangwei",
15 |             "affiliation": "Princeton University",
16 |             "orcid": "0000-0001-6589-2749"
17 |         },
18 |         {
19 |             "name": "Ding, Yifu",
20 |             "affiliation": "Massachusetts Institute of Technology",
21 |             "orcid": "0000-0001-7128-8847"
22 |         },
23 |         {
24 |             "name": "Jenkins, Jesse D.",
25 |             "affiliation": "Princeton University",
26 |             "orcid": "0000-0002-9670-7793"
27 |         },
28 |         {
29 |             "name": "Luo, Qian",
30 |             "affiliation": "Princeton University",
31 |             "orcid": "0000-0003-3894-4093"
32 |         },
33 |         {
34 |             "name": "Macdonald, Ruaridh",
35 |             "affiliation": "Massachusetts Institute of Technology",
36 |             "orcid": "0000-0001-9034-6635"
37 |         },
38 |         {
39 |             "name": "Mallapragada, Dharik",
40 |             "affiliation": "New York University (NYU)",
41 |             "orcid": "0000-0002-0330-0063"
42 |         },
43 |         {
44 |             "name": "Manocha, Aneesha",
45 |             "affiliation": "University of Cambridge",
46 |             "orcid": "0000-0002-7190-4782"
47 |         },
48 |         {
49 |             "name": "Mantegna, Gabe ",
50 |             "affiliation": "Princeton University",
51 |             "orcid": "0000-0002-7707-0221"
52 |         },
53 |         {
54 |             "name": "Morris, Jack",
55 |             "affiliation": "MITRE",
56 |             "orcid": "0000-0002-1471-9708"
57 |         },
58 |         {
59 |             "name": "Patankar, Neha",
60 |             "affiliation": "Binghamton University",
61 |             "orcid": "0000-0001-7288-0391"
62 |         },
63 |         {
64 |             "name": "Pecci, Filippo",
65 |             "affiliation": "Princeton University",
66 |             "orcid": "0000-0003-3200-0892"
67 |         },
68 |         {
69 |             "name": "Schwartz, Aaron",
70 |             "affiliation": "Rocky Mountain Institute (RMI)"
71 |         },
72 |         {
73 |             "name": "Schwartz, Jacob",
74 |             "affiliation": "Princeton Plasma Physics Laboratory",
75 |             "orcid": "0000-0001-9636-8181"
76 |         },
77 |         {
78 |             "name": "Schivley, Greg",
79 |             "affiliation": "Princeton University",
80 |             "orcid": "0000-0002-8947-694X"
81 |         },
82 |         {
83 |             "name": "Sepulveda, Nestor",
84 |             "affiliation": "McKinsey and Co.",
85 |             "orcid": "0000-0003-2735-8769"
86 |         },
87 |         {
88 |             "name": "Xu, Qingyu",
89 |             "affiliation": "Tsinghua University",
90 |             "orcid": "0000-0003-2692-5135"
91 |         },
92 |         {
93 |             "name": "Zhou, Justin",
94 |             "affiliation": "Massachusetts Institute of Technology"
95 |         }
96 |     ]
97 | }
98 | 


--------------------------------------------------------------------------------
/CHANGELOG.md:
--------------------------------------------------------------------------------
  1 | # Changelog
  2 | 
  3 | All notable changes to this project will be documented in this file.
  4 | 
  5 | The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
  6 | and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
  7 | 
  8 | ## Unreleased
  9 | 
 10 | ## [0.4.4] - 2025-02-04
 11 | 
 12 | ### Added
 13 | - Add Windows OS to GitHub Actions test matrix.
 14 | 
 15 | ### Fixed
 16 | - Fix path manipulation crash on Windows with TDR & reconstruction (#827).
 17 | 
 18 | ## [0.4.3] - 2025-01-29
 19 | 
 20 | ### Changed
 21 | - Changed the output filename for RSV from `reg_dn.csv` to `reserves.csv` (#814).
 22 | - Created link in the thermal doc page to fuels page for piecewise linear cost curve documentation (#820).
 23 | - Doc rendering fix in fuel.jl (#821).
 24 | 
 25 | ### Fixed
 26 | - Fixed capacity reserve margin formulation for asymmetric storage
 27 | when OperationalReserves is on. (#818)
 28 | 
 29 | ## [0.4.2] - 2024-12-23
 30 | 
 31 | ### Added
 32 | - Fusion plant optional features for thermal plants (#743).
 33 | - Support for reusing the same Gurobi environment for multiple solves when 
 34 | number of concurrent Gurobi uses is limited (#783).
 35 | - Additional long-duration storage constraints to bound state of charge in 
 36 | non-representative periods (#781).
 37 | - New version of `add_similar_to_expression!` to support arrays of `Number`s. (#798)
 38 | - New settings flag `LDSAdditionalConstraints` to provide flexibility in 
 39 | activating new long-duration storage constraints (#781). Can be set in the GenX 
 40 | settings file (PR #801).
 41 | 
 42 | ### Changed
 43 | - The `charge.csv` and `storage.csv` files now include only resources with 
 44 | charge and storage variables (#760 and #763).
 45 | - Deduplicated docs on optimized scheduled maintenance for thermal resources (#745).
 46 | - Removed the `CapRes_*` columns from `Network.csv` since they were not being used (#784).
 47 | 
 48 | ### Fixed
 49 | - Add constraint to ensure that electricity charged from the grid cannot exceed 
 50 | the charging capacity of the storage component in VRE_STOR (#770).
 51 | - Update `getproperty` function for vectors of resources to ensure compatibility 
 52 | with Julia v1.11 (#785).
 53 | - Fixed cost calculation in `write_costs.jl` when no resources are present in 
 54 | a zone. (#796)
 55 | - Added `eTotalCMaxCapSlack` to calculation of `cUnmetPolicyPenalty` in 
 56 | `write_costs.jl` (#806).
 57 | 
 58 | ## [0.4.1] - 2024-08-20
 59 | 
 60 | ### Added
 61 | - Objective scaler for addressing problem ill-conditioning (#667)
 62 | - Workflow that ensures that CHANGELOG.md and the version number are updated (#711)
 63 | - Print GenX version at startup and export it to disk (#712)
 64 | - Option to output results with time series reconstructed for the entire year (#700)
 65 | - Default settings in multitage optimization (#703)
 66 | - Option to write results after each iteration of a multistage run (Myopic) (#704)
 67 | - Option to precompile `run_genx_case!` and `cluster_inputs` to speedup TTFX of GenX (#718)
 68 | - Co-location of electrolyzers to VRE_STOR and enabled regional hydrogen production limits (#678)
 69 | 
 70 | ### Fixed
 71 | - Formatting and images in tutorials 3, 5, 6, and 8 to address issue #697 (#698)
 72 | - `devbranch` in the docs `make.jl` file to track the develop branch (#710)
 73 | - `TDR` to load `Fuels_data.csv` w/wo optional `None` column (#720)
 74 | - Include comprehensive list of all settings flags (that are currently in GenX) in the docs (#721)
 75 | - Allow `load_vre_stor_variability!` to load only wind or solar resources as 
 76 | part of the VRE_STOR module (#728)
 77 | - Typo in HydrogenMinimumProduction setting key (#746)
 78 | - Default value of `Cap_Size` attribute for thermal generators (#747)
 79 | - Text to doc pages for retrofits (#730)
 80 | 
 81 | ### Changed
 82 | - Generalized the cHourlyMatching constraint in electrolyzer.jl and implemented it similarly 
 83 | to the other policies, making it easier for developers to add further contributions 
 84 | to the constraint (#725).
 85 | 
 86 | ## [0.4.0] - 2024-03-18
 87 | 
 88 | ### Added
 89 | - Feature CO2 and fuel module (#536)
 90 |   Adds a fuel module which enables modeling of fuel usage via (1) a constant heat rate and (2)
 91 |   piecewise-linear approximation of heat rate curves.
 92 |   Adds a CO2 module that determines the CO2 emissions based on fuel consumption, CO2 capture
 93 |   fraction, and whether the feedstock is biomass.
 94 | - Enable thermal power plants to burn multiple fuels (#586)
 95 | - Feature electrolysis basic (#525)
 96 |   Adds hydrogen electrolyzer model which enables the addition of hydrogen electrolyzer
 97 |   demands along with optional clean supply constraints.
 98 | - Add ability of storage to contribute to capacity reserves (#475)
 99 | - Add Co-located VRE+Storage Module (#523)
100 | - Add output for dual of capacity constraint (#473)
101 | - Add PR template (#516)
102 | - Validation ensures that resource flags (THERM, HYDRO, LDS etc) are self-consistent (#513).
103 | - Maintenance formulation for thermal-commit plants (#556).
104 | - Add new tests for GenX: three-zone, multi-stage, electrolyzer, VRE+storage,
105 |   piecewise_fuel+CO2, and TDR (#563 and #578).
106 | - Added a DC OPF method (#543) to calculate power flows across all lines
107 | - Added write_operating_reserve_price_revenue.jl to compute annual operating reserve and regulation revenue.
108 |   Added the operating reserve and regulation revenue to net revenue (PR # 611)
109 | - Add functions to compute conflicting constraints when model is infeasible if supported by the solver (#624).
110 | - New settings parameter, VirtualChargeDischargeCost to test script and VREStor example case. The PR 608 attempts to
111 |   introduce this parameter as cost of virtual charging and discharging to avoid unusual results (#608).
112 | - New settings parameter, StorageVirtualDischarge, to turn storage virtual charging and discharging off if desired by the user (#638).
113 | - Add module to retrofit existing resources with new technologies (#600).
114 | - Formatted the code and added a format check to the CI pipeline (#673).
115 | - Add check when capital recovery period is zero and investment costs are 
116 |   non-zero in multi-stage GenX (#666)
117 | - Added condition number scaling added to objective function (#667)
118 | - Added versioned doc-pages for v0.3.6 and v0.4.0
119 | - Added a warning message in write_costs_multistage mentioning th approximate value of costs currently.
120 | 
121 | ### Fixed
122 | - Add constraint in mga to compute total capacity in each zone from a given technology type (#681)
123 | - New settings parameter MGAAnnualGeneration to switch between different MGA formulations (#681)
124 | - Add validation for `Can_Retire` column in multi-stage GenX since the current implementation 
125 |   does not allow a resource to switch from can_retire = 0 to can_retire = 1 between stages. (#683)
126 | - Add tutorials for running GenX (#637 and #685)
127 | - Add writing of multistage stats during optimization with foresight (#687)
128 | - Fix docstring in operational_reserves.jl (#690)
129 | - Fix docstring in energy_share_requirement.jl (#692)
130 | - Set MUST_RUN=1 for RealSystemExample/small_hydro plants (#517).
131 |   Previously these plants had no resource flag set, and so they did not contribute to the power balance.
132 |   As these plants are now useful, the objective in these cases is slightly lower.
133 | - Assign correct investment cost per stage in objective function initialization for multi-stage runs (#530)
134 | - Fix name of Fixed_OM_Cost_Charge_per_MWyr when reading from Generators_data in multistage code. (#533)
135 |   Previously there was a typo in this in the multistage code that led to a silent bug, which affects outputs,
136 |   for anyone running non-myopic multistage GenX with asymmetric storage.
137 | - Fix computation of cumulative minimum capacity retirements in multistage GenX (#514)
138 | - Fix access of eELOSSByZone expr before initialization (#541)
139 | - Correctly write unmet reserves (in reg_dn.csv) (#575)
140 | - Correctly scale total reserves column (in reg_dn.csv) (#594)
141 | - Add validation for `Reg_Max` and `Rsv_Max` columns in `Generators_data.csv` when `MUST_RUN` is set to 1 (#576)
142 | - Fix scaling of transmission losses in write_transmission_losses.jl (#621)
143 | - Fix cost assignment to virtual storage charge/discharge - issue #604 (#608)
144 | - Fix modeling of hydro reservoir with long duration storage (#572).
145 | - Fix update of starting transmission capacity in multistage GenX
146 | - Fix write_status with UCommit = WriteShadowPrices = 1 (#645)
147 | - Fixed outputting capital recovery cost to 0 if the remaining number of years is 0 (#666)
148 | - Updated the docstring for the initialize_cost_to_go function and adjusted the formula for the discount factor to reflect the code implementation (#672).
149 | - Fix write_multi_stage_cost.jl: add discount with OPEX multipliers to cUnmetPolicyPenalty (#679)
150 | - Fix DF calculation in DDP to make it more generic for variable length stages (#680)
151 | - Fix write_power_balance.jl: add additional two columns ("VRE_Storage_Discharge" and "VRE_Storage_Charge") for VRE_STOR
152 | 
153 | ### Changed
154 | - Use add_to_expression! instead of the += and -= operators for memory performance improvements (#498).
155 | - Generally, 'demand' is now used where (electrical) 'load' was used previously (#397).
156 | - `Load_data.csv` is being renamed to `Demand_data.csv`.
157 | - `Load_MW_z*` columns in that file are renamed to `Demand_MW_z*`.
158 | - In `Reserves.csv`, `Reg_Req_Percent_Load` and `Rsv_Req_Percent_Load` are renamed to `..._Demand`.
159 | - `Load` and `LoadWeight` keys in the `time_domain_reduction_settings.yml` file are renamed to `Demand`, `DemandWeight`.
160 | - The `New_Build` column in `Generators_data.csv` has been separated into two: `New_Build` and `Can_Retire` (#392).
161 |   Values in each column are {0,1}.
162 | - Separate proprietary JuMP solvers from the GenX package.
163 |   This allows users of Gurobi or CPLEX to use them without modifying
164 |   the source code of the GenX package directly. This is a key step in publishing
165 |   GenX as a proper Julia package. This does require change to the Run.jl files,
166 |   to specify the solver. (#531)
167 | - In the examples, change Reg_Max and Rsv_Max of any MUST_RUN generators to 0.
168 |   This mitigates but does not fully fix (#576).
169 | - Expressions of virtual charging and discharging costs in storage_all.jl and vre_stor.jl
170 | - The input file `Generators_data.csv` has been split into different files, one for each type of generator.
171 |   The new files are: `Thermal.csv`, `Hydro.csv`, `Vre.csv`, `Storage.csv`, `Flex_demand.csv`, `Must_run.csv`,
172 |   `Electrolyzer.csv`, and `Vre_stor.csv`. The examples have been updated, and new tests have been added to
173 |   check the new data format (#612).
174 | - The settings parameter `Reserves` has been renamed to `OperationalReserves`, `Reserves.csv` to
175 |   `Operational_reserves.csv`, and the `.jl` files contain the word `reserves` have been renamed to
176 |   `operational_reserves` (#641).
177 | - New folder structure for a GenX case. The input files are now organized in the following folders: `settings`, 
178 |   `policies`, `resources` and `system`. The examples and tests have been updated to reflect this change. 
179 | - New folder structure implemented for `example_system`. This folder now consists of nine separate folders each pertaining to a different case study example,
180 |   ranging from the ISONE three zones, with singlestage, multistage, electrolyzers, all the way to the 9 bus IEEE case for running DC-OPF.
181 | - Pruned HiGHS solver settings to the necessary minimum (#668)
182 | - Changed deploydoc URL to GenX.jl (#662)
183 | 
184 | ### Deprecated
185 | - The above `load` keys, which generally refer to electrical demand, are being deprecated.
186 |   Users should update their case files.
187 |   For now this is done in a backward-compatible manner, and @info reminders are written to the log to prompt the user to update.
188 |   "Load" now typically refers only to the transferrence of data from files to memory,
189 |   except for a few places such as the common term "value of lost load" which refers to non-served demand (#397).
190 | - `New_Build = -1` in `Generators_data.csv`: instead, use `New_Build = 0` and `Can_Retire = 0`.
191 | - The matrix-style input of the grid for Network.csv is deprecated in favor a column-style input.
192 |   Instead of columns z1, z2, ... with entries -1, 0, 1, use two columns: Start_Zone, End_Zone (#591).
193 | 
194 | ## [0.3.6] - 2023-08-01
195 | 
196 | ### Fixed
197 | 
198 | - Order of slack policy constraint declarations (#464)
199 | - Sign error in the Maximum Capacity Requirement slack constraint term (#461)
200 | - Remove outdated HiGHS setting `simplex_dualise_strategy` (#489)
201 | - Fix bug in LDES outputs (#472)
202 | - Updated README with new instructions for running GenX through Julia REPL terminal (#492)
203 | - Fix factor of 0.5 when writing out transmission losses. (#480)
204 | - Fix summation error when a set of hours is empty (in thermal_commit.jl).
205 | - Fix access to eELOSSByZone expr before initialization (#541)
206 | - Fix modeling of hydro reservoir with long duration storage (#572).
207 | - Fix computation of cumulative minimum capacity retirements in multistage GenX (#514)
208 | - Fix update of starting transmission capacity in multistage GenX
209 | 
210 | ### Changed
211 | 
212 | - Eliminate 'Axis contains one element' warning (seen when LDS is used) by combining two constraints (#496).
213 | 
214 | ## [0.3.5] - 2023-05-18
215 | 
216 | ### Added
217 | 
218 | - Added ability to apply run_timedomainreduction to multistage problems (#443).
219 | - Added a description of how to use time domain reduction (#426).
220 | - Validation: against trying to perform time domain reduction (clustering)
221 |   on data which has already been clustered.
222 | - This changelog (#424).
223 | 
224 | ### Fixed
225 | 
226 | - Added ability for CPLEX handle the Pre_Solve key (#467).
227 | - run_timedomainreduction did not support multi-stage problems (#441).
228 | - Not having a changelog (#423).
229 | 
230 | ### Changed
231 | 
232 | - The columns `Rep_Periods`, `Timesteps_per_Rep_Period`, and `Sub_Weights` are now required in `Load_data.csv`
233 |   for all cases (#426).
234 | 
235 | ### Removed
236 | 
237 | - The settings key `OperationsWrapping`. Its functionality has now been folded into the
238 |   `TimeDomainReduction` setting. Using the key now will print a gentle warning (#426).
239 | 
240 | ## [0.3.4] - 2023-04-28
241 | 
242 | ### Added
243 | 
244 | - Validation of the time basis in `load_data.csv` (#413).
245 | - Arbitrary option keys can be passed to Solvers (#356).
246 | - Validation for OperationWrapping and TimeDomainReduction settings (#337).
247 | - Ability to use *'slack variables'* to violate policy constraints---at a cost (#328, #435).
248 | - Documented minimum up & down-time constraints (#324).
249 | - Validation preventing two columns of input data with the same name (#309).
250 | - Fuel type `None` is no longer need to be listed as a column in `fuels_data.csv`, e.g. for solar panels (#303).
251 | - Non-varying generators (e.g. thermal generators) no longer need to be listed in `generators_variability.csv` (#303).
252 | - Ability to load the transmission network representation from lists rather than a matrix (#292).
253 | - Maximum Capacity Requirement *policy constraint*.
254 | - New `run_genx_case!` function for use in scripts.
255 | - New `run_timedomainreduction!` function for pre-clustering a case.
256 | - Improved documentation.
257 | 
258 | ### Fixed
259 | 
260 | - Corrected the interaction of Reserves and Regulation policies with ramp rates (#415).
261 | - Removed the useless `MinCapTag` column from examples (#380).
262 | - Removed invalid `BarObjRng` key from gurobi settings (#374).
263 | - Default `crossover` or `run_crossover` settings (#363).
264 | - HYDRO resources now allow the period map to be loaded (#362).
265 | - Numbering in documentation (#330).
266 | - Correct scaling of emission outputs (#322).
267 | - Add transmission losses to ESR constraints (#320).
268 | - Author's name spelling in docs (#317).
269 | - Unset executable bits on files (#297).
270 | - Morris method example now runs.
271 | - Various other settings issues with example cases.
272 | 
273 | ### Changed
274 | 
275 | - Simplified the `Simple_Test_Case` example (#414).
276 | - SmallNewEngland/Onezone example now uses linearized unit committment by default (#404).
277 | - Removed the unused dependency BenchmarkTools (#381).
278 | 
279 | ### Removed
280 | 
281 | - The unmaintained MonteCarlo code (#357).
282 | - License blocks from most file headers (#353).
283 | - Extra `LDS` columns from several examples (#312).
284 | - SCIP from the Project and from documentation.
285 | 
286 | 


--------------------------------------------------------------------------------
/CITATION.cff:
--------------------------------------------------------------------------------
 1 | cff-version: 1.2.0
 2 | message: "If you use this software, please cite it as below."
 3 | authors:
 4 | - family-names: "Bonaldo"
 5 |   given-names: "Luca"
 6 |   orcid: "https://orcid.org/0009-0000-0650-0266"
 7 | - family-names: "Chakrabarti"
 8 |   given-names: "Sambuddha"
 9 |   orcid: "https://orcid.org/0000-0002-8916-5076"
10 | - family-names: "Cheng"
11 |   given-names: "Fangwei"
12 |   orcid: "https://orcid.org/0000-0001-6589-2749"
13 | - family-names: "Ding"
14 |   given-names: "Yifu"
15 |   orcid: "https://orcid.org/0000-0001-7128-8847"
16 | - family-names: "Jenkins"
17 |   given-names: "Jesse"
18 |   orcid: "https://orcid.org/0000-0002-9670-7793"
19 | - family-names: "Luo"
20 |   given-names: "Qian"
21 |   orcid: "https://orcid.org/0000-0003-3894-4093"
22 | - family-names: "Macdonald"
23 |   given-names: "Ruaridh"
24 |   orcid: "https://orcid.org/0000-0001-9034-6635"
25 | - family-names: "Mallapragada"
26 |   given-names: "Dharik"
27 |   orcid: "https://orcid.org/0000-0002-0330-0063"
28 | - family-names: "Manocha"
29 |   given-names: "Aneesha"
30 |   orcid: "https://orcid.org/0000-0002-7190-4782"
31 | - family-names: "Mantegna"
32 |   given-names: "Gabe"
33 |   orcid: "https://orcid.org/0000-0002-7707-0221"
34 | - family-names: "Morris"
35 |   given-names: "Jack"
36 | - family-names: "Patankar"
37 |   given-names: "Neha"
38 |   orcid: "https://orcid.org/0000-0001-7288-0391"
39 | - family-names: "Pecci"
40 |   given-names: "Filippo"
41 |   orcid: "https://orcid.org/0000-0003-3200-0892"
42 | - family-names: "Schwartz"
43 |   given-names: "Aaron"
44 | - family-names: "Schwartz"
45 |   given-names: "Jacob"
46 |   orcid: "https://orcid.org/0000-0001-9636-8181"
47 | - family-names: "Schivley"
48 |   given-names: "Greg"
49 |   orcid: "https://orcid.org/0000-0002-8947-694X"
50 | - family-names: "Sepulveda"
51 |   given-names: "Nestor"
52 |   orcid: "https://orcid.org/0000-0003-2735-8769"
53 | - family-names: "Xu"
54 |   given-names: "Qingyu"
55 |   orcid: "https://orcid.org/0000-0003-2692-5135"
56 | title: "GenX"
57 | version: 0.4.4
58 | doi: 10.5281/zenodo.10846070
59 | date-released: 2025-02-04
60 | url: "https://github.com/GenXProject/GenX.jl"
61 | 


--------------------------------------------------------------------------------
/LICENSE:
--------------------------------------------------------------------------------
  1 | GNU GENERAL PUBLIC LICENSE
  2 |                        Version 2, June 1991
  3 | 
  4 |  Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
  5 |  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  6 |  Everyone is permitted to copy and distribute verbatim copies
  7 |  of this license document, but changing it is not allowed.
  8 | 
  9 |                             Preamble
 10 | 
 11 |   The licenses for most software are designed to take away your
 12 | freedom to share and change it.  By contrast, the GNU General Public
 13 | License is intended to guarantee your freedom to share and change free
 14 | software--to make sure the software is free for all its users.  This
 15 | General Public License applies to most of the Free Software
 16 | Foundation's software and to any other program whose authors commit to
 17 | using it.  (Some other Free Software Foundation software is covered by
 18 | the GNU Lesser General Public License instead.)  You can apply it to
 19 | your programs, too.
 20 | 
 21 |   When we speak of free software, we are referring to freedom, not
 22 | price.  Our General Public Licenses are designed to make sure that you
 23 | have the freedom to distribute copies of free software (and charge for
 24 | this service if you wish), that you receive source code or can get it
 25 | if you want it, that you can change the software or use pieces of it
 26 | in new free programs; and that you know you can do these things.
 27 | 
 28 |   To protect your rights, we need to make restrictions that forbid
 29 | anyone to deny you these rights or to ask you to surrender the rights.
 30 | These restrictions translate to certain responsibilities for you if you
 31 | distribute copies of the software, or if you modify it.
 32 | 
 33 |   For example, if you distribute copies of such a program, whether
 34 | gratis or for a fee, you must give the recipients all the rights that
 35 | you have.  You must make sure that they, too, receive or can get the
 36 | source code.  And you must show them these terms so they know their
 37 | rights.
 38 | 
 39 |   We protect your rights with two steps: (1) copyright the software, and
 40 | (2) offer you this license which gives you legal permission to copy,
 41 | distribute and/or modify the software.
 42 | 
 43 |   Also, for each author's protection and ours, we want to make certain
 44 | that everyone understands that there is no warranty for this free
 45 | software.  If the software is modified by someone else and passed on, we
 46 | want its recipients to know that what they have is not the original, so
 47 | that any problems introduced by others will not reflect on the original
 48 | authors' reputations.
 49 | 
 50 |   Finally, any free program is threatened constantly by software
 51 | patents.  We wish to avoid the danger that redistributors of a free
 52 | program will individually obtain patent licenses, in effect making the
 53 | program proprietary.  To prevent this, we have made it clear that any
 54 | patent must be licensed for everyone's free use or not licensed at all.
 55 | 
 56 |   The precise terms and conditions for copying, distribution and
 57 | modification follow.
 58 | 
 59 |                     GNU GENERAL PUBLIC LICENSE
 60 |    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
 61 | 
 62 |   0. This License applies to any program or other work which contains
 63 | a notice placed by the copyright holder saying it may be distributed
 64 | under the terms of this General Public License.  The "Program", below,
 65 | refers to any such program or work, and a "work based on the Program"
 66 | means either the Program or any derivative work under copyright law:
 67 | that is to say, a work containing the Program or a portion of it,
 68 | either verbatim or with modifications and/or translated into another
 69 | language.  (Hereinafter, translation is included without limitation in
 70 | the term "modification".)  Each licensee is addressed as "you".
 71 | 
 72 | Activities other than copying, distribution and modification are not
 73 | covered by this License; they are outside its scope.  The act of
 74 | running the Program is not restricted, and the output from the Program
 75 | is covered only if its contents constitute a work based on the
 76 | Program (independent of having been made by running the Program).
 77 | Whether that is true depends on what the Program does.
 78 | 
 79 |   1. You may copy and distribute verbatim copies of the Program's
 80 | source code as you receive it, in any medium, provided that you
 81 | conspicuously and appropriately publish on each copy an appropriate
 82 | copyright notice and disclaimer of warranty; keep intact all the
 83 | notices that refer to this License and to the absence of any warranty;
 84 | and give any other recipients of the Program a copy of this License
 85 | along with the Program.
 86 | 
 87 | You may charge a fee for the physical act of transferring a copy, and
 88 | you may at your option offer warranty protection in exchange for a fee.
 89 | 
 90 |   2. You may modify your copy or copies of the Program or any portion
 91 | of it, thus forming a work based on the Program, and copy and
 92 | distribute such modifications or work under the terms of Section 1
 93 | above, provided that you also meet all of these conditions:
 94 | 
 95 |     a) You must cause the modified files to carry prominent notices
 96 |     stating that you changed the files and the date of any change.
 97 | 
 98 |     b) You must cause any work that you distribute or publish, that in
 99 |     whole or in part contains or is derived from the Program or any
100 |     part thereof, to be licensed as a whole at no charge to all third
101 |     parties under the terms of this License.
102 | 
103 |     c) If the modified program normally reads commands interactively
104 |     when run, you must cause it, when started running for such
105 |     interactive use in the most ordinary way, to print or display an
106 |     announcement including an appropriate copyright notice and a
107 |     notice that there is no warranty (or else, saying that you provide
108 |     a warranty) and that users may redistribute the program under
109 |     these conditions, and telling the user how to view a copy of this
110 |     License.  (Exception: if the Program itself is interactive but
111 |     does not normally print such an announcement, your work based on
112 |     the Program is not required to print an announcement.)
113 | 
114 | These requirements apply to the modified work as a whole.  If
115 | identifiable sections of that work are not derived from the Program,
116 | and can be reasonably considered independent and separate works in
117 | themselves, then this License, and its terms, do not apply to those
118 | sections when you distribute them as separate works.  But when you
119 | distribute the same sections as part of a whole which is a work based
120 | on the Program, the distribution of the whole must be on the terms of
121 | this License, whose permissions for other licensees extend to the
122 | entire whole, and thus to each and every part regardless of who wrote it.
123 | 
124 | Thus, it is not the intent of this section to claim rights or contest
125 | your rights to work written entirely by you; rather, the intent is to
126 | exercise the right to control the distribution of derivative or
127 | collective works based on the Program.
128 | 
129 | In addition, mere aggregation of another work not based on the Program
130 | with the Program (or with a work based on the Program) on a volume of
131 | a storage or distribution medium does not bring the other work under
132 | the scope of this License.
133 | 
134 |   3. You may copy and distribute the Program (or a work based on it,
135 | under Section 2) in object code or executable form under the terms of
136 | Sections 1 and 2 above provided that you also do one of the following:
137 | 
138 |     a) Accompany it with the complete corresponding machine-readable
139 |     source code, which must be distributed under the terms of Sections
140 |     1 and 2 above on a medium customarily used for software interchange; or,
141 | 
142 |     b) Accompany it with a written offer, valid for at least three
143 |     years, to give any third party, for a charge no more than your
144 |     cost of physically performing source distribution, a complete
145 |     machine-readable copy of the corresponding source code, to be
146 |     distributed under the terms of Sections 1 and 2 above on a medium
147 |     customarily used for software interchange; or,
148 | 
149 |     c) Accompany it with the information you received as to the offer
150 |     to distribute corresponding source code.  (This alternative is
151 |     allowed only for noncommercial distribution and only if you
152 |     received the program in object code or executable form with such
153 |     an offer, in accord with Subsection b above.)
154 | 
155 | The source code for a work means the preferred form of the work for
156 | making modifications to it.  For an executable work, complete source
157 | code means all the source code for all modules it contains, plus any
158 | associated interface definition files, plus the scripts used to
159 | control compilation and installation of the executable.  However, as a
160 | special exception, the source code distributed need not include
161 | anything that is normally distributed (in either source or binary
162 | form) with the major components (compiler, kernel, and so on) of the
163 | operating system on which the executable runs, unless that component
164 | itself accompanies the executable.
165 | 
166 | If distribution of executable or object code is made by offering
167 | access to copy from a designated place, then offering equivalent
168 | access to copy the source code from the same place counts as
169 | distribution of the source code, even though third parties are not
170 | compelled to copy the source along with the object code.
171 | 
172 |   4. You may not copy, modify, sublicense, or distribute the Program
173 | except as expressly provided under this License.  Any attempt
174 | otherwise to copy, modify, sublicense or distribute the Program is
175 | void, and will automatically terminate your rights under this License.
176 | However, parties who have received copies, or rights, from you under
177 | this License will not have their licenses terminated so long as such
178 | parties remain in full compliance.
179 | 
180 |   5. You are not required to accept this License, since you have not
181 | signed it.  However, nothing else grants you permission to modify or
182 | distribute the Program or its derivative works.  These actions are
183 | prohibited by law if you do not accept this License.  Therefore, by
184 | modifying or distributing the Program (or any work based on the
185 | Program), you indicate your acceptance of this License to do so, and
186 | all its terms and conditions for copying, distributing or modifying
187 | the Program or works based on it.
188 | 
189 |   6. Each time you redistribute the Program (or any work based on the
190 | Program), the recipient automatically receives a license from the
191 | original licensor to copy, distribute or modify the Program subject to
192 | these terms and conditions.  You may not impose any further
193 | restrictions on the recipients' exercise of the rights granted herein.
194 | You are not responsible for enforcing compliance by third parties to
195 | this License.
196 | 
197 |   7. If, as a consequence of a court judgment or allegation of patent
198 | infringement or for any other reason (not limited to patent issues),
199 | conditions are imposed on you (whether by court order, agreement or
200 | otherwise) that contradict the conditions of this License, they do not
201 | excuse you from the conditions of this License.  If you cannot
202 | distribute so as to satisfy simultaneously your obligations under this
203 | License and any other pertinent obligations, then as a consequence you
204 | may not distribute the Program at all.  For example, if a patent
205 | license would not permit royalty-free redistribution of the Program by
206 | all those who receive copies directly or indirectly through you, then
207 | the only way you could satisfy both it and this License would be to
208 | refrain entirely from distribution of the Program.
209 | 
210 | If any portion of this section is held invalid or unenforceable under
211 | any particular circumstance, the balance of the section is intended to
212 | apply and the section as a whole is intended to apply in other
213 | circumstances.
214 | 
215 | It is not the purpose of this section to induce you to infringe any
216 | patents or other property right claims or to contest validity of any
217 | such claims; this section has the sole purpose of protecting the
218 | integrity of the free software distribution system, which is
219 | implemented by public license practices.  Many people have made
220 | generous contributions to the wide range of software distributed
221 | through that system in reliance on consistent application of that
222 | system; it is up to the author/donor to decide if he or she is willing
223 | to distribute software through any other system and a licensee cannot
224 | impose that choice.
225 | 
226 | This section is intended to make thoroughly clear what is believed to
227 | be a consequence of the rest of this License.
228 | 
229 |   8. If the distribution and/or use of the Program is restricted in
230 | certain countries either by patents or by copyrighted interfaces, the
231 | original copyright holder who places the Program under this License
232 | may add an explicit geographical distribution limitation excluding
233 | those countries, so that distribution is permitted only in or among
234 | countries not thus excluded.  In such case, this License incorporates
235 | the limitation as if written in the body of this License.
236 | 
237 |   9. The Free Software Foundation may publish revised and/or new versions
238 | of the General Public License from time to time.  Such new versions will
239 | be similar in spirit to the present version, but may differ in detail to
240 | address new problems or concerns.
241 | 
242 | Each version is given a distinguishing version number.  If the Program
243 | specifies a version number of this License which applies to it and "any
244 | later version", you have the option of following the terms and conditions
245 | either of that version or of any later version published by the Free
246 | Software Foundation.  If the Program does not specify a version number of
247 | this License, you may choose any version ever published by the Free Software
248 | Foundation.
249 | 
250 |   10. If you wish to incorporate parts of the Program into other free
251 | programs whose distribution conditions are different, write to the author
252 | to ask for permission.  For software which is copyrighted by the Free
253 | Software Foundation, write to the Free Software Foundation; we sometimes
254 | make exceptions for this.  Our decision will be guided by the two goals
255 | of preserving the free status of all derivatives of our free software and
256 | of promoting the sharing and reuse of software generally.
257 | 
258 |                             NO WARRANTY
259 | 
260 |   11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
261 | FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
262 | OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
263 | PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
264 | OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
265 | MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
266 | TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
267 | PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
268 | REPAIR OR CORRECTION.
269 | 
270 |   12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
271 | WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
272 | REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
273 | INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
274 | OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
275 | TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
276 | YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
277 | PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
278 | POSSIBILITY OF SUCH DAMAGES.
279 | 
280 |                      END OF TERMS AND CONDITIONS
281 | 
282 |           
283 | 


--------------------------------------------------------------------------------
/Project.toml:
--------------------------------------------------------------------------------
 1 | name = "GenX"
 2 | uuid = "5d317b1e-30ec-4ed6-a8ce-8d2d88d7cfac"
 3 | authors = ["Bonaldo, Luca", "Chakrabarti, Sambuddha", "Cheng, Fangwei", "Ding, Yifu", "Jenkins, Jesse D.", "Luo, Qian", "Macdonald, Ruaridh", "Mallapragada, Dharik", "Manocha, Aneesha", "Mantegna, Gabe ", "Morris, Jack", "Patankar, Neha", "Pecci, Filippo", "Schwartz, Aaron", "Schwartz, Jacob", "Schivley, Greg", "Sepulveda, Nestor", "Xu, Qingyu", "Zhou, Justin"]
 4 | version = "0.4.4"
 5 | 
 6 | [deps]
 7 | CSV = "336ed68f-0bac-5ca0-87d4-7b16caf5d00b"
 8 | Clustering = "aaaa29a8-35af-508c-8bc3-b662a17a0fe5"
 9 | Combinatorics = "861a8166-3701-5b0c-9a16-15d98fcdc6aa"
10 | DataFrames = "a93c6f00-e57d-5684-b7b6-d8193f3e46c0"
11 | DataStructures = "864edb3b-99cc-5e75-8d2d-829cb0a9cfe8"
12 | Dates = "ade2ca70-3891-5945-98fb-dc099432e06a"
13 | Distances = "b4f34e82-e78d-54a5-968a-f98e89d6e8f7"
14 | HiGHS = "87dc4568-4c63-4d18-b0c0-bb2238e4078b"
15 | JuMP = "4076af6c-e467-56ae-b986-b466b2749572"
16 | LinearAlgebra = "37e2e46d-f89d-539d-b4ee-838fcccc9c8e"
17 | Logging = "56ddb016-857b-54e1-b83d-db4d58db5568"
18 | MUMPS_seq_jll = "d7ed1dd3-d0ae-5e8e-bfb4-87a502085b8d"
19 | MathOptInterface = "b8f27783-ece8-5eb3-8dc8-9495eed66fee"
20 | PrecompileTools = "aea7be01-6a6a-4083-8856-8a6e6704d82a"
21 | Random = "9a3f8284-a2c9-5f02-9a11-845980a1fd5c"
22 | RecursiveArrayTools = "731186ca-8d62-57ce-b412-fbd966d074cd"
23 | Statistics = "10745b16-79ce-11e8-11f9-7d13ad32a3b2"
24 | StatsBase = "2913bbd2-ae8a-5f71-8c99-4fb6c76f3a91"
25 | YAML = "ddb6d928-2868-570f-bddf-ab3f9cf99eb6"
26 | 
27 | [compat]
28 | CSV = "0.10.4"
29 | Clustering = "0.14.2, 0.15"
30 | Combinatorics = "1.0.2"
31 | DataFrames = "1.3.4"
32 | DataStructures = "0.18.13"
33 | Dates = "1"
34 | Distances = "0.10.7"
35 | HiGHS = "1.1.4"
36 | JuMP = "1.1.1"
37 | LinearAlgebra = "1"
38 | MathOptInterface = "1.6.1"
39 | PrecompileTools = "1"
40 | RecursiveArrayTools = "2.31.2, 3"
41 | Statistics = "1.4.0"
42 | StatsBase = "0.33.21, 0.34"
43 | YAML = "0.4.7"
44 | julia = "1"
45 | 
46 | [extras]
47 | JLD2 = "033835bb-8acc-5ee8-8aae-3f567f8a3819"
48 | Logging = "56ddb016-857b-54e1-b83d-db4d58db5568"
49 | LoggingExtras = "e6f89c97-d47a-5376-807f-9c37f3926c36"
50 | Test = "8dfed614-e22c-5e08-85e1-65c5234f0b40"
51 | 
52 | [targets]
53 | test = ["Test", "JLD2", "Logging", "LoggingExtras"]
54 | 


--------------------------------------------------------------------------------
/README.md:
--------------------------------------------------------------------------------
 1 | <div align="center"> <img src="docs/src/assets/logo_readme.svg"  height ="200"width="1000" alt="GenX.jl"></img></div>
 2 | 
 3 | |  **Documentation** | **DOI** |
 4 | |:-------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------------------:|
 5 | [![Stable](https://img.shields.io/badge/docs-stable-blue.svg)](https://genxproject.github.io/GenX.jl/stable/) [![Dev](https://img.shields.io/badge/docs-dev-blue.svg)](https://genxproject.github.io/GenX.jl/dev) | [![DOI](https://zenodo.org/badge/368957308.svg)](https://zenodo.org/doi/10.5281/zenodo.10846069) 
 6 | 
 7 | [![CI](https://github.com/GenXProject/GenX/actions/workflows/ci.yml/badge.svg)](https://github.com/GenXProject/GenX/actions/workflows/ci.yml) [![SciML Code Style](https://img.shields.io/static/v1?label=code%20style&message=SciML&color=9558b2&labelColor=389826)](https://github.com/SciML/SciMLStyle) [![ColPrac: Contributor's Guide on Collaborative Practices for Community Packages](https://img.shields.io/badge/ColPrac-Contributor's%20Guide-blueviolet)](https://github.com/SciML/ColPrac)
 8 | 
 9 | ## Overview
10 | GenX is a highly-configurable, [open source](https://github.com/GenXProject/GenX/blob/main/LICENSE) electricity resource capacity expansion model 
11 | that incorporates several state-of-the-art practices in electricity system planning to offer improved decision support for a changing electricity landscape. 
12 | 
13 | The model was [originally developed](https://energy.mit.edu/publication/enhanced-decision-support-changing-electricity-landscape/) by 
14 | [Jesse D. Jenkins](https://mae.princeton.edu/people/faculty/jenkins) and 
15 | [Nestor A. Sepulveda](https://energy.mit.edu/profile/nestor-sepulveda/) at the Massachusetts Institute of Technology and is now jointly maintained by 
16 | [a team of contributors](https://github.com/GenXProject/GenX#genx-team) at the Princeton University ZERO Lab (led by Jenkins), MIT (led by [Ruaridh MacDonald](https://energy.mit.edu/profile/ruaridh-macdonald/)), NYU (led by [Dharik Mallapragada](https://engineering.nyu.edu/faculty/dharik-mallapragada)), and Binghamton University (led by [Neha Patankar](https://www.binghamton.edu/ssie/people/profile.html?id=npatankar)).
17 | 
18 | GenX is a constrained linear or mixed integer linear optimization model that determines the portfolio of electricity generation, 
19 | storage, transmission, and demand-side resource investments and operational decisions to meet electricity demand in one or more future planning years at lowest cost,
20 | while subject to a variety of power system operational constraints, resource availability limits, and other imposed environmental, market design, and policy constraints.
21 | 
22 | GenX features a modular and transparent code structure developed in [Julia](http://julialang.org/) + [JuMP](http://jump.dev/).
23 | The model is designed to be highly flexible and configurable for use in a variety of applications from academic research and technology evaluation to public policy and regulatory analysis and resource planning.
24 | Depending on the planning problem or question to be studied,
25 | GenX can be configured with varying levels of model resolution and scope, with regards to:
26 | (1) temporal resolution of time series data such as electricity demand and renewable energy availability;
27 | (2) power system operational detail and unit commitment constraints;
28 | and (3) geospatial resolution and transmission network representation.
29 | The model is also capable of representing a full range of conventional and novel electricity resources,
30 | including thermal generators, variable renewable resources (wind and solar), run-of-river, reservoir and pumped-storage hydroelectric generators,
31 | energy storage devices, demand-side flexibility, demand response, and several advanced technologies such as long-duration energy storage.
32 | 
33 | The 'main' branch is the current master branch of GenX. The various subdirectories are described below:
34 | 
35 | 1. `src/` Contains the core GenX model code for reading inputs, model generation, solving and writing model outputs.
36 | 
37 | 2. `example_systems/` Contains fully specified examples that users can use to test GenX and get familiar with its various features. 
38 | 
39 | 3. `docs/` Contains source files for documentation pertaining to the model.
40 | 
41 | ## Requirements
42 | 
43 | GenX (v0.4.4) runs on Julia v1.6 through v1.9, with a minimum version of the package JuMP v1.1.1. Julia v1.10 and v1.11 are also supported. However, we recently noticed a decline in performance with Julia v1.10, which is currently under investigation. Therefore, **we recommend using Julia v1.9**, particularly for very large cases.
44 | We recommend the users to either stick to a particular version of Julia to run GenX. If however, the users decide to switch between versions, it's very important to delete the old `Manifest.toml` file and do a fresh build of GenX when switching between Julia versions.
45 | 
46 | There is also an older version of GenX, which is also currently maintained and runs on Julia 1.3.x and 1.4.x series.
47 | For those users who has previously cloned GenX, and has been running it successfully so far,
48 | and therefore might be unwilling to run it on the latest version of Julia:
49 | please look into the GitHub branch, [old_version](https://github.com/GenXProject/GenX/tree/old_version).
50 | It is currently setup to use one of the following open-source freely available solvers:
51 | - the default solver: [HiGHS](https://github.com/jump-dev/HiGHS.jl) for linear programming and MILP,
52 | - [Clp](https://github.com/jump-dev/Clp.jl) for linear programming (LP) problems,
53 | - [Cbc](https://github.com/jump-dev/Cbc.jl) for mixed integer linear programming (MILP) problems
54 | We also provide the option to use one of these two commercial solvers: 
55 | - [Gurobi](https://www.gurobi.com), or 
56 | - [CPLEX](https://www.ibm.com/docs/en/icos/22.1.1?topic=documentation-orientation-guide).
57 | Note that using Gurobi and CPLEX requires a valid license on the host machine.
58 | There are two ways to run GenX with either type of solver options (open-source free or, licensed commercial) as detailed in the section, `Getting Started`.
59 | 
60 | 
61 | ## Documentation
62 | 
63 | Detailed documentation for GenX can be found [here](https://genxproject.github.io/GenX.jl/dev).
64 | It includes details of each of GenX's methods, required and optional input files, and outputs.
65 | Interested users may also want to browse through [prior publications](https://energy.mit.edu/genx/#publications) that have used GenX to understand the various features of the tool.
66 | 
67 | 
68 | ## How to cite GenX
69 | 
70 | We request that users of GenX to cite it in their academic publications and patent filings.
71 | 
72 | ```
73 | MIT Energy Initiative and Princeton University ZERO lab. GenX: a configurable power system capacity expansion model for studying low-carbon energy futures n.d. https://github.com/GenXProject/GenX
74 | ```
75 | 
76 | ## Bug and feature requests and contact info
77 | If you would like to report a bug in the code or request a feature, please use our [Issue Tracker](https://github.com/GenXProject/GenX/issues).
78 | If you're unsure or have questions on how to use GenX that are not addressed by the above documentation, please reach out to Sambuddha Chakrabarti (sc87@princeton.edu), Jesse Jenkins (jdj2@princeton.edu) or Dharik Mallapragada (dharik@mit.edu).
79 | 
80 | ## GenX Team
81 | GenX has been developed jointly by researchers at the [MIT Energy Initiative](https://energy.mit.edu/) and the ZERO lab at Princeton University.
82 | Key contributors include [Nestor A. Sepulveda](https://energy.mit.edu/profile/nestor-sepulveda/),
83 | [Jesse D. Jenkins](https://mae.princeton.edu/people/faculty/jenkins),
84 | [Dharik S. Mallapragada](https://energy.mit.edu/profile/dharik-mallapragada/),
85 | [Aaron M. Schwartz](https://idss.mit.edu/staff/aaron-schwartz/),
86 | [Neha S. Patankar](https://www.linkedin.com/in/nehapatankar),
87 | [Qingyu Xu](https://www.linkedin.com/in/qingyu-xu-61b3567b),
88 | [Jack Morris](https://www.linkedin.com/in/jack-morris-024b37121),
89 | [Luca Bonaldo](https://www.linkedin.com/in/luca-bonaldo-56391719b/)
90 | [Sambuddha Chakrabarti](https://www.linkedin.com/in/sambuddha-chakrabarti-ph-d-84157318).
91 | 
92 | ## Acknowledgement
93 | The GenX team expresses deep gratitude to [Maya Mutic](https://github.com/mmutic) for developing the tutorials along with Filippo Pecci and Luca Bonaldo. 
94 | The Julia-themed GenX logo was designed by Laura Zwanziger and Jacob Schwartz.
95 | 


--------------------------------------------------------------------------------
/codecov.yml:
--------------------------------------------------------------------------------
1 | coverage:
2 |   status:
3 |     project:
4 |       default:
5 |         informational: true
6 |     patch:
7 |       default:
8 |         informational: true
9 | comment: false


--------------------------------------------------------------------------------
/docs/Project.toml:
--------------------------------------------------------------------------------
1 | [deps]
2 | DataStructures = "864edb3b-99cc-5e75-8d2d-829cb0a9cfe8"
3 | Documenter = "e30172f5-a6a5-5a46-863b-614d45cd2de4"
4 | GenX = "5d317b1e-30ec-4ed6-a8ce-8d2d88d7cfac"
5 | 


--------------------------------------------------------------------------------
/docs/make.jl:
--------------------------------------------------------------------------------
  1 | ENV["GENX_PRECOMPILE"] = "false" # Disable GenX precompilation for documentation build
  2 | 
  3 | using Documenter
  4 | using GenX
  5 | import DataStructures: OrderedDict
  6 | 
  7 | DocMeta.setdocmeta!(GenX, :DocTestSetup, :(using GenX); recursive = true)
  8 | 
  9 | pages = OrderedDict(
 10 |     "Welcome Page" => [
 11 |         "GenX: Introduction" => "index.md",
 12 |         "Installation Guide" => "installation.md",
 13 |         "Limitation of GenX" => "limitations_genx.md",
 14 |         "Third Party Extensions" => "third_party_genx.md"
 15 |     ],
 16 |     "Getting Started" => [
 17 |         "Running GenX" => "Getting_Started/examples_casestudies.md",
 18 |         "Commertial solvers" => "Getting_Started/commercial_solvers.md"
 19 |     ],
 20 |     "Tutorials" => [
 21 |         "Tutorials Overview" => "Tutorials/Tutorials_intro.md",
 22 |         "Tutorial 1: Configuring Settings" => "Tutorials/Tutorial_1_configuring_settings.md",
 23 |         "Tutorial 2: Network Visualization" => "Tutorials/Tutorial_2_network_visualization.md",
 24 |         "Tutorial 3: K-Means and Time Domain Reduction" => "Tutorials/Tutorial_3_K-means_time_domain_reduction.md",
 25 |         "Tutorial 4: Model Generation" => "Tutorials/Tutorial_4_model_generation.md",
 26 |         "Tutorial 5: Solving the Model" => "Tutorials/Tutorial_5_solve_model.md",
 27 |         "Tutorial 6: Solver Settings" => "Tutorials/Tutorial_6_solver_settings.md",
 28 |         "Tutorial 7: Policy Constraints" => "Tutorials/Tutorial_7_setup.md",
 29 |         "Tutorial 8: Outputs" => "Tutorials/Tutorial_8_outputs.md"
 30 |     ],
 31 |     "User Guide" => [
 32 |         "Overall workflow" => "User_Guide/workflow.md",
 33 |         "Model Configuration" => "User_Guide/model_configuration.md",
 34 |         "Solver Configuration" => "User_Guide/solver_configuration.md",
 35 |         "Model Inputs" => "User_Guide/model_input.md",
 36 |         "Time-domain Reduction Inputs" => "User_Guide/TDR_input.md",
 37 |         "Running the Time-domain Reduction" => "User_Guide/running_TDR.md",
 38 |         "MGA package" => "User_Guide/generate_alternatives.md",
 39 |         "Multi-stage Model" => "User_Guide/multi_stage_input.md",
 40 |         "Slack Variables for Policies" => "User_Guide/slack_variables_overview.md",
 41 |         "Method of Morris Inputs" => "User_Guide/methodofmorris_input.md",
 42 |         "Running the Model" => "User_Guide/running_model.md",
 43 |         "Model Outputs" => "User_Guide/model_output.md"
 44 |     ],
 45 |     "Model Concept and Overview" => [
 46 |         "Model Introduction" => "Model_Concept_Overview/model_introduction.md",
 47 |         "Notation" => "Model_Concept_Overview/model_notation.md",
 48 |         "Objective Function" => "Model_Concept_Overview/objective_function.md",
 49 |         "Power Balance" => "Model_Concept_Overview/power_balance.md"
 50 |     ],
 51 |     "Model Reference" => [
 52 |         "Core" => "Model_Reference/core.md",
 53 |         "Resources" => [
 54 |             "Curtailable Variable Renewable" => "Model_Reference/Resources/curtailable_variable_renewable.md",
 55 |             "Flexible Demand" => "Model_Reference/Resources/flexible_demand.md",
 56 |             "Hydro" => [
 57 |                 "Hydro Reservoir" => "Model_Reference/Resources/hydro_res.md",
 58 |                 "Long Duration Hydro" => "Model_Reference/Resources/hydro_inter_period_linkage.md"
 59 |             ],
 60 |             "Must Run" => "Model_Reference/Resources/must_run.md",
 61 |             "Retrofit" => "Model_Reference/Resources/retrofit.md",
 62 |             "Storage" => [
 63 |                 "Storage" => "Model_Reference/Resources/storage.md",
 64 |                 "Investment Charge" => "Model_Reference/Resources/investment_charge.md",
 65 |                 "Investment Energy" => "Model_Reference/Resources/investment_energy.md",
 66 |                 "Long Duration Storage" => "Model_Reference/Resources/long_duration_storage.md",
 67 |                 "Storage All" => "Model_Reference/Resources/storage_all.md",
 68 |                 "Storage Asymmetric" => "Model_Reference/Resources/storage_asymmetric.md",
 69 |                 "Storage Symmetric" => "Model_Reference/Resources/storage_symmetric.md"
 70 |             ],
 71 |             "Co-located VRE and Storage" => "Model_Reference/Resources/vre_stor.md",
 72 |             "Thermal" => [
 73 |                 "Thermal" => "Model_Reference/Resources/thermal.md",
 74 |                 "Thermal Commit" => "Model_Reference/Resources/thermal_commit.md",
 75 |                 "Thermal No Commit" => "Model_Reference/Resources/thermal_no_commit.md",
 76 |                 "Scheduled maintenance for Thermal Commit" => "Model_Reference/Resources/maintenance.md",
 77 |                 "Fusion" => "Model_Reference/Resources/fusion.md"
 78 |             ],
 79 |             "Hydrogen Electrolyzers" => "Model_Reference/Resources/electrolyzers.md",
 80 |             "Resource types" => "Model_Reference/Resources/resource.md"
 81 |         ],
 82 |         "Policies" => "Model_Reference/policies.md",
 83 |         "Solver Configurations" => "Model_Reference/solver_configuration_api.md",
 84 |         "Inputs Functions" => "Model_Reference/load_inputs.md",
 85 |         "Generate the Model" => "Model_Reference/generate_model.md",
 86 |         "Solving the Model" => "Model_Reference/solve_model.md",
 87 |         "Time-domain Reduction" => "Model_Reference/TDR.md",
 88 |         "Outputs Functions" => "Model_Reference/write_outputs.md",
 89 |         "Modeling to Generate Alternatives" => "Model_Reference/mga.md",
 90 |         "Multi-stage" => [
 91 |             "Multi-Stage Modeling Introduction" => "Model_Reference/Multi_Stage/multi_stage_overview.md",
 92 |             "Configure multi-stage inputs" => "Model_Reference/Multi_Stage/configure_multi_stage_inputs.md",
 93 |             "Model multi stage: Dual Dynamic Programming Algorithm" => "Model_Reference/Multi_Stage/dual_dynamic_programming.md",
 94 |             "Endogenous Retirement" => "Model_Reference/Multi_Stage/endogenous_retirement.md"
 95 |         ],
 96 |         "Method of Morris" => "Model_Reference/methodofmorris.md",
 97 |         "Utility Functions" => "Model_Reference/utility_functions.md"
 98 |     ],
 99 |     "Public API Reference" => [
100 |         "Public API" => "Public_API/public_api.md"],
101 |     "Third Party Extensions" => "additional_third_party_extensions.md",
102 |     "Developer Docs" => "developer_guide.md"
103 | )
104 | 
105 | # Build documentation.
106 | # ====================
107 | 
108 | makedocs(;
109 |     modules = [GenX],
110 |     authors = "Jesse Jenkins, Nestor Sepulveda, Dharik Mallapragada, Aaron Schwartz, Neha Patankar, Qingyu Xu, Jack Morris, Sambuddha Chakrabarti",
111 |     sitename = "GenX.jl",
112 |     format = Documenter.HTML(;
113 |         prettyurls = get(ENV, "CI", "false") == "true",
114 |         canonical = "https://genxproject.github.io/GenX.jl/stable",
115 |         assets = ["assets/genx_style.css"],
116 |         sidebar_sitename = false,
117 |         collapselevel = 1
118 |     ),
119 |     pages = [p for p in pages]
120 | )
121 | 
122 | # Deploy built documentation.
123 | # ===========================
124 | 
125 | deploydocs(;
126 |     repo = "github.com/GenXProject/GenX.jl.git",
127 |     target = "build",
128 |     branch = "gh-pages",
129 |     devbranch = "develop",
130 |     devurl = "dev",
131 |     push_preview = true,
132 |     versions = ["stable" => "v^", "v#.#.#", "dev" => "dev"],
133 |     forcepush = false
134 | )
135 | 


--------------------------------------------------------------------------------
/docs/src/Getting_Started/commercial_solvers.md:
--------------------------------------------------------------------------------
 1 | ## Using commercial solvers: Gurobi or CPLEX
 2 | 
 3 | If you want to use the commercial solvers Gurobi or CPLEX:
 4 | 
 5 | - Make sure you have a valid license and the actual solvers for either of Gurobi or CPLEX installed on your machine
 6 | - Add Gurobi or CPLEX to the Julia Project.
 7 | 
 8 | ```
 9 | $ julia --project=/home/youruser/GenX
10 | 
11 | julia> <press close-bracket ] to access the package manager>
12 | (GenX) pkg> add Gurobi
13 | -or-
14 | (GenX) pkg> add CPLEX
15 | ```
16 | ```@meta
17 | #TODO: Add instructions for adding Gurobi or CPLEX to the Julia Project with the new PR. 
18 | ```
19 | 
20 | - Edit the `Run.jl` file to use the commercial solver. For example, to use Gurobi, you can add the following lines to the `Run.jl` file:
21 | 
22 | ```julia
23 | using Gurobi
24 | using GenX
25 | 
26 | run_genx_case!(dirname(@__FILE__), Gurobi.Optimizer)
27 | ```
28 | 
29 | !!! warning "Warning"
30 |     Note that if you have not already installed the required Julia packages or you do not have a valid Gurobi license on your host machine, you will receive an error message and Run.jl will not run to completion.


--------------------------------------------------------------------------------
/docs/src/Getting_Started/examples_casestudies.md:
--------------------------------------------------------------------------------
  1 | # Running GenX
  2 | 
  3 | This section describes how to run GenX with the examples provided in the repository and with user-defined cases. To have a deeper understanding of how to structure the input files and the settings, please refer to the [User Guide](@ref).
  4 | 
  5 | ## Example cases
  6 | GenX repository contains several examples to get you started with GenX. These examples are located in the [example_systems](https://github.com/GenXProject/GenX/tree/main/example_systems) folder of the repository and are designed to be easy to run and to demonstrate the main features of GenX. 
  7 | 
  8 | The available examples are:
  9 | 
 10 | - [1\_three\_zones](https://github.com/GenXProject/GenX/tree/main/example_systems/1_three_zones)
 11 | - [2\_three\_zones\_w\_electrolyzer](https://github.com/GenXProject/GenX/tree/main/example_systems/2_three_zones_w_electrolyzer)
 12 | - [3\_three\_zone\_w\_co2\_capture](https://github.com/GenXProject/GenX/tree/main/example_systems/3_three_zone_w_co2_capture)
 13 | - [4\_three\_zones\_w\_policies\_slack](https://github.com/GenXProject/GenX/tree/main/example_systems/4_three_zones_w_policies_slack)
 14 | - [5\_three\_zones\_w\_piecewise\_fuel](https://github.com/GenXProject/GenX/tree/main/example_systems/5_three_zones_w_piecewise_fuel)
 15 | - [6\_three\_zones\_w\_multistage](https://github.com/GenXProject/GenX/tree/main/example_systems/6_three_zones_w_multistage)
 16 | - [7\_three\_zones\_w\_colocated\_VRE\_storage](https://github.com/GenXProject/GenX/tree/main/example_systems/7_three_zones_w_colocated_VRE_storage)
 17 | - [IEEE\_9\_bus\_DC\_OPF](https://github.com/GenXProject/GenX/tree/main/example_systems/IEEE_9_bus_DC_OPF)
 18 | 
 19 | !!! note "Note"
 20 |     The following instructions assume that you have already installed GenX and its dependencies. If you haven't, please follow the instructions in the [Installation Guide](@ref).
 21 | 
 22 | To run an example, follow these steps:
 23 | 1. Open a terminal and run Julia with an environment containing GenX;
 24 | 2. Run the `Run.jl` file located in the example folder.
 25 | 
 26 | For example, to run the `1_three_zones` example, you can use the following commands:
 27 | ```
 28 | $ julia
 29 | julia> <press close-bracket ] to access the package manager>
 30 | (@v1.9) pkg> activate /path/to/env
 31 | julia> using GenX
 32 | julia> include("/path/to/GenX/example_systems/1_three_zones/Run.jl")
 33 | ``` 
 34 | where `/path/to/env` is the path to the environment containing GenX and `/path/to/GenX` is the path to the `GenX` repository containing the examples.
 35 | 
 36 | The `Run.jl` file will read the `.csv` input files which define the system, the resources, and the policies, will solve the model, and finally will write the results in a `results` folder located in the same directory as `Run.jl`.
 37 | 
 38 | !!! tip "Tip"
 39 |     You could also run the example from the terminal using the following command:
 40 |     ```
 41 |     $ julia --project=/path/to/env /path/to/GenX/example_systems/1_three_zones/Run.jl`
 42 |     ```
 43 |     This is equivalent to open a Julia REPL and call the `Run.jl` file using the `include` function.
 44 |     The first option is recommended if you want to run GenX multiple times with different settings because it avoids the overhead of recompiling the code every time you run it.
 45 | 
 46 | !!! note "Note"
 47 |     The default solver for GenX is [HiGHS](https://github.com/jump-dev/HiGHS.jl).
 48 | 
 49 | For more information on what happens when you run a GenX case, see the [Running GenX](@ref) section.
 50 | 
 51 | !!! note "Note"
 52 |     The first seven examples are based on a one-year example with hourly resolution, containing zones representing Massachusetts, Connecticut, and Maine. The ten represented resources include natural gas, solar PV, wind, and lithium-ion battery storage.
 53 | 
 54 | 
 55 | ## Running GenX with user-defined cases
 56 | To run GenX with a user-defined case, you need to create a folder `MyCase` with the following structure:
 57 | 
 58 | ```
 59 | MyCase
 60 | â”œâ”€â”€ settings/
 61 | â”œâ”€â”€ system/
 62 | â”œâ”€â”€ policies/
 63 | â”œâ”€â”€ resources/
 64 | â”œâ”€â”€ README.md
 65 | â””â”€â”€ Run.jl
 66 | ```
 67 | 
 68 | where the `settings` folder contains the configuration files for the model and the solver, the `system` folder contains the `.csv` input files related to the system under study, the `resource` folder contains the `.csv` input files with the list of generators to include in the model, and the `policies` folder contains the `.csv` input files which define the policies to be included in the model. 
 69 | For instance, one case could have the following structure:
 70 | 
 71 | ```
 72 | MyCase
 73 | â”‚ 
 74 | â”œâ”€â”€ settings
 75 | â”‚   â”œâ”€â”€ genx_settings.yml           # GenX settings
 76 | â”‚   â”œâ”€â”€ [solver_name]_settings.yml  # Solver settings
 77 | â”‚   â”œâ”€â”€ multi_stage_settings.yml    # Multi-stage settings
 78 | â”‚   â””â”€â”€ time_domain_reduction.yml   # Time-domain clustering settings
 79 | â”‚ 
 80 | â”œâ”€â”€ system
 81 | â”‚   â”œâ”€â”€ Demand_data.csv
 82 | â”‚   â”œâ”€â”€ Fuel_data.csv
 83 | â”‚   â”œâ”€â”€ Generators_variability.csv
 84 | â”‚   â””â”€â”€ Network.csv
 85 | â”‚ 
 86 | â”œâ”€â”€ policies
 87 | â”‚   â”œâ”€â”€ CO2_cap.csv
 88 | â”‚   â”œâ”€â”€ Minimum_capacity_requirement.csv
 89 | â”‚   â””â”€â”€ Energy_share_requirement.csv
 90 | â”‚ 
 91 | â”œâ”€â”€ resources
 92 | â”‚   â”œâ”€â”€ Thermal.csv
 93 | â”‚   â”œâ”€â”€ Storage.csv
 94 | â”‚   â”œâ”€â”€ Vre.csv
 95 | â”‚   â”œâ”€â”€ Hydro.csv
 96 | â”‚   â””â”€â”€ policy_assignments
 97 | |       â”œâ”€â”€ Resource_minimum_capacity_requirement.csv
 98 | â”‚       â””â”€â”€ Resource_energy_share_requirement.csv
 99 | â”‚
100 | â””â”€â”€ Run.jl
101 | ```
102 | 
103 | In this example, `MyCase` will define a case with `Themal`, `Storage`, `Vre`, and `Hydro` resources, the `system` folder will provide the data for the demand, fuel, generators' variability, and network, the `policies` folder will include a CO2 cap, a minimum capacity requirement, and an energy share requirement, and the `settings` folder will contain the configuration files for the model. 
104 | 
105 | The `Run.jl` file should contain the following code:
106 | ```julia
107 | using GenX
108 | 
109 | run_genx_case!(dirname(@__FILE__))
110 | ```
111 | which will run the case using the default solver. To use a different solver, you can pass the Optimizer object as an argument to `run_genx_case!` function. For example, to use Gurobi as the solver, you can use the following code:
112 | 
113 | ```julia
114 | using GenX
115 | using Gurobi
116 | 
117 | run_genx_case!(dirname(@__FILE__), Gurobi.Optimizer)
118 | ```
119 | 
120 | To run the case, open a terminal and run the following command:
121 | ```
122 | $ julia --project="/path/to/env"
123 | julia> include("/path/to/MyCase/Run.jl")
124 | ```
125 | where `/path/to/env` is the path to the environment with `GenX` installed, and `/path/to/MyCase` is the path to the folder of the `MyCase` case.
126 | Alternatively, you can run the case directly from the terminal using the following command:
127 | ```
128 | $ julia --project="/path/to/env" /path/to/MyCase/Run.jl
129 | ```
130 | 
131 | ## What happens when you run a case
132 | *Added in 0.3.4*
133 | 
134 | The entry point for running a GenX case is the `run_genx_case!("path/to/case")` function, where `path/to/case` is the path to the case directory that contains the `.csv` files with the inputs for GenX and the `settings` folder with the configuration files.
135 | 
136 | The following are the main steps performed in this function:
137 | 
138 | 1. Establish path to environment setup files and GenX source files.
139 | 2. Read in model settings `genx_settings.yml` from the example directory.
140 | 3. Configure solver settings.
141 | 4. Load the model inputs from the example directory and perform time-domain clustering if required.
142 | 5. Generate a GenX model instance.
143 | 6. Solve the model.
144 | 7. Write the output files to a specified directory.
145 | 
146 | After the script runs to completion, results will be written to a folder called `results`, located in the current working directory.
147 | 
148 | ## Precompile GenX
149 | *Added in 0.4.1*
150 | 
151 | !!! note "Note"
152 |     By default, GenX is precompiled when the package is installed to reduce the latency of the first execution of a case. This process may take a couple of minutes, but it will reduce the time needed to run subsequent cases.
153 | 
154 | However, if you want to disable precompilation, you can set the environment variable `GENX_PRECOMPILE` to `"false"` before loading GenX:
155 | 
156 | ```
157 | $ julia --project="/path/to/env"
158 | julia> ENV["GENX_PRECOMPILE"] = "false"
159 | julia> using GenX
160 | ```
161 | 
162 | Here, `/path/to/env` is the path to the environment where GenX is installed.
163 | 
164 | !!! note "Note"
165 |     The environment variable `GENX_PRECOMPILE` must be set before loading GenX for the first time. However, to force recompilation of GenX, you can delete the `~/.julia/compiled/vZ.Y/GenX/*.ji` binaries (where vZ.Y is the version of Julia being used, e.g., v1.9), set the environment variable `GENX_PRECOMPILE` to the desired value, and then reload the package. If GenX was imported via `Pkg.develop` or `] dev`, modifying any of the package files will also force recompilation.
166 | 


--------------------------------------------------------------------------------
/docs/src/Model_Concept_Overview/model_introduction.md:
--------------------------------------------------------------------------------
 1 | # GenX Model Introduction
 2 | 
 3 | ## Introduction
 4 | 
 5 | GenX allows for the simultaneous co-optimization of several interlinked power system decision layers, described below:
 6 | 
 7 | 1. Capacity expansion planning (e.g., investment and retirement decisions for a full range of centralized and distributed generation, storage, and demand-side resources)
 8 | 2. Hourly dispatch of generation, storage, and demand-side resources,
 9 | 3. Unit commitment decisions and operational constraints for thermal generators,
10 | 4. Commitment of generation, storage, and demand-side capacity to meet system operating reserves requirements,
11 | 5. Commitment of generation, storage, and demand-side capacity to meet capacity reserve requirements,
12 | 6. Transmission network power flows (including losses) and network expansion decisions, and
13 | 7. Several optional policy constraints
14 | 
15 | Depending on the dimensionality of the problem, it may not be possible to model all decision layers at the highest possible resolution of detail, so the GenX model is designed to be highly configurable, allowing the user to specify the level of detail or abstraction along each of these layers or to omit one or more layers from consideration entirely.
16 | 
17 | For example, while investment and dispatch decisions (Layers 1 and 2) are a consistent feature of the model under all configurations, the user has several options with regards to representing the operational constraints on various thermal power plants (e.g., coal, gas, nuclear, and biomass generators). Unit commitment (e.g., start-up and shut-down) decisions [Morales-EspaÃ±a et al., 2013](https://ieeexplore.ieee.org/document/6672560) (Layer 3) can be modeled at the individual power plant level (as per [De Sisternes Jimenez, 2014](https://globalchange.mit.edu/publication/15977)); by using an efficient clustering of similar or identical units (as per [Palmintier, 2011](https://pennstate.pure.elsevier.com/en/publications/impact-of-unit-commitment-constraints-on-generation-expansion-pla), [Palmintier, 2013](https://dspace.mit.edu/handle/1721.1/79147), [Palmintier, 2014](https://ieeexplore.ieee.org/document/6684593)); by using a linear relaxation (or convex hull) of the integer unit commitment constraints set; or ignoring unit commitment decisions entirely and treating generator output as fully continuous. Furthermore, different levels of resolution can be selected for each individual resource type, as desired (e.g., larger thermal units can be represented with integer unit commitment decisions while smaller units can be treated as fully continuous). In such a manner, the model can be configured to represent operating constraints on thermal generators at a level of resolution that achieves a desired balance between abstraction error and computational tractability and provides sufficient accuracy to generate insights for the problem at hand.
18 | 
19 | The model can also be configured to consider commitment of capacity to supply frequency regulation (symmetric up and down) and operating reserves (up) needed by system operators to robustly resolve short-term uncertainty in demand and renewable energy forecasts and power plant or transmission network failures (Layer 4). Alternatively, reserve commitments can be ignored if desired.
20 | 
21 | Additionally, the model can approximate resource adequacy requirements through capacity reserve margin requirements at the zonal and/or system level (Layer 5). In this way, the model can approximate varying structure of capacity markets seen in deregulated electricity markets in the U.S. and other regions.
22 | 
23 | The model also allows for transmission networks to be represented at several levels of detail (Layer 6) including at a zonal level with transport constraints on power flows between zones (as per [Mai et al., 2013](https://www.nrel.gov/docs/fy13osti/56723.pdf), [Johnston et al., 2013](http://rael.berkeley.edu/old_drupal/sites/default/files/SWITCH-WECC_Documentation_October_2013.pdf), [Hirth, 2017](https://neon.energy/emma-documentation.pdf)); or as a single zone problem where transmission constraints and flows are ignored. (A DC optimal power flow formulation is in development.) In cases where a nodal or zonal transmission model is employed, network capacity expansion decisions can be modeled or ignored, and transmission losses can be represented either as a linear function of power flows or a piecewise linear approximation of a quadratic function of power flows between nodes or zones (as per [Zhang et al., 2013](https://digital-library.theiet.org/content/journals/10.1049/iet-gtd.2012.0666), [Fitiwi et al., 2016](https://ideas.repec.org/a/eee/energy/v101y2016icp343-358.html)), with the number of segments in the piecewise approximation specified by the user as desired. In a multi-zonal or nodal configuration, GenX can therefore consider siting generators in different locations, including balancing tradeoffs between access to different renewable resource quality, siting restrictions, and impacts on network congestions, power flows and losses.
24 | 
25 | GenX also allows the user to specify several optional public policy constraints, such as CO2 emissions limits, minimum energy share requirements (such as renewable portfolio standard or clean energy standard policies), and minimum technology capacity requirements (e.g. technology deployment mandates).
26 | 
27 | Finally, the model is usually configured to consider a full year of operating decisions at an hourly resolution, but as this is often not tractable when considering large-scale problems with high resolution in other dimensions, GenX is also designed to model a number of subperiods -- typically multiday periods of chronologically sequential hourly operating decisions -- that can be selected via appropriate statistical clustering methods to represent a full year of operations ([De Sisternes Jimenez and Webster, 2013](https://dspace.mit.edu/handle/1721.1/102959), [De Sisternes Jimenez, 2014](https://globalchange.mit.edu/publication/15977), [Poncelet et al., 2016](https://www.sciencedirect.com/science/article/abs/pii/S0306261915013276#:~:text=However%2C%20increasing%20the%20level%20of,in%20an%20increased%20computational%20cost.&text=To%20do%20so%2C%20the%20impact,renewable%20energy%20sources%20(IRES).), [Nahmmacher et al., 2016](https://www.sciencedirect.com/science/article/abs/pii/S0360544216308556), [Blanford et al., 2016](https://ideas.repec.org/a/aen/journl/ej39-3-blanfor.html), [Merrick, 2016](https://www.osti.gov/pages/biblio/1324468), [Mallapragada et al., 2018](https://www.sciencedirect.com/science/article/abs/pii/S0360544218315238)). GenX ships with a [built-in time-domain reduction package](https://genxproject.github.io/GenX/docs/build/time_domain_reduction.html) that uses k-means or k-medoids to cluster raw time series data for demand (load) profiles and resource capacity factor profiles into representative periods during the input processing stage of the model. This method can also consider extreme points in the time series to capture noteworthy periods or periods with notably poor fits.
28 | 
29 | With appropriate configuration of the model, GenX thus allows the user to tractably consider several interlinking decision layers in a single, monolithic optimization problem that would otherwise have been necessary to solve in different separated stages or models. The following figure reflects the range of configurations currently possible along the three key dimensions of chronological detail, operational detail, and network detail.
30 | 
31 | 
32 | ![Range of configurations currently implemented in GenX along three key dimensions of model resolution](../assets/Dimensions_graphic3_background.png)
33 | *Figure. Range of configurations currently implemented in GenX along three key dimensions of model resolution*
34 | 
35 | The model can be configured to consider a single future planning year or multiple planning stages (or investment periods) in sequence. 
36 | 
37 | - In **single-stage planning** mode, the model formulation is static, in the sense that its objective is not to determine when investments should take place over time, but rather to produce a snapshot of the minimum-cost generation capacity mix to meet demand at least cost under some pre-specified future conditions. 
38 | - The user can formulate and solve a deterministic **multi-stage planning problem with perfect foresight** i.e. demand, cost, and policy assumptions about all stages are known and exploited to determine the least-cost investment trajectory for the entire period. The solution of this multi-stage problem relies on exploiting the decomposable nature of the multi-stage problem via the implementation of the dual dynamic programming algorithm, described in [Lara et al. 2018 here](https://www.sciencedirect.com/science/article/abs/pii/S0377221718304466). 
39 | - The user can formulate a **sequential, myopic multi-stage planning problem**, where the model solves a sequence of single-stage investment planning problems wherein investment decisions in each stage are individually optimized to meet demand given assumptions for the current planning stage and with investment decisions from previous stages treated as inputs for the current stage. We refer to this as "myopic" (or shortsighted) mode since the solution does not account for information about future stages in determining investments for a given stage. This version is generally more computationally efficient than the deterministic multi-stage expansion with perfect foresight mode.
40 | More information on the two sequential, multi-stage planning modes can be found in the section on `Multi-stage` under the `Model function reference` tab. 
41 | 
42 | ## Uses
43 | 
44 | From a centralized planning perspective, the GenX model can help to determine the investments needed to supply future electricity demand at minimum cost, as is common in least-cost utility planning or integrated resource planning processes. In the context of liberalized markets, the model can be used by regulators and policy makers for indicative energy planning or policy analysis in order to establish a long-term vision of efficient market and policy outcomes. The model can also be used for techno-economic assessment of emerging electricity generation, storage, and demand-side resources and to enumerate the effect of parametric uncertainty (e.g., technology costs, fuel costs, demand, policy decisions) on the system-wide value or role of different resources.
45 | 


--------------------------------------------------------------------------------
/docs/src/Model_Concept_Overview/objective_function.md:
--------------------------------------------------------------------------------
 1 | # Objective Function
 2 | 
 3 | The objective function of GenX minimizes total annual electricity system costs over the following components shown in the below equation:
 4 | 
 5 | 
 6 | ```math
 7 | \begin{aligned}
 8 |     \text{min} \quad
 9 |     &\sum_{y \in \mathcal{G}} \sum_{z \in \mathcal{Z}} \left((\pi^{INVEST}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Omega_{y,z}) + (\pi^{FOM}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Delta^{total}_{y,z})\right) +  \\
10 |     &\sum_{y \in \mathcal{O}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,energy}_{y,z} \times    \Omega^{energy}_{y,z}) + (\pi^{FOM,energy}_{y,z} \times  \Delta^{total,energy}_{y,z})\right) +  \\
11 |     &\sum_{y \in \mathcal{O}^{asym}}  \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,charge}_{y,z} \times    \Omega^{charge}_{y,z}) + (\pi^{FOM,charge}_{y,z} \times  \Delta^{total,charge}_{y,z})\right) +  \\
12 |     & \sum_{y \in \mathcal{G}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times(\pi^{VOM}_{y,z} + \pi^{FUEL}_{y,z})\times \Theta_{y,z,t}\right) + \sum_{y \in \mathcal{O \cup DF} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,charge}_{y,z} \times \Pi_{y,z,t}\right) + \\
13 |     &\sum_{s \in \mathcal{S}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left(\omega_{t} \times n_{s}^{slope} \times \Lambda_{s,z,t}\right) + \sum_{t \in \mathcal{T}} \left(\omega_{t} \times \pi^{unmet}_{rsv} \times r^{unmet}_{t}\right) + \\
14 |     &\sum_{y \in \mathcal{H}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}}\left(\omega_{t} \times \pi^{START}_{y,z} \times \chi_{s,z,t}\right) +  \\
15 |     & \sum_{l \in \mathcal{L}}\left(\pi^{TCAP}_{l} \times \bigtriangleup\varphi^{max}_{l}\right) + \\
16 |     &\sum_{y \in \mathcal{VS}^{inv}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST, inv}_{y,z} \times \Omega^{inv}_{y,z})
17 |     + (\pi^{FOM, inv}_{y,z} \times  \Delta^{total,inv}_{y,z})\right) + \\
18 |     &\sum_{y \in \mathcal{VS}^{pv}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST, pv}_{y,z} \times \Omega^{pv}_{y,z})
19 |     + (\pi^{FOM, pv}_{y,z} \times  \Delta^{total,pv}_{y,z})\right) + \\
20 |     &\sum_{y \in \mathcal{VS}^{wind}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST, wind}_{y,z} \times \Omega^{wind}_{y,z})
21 |     + (\pi^{FOM, wind}_{y,z} \times  \Delta^{total,wind}_{y,z})\right) + \\
22 |     &\sum_{y \in \mathcal{VS}^{asym,dc,dis}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,dc,dis}_{y,z} \times \Omega^{dc,dis}_{y,z})
23 |     + (\pi^{FOM,dc,dis}_{y,z} \times  \Delta^{total,dc,dis}_{y,z})\right) + \\
24 |     &\sum_{y \in \mathcal{VS}^{asym,dc,cha}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,dc,cha}_{y,z} \times \Omega^{dc,cha}_{y,z})
25 |     + (\pi^{FOM,dc,cha}_{y,z} \times  \Delta^{total,dc,cha}_{y,z})\right) + \\
26 |     &\sum_{y \in \mathcal{VS}^{asym,ac,dis}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,ac,dis}_{y,z} \times \Omega^{ac,dis}_{y,z})
27 |     + (\pi^{FOM,ac,dis}_{y,z} \times  \Delta^{total,ac,dis}_{y,z})\right) + \\
28 |     &\sum_{y \in \mathcal{VS}^{asym,ac,cha}} \sum_{z \in \mathcal{Z}} \left( (\pi^{INVEST,ac,cha}_{y,z} \times \Omega^{ac,cha}_{y,z})
29 |     + (\pi^{FOM,ac,cha}_{y,z} \times  \Delta^{total,ac,cha}_{y,z})\right) + \\
30 |     & \sum_{y \in \mathcal{VS}^{pv}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,pv}_{y,z}\times \eta^{inverter}_{y,z} \times \Theta^{pv}_{y,z,t}\right) + \\
31 |     & \sum_{y \in \mathcal{VS}^{wind}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,wind}_{y,z} \times \Theta^{wind}_{y,z,t}\right) + \\
32 |     & \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,dis}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,dc,dis}_{y,z} \times\eta^{inverter}_{y,z} \times \Theta^{dc}_{y,z,t}\right) + \\
33 |     & \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,dc,cha}_{y,z} \times \frac{\Pi^{dc}_{y,z,t}}{\eta^{inverter}_{y,z}}\right) + \\
34 |     & \sum_{y \in \mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,dis}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,ac,dis}_{y,z} \times \Theta^{ac}_{y,z,t}\right) + \\
35 |     & \sum_{y \in \mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,cha}} \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,ac,cha}_{y,z} \times \Pi^{ac}_{y,z,t}\right)
36 | \end{aligned}
37 | ```
38 | 
39 | 
40 | The first summation represents the fixed costs of generation/discharge over all zones and technologies, which reflects the sum of the annualized capital cost, $\pi^{INVEST}_{y,z}$, times the total new capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM}_{y,z}$, times the net installed generation capacity, $\overline{\Omega}^{size}_{y,z} \times \Delta^{total}_{y,z}$ (e.g., existing capacity less retirements plus additions).
41 | 
42 | The second summation corresponds to the fixed cost of installed energy storage capacity and is summed over only the storage resources ($y \in \mathcal{O} \cup \mathcal{VS}^{stor}$).
43 | This term includes the sum of the annualized energy capital cost, $\pi^{INVEST,energy}_{y,z}$, times the total new energy capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, energy}_{y,z}$, times the net installed energy storage capacity, $\Delta^{total,energy}_{y,z}$ (e.g., existing capacity less retirements plus additions).
44 | 
45 | The third summation corresponds to the fixed cost of installed charging power capacity and is summed over only storage resources with independent/asymmetric charge and discharge power components ($y \in \mathcal{O}^{asym}$).
46 | This term includes the sum of the annualized charging power capital cost, $\pi^{INVEST,charge}_{y,z}$, times the total new charging power capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, energy}_{y,z}$, times the net installed charging power capacity, $\Delta^{total,charge}_{y,z}$ (e.g., existing capacity less retirements plus additions).
47 | 
48 | The fourth and fifth summations correspond to the operational cost across all zones, technologies, and time steps.
49 | The fourth summation represents the sum of fuel cost, $\pi^{FUEL}_{y,z}$ (if any), plus variable O&M cost, $\pi^{VOM}_{y,z}$ times the energy generation/discharge by generation or storage resources (or demand satisfied via flexible demand resources, $y\in\mathcal{DF}$) in time step $t$, $\Theta_{y,z,t}$, and the weight of each time step $t$, $\omega_t$. The fifth summation represents the variable charging O&M cost, $\pi^{VOM,charge}_{y,z}$ times the energy withdrawn for charging by storage resources (or demand deferred by flexible demand resources) in time step $t$ , $\Pi_{y,z,t}$ and the annual weight of time step $t$,$\omega_t$.
50 | The weight of each time step, $\omega_t$, is equal to 1 when modeling grid operations over the entire year (8760 hours), but otherwise is equal to the number of hours in the year represented by the representative time step, $t$ such that the sum of $\omega_t \forall t \in T = 8760$, approximating annual operating costs.
51 | 
52 | The sixth summation represents the total cost of unserved demand across all segments $s$ of a segment-wise price-elastic demand curve, equal to the marginal value of consumption (or cost of non-served energy), $n_{s}^{slope}$, times the amount of non-served energy, $\Lambda_{y,z,t}$, for each segment on each zone during each time step (weighted by $\omega_t$).
53 | 
54 | The seventh summation represents the total cost of not meeting hourly operating reserve requirements (if modeled), where $\pi^{unmet}_{rsv}$ is the cost penalty per unit of non-served reserve requirement, and $r^{unmet}_t$ is the amount of non-served reserve requirement in each time step (weighted by $\omega_t$).
55 | 
56 | The eighth summation corresponds to the startup costs incurred by technologies to which unit commitment decisions apply (e.g. $y \in \mathcal{UC}$), equal to the cost of start-up, $\pi^{START}_{y,z}$, times the number of startup events, $\chi_{y,z,t}$, for the cluster of units in each zone and time step (weighted by $\omega_t$).
57 | 
58 | The ninth term corresponds to the transmission reinforcement or construction costs, for each transmission line (if modeled).
59 | Transmission reinforcement costs are equal to the sum across all lines of the product between the transmission reinforcement/construction cost, $\pi^{TCAP}_{l}$, times the additional transmission capacity variable, $\bigtriangleup\varphi^{max}_{l}$. Note that fixed O&M and replacement capital costs (depreciation) for existing transmission capacity is treated as a sunk cost and not included explicitly in the GenX objective function.
60 | 
61 | The tenth term onwards specifically relates to the breakdown investment, fixed O&M, and variable O&M costs associated with each configurable component of a co-located VRE and storage resource.
62 | The tenth term represents the fixed cost of installed inverter capacity and is summed over only the co-located resources with an inverter component ($y \in \mathcal{VS}^{inv}$).
63 | This term includes the sum of the annualized inverter capital cost, $\pi^{INVEST,inv}_{y,z}$, times the total new inverter capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, inv}_{y,z}$, times the net installed inverter capacity, $\Delta^{total,inv}_{y,z}$ (e.g., existing capacity less retirements plus additions).
64 | The eleventh term represents the fixed cost of installed solar PV capacity and is summed over only the co-located resources with a solar PV component ($y \in \mathcal{VS}^{pv}$).
65 | This term includes the sum of the annualized solar PV capital cost, $\pi^{INVEST,pv}_{y,z}$, times the total new solar PV capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, pv}_{y,z}$, times the net installed solar PV capacity, $\Delta^{total,pv}_{y,z}$ (e.g., existing capacity less retirements plus additions).
66 | The twelveth term represents the fixed cost of installed wind capacity and is summed over only the co-located resources with a wind component ($y \in \mathcal{VS}^{wind}$).
67 | This term includes the sum of the annualized wind capital cost, $\pi^{INVEST,wind}_{y,z}$, times the total new wind capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, wind}_{y,z}$, times the net installed wind capacity, $\Delta^{total,wind}_{y,z}$ (e.g., existing capacity less retirements plus additions).
68 | The thirteenth term represents the fixed cost of installed storage DC discharge capacity and is summed over only the co-located resources with an asymmetric storage DC discharge component ($y \in \mathcal{VS}^{asym,dc,dis}$).
69 | This term includes the sum of the annualized storage DC discharge capital cost, $\pi^{INVEST,dc,dis}_{y,z}$, times the total new storage DC discharge capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, dc, dis}_{y,z}$, times the net installed storage DC discharge capacity, $\Delta^{total,dc,dis}_{y,z}$ (e.g., existing capacity less retirements plus additions).
70 | The fourteenth term represents the fixed cost of installed storage DC charge capacity and is summed over only the co-located resources with an asymmetric storage DC charge component ($y \in \mathcal{VS}^{asym,dc,cha}$).
71 | This term includes the sum of the annualized storage DC charge capital cost, $\pi^{INVEST,dc,cha}_{y,z}$, times the total new storage DC charge capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, dc, cha}_{y,z}$, times the net installed storage DC charge capacity, $\Delta^{total,dc,cha}_{y,z}$ (e.g., existing capacity less retirements plus additions).
72 | The fifteenth term represents the fixed cost of installed storage AC discharge capacity and is summed over only the co-located resources with an asymmetric storage AC discharge component ($y \in \mathcal{VS}^{asym,ac,dis}$).
73 | This term includes the sum of the annualized storage AC discharge capital cost, $\pi^{INVEST,ac,dis}_{y,z}$, times the total new storage AC discharge capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, ac, dis}_{y,z}$, times the net installed storage AC discharge capacity, $\Delta^{total,ac,dis}_{y,z}$ (e.g., existing capacity less retirements plus additions).
74 | The sixteenth term represents to the fixed cost of installed storage AC charge capacity and is summed over only the co-located resources with an asymmetric storage AC charge component ($y \in \mathcal{VS}^{asym,ac,cha}$).
75 | This term includes the sum of the annualized storage AC charge capital cost, $\pi^{INVEST,ac,cha}_{y,z}$, times the total new storage AC charge capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, ac, cha}_{y,z}$, times the net installed storage AC charge capacity, $\Delta^{total,ac,cha}_{y,z}$ (e.g., existing capacity less retirements plus additions).
76 | 
77 | The seventeeth term onwards corresponds to the operational cost across all zones, technologies, and time steps for co-located VRE and storage resources.
78 | The seventeenth summation represents the variable O&M cost, $\pi^{VOM,pv}_{y,z}$, times the energy generation by solar PV resources ($y\in\mathcal{VS}^{pv}$) in time step $t$, $\Theta^{pv}_{y,z,t}$, the inverter efficiency, $\eta^{inverter}_{y,z}$, and the weight of each time step $t$, $\omega_t$.
79 | The eighteenth summation represents the variable O&M cost, $\pi^{VOM,wind}_{y,z}$, times the energy generation by wind resources ($y\in\mathcal{VS}^{wind}$) in time step $t$, $\Theta^{wind}_{y,z,t}$, and the weight of each time step $t$, $\omega_t$.
80 | The nineteenth summation represents the variable O&M cost, $\pi^{VOM,dc,dis}_{y,z}$, times the energy discharge by storage DC components ($y\in\mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,dis}$) in time step $t$, $\Theta^{dc}_{y,z,t}$, the inverter efficiency, $\eta^{inverter}_{y,z}$, and the weight of each time step $t$, $\omega_t$.
81 | The twentieth summation represents the variable O&M cost, $\pi^{VOM,dc,cha}_{y,z}$, times the energy withdrawn by storage DC components ($y\in\mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}$) in time step $t$, $\Pi^{dc}_{y,z,t}$, and the weight of each time step $t$, $\omega_t$, and divided by the inverter efficiency, $\eta^{inverter}_{y,z}$.
82 | The twenty-first summation represents the variable O&M cost, $\pi^{VOM,ac,dis}_{y,z}$, times the energy discharge by storage AC components ($y\in\mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,dis}$) in time step $t$, $\Theta^{ac}_{y,z,t}$, and the weight of each time step $t$, $\omega_t$.
83 | The twenty-second summation represents the variable O&M cost, $\pi^{VOM,ac,cha}_{y,z}$, times the energy withdrawn by storage AC components ($y\in\mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,cha}$) in time step $t$, $\Pi^{ac}_{y,z,t}$, and the weight of each time step $t$, $\omega_t$.
84 | 
85 | In summary, the objective function can be understood as the minimization of costs associated with five sets of different decisions:
86 | 1. where and how to invest on capacity,
87 | 2. how to dispatch or operate that capacity,
88 | 3. which consumer demand segments to serve or curtail,
89 | 4. how to cycle and commit thermal units subject to unit commitment decisions,
90 | 5. and where and how to invest in additional transmission network capacity to increase power transfer capacity between zones.
91 | 
92 | Note however that each of these components are considered jointly and the optimization is performed over the whole problem at once as a monolithic co-optimization problem.
93 | 
94 | While the objective function is formulated as a cost minimization problem, it is also equivalent to a social welfare maximization problem, with the bulk of demand treated as inelastic and always served, and the utility of consumption for price-elastic consumers represented as a segment-wise approximation, as per the cost of unserved demand summation above.
95 | 
96 | # Objective Scaling
97 | Sometimes the model will be built into an ill form if some objective terms are quite large or small. To alleviate this problem, we could add a scaling factor to scale the objective function during solving while leaving all other expressions untouched. The default ```ObjScale``` is set to 1 which has no effect on objective. If you want to scale the objective, you can set the ```ObjScale``` to an appropriate value in the ```genx_settings.yml```. The objective function will be multiplied by the ```ObjScale``` value during the solving process.
98 | 


--------------------------------------------------------------------------------
/docs/src/Model_Concept_Overview/power_balance.md:
--------------------------------------------------------------------------------
 1 | # Power Balance
 2 | 
 3 | The power balance constraint of the model ensures that electricity demand is met at every time step in each zone.
 4 | As shown in the constraint, electricity demand, $D_{t,z}$, at each time step and for each zone must be strictly equal to the sum of generation, $\Theta_{y,z,t}$, from thermal technologies ($\mathcal{H}$), curtailable variable renewable energy resources ($\mathcal{VRE}$), must-run resources ($\mathcal{MR}$), and hydro resources ($\mathcal{W}$).
 5 | At the same time, energy storage devices ($\mathcal{O}$) can discharge energy, $\Theta_{y,z,t}$ to help satisfy demand, while when these devices are charging, $\Pi_{y,z,t}$, they increase demand.
 6 | Similarly, co-located variable renewable energy and storage resources ($\mathcal{VS}$ and $\mathcal{VS}^{stor}$ to represent co-located resources with a storage component) can generate electricity from the solar PV and/or wind component and discharge electricity from the storage resource, $\Theta_{y,z,t}$ to help satisfy demand, and charge from the grid, $\Pi_{y,z,t}$, if the storage component of the resource exists.
 7 | (For the case of flexible demand resources ($\mathcal{DF}$), delaying demand, $\Pi_{y,z,t}$, decreases demand while satisfying delayed demand, $\Theta_{y,z,t}$, increases demand.)
 8 | Price-responsive demand curtailment, $\Lambda_{s,z,t}$, also reduces demand.
 9 | Finally, power flows, $\Phi_{l,t}$, on each line $l$ into or out of a zone (defined by the network map $\varphi^{map}_{l,z}$), are considered in the demand balance equation for each zone.
10 | By definition, power flows leaving their reference zone are positive, thus the minus sign in the below constraint.
11 | At the same time losses due to power flows increase demand, and one-half of losses across a line linking two zones are attributed to each connected zone.
12 | The losses function $\beta_{l,t}(\cdot)$ will depend on the configuration used to model losses (see [Transmission](https://genxproject.github.io/GenX/docs/build/transmission.html)).
13 | 
14 | ```math
15 | \begin{aligned}
16 | 	&\sum_{y\in \mathcal{H}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{VRE}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{MR}}{\Theta_{y,z,t}} + \sum_{y\in \mathcal{O}}{(\Theta_{y,z,t}-\Pi_{y,z,t})} + \\
17 | 	& \sum_{y\in \mathcal{DF}}{(-\Theta_{y,z,t}+\Pi_{y,z,t})} +\sum_{y\in \mathcal{W}}{\Theta_{y,z,t}}+ \sum_{y\in \mathcal{VS}}{\Theta_{y,z,t}} - \sum_{y\in \mathcal{VS}^{stor}}{\Pi_{y,z,t}} + \\
18 | 	& \sum_{s\in \mathcal{S}}{\Lambda_{s,z,t}}  - \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \Phi_{l,t})} -\frac{1}{2} \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \beta_{l,t}(\cdot))} = D_{z,t}
19 | 	\quad \quad \forall z\in \mathcal{Z},  t \in \mathcal{T}
20 | \end{aligned}
21 | ```
22 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Multi_Stage/configure_multi_stage_inputs.md:
--------------------------------------------------------------------------------
1 | # Configure multi stage inputs
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["configure_multi_stage_inputs.jl"]
5 | ```
6 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Multi_Stage/dual_dynamic_programming.md:
--------------------------------------------------------------------------------
1 | # Dual Dynamic Programming Algorithm
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["dual_dynamic_programming.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Multi_Stage/endogenous_retirement.md:
--------------------------------------------------------------------------------
1 | # Endogenous Retirement
2 | 
3 | ```@autodocs
4 | Modules = [GenX]
5 | Pages = ["endogenous_retirement.jl"]
6 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Multi_Stage/multi_stage_overview.md:
--------------------------------------------------------------------------------
 1 | # Multi-stage investment planning
 2 | _Added in 0.3_
 3 | 
 4 | GenX can be used to study the long-term evolution of the power system across multiple investment stages, in the following two ways:
 5 | 
 6 | * The user can formulate and solve a deterministic **multi-stage planning problem with perfect foresight** i.e. demand, cost, and policy assumptions about all stages are known and exploited to determine the least-cost investment trajectory for the entire period.
 7 |   The solution of this multi-stage problem relies on exploiting the decomposable nature of the multi-stage problem via the implementation of the dual dynamic programming algorithm, described in [Lara et al. 2018 here](https://www.sciencedirect.com/science/article/abs/pii/S0377221718304466). This algorithm splits up a multi-stage investment planning problem into multiple, single-period sub-problems. Each period is solved iteratively as a separate linear program sub-problem (â€œforward passâ€), and information from future periods is shared with past periods (â€œbackwards passâ€) so that investment decisions made in subsequent iterations reflect the contributions of present-day investments to future costs. The decomposition algorithm adapts previous nested Benders methods by handling integer and continuous state variables, although at the expense of losing its finite convergence property due to potential duality gap.
 8 | * The user can formulate a **sequential, myopic multi-stage planning problem**, where the model solves a sequence of single-stage investment planning problems wherein investment decisions in each stage are individually optimized to meet demand given assumptions for the current planning stage and with investment decisions from previous stages treated as inputs for the current stage.
 9 |   We refer to this as "myopic" (or shortsighted) mode since the solution does not account for information about future stages in determining investments for a given stage.
10 |   This version is generally more computationally efficient than the deterministic multi-stage expansion with perfect foresight mode.
11 | 
12 | More information on this feature can be found in the section [Multi-stage setup](@ref).


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/curtailable_variable_renewable.md:
--------------------------------------------------------------------------------
1 | # Curtailable Variable Renewables
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["curtailable_variable_renewable.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/electrolyzers.md:
--------------------------------------------------------------------------------
1 | # Hydrogen Electrolyzers
2 | 
3 | ```@autodocs
4 | Modules = [GenX]
5 | Pages = ["electrolyzer.jl"]
6 | ```
7 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/flexible_demand.md:
--------------------------------------------------------------------------------
1 | # Flexible Demand
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["flexible_demand.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/fusion.md:
--------------------------------------------------------------------------------
  1 | # Fusion
  2 | _Added in v0.4.2_
  3 | 
  4 | Fusion power plants could be a future source of clean, firm electricity.
  5 | Most proposals for fusion plants use a thermal cycle, where the energy of fusion heats a working fluid.
  6 | The working fluid passes through a turbine connected to a generator.
  7 | These plants would be broadly similar to fission plants.
  8 | They might also have some fusion-specific operational behaviors, which are implemented in this module.
  9 | 
 10 | This fusion module is implemented **only** for thermal plants with unit commitment (THERM=1).
 11 | 
 12 | (Some proposals for fusion plants, notably those by Helion Energy, would not need a thermal cycle and are not well-described by this module.)
 13 | 
 14 | ## Description of the fusion model
 15 | 
 16 | There are three domains in which a fusion plant of this model may differ from a standard thermal plant.
 17 | 
 18 | 1. **Parasitic power**. Fusion plants may require significant parasitic ("recirculating") power for various subsystems, or to initiate and drive the reactions.
 19 | 2. **Hourly-scale pulsed operational behavior**. Pulsed _tokamak_ plants may need to operate in cycles lasting one to a few hours.
 20 | 3. **Maintenance and associated constraints.** Maintenance may be more significant for fusion than other plants, and materials-engineering-related limitations may constrain plant operation.
 21 | 
 22 | There are nine optional parameters for fusion in this model; all can be mixed and matched.
 23 | Some of the properties span more than one of these domains.
 24 | 
 25 | ### Parasitic power
 26 | Fusion plant designs often require significant amounts of electrical energy (and instantenous power)
 27 | 
 28 | 1. to maintain the vacuum pumps, cryogenic systems, tritium plants,
 29 | 2. for heating systems, control magnet systems, target manufacturing, or lasers, 
 30 | 3. or for starting up a fusion plasma pulse.
 31 | 
 32 | These correspond to what we term
 33 | 1. Passive parasitic power: systems which are always on regardless of whether the plant is in the committed state (actively producing electricity). These parasitic loads may be reduced during extended scheduled maintenance periods.
 34 | 2. Active parasitic power: systems which are required while the plant is producing electricity. In magnetic fusion devices the amount of power required for these systems is likely nearly independent of the power level of the plant. Therefore in this model the active parasitic power depends on the commitment state of the plant, not the power level.
 35 | 3. Pulse start power and pulse start energy. Magnetic fusion devices may require a large amount of power to start the plasma pulse. This can be up to hundreds of MW, but only for a few seconds to minutes. GenX is an hourly electricity systems model, so this behavior cannot be resolved in detail. Instead, the peak power draw from the grid and the time-integral of the power draw (pulse start energy) are input parameters.
 36 | The pulse start _power_ is used as part of the capacity reserve margin formulation, and the pulse start _energy_ is used elsewhere.
 37 | (In practical designs this power draw would largely be buffered on-site, so the external grid would not see a sudden spike.)
 38 | 
 39 | ### Hourly-scale pulsed operational behavior
 40 | 
 41 | Pulsed tokamaks (as opposed to steady-state tokamaks) often call for an operational cycle where the plasma is on for 30 minutes to a few hours before carefully being drawn down.
 42 | The _maximum pulse length_ is typically limited by the engineering of the "central solenoid", one of the large magnets.
 43 | A _dwell time_ of a few minutes to 30 minutes is taken to allow various systems to be reset and readied for the next plasma pulse; during this time there is no plasma and no fusion occuring.
 44 | Restarting the plasma may require a significant amount of parasitic power draw, described above.
 45 | 
 46 | #### Pulses are stressful
 47 | Starting a plasma pulse stresses the central solenoid (for pulsed tokamaks), magnets more generally (in other designs), first wall components, and other systems.
 48 | Concerns of cyclic thermal fatigue may limit the number of pulse starts.
 49 | 
 50 | This module implements a limit expressed in maximum starts per year.
 51 | 
 52 | ### Maintenance and maintenance-driven operational constraints
 53 | 
 54 | Maintenance is likely more lengthy (and therefore more economically significant) for fusion than for existing types of power plants.
 55 | This fusion module is fully compatible with the scheduled maintenance module.
 56 | There also also three fusion-specific aspects. 
 57 | 1. The reduction of passive parasitic power during scheduled maintenance (mentioned above), 
 58 | 2. the constraint on the maximum pulse starts per year (mentioned above).
 59 | 3. In many designs, neutrons damage the first wall, blanket, and/or vacuum vessel of the plant and they eventually need to be replaced. This can be expressed as a limit on the total (gross) energy produced by the plant between maintenance cycles. This module implements a constraint that can limit the total energy production (as measured in full-power-years) over a year.
 60 | 
 61 | ## How to use
 62 | A fusion plant is a type of Thermal resource.
 63 | In addition to the standard Thermal columns (cost, up time, down time, ramp rates, min power) there is one required `fusion` column and nine optional columns in `Thermal.csv` file:
 64 | 
 65 | 1. `fusion` should be `1` for fusion plants and `0` otherwise.
 66 | 2. `parasitic_passive`.
 67 | 3. `parasitic_active`.
 68 | 4. `parasitic_start_energy`.
 69 | 5. `parasitic_start_power`.
 70 | 6. `dwell_time`.
 71 | 7. `max_up_time`.
 72 | 8. `max_starts`.
 73 | 9. `max_fpy_per_year`.
 74 | 10. `parasitic_passive_maintenance_remaining`.
 75 | 
 76 | The purpose, defaults, units, and valid ranges for these parameters are described below.
 77 | 
 78 | #### Parasitic power parameters
 79 | The parameters `parasitic_passive`, `parasitic_active`, `parasitic_start_energy`, and `parasitic_start_power` must have values of zero or more.
 80 | These values are expressed as fractions of the plant's gross capacity.
 81 | For example, if `vCAP` is 1000 MW and `parasitic_passive` is 0.1, the plant would require a 100 MW parasitic power draw.
 82 | The maximum gross output of the plant is 1000 MW, and the maximum net output is 900 MW.
 83 | By default these four parasitic load parameters are $0$.
 84 | 
 85 | The `parasitic_start_energy` and `parasitic_start_power` are related, as described above.
 86 | If starting a plasma pulse in a 1000-MW-gross plant requires a draw of 500 MW for 3 minutes, then `parasitic_start_power` would be $0.5$ and `parasitic_start_energy` would be $(500/1000) * (3/60) = 0.025$, where 60 is the number of minutes in an hour. 
 87 | The plasma startup sequence is assumed to be shorter than an hour: while this is not checked programatically, the `parasitic_start_power` should, logically, always be equal to or larger than the `parasitic_start_energy`.
 88 | 
 89 | #### Dwell time
 90 | The `dwell_time` parameter is expressed in fractions of an hour.
 91 | It must be between $0$ and $1$.
 92 | The default is $0$.
 93 | 
 94 | The dwell time is counted in the same hour as the start of a plasma pulse.
 95 | Therefore the pulse start hour may have less net generation due to the `parasitic_start_energy` as well as the dwell time.
 96 | 
 97 | _Nota bene_: while at first blush the dwell time and `parastic_start_energy` might seem interchangeable as ways to reduce the net power output during the start hour, a dwell time does not contribute to the accumulated gross power generation as is constrained by `max_fpy_per_year`.
 98 | 
 99 | #### Operational constraints
100 | The `max_up_time` constraint is activated by entering an integer denoting the length of the pulse in hours.
101 | The value must logically be positive and less than the number of hours in the simulation.
102 | A `max_up_time` of `1` will result in a new pulse starting every hour.
103 | A `max_up_time` of `0` is not well defined; the default of no restriction is entered with `-1`.
104 | 
105 | _Note_: if the `dwell_time` is nonzero, the actual pulse length always will be shorter than the `max_pulse_length` here.
106 | 
107 | The `max_starts` constraint is activated by entering a positive integer denoting the maximum number of starts per year.
108 | A `max_starts` of `0` would prevent the plant from starting; the default of no restriction is entered with `-1`.
109 | 
110 | The `max_fpy_per_year` constraint is activated by entering a fraction between $0$ and $1$.
111 | This constrains the total gross power production as a fraction of the gross capacity measured in full-power years (FPY).
112 | The default of no restriction is entered with `-1`.
113 | Note that if the plant has a dwell time $t_\mathrm{dw} > 0$ and a maximum up time, the theoretical maximum gross power production is already less than one full-power year per year.
114 | For example, if there is a 0.5 hour dwell time and a max up time of 2 hours, then the plant can operate at peak power for 1.5 hours out of every 2, which yields a theoretical maximum throughput of 0.75 FPY per year.
115 | In this case a `max_fpy_per_year` of 0.75 or more would have no effect.
116 | 
117 | #### Modification to parasitic power during maintenance
118 | 
119 | The `parasitic_passive_maintenance_remaining` parameter is only used for plants also using the scheduled maintenance module (`maint = 1`).
120 | The value must be between $0$ and $1$.
121 | The default is $0$; in this case there is no parasitic power during scheduled maintenance periods.
122 | With a value of $1$ the parasitic power does not decrease during maintenance.
123 | With a value of $0.5$ it is reduced by half, and so on.
124 | 
125 | ## Outputs produced
126 | 
127 | Use of the fusion module leads to two new outputs files, and changes to existing output files.
128 | 
129 | - `fusion_pulse_starts`. This file is similar to `start/commit/shutdown.csv` for unit committment.
130 | There is a column for each fusion resource component and a row for each timestep.
131 | Values are number of plant units (of a given resource component) starting a fusion pulse in each timestep.
132 | 
133 | - `fusion_parasitic_power`. This file is similar to `charge.csv`.
134 | There is a column for each fusion resource component and a row for each timestep.
135 | Values are the parasitic energy in MWh drawn by each resource component in each timestep.
136 | This is the sum of the passive parasitic power, the active parasitic power, and the pulse start energy.
137 | Values are always nonnegative. Positive values represent power flowing from the grid to the plant.
138 | 
139 | - `fusion_net_capacity_factor`. This is the ratio of the net power production (gross - parasitic) to the annual net capacity of the plant. The numerator here is always smaller than that of the standard capacity factor and could even be negative if the parasitic power is very large and the plant is not used often. The denominator is also smaller than that in the standard capacity factor because it accounts for parasitic power and dwell time.
140 | 
141 | ### Notes on other outputs
142 | 
143 | - `capacity_factor`: This standard output file reports the _gross_ capacity factor for the plant:
144 | The ratio of the gross power produced to (the gross capacity * one year). Compare with the `fusion_net_capacity_factor` above.
145 | 
146 | - `charge`: fusion parasitic power is reported in this file.
147 | 
148 | ## Mathematical formulation of fusion module
149 | 
150 | ### Pulse start and pulse status
151 | There are two new variables, representing the number of pulse starts ($\chi^{pulse}_{y,z,t}$) and pulses underway ($\nu^{pulse}_{y,z,t}$).
152 | These are similar to the conventional unit commitment start $\chi$ and commit status $\nu$.
153 | 
154 | ```math
155 | \begin{align*}
156 | 0 & \le \chi^{pulse}_{y,z,t} \le \overline{\Omega}^{size}_{y,z} \cdot \Delta^\mathrm{total}_{y,z} \\
157 | 0 & \le \nu^{pulse}_{y,z,t} \le  \overline{\Omega}^{size}_{y,z} \cdot \Delta^\mathrm{total}_{y,z}
158 | \end{align*}
159 | ```
160 | 
161 | The two pulse variables are linked using $\tau^{pulse,up}_{y,z}$, the `max_up_time`:
162 | 
163 | ```math
164 | \nu^{pulse}_{y,z,t} \le  \sum_{\hat{t} = t - (\tau^{pulse,up}_{y,z} -1)}^{t} \chi^{pulse}_{y,z,\hat{t}}
165 | ```
166 | 
167 | They are further constrained by the plant's _conventional_ commitment state,
168 | 
169 | ```math
170 | \begin{align*}
171 | \nu^{pulse}_{y,z,t} & \le \nu_{y,z,t} \\
172 | \quad \quad \chi^{pulse}_{y,z,t} & \le \nu_{y,z,t}.
173 | \end{align*}
174 | ```
175 | 
176 | The optional constraint on the maximum number of pulses per year, `max_starts` $\overline{\chi}^{pulse}_{y,z}$ is formulated as
177 | 
178 | ```math
179 | \sum_{t \in \mathcal{T}} \chi^{pulse}_{y,z,t} \cdot \omega_t \cdot \overline{\Omega}^{size}_{y,z} \le \overline{\chi}^{pulse}_{y,z} \cdot \Delta^{\mathrm{total}}_{y,z}.
180 | ```
181 | 
182 | ### Dwell time limit on power
183 | During the hours when the plant starts, the power generation $\Theta_{y,z,t}$ is limited due to the `dwell_time` $\tau^{dwell}_{y,z}$ by the constraint
184 | 
185 | ```math
186 | \Theta_{y,z,t} \le \overline{\Omega}^{size}_{y,z} \cdot \left(\nu^{pulse}_{y,z,t} - \tau^{dwell}_{y,z} \chi^{pulse}_{y,z,t}\right).
187 | ```
188 | 
189 | ### Max FPY per year constraint
190 | Optionally, the gross power generation during the year is limited by the maximum-FPY-per-year parameter $\overline{\Theta}^{FPY}_{y,z}$
191 | 
192 | ```math
193 | \sum_{t \in \mathcal{T}} \Theta_{y,z,t} \le T \cdot \Delta^{\mathrm{total}}_{y,z} \cdot \overline{\Theta}^{FPY}_{y,z}
194 | ```
195 | 
196 | where $T$ is the number of hours in the year.
197 | 
198 | ### Parasitic power
199 | 
200 | The passive parasitic power is 
201 | 
202 | ```math
203 | \Pi^{parasitic,pass}_{y,z,t} = f^{parasitic,pass}_{y,z} \cdot \left(\Delta^{total}_{y,z} - \chi^{maint}_{y,z,t} \left(1 - f^{parasitic,pass,maint}_{y,z}\right) \overline{\Omega}^{size}_{y,z}\right)
204 | ```
205 | 
206 | where $\chi^{maint}_{y,z,t}$ is the number of units under maintenance and $f^{parasitic,pass,maint}_{y,z}$ is fraction of passive parasitic power which remains during maintenance.
207 | 
208 | The active parasitic power is
209 | 
210 | ```math
211 | \Pi^{parasitic,act}_{y,z,t} = \left(\nu^{pulse}_{y,z,t} - \chi^{pulse}_{y,z,t} \cdot \tau^{dwell}_{y,z}\right) \cdot f^{parasitic,act}_{y,z} \cdot \overline{\Omega}^{size}_{y,z}
212 | ```
213 | 
214 | and the parasitic pulse start energy is 
215 | 
216 | ```math
217 | \Pi^{parasitic,pulse,energy}_{y,z,t} = \chi^{pulse}_{y,z,t} \cdot f^{parasitic,pulse,energy}_{y,z} \cdot \overline{\Omega}^{size}_{y,z}.
218 | ```
219 | 
220 | The **total parasitic power** from each technology $y$ in zone $z$ is
221 | 
222 | ```math
223 | \Pi^{parasitic,total}_{y,z,t} = \Pi^{parasitic,pass}_{y,z,t} + \Pi^{parasitic,act}_{y,z,t} + \Pi^{parasitic,pulse,energy}_{y,z,t};
224 | ```
225 | 
226 | the sum of the parasitic power across all fusion technologies $y$ in zone $z$ is subtracted from the power balance in that zone.
227 | 
228 | The parasitic pulse start power, used for the capacity reserve margin formulation, is
229 | 
230 | ```math
231 | \Pi^{parasitic,pulse,power}_{y,z,t} = \chi^{pulse}_{y,z,t} \cdot f^{parasitic,pulse,power}_{y,z} \cdot \overline{\Omega}^{size}_{y,z}.
232 | ```
233 | 
234 | ### Capacity reserve margin contribution
235 | 
236 | The capacity 
237 | 
238 | As a reminder, for standard thermal plants the capacity reserve margin contribution is $\epsilon^{CRM}_{y,z,p} \cdot \Delta^{total}$.
239 | 
240 | For fusion plants, the contribution depends on $\nu^{pulse}_{y,z,t}$ rather than $\Delta^{\mathrm{total}}_{y,z}$.
241 | 
242 | ```math
243 | 
244 | \epsilon^{CRM}_{y,z,p} \left(\nu^{pulse}_{y,z,t}
245 | - \chi^{pulse}_{y,z,t} \cdot \tau^{dwell}_{y,z}
246 | \right) \overline{\Omega}^{size}_{y,z}
247 | 
248 | - \epsilon^{CRM}_{y,z,p} \left(\Pi^{parasitic,act}_{y,z,t} + \Pi^{parasitic,pulse,power}_{y,z,t}\right) - \Pi^{parasitic, pass}_{y,z,t}
249 | 
250 | ```
251 | 
252 | The first term is gross power production possible during an hour, depending on the pulse state.
253 | The second term subtracts the parasitic active and start power. 
254 | The last term subtracts the passive parasitic power.
255 | Unlike the first two it is not subject to the reliability derating $\epsilon^{CRM}$ because passive power is assumed to be drawn even during unscheduled downtime.
256 | 
257 | Note that in this formulation, it is possible for CRM contribution to be negative (particularly, not not necessarily, if the plant is a net sink of electricity).
258 | 
259 | This formulation is cross-compatible with the maintenance module. If a plant is undergoing maintenance the first two terms will be zero, and the parasitic passive power will be reduced (see formula above).
260 | 
261 | ### Energy share requirement
262 | 
263 | The total parasitic power is subtracted from a plant's contribution to an energy share requirement.
264 | Thus for fusion the plant contributes its _net_ energy production.
265 | 
266 | # Developer's docs
267 | 
268 | The Fusion module was written so that its constraints of the module could be "bolted on" to anything with 
269 | 
270 | - a power-like expression (e.g. `vP[y,:]` or `vP[y,:] + vREG[y,:] + vRSV[y,:]`), 
271 | - a capacity-like expression (`eTotalCap`) and 
272 | - a commitment-state expression (`vCOMMIT`).
273 | 
274 | So far it has only been attached to thermal plants with unit commitment, but it could be used in the future for more complicated entities like a heat source attached to a thermal storage unit and a generator.
275 | Like the `maintenance` module, the constraints of the fusion module apply to one "resource component" at a time, rather than a `"SET"` of resources.
276 | The time-series variables and expressions for each fusion component have unique `base_name`s, like `vFusionPulseStart_MA_fusion[t=1:T]` for a resource named `MA_fusion`.
277 | This makes writing output slightly trickier, as the variables and expressions are evaluated (with `JuMP.value`) one at a time.
278 | 
279 | Many of the functions below assume little about what they are attached to.
280 | Others act as the interface between fusion and a plant built with the `thermal_commit` module.
281 | 
282 | 
283 | ```@autodocs
284 | Modules = [GenX]
285 | Pages = ["fusion.jl", "fusion_maintenance.jl", "fusion_policy_adjustments.jl"]
286 | ```
287 | 
288 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/hydro_inter_period_linkage.md:
--------------------------------------------------------------------------------
1 | # Reservoir Hydro
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["hydro_inter_period_linkage.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/hydro_res.md:
--------------------------------------------------------------------------------
1 | # Hydro Resources
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["hydro_res.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/investment_charge.md:
--------------------------------------------------------------------------------
1 | # Investment Charge
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["investment_charge.jl"]
5 | ```
6 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/investment_energy.md:
--------------------------------------------------------------------------------
1 | # Investment Energy
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["investment_energy.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/long_duration_storage.md:
--------------------------------------------------------------------------------
1 | # Long Duration Storage
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["long_duration_storage.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/maintenance.md:
--------------------------------------------------------------------------------
  1 | # Optimized Scheduled Maintenance
  2 | _Added in v0.4_
  3 | 
  4 | In the real world, some types of resources (notably, fission) require regular scheduled maintenance, which often takes several weeks.
  5 | During this time, the plant produces no power.
  6 | This module allows GenX to find the best time of year for plants to undergo maintenance.
  7 | 
  8 | Scheduled maintenance is implemented **only** for thermal plants with unit commitment (THERM=1).
  9 | 
 10 | ## Description of the maintenance model
 11 | A plant requires a single contiguous period of $h \ge 1$ hours of maintenance, every $y \ge 1$ years.
 12 | For each plant, the best time to start the maintenance period is determined by the optimizer.
 13 | 
 14 | During maintenance, the plant cannot be "commited", and therefore
 15 | 
 16 | * uses no fuel,
 17 | * produces no power,
 18 | * and does not contribute to reserves.
 19 | 
 20 | Additionally, 
 21 | 
 22 | * the plant does not contribute to any Capacity Reserve Margin.
 23 | 
 24 | ### Treatment of plants that require maintenance only every few years
 25 | GenX models a long-term equilibrium,
 26 | and each problem generally represents a single full year.
 27 | If a plant requires maintenance every $y$ years, we take the simplification that at least $1/y$ of the plants must undergo maintenance in the modeled year.
 28 | 
 29 | See also "Interaction with integer unit commitment" below.
 30 | 
 31 | ### Reduction of number of possible start dates
 32 | This module creates constraints which work across long periods, and consequently can be very expensive to solve.
 33 | In order to reduce the expense, the set of possible maintenance start dates can be limited.
 34 | Rather than have maintenance potentially start every hour, one can have possible start dates which are once per day, once per week, etc.
 35 | (In reality, maintenance is likely scheduled months in advance, so optimizing down to the hour may not be realistic anyway.)
 36 | 
 37 | ## How to use
 38 | There are four columns which need to be added to the plant data, i.e. in the resource `.csv` files:
 39 | 
 40 | 1. `MAINT` should be `1` for plants that require maintenance and `0` otherwise.
 41 | 2. `Maintenance_Duration` is the number of hours the maintenance period lasts.
 42 | 3. `Maintenance_Cycle_Length_Years`. If `1`, maintenance every year, if `3` maintenance every 3 years, etc.
 43 | 4. `Maintenance_Begin_Cadence`. Spacing between hours in which maintenance can start.
 44 | 
 45 | The last three fields must be integers which are greater than 0. 
 46 | They are ignored for any plants which do not require maintenance.
 47 | 
 48 | `Maintenance_Duration` must be less than the total number of hours in the year.
 49 | 
 50 | If `Maintenance_Begin_Cadence` is `1` then the maintenance can begin in any hour.
 51 | If it is `168` then it can begin in hours 1, 169, 337, etc.
 52 | 
 53 | ## Restrictions on use
 54 | The maintenance module has these restrictions:
 55 | 
 56 | - More than a single maintenance period per year (i.e. every three months) is not possible in the current formulation.
 57 | - Only full-year cases can be run; there must be only one "representative period".
 58 | It would not make sense to model a *month*-long maintenance period when the year is modeled as a series of representative *weeks*, for example.
 59 | 
 60 | ### Interaction with integer unit commitment
 61 | If integer unit commitment is on (`UCommit=1`) this module may not produce correct results; there may be more maintenance than the user wants.
 62 | This is because the formulation specifies that the number of plants that go down for maintenance in the simulated year must be at least (the number of plants in the zone)/(the maintenance cycle length in years).
 63 | As a reminder, the number of plants is `eTotalCap / Cap_Size`.
 64 | 
 65 | If there were three 500 MW plants (total 1500 MW) in a zone, and they require maintenance every three years (`Maintenance_Cycle_Length_Years=3`), 
 66 | the formulation will work properly: one of the three plants will go under maintenance.
 67 | 
 68 | But if there was only one 500 MW plant, and it requires maintenance every 3 years, the constraint will still make it do maintenance **every year**, because `ceil(1/3)` is `1`. The whole 500 MW plant will do maintenance. This is the unexpected behavior.
 69 | 
 70 | However, if integer unit commitment was relaxed to "linearized" unit commitment (`UCommit=2`), the model will have only 500 MW / 3 = 166.6 MW worth of this plant do maintenance.
 71 | 
 72 | ## Hint: pre-scheduling maintenance
 73 | If you want to pre-schedule when maintenance occurs, you might not need this module.
 74 | Instead, you could set the maximum power output of the plant to zero for a certain period, or make its fuel extremely expensive during that time.
 75 | However, the plant would still be able to contribute to the Capacity Reserve Margin.
 76 | 
 77 | ## Outputs produced
 78 | If at least one plant has `MAINT=1`, a file `maint_down.csv` will be written listing how many plants are down for maintenance in each timestep.
 79 | 
 80 | ## Notes on mathematical formulation
 81 | The formulation of the maintenance state is very similar to the formulation of unit commitment.
 82 | 
 83 | There is a variable called something like `vMSHUT` which is analogous to `vSTART` and controls the start of the maintenance period.
 84 | There is another variable called something like `vMDOWN` analogous to `vCOMMIT` which controls the maintenance status in any hour.
 85 | 
 86 | A constraint ensures that the value of `vMDOWN` in any hour is always more than the number of `vMSHUT`s in the previous `Maintenance_Duration` hours.
 87 | 
 88 | Another constraint ensures that the number of plants committed (`vCOMMIT`) at any one time plus the number of plants under maintenance (`vMDOWN`) is less than the total number of plants.
 89 | 
 90 | ## Developer note: adding maintenance to a resource
 91 | The maintenance formulation is applied on a per-resource basis, by calling the function [`GenX.maintenance_formulation!`](@ref). 
 92 | See [`GenX.maintenance_formulation_thermal_commit!`](@ref) for an example of how to apply it to a new resource.
 93 | 
 94 | * The resource must have a `eTotalCap`-like quantity and a `cap_size`-like parameter; only the ratio of the two is used.
 95 | * The resource must have a `vCOMMIT`-like variable which is proportional to the maximum power output, etc at any given timestep.
 96 | 
 97 | The generic maintenance module functions are listed below.
 98 | 
 99 | ```@docs
100 | GenX.maintenance_formulation!
101 | GenX.resources_with_maintenance
102 | GenX.maintenance_down_name
103 | GenX.maintenance_shut_name
104 | GenX.controlling_maintenance_start_hours
105 | GenX.ensure_maintenance_variable_records!
106 | GenX.has_maintenance
107 | GenX.maintenance_down_variables
108 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/must_run.md:
--------------------------------------------------------------------------------
1 | # Must Run
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["must_run.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/resource.md:
--------------------------------------------------------------------------------
 1 | # Resource types and function interfaces
 2 | 
 3 | ```@docs
 4 | GenX.AbstractResource
 5 | ```
 6 | 
 7 | ```@autodocs
 8 | Modules = [GenX]
 9 | Pages = ["resources.jl"]
10 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/retrofit.md:
--------------------------------------------------------------------------------
1 | # Retrofit
2 | 
3 | ```@autodocs
4 | Modules = [GenX]
5 | Pages = ["retrofits.jl"]
6 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/storage.md:
--------------------------------------------------------------------------------
1 | # Storage
2 | ```@docs
3 | GenX.storage!
4 | ```
5 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/storage_all.md:
--------------------------------------------------------------------------------
1 | # Storage All
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["storage_all.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/storage_asymmetric.md:
--------------------------------------------------------------------------------
1 | # Storage Asymmetric
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["storage_asymmetric.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/storage_symmetric.md:
--------------------------------------------------------------------------------
1 | # Storage Symmetric
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["storage_symmetric.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/thermal.md:
--------------------------------------------------------------------------------
1 | # Thermal
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["thermal.jl", "effective_capacity.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/thermal_commit.md:
--------------------------------------------------------------------------------
1 | # Thermal Commit
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["thermal_commit.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/thermal_no_commit.md:
--------------------------------------------------------------------------------
1 | # Thermal No Commit
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["thermal_no_commit.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/Resources/vre_stor.md:
--------------------------------------------------------------------------------
1 | # Co-located VRE-Storage Module
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["vre_stor.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/TDR.md:
--------------------------------------------------------------------------------
 1 | # Time Domain Reduction (TDR)
 2 | 
 3 | ```@autodocs
 4 | Modules = [GenX]
 5 | Pages = ["time_domain_reduction.jl"]
 6 | Order = [:type, :function]
 7 | ```
 8 | 
 9 | ```@docs
10 | GenX.run_timedomainreduction!
11 | ```
12 | 
13 | ```@docs
14 | GenX.full_time_series_reconstruction
15 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/core.md:
--------------------------------------------------------------------------------
 1 | # Core
 2 | 
 3 | ## Discharge
 4 | ```@autodocs
 5 | Modules = [GenX]
 6 | Pages = ["discharge.jl"]
 7 | ```
 8 | 
 9 | ## Non-served Energy
10 | ```@autodocs
11 | Modules = [GenX]
12 | Pages = ["non_served_energy.jl"]
13 | ```
14 | 
15 | ## Operational Reserves
16 | ```@autodocs
17 | Modules = [GenX]
18 | Pages = ["operational_reserves.jl"]
19 | ```
20 | 
21 | ## Transmission
22 | ```@autodocs
23 | Modules = [GenX]
24 | Pages = ["transmission.jl"]
25 | ```
26 | 
27 | ## Unit Commitment
28 | ```@autodocs
29 | Modules = [GenX]
30 | Pages = ["ucommit.jl"]
31 | ```
32 | ## CO2
33 | ```@autodocs
34 | Modules = [GenX]
35 | Pages = ["co2.jl"]
36 | ```
37 | 
38 | ## Fuel
39 | ```@autodocs
40 | Modules = [GenX]
41 | Pages = ["fuel.jl"]
42 | ```
43 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/generate_model.md:
--------------------------------------------------------------------------------
1 | # Generating the model
2 | 
3 | ```@autodocs
4 | Modules = [GenX]
5 | Pages = ["generate_model.jl"]
6 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/load_inputs.md:
--------------------------------------------------------------------------------
 1 | # Reading Input Files
 2 | ```@autodocs
 3 | Modules = [GenX]
 4 | Pages = ["load_inputs.jl"]
 5 | ```
 6 | 
 7 | ## Fuels Data
 8 | ```@autodocs
 9 | Modules = [GenX]
10 | Pages = ["load_fuels_data.jl"]
11 | ```
12 | 
13 | ## Generators Input Data
14 | ```@autodocs
15 | Modules = [GenX]
16 | Pages = ["load_resources_data.jl"]
17 | ```
18 | 
19 | ## Variability of Generators' Outputs
20 | ```@autodocs
21 | Modules = [GenX]
22 | Pages = ["load_generators_variability.jl"]
23 | ```
24 | 
25 | ## Demand Data
26 | ```@autodocs
27 | Modules = [GenX]
28 | Pages = ["load_demand_data.jl"]
29 | ```
30 | 
31 | ## Transmission Network
32 | ```@autodocs
33 | Modules = [GenX]
34 | Pages = ["load_network_data.jl"]
35 | ```
36 | 
37 | ## Minimum Capacity Requirements
38 | ```@autodocs
39 | Modules = [GenX]
40 | Pages = ["load_minimum_capacity_requirement.jl"]
41 | ```
42 | 
43 | ## Capacity Reserve Margin
44 | ```@autodocs
45 | Modules = [GenX]
46 | Pages = ["load_cap_reserve_margin.jl"]
47 | ```
48 | 
49 | ## CO$_2$ Emissions Cap
50 | ```@autodocs
51 | Modules = [GenX]
52 | Pages = ["load_co2_cap.jl"]
53 | ```
54 | 
55 | ## Energy Share Requirement
56 | ```@autodocs
57 | Modules = [GenX]
58 | Pages = ["load_energy_share_requirement.jl"]
59 | ```
60 | 
61 | ## Hydrogen Production Demand Requirement
62 | ```@docs
63 | GenX.load_hydrogen_demand!
64 | ```
65 | 
66 | ## Mapping Representative Time Periods
67 | ```@autodocs
68 | Modules = [GenX]
69 | Pages = ["load_period_map.jl"]
70 | ```
71 | 
72 | ## Variability of the Solar PV and Wind Components' Outputs (for Co-located Storage Resources)
73 | ```@autodocs
74 | Modules = [GenX]
75 | Pages = ["load_vre_stor_variability.jl"]
76 | ```
77 | 
78 | # Functions for developers
79 | 
80 | ## Standardized loading of dataframes from CSV files
81 | ```@autodocs
82 | Modules = [GenX]
83 | Pages = ["load_dataframe.jl"]
84 | ```
85 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/methodofmorris.md:
--------------------------------------------------------------------------------
1 | # Method of Morris
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["method_of_morris.jl"]
5 | ```
6 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/mga.md:
--------------------------------------------------------------------------------
1 | # Modeling to Generate Alternatives
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["modeling_to_generate_alternatives.jl"]
5 | ```
6 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/policies.md:
--------------------------------------------------------------------------------
 1 | # Emission mitigation policies
 2 | ## Capacity Reserve Margin
 3 | ```@docs
 4 | GenX.cap_reserve_margin!
 5 | ```
 6 | 
 7 | ## CO$_2$ Constraint Policy
 8 | ```@docs
 9 | GenX.co2_cap!
10 | ```
11 | 
12 | ## Energy Share Requirement
13 | ```@docs
14 | GenX.load_energy_share_requirement!
15 | GenX.energy_share_requirement!
16 | ```
17 | 
18 | ## Minimum Capacity Requirement
19 | ```@docs
20 | GenX.minimum_capacity_requirement!
21 | ```
22 | 
23 | ## Maximum Capacity Requirement
24 | ```@autodocs
25 | Modules = [GenX]
26 | Pages = ["maximum_capacity_requirement.jl"]
27 | ```
28 | 
29 | ## Hydrogen Production Demand Requirement (Electrolyzer)
30 | ```@docs
31 | GenX.hydrogen_demand!
32 | ```
33 | 
34 | ## Hourly clean supply matching constraint
35 | ```@autodocs
36 | Modules = [GenX]
37 | Pages = ["hourly_matching.jl"]
38 | ```
39 | 


--------------------------------------------------------------------------------
/docs/src/Model_Reference/precompile.md:
--------------------------------------------------------------------------------
1 | # GenX precompilation
2 | 
3 | ```@docs
4 | GenX._precompile
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/solve_model.md:
--------------------------------------------------------------------------------
1 | # Solving the Model
2 | ```@autodocs
3 | Modules = [GenX]
4 | Pages = ["solve_model.jl"]
5 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/solver_configuration_api.md:
--------------------------------------------------------------------------------
 1 | # Configuring the Solvers
 2 | ```@autodocs
 3 | Modules = [GenX]
 4 | Pages = ["configure_solver.jl"]
 5 | ```
 6 | 
 7 | ## Configuring HiGHS
 8 | ```@autodocs
 9 | Modules = [GenX]
10 | Pages = ["configure_highs.jl"]
11 | ```
12 | 
13 | 
14 | ## Configuring Gurobi
15 | ```@autodocs
16 | Modules = [GenX]
17 | Pages = ["configure_gurobi.jl"]
18 | ```
19 | 
20 | ## Configuring CPLEX
21 | ```@autodocs
22 | Modules = [GenX]
23 | Pages = ["configure_cplex.jl"]
24 | ```
25 | 
26 | ## Configuring Clp
27 | ```@autodocs
28 | Modules = [GenX]
29 | Pages = ["configure_clp.jl"]
30 | ```
31 | 
32 | ## Configuring Cbc
33 | ```@autodocs
34 | Modules = [GenX]
35 | Pages = ["configure_cbc.jl"]
36 | ```
37 | 
38 | ## Configuring SCIP
39 | ```@autodocs
40 | Modules = [GenX]
41 | Pages = ["configure_scip.jl"]
42 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/utility_functions.md:
--------------------------------------------------------------------------------
1 | # Utility Functions
2 | 
3 | ```@autodocs
4 | Modules = [GenX]
5 | Pages = ["utility.jl"]
6 | ```


--------------------------------------------------------------------------------
/docs/src/Model_Reference/write_outputs.md:
--------------------------------------------------------------------------------
  1 | # Functions for Writing the Different Results/Outputs to Separate Files
  2 | ```@autodocs
  3 | Modules = [GenX]
  4 | Pages = ["write_outputs.jl", "choose_output_dir.jl", "dftranspose.jl"]
  5 | ```
  6 | 
  7 | ## Write Status
  8 | ```@autodocs
  9 | Modules = [GenX]
 10 | Pages = ["write_status.jl"]
 11 | ```
 12 | 
 13 | ## Write CO_2 Cap
 14 | ```@docs
 15 | GenX.write_co2_cap
 16 | ```
 17 | 
 18 | ## Write Costs
 19 | ```@autodocs
 20 | Modules = [GenX]
 21 | Pages = ["write_costs.jl"]
 22 | ```
 23 | 
 24 | ## Write Fuel Consumption
 25 | ```@docs
 26 | GenX.write_fuel_consumption
 27 | ```
 28 | 
 29 | ## Write Emissions
 30 | ```@autodocs
 31 | Modules = [GenX]
 32 | Pages = ["write_emissions.jl"]
 33 | ```
 34 | 
 35 | ## Write Capacities
 36 | ```@autodocs
 37 | Modules = [GenX]
 38 | Pages = ["write_capacity.jl"]
 39 | ```
 40 | 
 41 | ## Write Capacity Value
 42 | ```@autodocs
 43 | Modules = [GenX]
 44 | Pages = ["write_capacity_value.jl"]
 45 | ```
 46 | 
 47 | ## Write Capacity Factors
 48 | ```@autodocs
 49 | Modules = [GenX]
 50 | Pages = ["write_capacityfactor.jl"]
 51 | ```
 52 | 
 53 | ## Write Charge Values
 54 | ```@autodocs
 55 | Modules = [GenX]
 56 | Pages = ["write_charge.jl"]
 57 | ```
 58 | 
 59 | ## Write Non-served-energy
 60 | ```@autodocs
 61 | Modules = [GenX]
 62 | Pages = ["write_nse.jl"]
 63 | ```
 64 | 
 65 | ## Write Storage State of Charge
 66 | ```@autodocs
 67 | Modules = [GenX]
 68 | Pages = ["write_storage.jl"]
 69 | ```
 70 | 
 71 | ## Write Storage Dual
 72 | ```@autodocs
 73 | Modules = [GenX]
 74 | Pages = ["write_storagedual.jl"]
 75 | ```
 76 | 
 77 | ## Write Power
 78 | ```@autodocs
 79 | Modules = [GenX]
 80 | Pages = ["write_power.jl"]
 81 | ```
 82 | 
 83 | ## Write Curtailment
 84 | ```@autodocs
 85 | Modules = [GenX]
 86 | Pages = ["write_curtailment.jl"]
 87 | ```
 88 | 
 89 | ## Write Prices
 90 | ```@autodocs
 91 | Modules = [GenX]
 92 | Pages = ["write_price.jl"]
 93 | ```
 94 | 
 95 | ## Write Reliability
 96 | ```@autodocs
 97 | Modules = [GenX]
 98 | Pages = ["write_reliability.jl"]
 99 | ```
100 | ## Write Energy Revenue
101 | ```@autodocs
102 | Modules = [GenX]
103 | Pages = ["write_energy_revenue.jl"]
104 | ```
105 | 
106 | ## Write Subsidy Revenue
107 | ```@autodocs
108 | Modules = [GenX]
109 | Pages = ["write_subsidy_revenue.jl"]
110 | ```
111 | 
112 | ## Write Operating Reserve and Regulation Revenue
113 | ```@autodocs
114 | Modules = [GenX]
115 | Pages = ["write_operating_reserve_price_revenue.jl"]
116 | ```
117 | 
118 | ## Write Capacity Revenue
119 | ```@autodocs
120 | Modules = [GenX]
121 | Pages = ["write_reserve_margin_revenue.jl"]
122 | ```
123 | 
124 | ## Write Energy Share Requirement Revenue
125 | ```@autodocs
126 | Modules = [GenX]
127 | Pages = ["write_esr_revenue.jl"]
128 | ```
129 | 
130 | ## Write Net Revenue
131 | ```@autodocs
132 | Modules = [GenX]
133 | Pages = ["write_net_revenue.jl"]
134 | ```
135 | 
136 | ## Write Co-Located VRE and Storage files
137 | ```@docs
138 | GenX.write_vre_stor
139 | GenX.write_vre_stor_capacity
140 | GenX.write_vre_stor_charge
141 | GenX.write_vre_stor_discharge
142 | ```
143 | 
144 | ## Write Multi-stage files
145 | ```@autodocs
146 | Modules = [GenX]
147 | Pages = ["write_multi_stage_outputs.jl"]
148 | ```
149 | ```@docs
150 | GenX.write_multi_stage_costs
151 | GenX.write_multi_stage_stats
152 | GenX.write_multi_stage_settings
153 | GenX.write_multi_stage_network_expansion
154 | GenX.write_multi_stage_capacities_discharge
155 | GenX.write_multi_stage_capacities_charge
156 | GenX.write_multi_stage_capacities_energy
157 | GenX.create_multi_stage_stats_file
158 | GenX.update_multi_stage_stats_file
159 | ```
160 | 
161 | ## Write maintenance files
162 | ```@autodocs
163 | Modules = [GenX]
164 | Pages = ["write_maintenance.jl"]
165 | ```
166 | 
167 | ## Write DCOPF files
168 | ```@docs
169 | GenX.write_angles
170 | ```
171 | 
172 | ## Write Settings Files
173 | ```@docs
174 | GenX.write_settings_file
175 | ```
176 | 


--------------------------------------------------------------------------------
/docs/src/Public_API/public_api.md:
--------------------------------------------------------------------------------
 1 | # Public Documentation
 2 | 
 3 | Documentation for GenX public interface.
 4 | 
 5 | ```@docs
 6 | GenX.run_genx_case!
 7 | GenX.configure_settings
 8 | GenX.configure_solver
 9 | GenX.load_inputs
10 | GenX.load_dataframe
11 | GenX.generate_model
12 | GenX.solve_model
13 | GenX.write_outputs
14 | GenX.mga
15 | ```
16 | 
17 | ## Multi-stage specific functions
18 | 
19 | ```@docs
20 | GenX.configure_settings_multistage
21 | GenX.configure_multi_stage_inputs
22 | GenX.run_ddp
23 | GenX.write_multi_stage_outputs
24 | ```
25 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorial_1_configuring_settings.md:
--------------------------------------------------------------------------------
  1 | # Tutorial 1: Configuring Settings
  2 | 
  3 | [Interactive Notebook of the tutorial](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_1_Configuring_Settings.ipynb)
  4 | 
  5 | GenX is easy to customize to fit a variety of problems. In this tutorial, we show which settings are available to change, what their defaults are, and how to change them in your code.
  6 | 
  7 | ## What settings are there?
  8 | 
  9 | There are 21 settings available to edit in GenX, found in the file `genx_settings.yml`. These settings are described at the [Model settings parameters
 10 | ](@ref) page of the documentation. The file is located in the `settings` folder in the working directory. To change the location of the file, edit the `settings_path` variable in `Run.jl` within your directory.
 11 | 
 12 | Most settings are set as either 0 or 1, which correspond to whether or not to include a specific feature. For example, to use `TimeDomainReduction`, you would set its parameter to 1 within `genx_settings.yml`. If you would like to run GenX without it, you would set its parameter to 0.
 13 | 
 14 | Other settings, such as `CO2Cap`, have more options corresponding to integers, while some settings such as `ModelingtoGenerateAlternativeSlack` take a numerical input directly (in this case, the slack value). Two settings, `Solver` and `TimeDomainReductionFolder` take in text as input. To learn more about different solvers, read [here](https://github.com/GenXProject/GenX.jl/blob/main/docs/src/User_Guide/solver_configuration.md). For `TimeDomainReductionFolder`, specify the name of the directory you wish to see the results in. For a more comprehensive description of the input options, see the documentation linked above.
 15 | 
 16 | To see how changing the settings affects the outputs, see Tutorials 3 and 7.
 17 | 
 18 | Below is the settings file for `example_systems/1_three_zones`:
 19 | 
 20 | ![png](./files/genxsettings.png)
 21 | 
 22 | All `genx_settings.yml` files in `example_systems` specify most parameters. When configuring your own settings, however, it is not necessary to input all parameters as defaults are specified for each one in `configure_settings.jl`.
 23 | 
 24 | ![png](./files/default_settings.png)
 25 | 
 26 | To open `genx_settings.yml` in Jupyter, use the function `YAML.load(open(...))` and navigate to file in the desired directory:
 27 | 
 28 | 
 29 | ```julia
 30 | using YAML
 31 | genx_settings_SNE = YAML.load(open("example_systems/1_three_zones/settings/genx_settings.yml"))
 32 | ```
 33 | 
 34 | ```
 35 |     Dict{Any, Any} with 19 entries:
 36 |       "NetworkExpansion"                        => 1
 37 |       "ModelingToGenerateAlternativeIterations" => 3
 38 |       "ParameterScale"                          => 1
 39 |       "EnergyShareRequirement"                  => 0
 40 |       "PrintModel"                              => 0
 41 |       "TimeDomainReduction"                     => 1
 42 |       "Trans_Loss_Segments"                     => 1
 43 |       "CapacityReserveMargin"                   => 0
 44 |       "ModelingtoGenerateAlternativeSlack"      => 0.1
 45 |       "MethodofMorris"                          => 0
 46 |       "StorageLosses"                           => 1
 47 |       "MultiStage"                              => 0
 48 |       "OverwriteResults"                        => 0
 49 |       "UCommit"                                 => 2
 50 |       "ModelingToGenerateAlternatives"          => 0
 51 |       "MaxCapReq"                               => 0
 52 |       "MinCapReq"                               => 1
 53 |       "CO2Cap"                                  => 2
 54 |       "WriteShadowPrices"                       => 1
 55 | ```
 56 | 
 57 | 
 58 | Since all settings have defaults, you only need to specify the settings you would like to change. In fact, you can leave your settings file completely blank and it will still run! Let's try editing `genx_settings` in `example_systems/1_three_zones` to contain no parameters:
 59 | 
 60 | 
 61 | ```julia
 62 | new_params = Dict() # Empty dictionary
 63 | YAML.write_file("example_systems/1_three_zones/settings/genx_settings.yml", new_params)
 64 | ```
 65 | 
 66 | The empty file will look like this:
 67 | 
 68 | ![png](./files/genx_settings_none.png)
 69 | 
 70 | Now, we run GenX and output the file `capacity.csv` from the `results` folder. To do this, we use the function `include`, which takes a .jl file and runs it in jupyter notebook:
 71 | 
 72 | 
 73 | ```julia
 74 | include("example_systems/1_three_zones/Run.jl")
 75 | ```
 76 | 
 77 | ```
 78 |     Configuring Settings
 79 |     Configuring Solver
 80 |     Loading Inputs
 81 |     Reading Input CSV Files
 82 |     Network.csv Successfully Read!
 83 |     Demand (load) data Successfully Read!
 84 |     Fuels_data.csv Successfully Read!
 85 | 
 86 | 
 87 |     [ Info: Thermal.csv Successfully Read.
 88 |     [ Info: Vre.csv Successfully Read.
 89 |     [ Info: Storage.csv Successfully Read.
 90 |     [ Info: Resource_minimum_capacity_requirement.csv Successfully Read.
 91 | 
 92 |     Summary of resources loaded into the model:
 93 |     -------------------------------------------------------
 94 |     	Resource type 		Number of resources
 95 |     =======================================================
 96 |     	Thermal        		3
 97 |     	VRE            		4
 98 |     	Storage        		3
 99 |     =======================================================
100 |     Total number of resources: 10
101 |     -------------------------------------------------------
102 |     Generators_variability.csv Successfully Read!
103 |     Validating time basis
104 |     CSV Files Successfully Read In From GenX-Tutorials/Tutorials/example_systems/1_three_zones
105 |     Generating the Optimization Model
106 |     Discharge Module
107 |     Non-served Energy Module
108 |     Investment Discharge Module
109 |     Fuel Module
110 |     CO2 Module
111 |     Investment Transmission Module
112 |     Transmission Module
113 |     Dispatchable Resources Module
114 |     Storage Resources Module
115 |     Storage Investment Module
116 |     Storage Core Resources Module
117 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
118 |     Thermal (No Unit Commitment) Resources Module
119 |     Time elapsed for model building is
120 |     5.677411542
121 |     Solving Model
122 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
123 |     Presolving model
124 |     402430 rows, 306077 cols, 1216044 nonzeros
125 |     334406 rows, 273093 cols, 1179498 nonzeros
126 |     Presolve : Reductions: rows 334406(-208720); columns 273093(-217481); elements 1179498(-265378)
127 |     Solving the presolved LP
128 |     IPX model has 334406 rows, 273093 columns and 1179498 nonzeros
129 |     Input
130 |         Number of variables:                                273093
131 |         Number of free variables:                           0
132 |         Number of constraints:                              334406
133 |         Number of equality constraints:                     54616
134 |         Number of matrix entries:                           1179498
135 |         Matrix range:                                       [4e-07, 1e+01]
136 |         RHS range:                                          [7e+02, 2e+04]
137 |         Objective range:                                    [1e-01, 1e+05]
138 |         Bounds range:                                       [2e+00, 2e+04]
139 |     Preprocessing
140 |         Dualized model:                                     no
141 |         Number of dense columns:                            13
142 |         Range of scaling factors:                           [5.00e-01, 1.00e+00]
143 |     IPX version 1.0
144 |     Interior Point Solve
145 |      Iter     P.res    D.res            P.obj           D.obj        mu     Time
146 |        0   7.92e+03 4.68e+04   3.32147673e+12 -5.29874805e+12  3.77e+08       0s
147 |        1   2.52e+03 9.09e+03  -3.25877734e+12 -7.21381041e+12  1.13e+08       0s
148 |        2   4.85e+02 2.35e+03  -3.11396725e+11 -5.19621090e+12  2.79e+07       1s
149 |        3   3.29e+02 3.98e+02  -1.38395149e+11 -1.60011105e+12  1.06e+07       4s
150 |      Constructing starting basis...
151 |        4   2.79e+02 2.18e+02  -9.20089553e+10 -1.12770108e+12  6.86e+06      21s
152 |        5   9.53e+00 7.39e+01   9.91668627e+10 -5.58589863e+11  1.62e+06      24s
153 |        6   3.40e+00 1.42e+01   5.89999652e+10 -1.16297421e+11  3.82e+05      34s
154 |        7   9.22e-01 2.82e+00   3.17189476e+10 -3.28274389e+10  1.18e+05      39s
155 |        8   3.21e-01 9.06e-01   1.54947223e+10 -9.43126058e+09  4.16e+04      44s
156 |        9   1.43e-01 7.07e-02   1.25444514e+10 -2.07076014e+09  2.26e+04      50s
157 |       10   7.24e-02 2.69e-02   9.56770103e+09  6.98368943e+08  1.36e+04      59s
158 |       11   5.85e-02 2.34e-02   9.04050442e+09  9.72471748e+08  1.23e+04      76s
159 |       12   4.07e-02 1.86e-02   8.41352551e+09  1.36107427e+09  1.07e+04      91s
160 |       13   2.13e-02 1.04e-02   7.27813663e+09  2.37139743e+09  7.40e+03     106s
161 |       14   1.23e-02 9.58e-03   6.85995182e+09  2.42302634e+09  6.65e+03     121s
162 |       15   6.29e-03 8.69e-03   6.30996161e+09  2.53750169e+09  5.63e+03     137s
163 |       16   5.05e-03 4.32e-03   6.20375634e+09  3.06005287e+09  4.69e+03     153s
164 |       17   3.10e-03 2.90e-03   5.81685189e+09  3.42321619e+09  3.56e+03     171s
165 |       18   2.46e-03 1.90e-03   5.69010358e+09  3.69724506e+09  2.97e+03     193s
166 |       19   2.17e-03 1.40e-03   5.64332584e+09  3.92063823e+09  2.56e+03     211s
167 |       20   1.68e-03 1.08e-03   5.58574539e+09  4.00019716e+09  2.36e+03     225s
168 |       21   1.67e-03 1.03e-03   5.58471864e+09  3.99434084e+09  2.36e+03     239s
169 |       22   1.62e-03 7.41e-04   5.57432205e+09  4.11610384e+09  2.17e+03     253s
170 |       23   1.30e-03 5.69e-04   5.49997107e+09  4.19795422e+09  1.94e+03     271s
171 |       24   1.30e-03 5.50e-04   5.49974396e+09  4.19969138e+09  1.93e+03     290s
172 |       25   1.02e-03 2.93e-04   5.41913926e+09  4.35952658e+09  1.57e+03     303s
173 |       26   7.07e-04 2.24e-04   5.30762980e+09  4.42283116e+09  1.31e+03     348s
174 |       27   6.98e-04 2.04e-04   5.30566881e+09  4.42740669e+09  1.30e+03     368s
175 |       28   5.75e-04 1.34e-04   5.25404059e+09  4.51834486e+09  1.09e+03     384s
176 |       29   5.11e-04 5.18e-05   5.23316215e+09  4.57449214e+09  9.78e+02     422s
177 |       30   3.06e-04 3.13e-05   5.11136554e+09  4.65641695e+09  6.75e+02     463s
178 |       31   2.48e-04 2.50e-05   5.07790558e+09  4.68190888e+09  5.88e+02     556s
179 |       32   2.26e-04 1.93e-05   5.07281283e+09  4.69130536e+09  5.66e+02     578s
180 |       33   1.57e-04 9.24e-06   5.02737766e+09  4.76799355e+09  3.85e+02     610s
181 |       34   9.42e-05 6.90e-06   4.99047612e+09  4.78396507e+09  3.06e+02     633s
182 |       35   9.03e-05 5.12e-06   4.98763526e+09  4.80106034e+09  2.77e+02     662s
183 |       36   3.98e-05 2.82e-06   4.94599392e+09  4.83065342e+09  1.71e+02     671s
184 |       37   2.58e-05 2.14e-06   4.93651437e+09  4.83728484e+09  1.47e+02     682s
185 |       38   2.50e-05 1.47e-06   4.93618595e+09  4.83982232e+09  1.43e+02     693s
186 |       39   2.07e-05 1.07e-06   4.93270993e+09  4.84546499e+09  1.29e+02     703s
187 |       40   1.99e-05 9.16e-07   4.93246702e+09  4.84544485e+09  1.29e+02     712s
188 |       41   1.27e-05 5.14e-07   4.92622155e+09  4.85308727e+09  1.08e+02     749s
189 |       42   6.18e-06 2.78e-07   4.91448823e+09  4.86733398e+09  6.98e+01     756s
190 |       43   5.75e-06 2.48e-07   4.91402422e+09  4.86791504e+09  6.83e+01     768s
191 |       44   3.92e-06 2.41e-07   4.91163152e+09  4.86829302e+09  6.42e+01     772s
192 |       45   3.73e-06 2.31e-07   4.91112985e+09  4.86905244e+09  6.23e+01     776s
193 |       46   1.94e-06 1.39e-07   4.90762167e+09  4.87412061e+09  4.96e+01     779s
194 |       47   1.92e-06 1.37e-07   4.90757967e+09  4.87423812e+09  4.94e+01     783s
195 |       48   1.25e-06 1.12e-07   4.90638638e+09  4.87546419e+09  4.58e+01     787s
196 |       49   7.47e-07 8.85e-08   4.90346514e+09  4.87810372e+09  3.75e+01     790s
197 |       50   6.48e-07 7.92e-08   4.90314008e+09  4.87888853e+09  3.59e+01     794s
198 |       51   4.98e-07 6.91e-08   4.90218004e+09  4.88024918e+09  3.25e+01     797s
199 |       52   4.95e-07 6.83e-08   4.90215919e+09  4.88024410e+09  3.24e+01     801s
200 |       53   4.90e-07 6.80e-08   4.90216775e+09  4.88028007e+09  3.24e+01     804s
201 |       54   4.36e-07 6.78e-08   4.90188796e+09  4.88043523e+09  3.18e+01     806s
202 |       55   2.99e-07 6.38e-08   4.90162529e+09  4.88076205e+09  3.09e+01     809s
203 |       56   1.58e-07 4.39e-08   4.90042224e+09  4.88323839e+09  2.54e+01     811s
204 |       57   1.34e-07 4.22e-08   4.90059270e+09  4.88334431e+09  2.55e+01     813s
205 |       58   1.04e-07 3.50e-08   4.90003483e+09  4.88459728e+09  2.29e+01     815s
206 |       59   9.50e-08 3.37e-08   4.90009649e+09  4.88472024e+09  2.28e+01     818s
207 |       60   8.60e-08 3.33e-08   4.90001976e+09  4.88479577e+09  2.25e+01     820s
208 |       61   7.03e-08 2.51e-08   4.89985257e+09  4.88580810e+09  2.08e+01     823s
209 |       62   5.25e-08 2.49e-08   4.89952348e+09  4.88588451e+09  2.02e+01     825s
210 |       63   4.41e-08 2.20e-08   4.89936497e+09  4.88640830e+09  1.92e+01     827s
211 |       64   1.95e-08 2.05e-08   4.89921316e+09  4.88671585e+09  1.85e+01     829s
212 |       65   1.85e-08 2.04e-08   4.89917163e+09  4.88677402e+09  1.84e+01     831s
213 |       66   9.08e-09 1.50e-08   4.89794260e+09  4.88826475e+09  1.43e+01     832s
214 |       67   3.26e-09 1.41e-08   4.89826703e+09  4.88831416e+09  1.47e+01     834s
215 |       68   2.55e-09 9.27e-09   4.89776323e+09  4.89045614e+09  1.08e+01     836s
216 |       69   4.15e-10 6.43e-09   4.89731419e+09  4.89088355e+09  9.52e+00     838s
217 |       70   9.46e-11 6.14e-09   4.89657446e+09  4.89107504e+09  8.14e+00     840s
218 |       71   7.28e-12 2.97e-09   4.89649409e+09  4.89256997e+09  5.81e+00     842s
219 |       72   8.60e-12 2.23e-09   4.89597151e+09  4.89267917e+09  4.87e+00     844s
220 |       73   7.28e-12 1.47e-09   4.89583195e+09  4.89300343e+09  4.19e+00     845s
221 |       74   7.42e-12 1.28e-09   4.89583188e+09  4.89303732e+09  4.14e+00     847s
222 |       75   7.03e-12 1.11e-09   4.89582547e+09  4.89341063e+09  3.57e+00     849s
223 |       76   7.28e-12 6.11e-10   4.89574070e+09  4.89395382e+09  2.65e+00     850s
224 |       77   5.46e-12 1.48e-09   4.89568118e+09  4.89402122e+09  2.46e+00     852s
225 |       78   7.28e-12 5.82e-10   4.89555416e+09  4.89441725e+09  1.68e+00     854s
226 |       79   5.46e-12 9.31e-10   4.89551185e+09  4.89441779e+09  1.62e+00     856s
227 |       80   7.28e-12 8.00e-10   4.89548266e+09  4.89444930e+09  1.53e+00     858s
228 |       81   5.46e-12 4.66e-10   4.89540821e+09  4.89457401e+09  1.23e+00     859s
229 |       82   3.64e-12 4.95e-10   4.89518737e+09  4.89480554e+09  5.65e-01     861s
230 |       83   7.28e-12 1.03e-09   4.89518640e+09  4.89481077e+09  5.56e-01     864s
231 |       84   5.46e-12 8.59e-10   4.89516124e+09  4.89485596e+09  4.52e-01     866s
232 |       85   3.64e-12 5.97e-10   4.89510929e+09  4.89488390e+09  3.34e-01     869s
233 |       86   3.64e-12 7.28e-10   4.89511555e+09  4.89489396e+09  3.28e-01     870s
234 |       87   3.64e-12 9.75e-10   4.89509232e+09  4.89493928e+09  2.27e-01     872s
235 |       88   5.46e-12 1.35e-09   4.89508607e+09  4.89497465e+09  1.65e-01     875s
236 |       89   5.46e-12 2.34e-09   4.89507160e+09  4.89500290e+09  1.02e-01     877s
237 |       90   3.64e-12 4.66e-10   4.89506888e+09  4.89501168e+09  8.47e-02     879s
238 |       91   3.64e-12 8.15e-10   4.89505281e+09  4.89502676e+09  3.86e-02     882s
239 |       92   7.28e-12 2.90e-09   4.89504804e+09  4.89503126e+09  2.48e-02     884s
240 |       93   7.28e-12 3.11e-09   4.89504828e+09  4.89503139e+09  2.50e-02     886s
241 |       94   3.64e-12 3.94e-09   4.89504182e+09  4.89503147e+09  1.53e-02     887s
242 |       95   7.28e-12 4.55e-09   4.89503900e+09  4.89503404e+09  7.34e-03     889s
243 |       96   7.28e-12 3.97e-09   4.89503797e+09  4.89503587e+09  3.11e-03     891s
244 |       97   3.64e-12 7.99e-09   4.89503736e+09  4.89503634e+09  1.50e-03     893s
245 |       98   3.64e-12 7.41e-09   4.89503673e+09  4.89503642e+09  4.55e-04     895s
246 |       99   3.64e-12 9.50e-09   4.89503663e+09  4.89503648e+09  2.22e-04     897s
247 |      100*  3.64e-12 1.32e-08   4.89503652e+09  4.89503651e+09  1.82e-05     899s
248 |      101*  3.64e-12 1.08e-08   4.89503652e+09  4.89503652e+09  2.25e-06     901s
249 |      102*  3.64e-12 3.12e-08   4.89503652e+09  4.89503652e+09  1.34e-07     903s
250 |      103*  3.64e-12 1.51e-08   4.89503652e+09  4.89503652e+09  8.82e-09     905s
251 |     Running crossover as requested
252 |         Primal residual before push phase:                  1.27e-04
253 |         Dual residual before push phase:                    5.11e-05
254 |         Number of dual pushes required:                     103575
255 |         Number of primal pushes required:                   6498
256 |     Summary
257 |         Runtime:                                            905.57s
258 |         Status interior point solve:                        optimal
259 |         Status crossover:                                   optimal
260 |         objective value:                                    4.89503652e+09
261 |         interior solution primal residual (abs/rel):        6.64e-11 / 3.97e-15
262 |         interior solution dual residual (abs/rel):          1.48e-08 / 1.05e-13
263 |         interior solution objective gap (abs/rel):          1.62e-03 / 3.31e-13
264 |         basic solution primal infeasibility:                8.04e-10
265 |         basic solution dual infeasibility:                  2.05e-12
266 |     Ipx: IPM       optimal
267 |     Ipx: Crossover optimal
268 |     Solving the original LP from the solution after postsolve
269 |     Model   status      : Optimal
270 |     IPM       iterations: 103
271 |     Crossover iterations: 12550
272 |     Objective value     :  4.8950365168e+09
273 |     LP solved for primal
274 |     Writing Output
275 |     Time elapsed for writing costs is
276 |     1.118419208
277 |     Time elapsed for writing capacity is
278 |     0.3498405
279 |     Time elapsed for writing power is
280 |     0.784041083
281 |     Time elapsed for writing charge is
282 |     0.317718542
283 |     Time elapsed for writing capacity factor is
284 |     0.262756083
285 |     Time elapsed for writing storage is
286 |     0.144432875
287 |     Time elapsed for writing curtailment is
288 |     0.235764667
289 |     Time elapsed for writing nse is
290 |     0.673588083
291 |     Time elapsed for writing power balance is
292 |     0.533529375
293 |     Time elapsed for writing transmission flows is
294 |     0.111765375
295 |     Time elapsed for writing transmission losses is
296 |     0.139880458
297 |     Time elapsed for writing emissions is
298 |     0.244327417
299 |     Time elapsed for writing reliability is
300 |     0.163886125
301 |     Time elapsed for writing storage duals is
302 |     0.43827175
303 |     Time elapsed for writing fuel consumption is
304 |     0.50627925
305 |     Time elapsed for writing co2 is
306 |     0.173650209
307 |     Time elapsed for writing price is
308 |     0.07908475
309 |     Time elapsed for writing energy revenue is
310 |     0.251686916
311 |     Time elapsed for writing charging cost is
312 |     0.174489958
313 |     Time elapsed for writing subsidy is
314 |     0.188284041
315 |     Time elapsed for writing time weights is
316 |     0.050749417
317 |     Time elapsed for writing net revenue is
318 |     0.797592334
319 |     Wrote outputs to GenX-Tutorials/Tutorials/example_systems/1_three_zones/results
320 |     Time elapsed for writing is
321 |     8.276978416
322 | ```
323 | The function `Run.jl` will build and then solve the model according to the specified parameters. These results will then be output into a `results` folder in the same directory. Note that the results folders are __not__ overwritten with each run.
324 | 
325 | ```julia
326 | using CSV
327 | using DataFrames
328 | results = CSV.read(open("example_systems/1_three_zones/Results/capacity.csv"),DataFrame)
329 | ```
330 | 
331 | ```@raw html
332 | <div><div style = "float: left;"><span>11Ã—15 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Resource</th><th style = "text-align: left;">Zone</th><th style = "text-align: left;">StartCap</th><th style = "text-align: left;">RetCap</th><th style = "text-align: left;">NewCap</th><th style = "text-align: left;">EndCap</th><th style = "text-align: left;">CapacityConstraintDual</th><th style = "text-align: left;">StartEnergyCap</th><th style = "text-align: left;">RetEnergyCap</th><th style = "text-align: left;">NewEnergyCap</th><th style = "text-align: left;">EndEnergyCap</th><th style = "text-align: left;">StartChargeCap</th><th style = "text-align: left;">RetChargeCap</th><th style = "text-align: left;">NewChargeCap</th><th style = "text-align: left;">EndChargeCap</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "String31" style = "text-align: left;">String31</th><th title = "String3" style = "text-align: left;">String3</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "String3" style = "text-align: left;">String3</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">MA_natural_gas_combined_cycle</td><td style = "text-align: left;">1</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">7394.75</td><td style = "text-align: right;">7394.75</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">CT_natural_gas_combined_cycle</td><td style = "text-align: left;">2</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">2305.82</td><td style = "text-align: right;">2305.82</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">ME_natural_gas_combined_cycle</td><td style = "text-align: left;">3</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">716.666</td><td style = "text-align: right;">716.666</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">MA_solar_pv</td><td style = "text-align: left;">1</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">21186.5</td><td style = "text-align: right;">21186.5</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">CT_onshore_wind</td><td style = "text-align: left;">2</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">11905.5</td><td style = "text-align: right;">11905.5</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">CT_solar_pv</td><td style = "text-align: left;">2</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">16578.8</td><td style = "text-align: right;">16578.8</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: left;">ME_onshore_wind</td><td style = "text-align: left;">3</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">12767.3</td><td style = "text-align: right;">12767.3</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: left;">MA_battery</td><td style = "text-align: left;">1</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">3362.3</td><td style = "text-align: right;">3362.3</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">19427.7</td><td style = "text-align: right;">19427.7</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: left;">CT_battery</td><td style = "text-align: left;">2</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">5318.36</td><td style = "text-align: right;">5318.36</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">27274.1</td><td style = "text-align: right;">27274.1</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: left;">ME_battery</td><td style = "text-align: left;">3</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">2095.3</td><td style = "text-align: right;">2095.3</td><td style = "text-align: left;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">7096.27</td><td style = "text-align: right;">7096.27</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: left;">Total</td><td style = "text-align: left;">n/a</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">83631.3</td><td style = "text-align: right;">83631.3</td><td style = "text-align: left;">n/a</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">53798.1</td><td style = "text-align: right;">53798.1</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">0.0</td></tr></tbody></table></div>
333 | ```
334 | 
335 | As you can see, this runs without a problem! To try with your own parameters, edit the `new_params` dictionary with whatever parameters you'd like to try and run the cells again.Note: to output the results, you'll have to either delete the previous `results` folder, or input the name of the new results folder (e.g. `results_1`) when calling `CSV.read` as above.
336 | 
337 | 
338 | Finally, let's rewite `genx_settings.yml` to put the original settings in the example back: 
339 | 
340 | 
341 | ```julia
342 | YAML.write_file("example_systems/1_three_zones/settings/genx_settings.yml", genx_settings_TZ)
343 | ```
344 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorial_2_network_visualization.md:
--------------------------------------------------------------------------------
 1 | # Tutorial 2: Network Visualization
 2 | 
 3 | [Interactive Notebook of the tutorial](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_2_Network_Visualization.ipynb)
 4 | 
 5 | To run GenX, there are five mandatory input files: `Fuels_data.csv`, `Network.csv`, `Demand_data.csv`, `Generators_variability.csv`, and `Generators_data.csv` (note that `Network.csv` is not mandatory if running a single-zone model). Detailed descriptions of these files can be found in the [GenX Inputs](@ref) page of the documentation.
 6 | This tutorial helps visualize the file `Network.csv` using the example system `example_systems/1_three_zones`.
 7 | 
 8 | 
 9 | ```julia
10 | using CSV
11 | using DataFrames
12 | ```
13 | 
14 | The input file `Network.csv` contains the nodes of your network, how they connect to each other, and some important features about them. Below is the network file for `example_systems/1_three_zones`:
15 | 
16 | 
17 | ```julia
18 | network = CSV.read("example_systems/1_three_zones/system/Network.csv",DataFrame,missingstring="NA")
19 | ```
20 | 
21 | 
22 | ```@raw html
23 | <div><div style = "float: left;"><span>3Ã—14 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Column1</th><th style = "text-align: left;">Network_zones</th><th style = "text-align: left;">Network_Lines</th><th style = "text-align: left;">Start_Zone</th><th style = "text-align: left;">End_Zone</th><th style = "text-align: left;">Line_Max_Flow_MW</th><th style = "text-align: left;">transmission_path_name</th><th style = "text-align: left;">distance_mile</th><th style = "text-align: left;">Line_Loss_Percentage</th><th style = "text-align: left;">Line_Max_Reinforcement_MW</th><th style = "text-align: left;">Line_Reinforcement_Cost_per_MWyr</th><th style = "text-align: left;">DerateCapRes_1</th><th style = "text-align: left;">CapRes_1</th><th style = "text-align: left;">CapRes_Excl_1</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "String3" style = "text-align: left;">String3</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String15" style = "text-align: left;">String15</th><th title = "String15" style = "text-align: left;">String15</th><th title = "String15" style = "text-align: left;">String15</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String3" style = "text-align: left;">String3</th><th title = "Union{Missing, Int64}" style = "text-align: left;">Int64?</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">MA</td><td style = "text-align: left;">z1</td><td style = "text-align: left;">1</td><td style = "text-align: left;">1</td><td style = "text-align: left;">2</td><td style = "text-align: left;">2950</td><td style = "text-align: left;">MA_to_CT</td><td style = "text-align: left;">123.0584</td><td style = "text-align: left;">0.012305837</td><td style = "text-align: left;">2950</td><td style = "text-align: left;">12060</td><td style = "text-align: left;">0.95</td><td style = "text-align: left;">0</td><td style = "text-align: right;">0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">CT</td><td style = "text-align: left;">z2</td><td style = "text-align: left;">2</td><td style = "text-align: left;">1</td><td style = "text-align: left;">3</td><td style = "text-align: left;">2000</td><td style = "text-align: left;">MA_to_ME</td><td style = "text-align: left;">196.5385</td><td style = "text-align: left;">0.019653847</td><td style = "text-align: left;">2000</td><td style = "text-align: left;">19261</td><td style = "text-align: left;">0.95</td><td style = "text-align: left;">0</td><td style = "text-align: right;">0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">ME</td><td style = "text-align: left;">z3</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "font-style: italic; text-align: right;">missing</td></tr></tbody></table></div>
24 | ```
25 | 
26 | MA, CT, and ME are the abbreviations for states Massachusetts, Connecticut, and Maine. However, since the US region of New England contains other states as well, MA in this case is also used to refer to those states.
27 | 
28 | Columns `Start_Zone` and `End_Zone` specify the network of the three regions. In this case, there are only two network lines, specified in the `Network_Lines` columns. The `Start_Zone` column indicates that the first node, MA, is the source of both lines as both rows have value 1. Rows `z1` and `z2` have values of 2 and 3 in `End_Zone`, which  means both nodes CT and ME recieve energy from node MA. This is also indicated in the column `transmission path name'. 
29 | 
30 | Below is a visualization of the network:
31 | 
32 | ![png](./files/new_england.png)
33 | 
34 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorial_4_model_generation.md:
--------------------------------------------------------------------------------
  1 | # Tutorial 4: Model Generation
  2 | 
  3 | [Interactive Notebook of the tutorial](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_4_Model_Generation.ipynb)
  4 | 
  5 | To run GenX, we use the file `Run.jl`. This file will solve the optimization problem and generate the output files as described in the documentation and previous tutorial. It does so by first generating the model, then solving the model, both according to settings described in `genx_settings.yml`. However, `Run.jl` only contains one commmand, `run_genx_case!(dirname(@__FILE__))`. This can be confusing for users viewing the files for the first time. In reality, this function signals many more functions to run, generating and solving the model. This tutorial explains how the model in GenX is generated. The next tutorial will then describe how it is solved.
  6 | 
  7 | We'll start by explaining JuMP, the optimization package that GenX uses to generate and solve the model.
  8 | 
  9 | ### Table of Contents
 10 | * [JuMP](#JuMP)
 11 | * [Generate Model](#GenerateModel)
 12 |     * [Arguments](#Arguments)
 13 |     * [Run generate_model](#Run)
 14 | 
 15 | 
 16 | ![png](./files/jump_logo.png)
 17 | 
 18 | JuMP is a modeling language for Julia. It allows users to create models for optimization problems, define variables and constraints, and apply a variety of solvers for the model. 
 19 | 
 20 | GenX is a __Linear Program (LP)__, which is a form of optimization problem in which a linear objective is minimized (or maximized) according to a set of linear constraints. For more information on LPs, see [Wikipedia](https://en.wikipedia.org/wiki/Linear_programming).
 21 | 
 22 | 
 23 | ```julia
 24 | using JuMP
 25 | using HiGHS
 26 | ```
 27 | 
 28 | Let's say we want to build a power grid consisting of and coal and wind plants. We want to decrease the cost of producing energy while still meeting a certain emissions threshold and full grid demand. Coal plants are cheaper to build and run but have higher emissions than wind farms. To find the minimum cost of a power grid meeting these constraints, we construct an LP using JuMP.
 29 | 
 30 | ```math
 31 | \begin{aligned}
 32 | & \min 10 x + 15 y &\text{Objective function (cost)}\\ 
 33 | & \text{s.t.} & \\
 34 | & x + y \geq 10 &\text{Grid Demand}\\
 35 | & 55x + 70y \leq \ 1000 &\text{Construction constraint}\\
 36 | & 40 x + 5 y \leq 200 &\text{Emissions constraint} \\
 37 | & x, y \geq 0 &\text{Non-negativity constraints}\\
 38 | \end{aligned}
 39 | ```
 40 | 
 41 | The core of the JuMP model is the function `Model()`, which creates the structure of our LP. `Model()` takes an optimizer as its input.
 42 | 
 43 | 
 44 | ```julia
 45 | power = Model(HiGHS.Optimizer)
 46 | ```
 47 | 
 48 |     A JuMP Model
 49 |     Feasibility problem with:
 50 |     Variables: 0
 51 |     Model mode: AUTOMATIC
 52 |     CachingOptimizer state: EMPTY_OPTIMIZER
 53 |     Solver name: HiGHS
 54 | 
 55 | The model needs variables, defined using the JuMP function `@variable`:
 56 | 
 57 | 
 58 | ```julia
 59 | @variable(power,x) # Coal
 60 | @variable(power,y) # Wind
 61 | ```
 62 | 
 63 | 
 64 | Using the JuMP function `@constraint`, we can add the constraints of the model:
 65 | 
 66 | 
 67 | ```julia
 68 | @constraint(power, non_neg_x, x >= 0) # Non-negativity constraint (can't have negative power plants!)
 69 | @constraint(power, non_neg_y, y >= 0) # Non-negativity constraint
 70 | 
 71 | @constraint(power, emissions, 40x + 5y <= 200) # Emisisons constraint
 72 | @constraint(power, construction_costs, 55x + 70y <= 1000) # Cost of constructing a new plant
 73 | 
 74 | @constraint(power, demand, x + y >= 10) # Grid demand
 75 | ```
 76 | 
 77 | `` x + y \geq 10 ``
 78 | 
 79 | Next, the function `@expression` defines an expression that can be used in either a constraint or objective function. In GenX, expressions are defined throughout the model generation and put into constraints and the objective function later.
 80 | 
 81 | 
 82 | ```julia
 83 | @expression(power,objective,10x+15y)
 84 | ```
 85 | $ 10 x + 15 y $
 86 | 
 87 | Finally, we define the objective function itself:
 88 | 
 89 | 
 90 | ```julia
 91 | @objective(power, Min, objective)
 92 | ```
 93 | 
 94 | `` 10 x + 15 y ``
 95 | 
 96 | Our model is now set up! 
 97 | 
 98 | 
 99 | ```julia
100 | print(power)
101 | ```
102 | 
103 | ```math
104 | \begin{aligned}
105 | \min\quad & 10 x + 15 y\\
106 | \text{Subject to} \quad & x \geq 0\\
107 |  & y \geq 0\\
108 |  & x + y \geq 10\\
109 |  & 40 x + 5 y \leq 200\\
110 |  & 55 x + 70 y \leq 1000\\
111 | \end{aligned} 
112 | ```
113 | 
114 | 
115 | In the next Tutorial, we go over how to use JuMP to solve the model we've constructed.
116 | 
117 | When `Run.jl` is called, the model for GenX is constructed in a similar way, but with many more factors to consider. The next section goes over how the GenX model is constructed before it is solved.
118 | 
119 | ### Generate Model 
120 | 
121 | The basic structure of the way `Run.jl` generates and solves the model is as follows:
122 | 
123 | ![png](./files/LatexHierarchy.png)
124 | 
125 | The function `run_genx_case(case)` takes the "case" as its input. The case is all of the input files and settings found in the same folder as `Run.jl`. For example, in `example_systems/1_three_zones`, the case is:
126 | 
127 | ```julia
128 | cd(readdir,"example_systems/1_three_zones")
129 | ```
130 | 
131 | 
132 | 
133 | 
134 |     9-element Vector{String}:
135 |      ".DS_Store"
136 |      "README.md"
137 |      "Run.jl"
138 |      "TDR_results"
139 |      "policies"
140 |      "resources"
141 |      "results"
142 |      "settings"
143 |      "system"
144 | 
145 | 
146 | 
147 | `Run_genx_case` defines the __setup__, which are the settings in `genx_settings.yml`. From there, either `run_genx_case_simple(case, mysetup)` or`run_genx_case_multistage(case, mysetup)` is called. Both of these define the __inputs__ and __optimizer__. The optimizer is the solver as specified in `genx_settings.yml`, and the inputs are a variety of parameters specified by the settings and csv files found in the folder. Both of these functions then call `generate_model(mysetup, myinputs, OPTIMIZER)`, which is the main subject of this tutorial.
148 | 
149 | As in the above example, `generate_model` utilizes the JuMP functions `Model()`, `@expression`, `@variable`, and `@constraints` to form a model. This section goes through `generate_model` and explains how the expressions are formed to create the model.
150 | 
151 | #### Arguments 
152 | 
153 | `Generate_model` takes three arguments: setup, inputs, and optimizer:
154 | 
155 | To generate the arguments, we have to set a case path (this is set automatically when `Run.jl` is called):
156 | 
157 | 
158 | ```julia
159 | using GenX
160 | ```
161 | 
162 | 
163 | ```julia
164 | case = joinpath("example_systems/1_three_zones") 
165 | ```
166 | 
167 | ```
168 |     "example_systems/1_three_zones"
169 | ```
170 | 
171 | Setup includes the settings from `genx_settings.yml` along with the default settings found in `configure_settings.jl`. The function `configure_settings` combines the two.
172 | 
173 | ```julia
174 | genx_settings = GenX.get_settings_path(case, "genx_settings.yml") # Settings YAML file path
175 | writeoutput_settings = GenX.get_settings_path(case, "output_settings.yml") # Set output path
176 | setup = GenX.configure_settings(genx_settings,writeoutput_settings) # Combines genx_settings with defaults
177 | ```
178 | ```
179 |     Configuring Settings
180 |     Dict{Any, Any} with 24 entries:
181 |       "NetworkExpansion"                        => 0
182 |       "TimeDomainReductionFolder"               => "TDR_Results"
183 |       "EnableJuMPStringNames"                   => false
184 |       "Trans_Loss_Segments"                     => 1
185 |       "ModelingtoGenerateAlternativeSlack"      => 0.1
186 |       "Solver"                                  => "HiGHS"
187 |       "Reserves"                                => 0
188 |       "MultiStage"                              => 0
189 |       "OverwriteResults"                        => 0
190 |       "ModelingToGenerateAlternatives"          => 0
191 |       "MaxCapReq"                               => 1
192 |       "MinCapReq"                               => 1
193 |       "CO2Cap"                                  => 2
194 |       "WriteShadowPrices"                       => 1
195 |       "ModelingToGenerateAlternativeIterations" => 3
196 |       "ParameterScale"                          => 1
197 |       "EnergyShareRequirement"                  => 1
198 |       "PrintModel"                              => 0
199 |       "TimeDomainReduction"                     => 1
200 |       "CapacityReserveMargin"                   => 1
201 |       "MethodofMorris"                          => 0
202 |       "StorageLosses"                           => 1
203 |       "IncludeLossesInESR"                      => 0
204 |       "UCommit"                                 => 2
205 | ```
206 | It's here that we create the folder `TDR_results` before generating the model. This occurs if TimeDomainReduction is set to 1 in the setup. As a reminder, `TDR_results` is __not__ overwritten when called again. The cell below will delete a preexisting `TDR_results` folder if it is there.
207 | 
208 | 
209 | ```julia
210 | TDRpath = joinpath(case, setup["TimeDomainReductionFolder"])
211 | system_path = joinpath(case, setup["SystemFolder"])
212 | 
213 | settings_path = GenX.get_settings_path(case)
214 | 
215 | if "TDR_results" in cd(readdir,case)
216 |     rm(joinpath(case,"TDR_results"), recursive=true) 
217 | end
218 | 
219 | if setup["TimeDomainReduction"] == 1
220 |     GenX.prevent_doubled_timedomainreduction(system_path)
221 |     if !GenX.time_domain_reduced_files_exist(TDRpath)
222 |         println("Clustering Time Series Data (Grouped)...")
223 |         GenX.cluster_inputs(case, settings_path, setup)
224 |     else
225 |         println("Time Series Data Already Clustered.")
226 |     end
227 | end
228 | ```
229 | ```
230 |     Clustering Time Series Data (Grouped)...
231 |     Reading Input CSV Files
232 |     Network.csv Successfully Read!
233 |     Demand_data.csv Successfully Read!
234 |     Fuels_data.csv Successfully Read!
235 |     Generators_data.csv Successfully Read!
236 |     Generators_variability.csv Successfully Read!
237 |     Validating time basis
238 |     Capacity_reserve_margin.csv Successfully Read!
239 |     Minimum_capacity_requirement.csv Successfully Read!
240 |     Maximum_capacity_requirement.csv Successfully Read!
241 |     Energy_share_requirement.csv Successfully Read!
242 |     CO2_cap.csv Successfully Read!
243 |     CSV Files Successfully Read In From Example_Systems_Tutorials/SmallNewEngland/OneZone
244 | 
245 |     Dict{String, Any} with 9 entries:
246 |       "RMSE"          => Dict("Demand_MW_z1"=>1100.54, "NG"=>0.312319, "onshore_wind_â€¦
247 |       "OutputDF"      => DataFrameâ€¦
248 |       "ColToZoneMap"  => Dict("Demand_MW_z1"=>1, "battery_z1"=>1, "natural_gas_combinâ€¦
249 |       "ClusterObject" => KmeansResult{Matrix{Float64}, Float64, Int64}([-1.38728 -1â€¦
250 |       "TDRsetup"      => Dict{Any, Any}("IterativelyAddPeriods"=>1, "ExtremePeriodsâ€¦
251 |       "Assignments"   => [1, 1, 1, 1, 2, 2, 2, 2, 2, 3  â€¦  6, 4, 3, 5, 5, 9, 10, 10â€¦
252 |       "InputDF"       => [672Ã—49 DataFrame
253 |       "Weights"       => [673.846, 1010.77, 673.846, 842.308, 842.308, 1853.08, 185â€¦
254 |       "Centers"       => Any[1, 7, 12, 15, 23, 24, 28, 29, 48, 50, 51]
255 | ```
256 | 
257 | 
258 | The optimizer argument is taken from setup:
259 | 
260 | 
261 | ```julia
262 | OPTIMIZER =  GenX.configure_solver(settings_path,HiGHS.Optimizer)
263 | ```
264 | 
265 | The function `configure_solver` converts the string from "Solver" to a [MathOptInterface](https://jump.dev/MathOptInterface.jl/stable) optimizer so it can be used in the JuMP model as the optimizer. It also goes into the settings file for the specified solver (in this case HiGHS, so `1_three_zones/settings/highs_settings.yml`) and uses the settings to configure the solver to be used later.
266 | 
267 | 
268 | ```julia
269 | typeof(OPTIMIZER)
270 | ```
271 | ```
272 |     MathOptInterface.OptimizerWithAttributes
273 | ```
274 | 
275 | The "inputs" argument is generated by the function `load_inputs` from the case in `run_genx_case_simple` (or multistage). If TDR is set to 1 in the settings file, then `load_inputs` will draw some of the files from the `TDR_results` folder. `TDR_results` is produced when the case is run. 
276 | 
277 | 
278 | ```julia
279 | inputs = GenX.load_inputs(setup, case)
280 | ```
281 | ```
282 |     Reading Input CSV Files
283 |     Network.csv Successfully Read!
284 |     Demand_data.csv Successfully Read!
285 |     Fuels_data.csv Successfully Read!
286 |     Generators_data.csv Successfully Read!
287 |     Generators_variability.csv Successfully Read!
288 |     Validating time basis
289 |     Capacity_reserve_margin.csv Successfully Read!
290 |     Minimum_capacity_requirement.csv Successfully Read!
291 |     Maximum_capacity_requirement.csv Successfully Read!
292 |     Energy_share_requirement.csv Successfully Read!
293 |     CO2_cap.csv Successfully Read!
294 |     CSV Files Successfully Read In From Example_Systems_Tutorials/SmallNewEngland/OneZone
295 | 
296 |     Dict{Any, Any} with 66 entries:
297 |       "Z"                   => 1
298 |       "LOSS_LINES"          => [1]
299 |       "RET_CAP_CHARGE"      => Int64[]
300 |       "pC_D_Curtail"        => [50.0]
301 |       "dfGen"               => [4Ã—68 DataFram
302 |       "pTrans_Max_Possible" => [2.95]
303 |       "pNet_Map"            => [1.0;;]
304 |       "omega"               => [4.01099, 4.01099, 4.01099, 4.01099, 4.01099, 4.0109â€¦
305 |       "RET_CAP_ENERGY"      => [4]
306 |       "RESOURCES"           => String31["natural_gas_combined_cycle", "solar_pv", "â€¦
307 |       "COMMIT"              => [1]
308 |       "pMax_D_Curtail"      => [1]
309 |       "STOR_ALL"            => [4]
310 |       "THERM_ALL"           => [1]
311 |       "dfCO2CapZones"       => [1;;]
312 |       "REP_PERIOD"          => 11
313 |       "MinCapReq"           => [5.0, 10.0, 6.0]
314 |       "STOR_LONG_DURATION"  => Int64[]
315 |       "dfCapRes"            => [0.156;;]
316 |       "STOR_SYMMETRIC"      => [4]
317 |       "VRE"                 => [2, 3]
318 |       "RETRO"               => Int64[]
319 |       "THERM_COMMIT"        => [1]
320 |       "TRANS_LOSS_SEGS"     => 1
321 |       "H"                   => 168
322 |       â‹®                     => â‹®
323 | ```
324 | 
325 | Now that we have our arguments, we're ready to generate the model itself.
326 | 
327 | #### Run generate_model
328 | 
329 | This subsection replicates the arguments in the function `generate_model`. __Note:__ Running some of these cells for a second time will throw an error as the code will attempt to define a new expression with the name of an existing expression. To run the Tutorial again, clear and restart the kernel.
330 | 
331 |  First, we initialize a model and define the time step and zone variables
332 | 
333 | 
334 | ```julia
335 | EP = Model(OPTIMIZER)  # From JuMP
336 | ```
337 | 
338 |     A JuMP Model
339 |     Feasibility problem with:
340 |     Variables: 0
341 |     Model mode: AUTOMATIC
342 |     CachingOptimizer state: EMPTY_OPTIMIZER
343 |     Solver name: HiGHS
344 | 
345 | ```julia
346 | T = inputs["T"];   # Number of time steps (hours)
347 | Z = inputs["Z"];   # Number of zones
348 | ```
349 | 
350 | Next, the dummy variable vZERO, the objective function, the power balance expression, and zone generation expression are all initialized to zero:
351 | 
352 | 
353 | ```julia
354 | # Introduce dummy variable fixed to zero to ensure that expressions like eTotalCap,
355 | # eTotalCapCharge, eTotalCapEnergy and eAvail_Trans_Cap all have a JuMP variable
356 | 
357 | GenX.set_string_names_on_creation(EP, Bool(setup["EnableJuMPStringNames"]))
358 | @variable(EP, vZERO == 0);
359 | 
360 | # Initialize Power Balance Expression
361 | # Expression for "baseline" power balance constraint
362 | GenX.create_empty_expression!(EP, :ePowerBalance, (T, Z))
363 | 
364 | # Initialize Objective Function Expression
365 | EP[:eObj] = AffExpr(0.0)
366 | 
367 | GenX.create_empty_expression!(EP, :eGenerationByZone, (Z, T))
368 | 
369 | # Energy losses related to technologies
370 | GenX.create_empty_expression!(EP, :eELOSSByZone, Z)
371 | ```
372 | ```
373 |     1Ã—1848 Matrix{Int64}:
374 |      0  0  0  0  0  0  0  0  0  0  0  0  0  â€¦  0  0  0  0  0  0  0  0  0  0  0  0
375 | ```
376 | Next, we go through some of the settings in setup and, if they've been set to be utilized (i.e. have a nonzero value), define expressions from their corresponding input files:
377 | 
378 | 
379 | ```julia
380 | # Initialize Capacity Reserve Margin Expression
381 | if setup["CapacityReserveMargin"] > 0
382 |     GenX.create_empty_expression!(EP, :eCapResMarBalance, (inputs["NCapacityReserveMargin"], T))
383 | end
384 | 
385 | # Energy Share Requirement
386 | if setup["EnergyShareRequirement"] >= 1
387 |     GenX.create_empty_expression!(EP, :eESR, inputs["nESR"])
388 | end
389 | 
390 | if setup["MinCapReq"] == 1
391 |     GenX.create_empty_expression!(EP, :eMinCapRes, inputs["NumberOfMinCapReqs"])
392 | end
393 | 
394 | if setup["MaxCapReq"] == 1
395 |     GenX.create_empty_expression!(EP, :eMaxCapRes, inputs["NumberOfMaxCapReqs"])
396 | end
397 | ```
398 | 
399 | 
400 | The other settings will be used later on.
401 | 
402 | Next, we define the model infrastructure using functions found in `src/core`. These take entries from inputs and setup to create more expressions in our model (EP). To see what the functions do in more detail, see the source code and [core documentation](https://genxproject.github.io/GenX/dev/core/#Discharge).
403 | 
404 | 
405 | ```julia
406 | # Infrastructure
407 | GenX.discharge!(EP, inputs, setup)
408 | 
409 | GenX.non_served_energy!(EP, inputs, setup)
410 | 
411 | GenX.investment_discharge!(EP, inputs, setup)
412 | 
413 | if setup["UCommit"] > 0
414 |     GenX.ucommit!(EP, inputs, setup)
415 | end
416 | 
417 | GenX.fuel!(EP, inputs, setup)
418 | 
419 | GenX.co2!(EP, inputs) 
420 | 
421 | if setup["OperationalReserves"] > 0
422 |     GenX.operational_reserves!(EP, inputs, setup)
423 | end
424 | 
425 | if Z > 1
426 |     GenX.investment_transmission!(EP, inputs, setup)
427 |     GenX.transmission!(EP, inputs, setup)
428 | end
429 | 
430 | if Z > 1 && setup["DC_OPF"] != 0
431 |     GenX.dcopf_transmission!(EP, inputs, setup)
432 | end
433 | ```
434 | ```
435 |     Discharge Module
436 |     Non-served Energy Module
437 |     Investment Discharge Module
438 |     Unit Commitment Module
439 |     Fuel Module
440 |     CO2 Module
441 |     Investment Transmission Module
442 |     Transmission Module
443 | ```
444 | 
445 | We then define variables and expressions based on the resources in the inputs and setup arguments. The details of these can be found in the `src/resources` folder and the "resources" folder under Model Function Reference in the documentation:
446 | 
447 | 
448 | ```julia
449 | # Technologies
450 | # Model constraints, variables, expression related to dispatchable renewable resources
451 | 
452 | if !isempty(inputs["VRE"])
453 |     GenX.curtailable_variable_renewable!(EP, inputs, setup)
454 | end
455 | 
456 | # Model constraints, variables, expression related to non-dispatchable renewable resources
457 | if !isempty(inputs["MUST_RUN"])
458 |     GenX/must_run!(EP, inputs, setup)
459 | end
460 | 
461 | # Model constraints, variables, expression related to energy storage modeling
462 | if !isempty(inputs["STOR_ALL"])
463 |     GenX.storage!(EP, inputs, setup)
464 | end
465 | 
466 | # Model constraints, variables, expression related to reservoir hydropower resources
467 | if !isempty(inputs["HYDRO_RES"])
468 |     GenX.hydro_res!(EP, inputs, setup)
469 | end
470 | 
471 | if !isempty(inputs["ELECTROLYZER"])
472 |     GenX.electrolyzer!(EP, inputs, setup)
473 | end
474 | 
475 | # Model constraints, variables, expression related to reservoir hydropower resources with long duration storage
476 | if inputs["REP_PERIOD"] > 1 && !isempty(inputs["STOR_HYDRO_LONG_DURATION"])
477 |     GenX.hydro_inter_period_linkage!(EP, inputs, setup)
478 | end
479 | 
480 | # Model constraints, variables, expression related to demand flexibility resources
481 | if !isempty(inputs["FLEX"])
482 |     GenX.flexible_demand!(EP, inputs, setup)
483 | end
484 | 
485 | # Model constraints, variables, expression related to thermal resource technologies
486 | if !isempty(inputs["THERM_ALL"])
487 |     GenX.thermal!(EP, inputs, setup)
488 | end
489 | 
490 | # Model constraints, variables, expressions related to the co-located VRE-storage resources
491 | if !isempty(inputs["VRE_STOR"])
492 |     GenX.vre_stor!(EP, inputs, setup)
493 | end
494 | 
495 | 
496 | ```
497 | 
498 | Finally, we define expressions and variables using policies outlined in the inputs. These functions can be found in `src/policies` and in the [Emission mitigation policies](@ref) section of the documentation:
499 | 
500 | 
501 | ```julia
502 | # Policies
503 | 
504 | if setup["OperationalReserves"] > 0
505 |     GenX.operational_reserves_constraints!(EP, inputs)
506 | end
507 | 
508 | # CO2 emissions limits
509 | if setup["CO2Cap"] > 0
510 |     GenX.co2_cap!(EP, inputs, setup)
511 | end
512 | 
513 | # Endogenous Retirements
514 | if setup["MultiStage"] > 0
515 |     GenX.endogenous_retirement!(EP, inputs, setup)
516 | end
517 | 
518 | # Energy Share Requirement
519 | if setup["EnergyShareRequirement"] >= 1
520 |     GenX.energy_share_requirement!(EP, inputs, setup)
521 | end
522 | 
523 | #Capacity Reserve Margin
524 | if setup["CapacityReserveMargin"] > 0
525 |     GenX.cap_reserve_margin!(EP, inputs, setup)
526 | end
527 | 
528 | if (setup["MinCapReq"] == 1)
529 |     GenX.minimum_capacity_requirement!(EP, inputs, setup)
530 | end
531 | 
532 | if setup["MaxCapReq"] == 1
533 |     GenX.maximum_capacity_requirement!(EP, inputs, setup)
534 | end
535 | 
536 | ```
537 | ```
538 |     Energy Share Requirement Policies Module
539 |     Capacity Reserve Margin Policies Module
540 |     Minimum Capacity Requirement Module
541 |     Maximum Capacity Requirement Module
542 | 
543 |     3-element Vector{ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, ScalarShape}}:
544 |      cZoneMaxCapReq[1] : -vRETCAP[2] + vCAP[2] â‰¤ 50
545 |      cZoneMaxCapReq[2] : -vRETCAP[3] + vCAP[3] â‰¤ 100
546 |      cZoneMaxCapReq[3] : -vRETCAP[4] + vCAP[4] â‰¤ 60
547 | 
548 | ```
549 | 
550 | The expressions and variables for the model have all been defined! All that's left to do is define the constraints and objective function.
551 | 
552 | The [Objective Function](@ref) here is to minimize 
553 | 
554 | 
555 | ```julia
556 | @objective(EP,Min,EP[:eObj])
557 | ```
558 | 
559 | ```
560 | 0.17159171428571432 vP_{1,1} + 0.0004010989010989012 vP_{3,1} + 0.0006016483516483517 vP_{4,1} + 0.17159171428571432 vP_{1,2} + 0.0004010989010989012 vP_{3,2} + 0.0006016483516483517 vP_{4,2} + 0.17159171428571432 vP_{1,3} + 0.0004010989010989012 vP_{3,3} + 0.0006016483516483517 vP_{4,3} + 0.17159171428571432 vP_{1,4} + 0.0004010989010989012 vP_{3,4} + 0.0006016483516483517 vP_{4,4} + 0.17159171428571432 vP_{1,5} + 0.0004010989010989012 vP_{3,5} + 0.0006016483516483517 vP_{4,5} + 0.17159171428571432 vP_{1,6} + 0.0004010989010989012 vP_{3,6} + 0.0006016483516483517 vP_{4,6} + 0.17159171428571432 vP_{1,7} + 0.0004010989010989012 vP_{3,7} + 0.0006016483516483517 vP_{4,7} + 0.17159171428571432 vP_{1,8} + 0.0004010989010989012 vP_{3,8} + 0.0006016483516483517 vP_{4,8} + 0.17159171428571432 vP_{1,9} + 0.0004010989010989012 vP_{3,9} + 0.0006016483516483517 vP_{4,9} + 0.17159171428571432 vP_{1,10} + 0.0004010989010989012 vP_{3,10} + 0.0006016483516483517 vP_{4,10} + [[\ldots\text{11038 terms omitted}\ldots]] + 0.00015041208791208792 vCHARGE_{4,1819} + 0.00015041208791208792 vCHARGE_{4,1820} + 0.00015041208791208792 vCHARGE_{4,1821} + 0.00015041208791208792 vCHARGE_{4,1822} + 0.00015041208791208792 vCHARGE_{4,1823} + 0.00015041208791208792 vCHARGE_{4,1824} + 0.00015041208791208792 vCHARGE_{4,1825} + 0.00015041208791208792 vCHARGE_{4,1826} + 0.00015041208791208792 vCHARGE_{4,1827} + 0.00015041208791208792 vCHARGE_{4,1828} + 0.00015041208791208792 vCHARGE_{4,1829} + 0.00015041208791208792 vCHARGE_{4,1830} + 0.00015041208791208792 vCHARGE_{4,1831} + 0.00015041208791208792 vCHARGE_{4,1832} + 0.00015041208791208792 vCHARGE_{4,1833} + 0.00015041208791208792 vCHARGE_{4,1834} + 0.00015041208791208792 vCHARGE_{4,1835} + 0.00015041208791208792 vCHARGE_{4,1836} + 0.00015041208791208792 vCHARGE_{4,1837} + 0.00015041208791208792 vCHARGE_{4,1838} + 0.00015041208791208792 vCHARGE_{4,1839} + 0.00015041208791208792 vCHARGE_{4,1840} + 0.00015041208791208792 vCHARGE_{4,1841} + 0.00015041208791208792 vCHARGE_{4,1842} + 0.00015041208791208792 vCHARGE_{4,1843} + 0.00015041208791208792 vCHARGE_{4,1844} + 0.00015041208791208792 vCHARGE_{4,1845} + 0.00015041208791208792 vCHARGE_{4,1846} + 0.00015041208791208792 vCHARGE_{4,1847} + 0.00015041208791208792 vCHARGE_{4,1848} $
561 | ```
562 | 
563 | Our constraint is the [Power Balance](@ref), which is set here to have to meet the demand of the network. The demand is outlined in the last columns of `Demand_data.csv`, and is set to inputs in from the `load_demand_data` function within `load_inputs`, used in `run_genx_case`.
564 | 
565 | 
566 | ```julia
567 | ## Power balance constraints
568 | # demand = generation + storage discharge - storage charge - demand deferral + deferred demand satisfaction - demand curtailment (NSE)
569 | #          + incoming power flows - outgoing power flows - flow losses - charge of heat storage + generation from NACC
570 | @constraint(EP, cPowerBalance[t=1:T, z=1:Z], EP[:ePowerBalance][t,z] == inputs["pD"][t,z])
571 | 
572 | ```
573 | ```
574 |     1848Ã—1 Matrix{ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, ScalarShape}}:
575 |      cPowerBalance[1,1] : vP[2,1] + vP[3,1] + vP[4,1] + vNSE[1,1,1] - vCHARGE[4,1] = 11.162
576 |      cPowerBalance[2,1] : vP[2,2] + vP[3,2] + vP[4,2] + vNSE[1,2,1] - vCHARGE[4,2] = 10.556
577 |      cPowerBalance[3,1] : vP[2,3] + vP[3,3] + vP[4,3] + vNSE[1,3,1] - vCHARGE[4,3] = 10.105
578 |      cPowerBalance[4,1] : vP[2,4] + vP[3,4] + vP[4,4] + vNSE[1,4,1] - vCHARGE[4,4] = 9.878
579 |      cPowerBalance[5,1] : vP[2,5] + vP[3,5] + vP[4,5] + vNSE[1,5,1] - vCHARGE[4,5] = 9.843
580 |      cPowerBalance[6,1] : vP[2,6] + vP[3,6] + vP[4,6] + vNSE[1,6,1] - vCHARGE[4,6] = 10.017
581 |      cPowerBalance[7,1] : vP[2,7] + vP[3,7] + vP[4,7] + vNSE[1,7,1] - vCHARGE[4,7] = 10.39
582 |      cPowerBalance[8,1] : vP[2,8] + vP[3,8] + vP[4,8] + vNSE[1,8,1] - vCHARGE[4,8] = 10.727
583 |      cPowerBalance[9,1] : vP[2,9] + vP[3,9] + vP[4,9] + vNSE[1,9,1] - vCHARGE[4,9] = 11.298
584 |      cPowerBalance[10,1] : vP[2,10] + vP[3,10] + vP[4,10] + vNSE[1,10,1] - vCHARGE[4,10] = 11.859
585 |      cPowerBalance[11,1] : vP[2,11] + vP[3,11] + vP[4,11] + vNSE[1,11,1] - vCHARGE[4,11] = 12.196
586 |      cPowerBalance[12,1] : vP[2,12] + vP[3,12] + vP[4,12] + vNSE[1,12,1] - vCHARGE[4,12] = 12.321
587 |      cPowerBalance[13,1] : vP[2,13] + vP[3,13] + vP[4,13] + vNSE[1,13,1] - vCHARGE[4,13] = 12.381
588 |      â‹®
589 |      cPowerBalance[1837,1] : vP[2,1837] + vP[3,1837] + vP[4,1837] + vNSE[1,1837,1] - vCHARGE[4,1837] = 13.911
590 |      cPowerBalance[1838,1] : vP[2,1838] + vP[3,1838] + vP[4,1838] + vNSE[1,1838,1] - vCHARGE[4,1838] = 13.818
591 |      cPowerBalance[1839,1] : vP[2,1839] + vP[3,1839] + vP[4,1839] + vNSE[1,1839,1] - vCHARGE[4,1839] = 13.71
592 |      cPowerBalance[1840,1] : vP[2,1840] + vP[3,1840] + vP[4,1840] + vNSE[1,1840,1] - vCHARGE[4,1840] = 13.796
593 |      cPowerBalance[1841,1] : vP[2,1841] + vP[3,1841] + vP[4,1841] + vNSE[1,1841,1] - vCHARGE[4,1841] = 15.038
594 |      cPowerBalance[1842,1] : vP[2,1842] + vP[3,1842] + vP[4,1842] + vNSE[1,1842,1] - vCHARGE[4,1842] = 16.088
595 |      cPowerBalance[1843,1] : vP[2,1843] + vP[3,1843] + vP[4,1843] + vNSE[1,1843,1] - vCHARGE[4,1843] = 16.076
596 |      cPowerBalance[1844,1] : vP[2,1844] + vP[3,1844] + vP[4,1844] + vNSE[1,1844,1] - vCHARGE[4,1844] = 15.782
597 |      cPowerBalance[1845,1] : vP[2,1845] + vP[3,1845] + vP[4,1845] + vNSE[1,1845,1] - vCHARGE[4,1845] = 15.392
598 |      cPowerBalance[1846,1] : vP[2,1846] + vP[3,1846] + vP[4,1846] + vNSE[1,1846,1] - vCHARGE[4,1846] = 14.663
599 |      cPowerBalance[1847,1] : vP[2,1847] + vP[3,1847] + vP[4,1847] + vNSE[1,1847,1] - vCHARGE[4,1847] = 13.62
600 |      cPowerBalance[1848,1] : vP[2,1848] + vP[3,1848] + vP[4,1848] + vNSE[1,1848,1] - vCHARGE[4,1848] = 12.388
601 | ```
602 | 
603 | 
604 | After this final constraint is defined, `generate_model` finishes compiling the EP, and `run_genx_simple` (or multistage) uses `solve_model` to solve the EP. This will be described in Tutorial 5.
605 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorial_5_solve_model.md:
--------------------------------------------------------------------------------
  1 | # Tutorial 5: Solving the Model
  2 | 
  3 | [Interactive Notebook of the tutorial](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_5_Solve_Model.ipynb)
  4 | 
  5 | In Tutorial 4, we went over how the model is generated when GenX is run using `Run.jl`. In the function `run_genx_case_simple` (or multistage), after `generate_model` is called, `solve_model` is called to solve the EP.
  6 | 
  7 | ![png](./files/runcase.png)
  8 | 
  9 | In this tutorial, we go over how to use JuMP to solve a model, what it looks like to solve GenX, and how to edit the solver settings.
 10 | 
 11 | ## Table of Contents
 12 | * [A Simple Example](#Simple)
 13 | * [GenX](#GenX)
 14 | * [Infeasibility](#Infeasibility)
 15 | 
 16 | ## A Simple Example
 17 | 
 18 | From Tutorial 4, we have the model:
 19 | 
 20 | ```math
 21 | \begin{aligned}
 22 | & \min 10 x + 15 y &\text{Objective function (cost)}\\ 
 23 | & \text{s.t.} & \\
 24 | & x + y \geq 10 &\text{Grid Demand}\\
 25 | & 55x + 70y \leq \ 1000 &\text{Construction constraint}\\
 26 | & 40 x + 5 y \leq 200 &\text{Emissions constraint} \\
 27 | & x, y \geq 0 &\text{Non-negativity constraints}\\
 28 | \end{aligned}
 29 | ```
 30 | 
 31 | 
 32 | ```julia
 33 | using JuMP
 34 | using HiGHS
 35 | ```
 36 | 
 37 | 
 38 | ```julia
 39 | power = Model(HiGHS.Optimizer)
 40 | 
 41 | @variable(power,x,Int) # Coal
 42 | @variable(power,y,Int) # Wind
 43 | 
 44 | @constraint(power, non_neg_x, x >= 0) # Non-negativity constraint (can't have negative power plants!)
 45 | @constraint(power, non_neg_y, y >= 0) # Non-negativity constraint
 46 | 
 47 | @constraint(power, emissions, 40x + 5y <= 200) # Emisisons constraint
 48 | @constraint(power, construction_costs, 55x + 70y <= 1000) # Cost of constructing a new plant
 49 | 
 50 | @constraint(power, demand, x + y >= 10) # Grid demand
 51 | 
 52 | @expression(power,objective,10x+15y)
 53 | 
 54 | @objective(power, Min, objective)
 55 | ```
 56 | 
 57 | ```math
 58 | 10 x + 15 y 
 59 | ```
 60 | 
 61 | JuMP uses the function `optimize!(model)` to solve the LP:
 62 | 
 63 | ```julia
 64 | optimize!(power)
 65 | ```
 66 | 
 67 | ```
 68 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
 69 |     Presolving model
 70 |     3 rows, 2 cols, 6 nonzeros
 71 |     3 rows, 2 cols, 6 nonzeros
 72 |     Objective function is integral with scale 0.2
 73 |     
 74 |     Solving MIP model with:
 75 |        3 rows
 76 |        2 cols (0 binary, 2 integer, 0 implied int., 0 continuous)
 77 |        6 nonzeros
 78 |     
 79 |             Nodes      |    B&B Tree     |            Objective Bounds              |  Dynamic Constraints |       Work      
 80 |          Proc. InQueue |  Leaves   Expl. | BestBound       BestSol              Gap |   Cuts   InLp Confl. | LpIters     Time
 81 |     
 82 |              0       0         0   0.00%   90              inf                  inf        0      0      0         0     0.0s
 83 |     
 84 |     Solving report
 85 |       Status            Optimal
 86 |       Primal bound      130
 87 |       Dual bound        130
 88 |       Gap               0% (tolerance: 0.01%)
 89 |       Solution status   feasible
 90 |                         130 (objective)
 91 |                         0 (bound viol.)
 92 |                         0 (int. viol.)
 93 |                         0 (row viol.)
 94 |       Timing            0.00 (total)
 95 |                         0.00 (presolve)
 96 |                         0.00 (postsolve)
 97 |       Nodes             1
 98 |       LP iterations     1 (total)
 99 |                         0 (strong br.)
100 |                         0 (separation)
101 |                         0 (heuristics)
102 | ```
103 | 
104 | We can use the function `value.()` to get the value of each variable, and `objective_value()` to get the total objective value.
105 | 
106 | 
107 | ```julia
108 | println("# Coal Plants: ", value.(x))
109 | println("# Wind Farms: ", value.(y))
110 | println("Cost: ", objective_value(power))
111 | ```
112 | 
113 | ```
114 |     # Coal Plants: 4.0
115 |     # Wind Farms: 6.0
116 |     Cost: 130.0
117 | ```
118 | 
119 | We can also use the JuMP function `solution_summary` to see more details of the [solution](https://jump.dev/JuMP.jl/stable/manual/solutions/):
120 | 
121 | 
122 | ```julia
123 | solution_summary(power)
124 | ```
125 | 
126 | ```
127 |     * Solver : HiGHS
128 |     
129 |     * Status
130 |       Result count       : 1
131 |       Termination status : OPTIMAL
132 |       Message from the solver:
133 |       "kHighsModelStatusOptimal"
134 |     
135 |     * Candidate solution (result #1)
136 |       Primal status      : FEASIBLE_POINT
137 |       Dual status        : NO_SOLUTION
138 |       Objective value    : 1.30000e+02
139 |       Objective bound    : 1.30000e+02
140 |       Relative gap       : 0.00000e+00
141 |     
142 |     * Work counters
143 |       Solve time (sec)   : 3.36621e-03
144 |       Simplex iterations : 1
145 |       Barrier iterations : -1
146 |       Node count         : 1
147 | ```
148 | 
149 | ## GenX
150 | 
151 | Let's optimize the GenX model created in the last Tutorial. To do so, we'll create the inputs for `generate_model` and run it. 
152 | 
153 | 
154 | ```julia
155 | using GenX
156 | ```
157 | 
158 | 
159 | ```julia
160 | case = joinpath("example_systems/1_three_zones") 
161 | 
162 | genx_settings = GenX.get_settings_path(case, "genx_settings.yml");
163 | writeoutput_settings = GenX.get_settings_path(case, "output_settings.yml")
164 | setup = GenX.configure_settings(genx_settings,writeoutput_settings)
165 | 
166 | settings_path = GenX.get_settings_path(case)
167 | 
168 | ### Create TDR_Results
169 | TDRpath = joinpath(case, setup["TimeDomainReductionFolder"])
170 | system_path = joinpath(case, setup["SystemFolder"])
171 | 
172 | if setup["TimeDomainReduction"] == 1
173 |     GenX.prevent_doubled_timedomainreduction(system_path)
174 |     if !GenX.time_domain_reduced_files_exist(TDRpath)
175 |         println("Clustering Time Series Data (Grouped)...")
176 |         GenX.cluster_inputs(case, settings_path, setup)
177 |     else
178 |         println("Time Series Data Already Clustered.")
179 |     end
180 | end
181 | 
182 | OPTIMIZER =  GenX.configure_solver(settings_path,HiGHS.Optimizer);
183 | 
184 | inputs = GenX.load_inputs(setup, case)
185 | ```
186 | 
187 | ```julia
188 | EP = GenX.generate_model(setup,inputs,OPTIMIZER)
189 | ```
190 | 
191 | ```
192 |     Discharge Module
193 |     Non-served Energy Module
194 |     Investment Discharge Module
195 |     Unit Commitment Module
196 |     Emissions Module (for CO2 Policy modularization
197 |     Dispatchable Resources Module
198 |     Storage Resources Module
199 |     Storage Investment Module
200 |     Storage Core Resources Module
201 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
202 |     Thermal (Unit Commitment) Resources Module
203 |     C02 Policies Module
204 |     Energy Share Requirement Policies Module
205 |     Capacity Reserve Margin Policies Module
206 |     Minimum Capacity Requirement Module
207 |     Maximum Capacity Requirement Module
208 | 
209 |     A JuMP Model
210 |     Minimization problem with:
211 |     Variables: 18492
212 |     Objective function type: AffExpr
213 |     `AffExpr`-in-`MathOptInterface.EqualTo{Float64}`: 5544 constraints
214 |     `AffExpr`-in-`MathOptInterface.GreaterThan{Float64}`: 7398 constraints
215 |     `AffExpr`-in-`MathOptInterface.LessThan{Float64}`: 27730 constraints
216 |     `VariableRef`-in-`MathOptInterface.EqualTo{Float64}`: 2 constraints
217 |     `VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 18490 constraints
218 |     Model mode: AUTOMATIC
219 |     CachingOptimizer state: EMPTY_OPTIMIZER
220 |     Solver name: HiGHS
221 |     Names registered in the model: cCO2Emissions_systemwide, cCapacityResMargin, cESRShare, cMaxCap, cMaxCapEnergy, cMaxCapEnergyDuration, cMaxNSE, cMaxRetCommit, cMaxRetEnergy, cMaxRetNoCommit, cMinCap, cMinCapEnergy, cMinCapEnergyDuration, cNSEPerSeg, cPowerBalance, cSoCBalInterior, cSoCBalStart, cZoneMaxCapReq, cZoneMinCapReq, eCFix, eCFixEnergy, eCNSE, eCStart, eCVar_in, eCVar_out, eCapResMarBalance, eCapResMarBalanceStor, eCapResMarBalanceThermal, eCapResMarBalanceVRE, eELOSS, eELOSSByZone, eESR, eESRDischarge, eEmissionsByPlant, eEmissionsByZone, eExistingCap, eExistingCapEnergy, eGenerationByThermAll, eGenerationByVRE, eGenerationByZone, eMaxCapRes, eMaxCapResInvest, eMinCapRes, eMinCapResInvest, eObj, ePowerBalance, ePowerBalanceDisp, ePowerBalanceNse, ePowerBalanceStor, ePowerBalanceThermCommit, eTotalCFix, eTotalCFixEnergy, eTotalCNSE, eTotalCNSET, eTotalCNSETS, eTotalCStart, eTotalCStartT, eTotalCVarIn, eTotalCVarInT, eTotalCVarOut, eTotalCVarOutT, eTotalCap, eTotalCapEnergy, vCAP, vCAPENERGY, vCHARGE, vCO2Cap_slack, vCOMMIT, vNSE, vP, vRETCAP, vRETCAPENERGY, vS, vSHUT, vSTART, vZERO
222 | ```
223 | 
224 | 
225 | The function `solve_model(model, setup)` uses `optimize` to optimize the model:
226 | 
227 | 
228 | ```julia
229 | solution = optimize!(EP) # GenX.solve_model(EP,setup)
230 | ```
231 | 
232 | 
233 | ```julia
234 | objective_value(EP)
235 | ```
236 | 
237 | ```
238 |     9776.57688838726
239 | ```
240 | 
241 | ## Infeasibility 
242 | 
243 | In some cases, your model may not be able to return a value. This happens when no value can be found that satisfies all constraints. To see this, let's go back to our simple example and change one of the parameters to break the model.
244 | 
245 | ```math
246 | \begin{aligned}
247 | & \min 10 x + 15 y &\text{Objective function (cost)}\\ 
248 | & \text{s.t.} & \\
249 | & x + y \geq 10 &\text{Grid Demand}\\
250 | & 55x + 70y \leq \ 1000 &\text{Construction constraint}\\
251 | & 40 x + 5 y \leq 200 &\text{Emissions constraint} \\
252 | & 7 x + 30 y \geq 500 &\textbf{New Constraint} \\
253 | & x, y \geq 0 &\text{Non-negativity constraints}\\
254 | \end{aligned}
255 | ```
256 | 
257 | ```julia
258 | @constraint(power, new, 7x + 30y >= 500)
259 | 
260 | ```
261 | 
262 | ```math
263 | 7 x + 30 y \geq 500 
264 | ```
265 | 
266 | ```julia
267 | print(power)
268 | ```
269 | 
270 | ```math
271 | \begin{aligned}
272 | \min\quad & 10 x + 15 y\\
273 | \text{Subject to} \quad & x \geq 0\\
274 |  & y \geq 0\\
275 |  & x + y \geq 10\\
276 |  & 7 x + 30 y \geq 500\\
277 |  & 40 x + 5 y \leq 200\\
278 |  & 55 x + 70 y \leq 1000\\
279 |  & x \in \mathbb{Z}\\
280 |  & y \in \mathbb{Z}\\
281 | \end{aligned} 
282 | ```
283 | 
284 | ```julia
285 | optimize!(power)
286 | ```
287 | 
288 | ```
289 |     Presolving model
290 |     Presolve: Infeasible
291 |     
292 |     Solving report
293 |       Status            Infeasible
294 |       Primal bound      inf
295 |       Dual bound        -inf
296 |       Gap               inf
297 |       Solution status   -
298 |       Timing            0.00 (total)
299 |                         0.00 (presolve)
300 |                         0.00 (postsolve)
301 |       Nodes             0
302 |       LP iterations     0 (total)
303 |                         0 (strong br.)
304 |                         0 (separation)
305 |                         0 (heuristics)
306 | ```
307 | 
308 | In this case, the infeasibility was detected on the presovle since it's clear no solution would fit within all constraints. For information on how to debug an infeasible solution, see the [JuMP documentaion](https://jump.dev/JuMP.jl/stable/manual/solutions/#Conflicts). Some solvers, such as Gurobi, will compute what is causing the conflict, e.g. which constraints are infeasible with one another (HiGHS does not do this). 
309 | 
310 | GenX version 0.4 has the feature `ComputeConflict` in settings. If the model does not work, try setting `ComputeConflict = 1`, and the conflicting constraints will be returned.
311 | 
312 | Tutorial 6 describes the solver settings, how to change them, and the effects of PreSolve, Crossover, and Feasibility Tolerance.
313 | 
314 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorial_6_solver_settings.md:
--------------------------------------------------------------------------------
  1 | # Tutorial 6: Solver Settings
  2 | 
  3 | [Interactive Notebook of the tutorial](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_6_Solver_Settings.ipynb)
  4 | 
  5 | Though solving the model relies only on `optimize`, there are a number of ways to change the way in which the model is optimized. This tutorial goes over solver parameters and how they affect the model solution.
  6 | 
  7 | ## Table of Contents
  8 | * [The HiGHs Solver](#HiGHs)
  9 | * [Feasibility Tolerance](#Feasibility)
 10 | * [PreSolve](#PreSolve)
 11 | * [Crossover](#Crossover)
 12 | 
 13 | 
 14 | ```julia
 15 | using YAML
 16 | using GenX
 17 | using JuMP
 18 | using HiGHS
 19 | using DataFrames
 20 | using Plots
 21 | using Plotly
 22 | ```
 23 | 
 24 | ```julia
 25 | case = joinpath("example_systems/1_three_zones") 
 26 | 
 27 | genx_settings = GenX.get_settings_path(case, "genx_settings.yml");
 28 | writeoutput_settings = GenX.get_settings_path(case, "output_settings.yml")
 29 | setup = GenX.configure_settings(genx_settings,writeoutput_settings) 
 30 | settings_path = GenX.get_settings_path(case)
 31 | ```
 32 | ```
 33 |     Configuring Settings
 34 | 
 35 |     "example_systems/1_three_zones/settings"
 36 | ```
 37 | 
 38 | ```julia
 39 | ### Create TDR_Results
 40 | if "TDR_results" in cd(readdir,case)
 41 |     rm(joinpath(case,"TDR_results"), recursive=true) 
 42 | end
 43 | 
 44 | TDRpath = joinpath(case, setup["TimeDomainReductionFolder"])
 45 | system_path = joinpath(case, setup["SystemFolder"])
 46 | 
 47 | if setup["TimeDomainReduction"] == 1
 48 |     GenX.prevent_doubled_timedomainreduction(system_path)
 49 |     if !GenX.time_domain_reduced_files_exist(TDRpath)
 50 |         println("Clustering Time Series Data (Grouped)...")
 51 |         GenX.cluster_inputs(case, settings_path, setup)
 52 |     else
 53 |         println("Time Series Data Already Clustered.")
 54 |     end
 55 | end
 56 | 
 57 | inputs = GenX.load_inputs(setup, case)
 58 | ```
 59 | 
 60 | ### The HiGHS Solver
 61 | 
 62 | In the example files, the solver is [HiGHS](https://highs.dev). HiGHS is freely available for all to use. Other solvers, such as [Gurobi](https://www.gurobi.com), are available for free for academics. For the purpose of this tutorial, we will be focusing on HiGHS. 
 63 | 
 64 | To set the solver preferences, go into the settings folder of your case and select the YAML file of the solver you're using.
 65 | 
 66 | 
 67 | ```julia
 68 | settings_folder = cd(readdir,joinpath(case,"Settings")) # Print Settings folder
 69 | ```
 70 | ```
 71 |     7-element Vector{String}:
 72 |     ".DS_Store"
 73 |     "clp_settings.yml"
 74 |     "cplex_settings.yml"
 75 |     "genx_settings.yml"
 76 |     "gurobi_settings.yml"
 77 |     "highs_settings.yml"
 78 |     "time_domain_reduction_settings.yml"
 79 | ```
 80 |     
 81 | ```julia
 82 | highs_settings = YAML.load(open(joinpath(case,"Settings/highs_settings.yml")))
 83 | ```
 84 | ```
 85 |     Dict{Any, Any} with 6 entries:
 86 |       "Method"        => "choose"
 87 |       "Feasib_Tol"    => 0.1
 88 |       "run_crossover" => "on"
 89 |       "TimeLimit"     => 1.0e23
 90 |       "Optimal_Tol"   => 0.1
 91 |       "Pre_Solve"     => "choose"
 92 | ```
 93 | 
 94 | The function `configure_highs` in `src/configure_solver` contains a list of default settings for the HiGHS solver
 95 | 
 96 | ![png](./files/highs_defaults.png)
 97 | 
 98 | There are about 80, so we'll only focus on a few for now. In most cases, you can leave the other settings on default. 
 99 | 
100 | The default settings are combined with the settings you specify in `highs_settings.yml` in `configure_highs`, which is called from `configure_solver` in `run_genx_case_simple` right before the model is generated.
101 | 
102 | 
103 | ### Feasibility Tolerance
104 | 
105 | The parameters `Feasib_Tol` and `Optimal_Tol` represent the feasibility of the primal and dual functions respectively. Without going into too much detail, a [__dual function__](https://en.wikipedia.org/wiki/Duality_(optimization)) is an analagous formulation of the original ("primal") function whose objective value acts as a lower bound to the primal function. The objective value of the primal function is then the upper bound of the dual function. HiGHS will solve the dual and primal at each time step, then terminate when the solutions of the two are within a certain tolerance range. For more information on how this works specifically in HiGHS, see the [HiGHS documentaion](https://ergo-code.github.io/HiGHS/dev/terminology). 
106 | 
107 | If we decrease the tolerance parameters, the objective value becomes closer to the "true" optimal value.
108 | 
109 | 
110 | ```julia
111 | # Change tolerance, generate and solve model`
112 | tols = [1e-7,1e-4,1e-2,1e-1]
113 | OV = zeros(1,4)
114 | 
115 | for i in range(1,length(tols))
116 |     println(" ")
117 |     println("----------------------------------------------------")
118 |     println("Iteration ",i)
119 |     println("Tolerance = ",tols[i])
120 |     println("----------------------------------------------------")
121 |     highs_settings["Feasib_Tol"] = tols[i]
122 |     highs_settings["Optimal_Tol"] = tols[i]
123 |     YAML.write_file(joinpath(case,"settings/highs_settings.yml"), highs_settings)
124 |     OPTIMIZER1 = GenX.configure_solver(settings_path,HiGHS.Optimizer)
125 |     EP = GenX.generate_model(setup,inputs,OPTIMIZER1)
126 |     GenX.solve_model(EP,setup)
127 |     OV[i] = objective_value(EP)
128 | end
129 | ```
130 | Using the smallest tolerance as our base, we can see the error as the tolerance increases:
131 | 
132 | ```julia
133 | DataFrame([tols[2:end] abs.(OV[2:end] .- OV[1])],["Tolerance", "Error"])
134 | ```
135 | ```
136 | 3Ã—2 DataFrame
137 |     Row	Tolerance	Error
138 |         Float64	    Float64
139 |     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
140 |     1	0.0001	    0.0
141 |     2	0.01	    1.81899e-12
142 |     3	0.1	        3.45608e-11
143 | ```
144 | 
145 | ```julia
146 | using Plots
147 | using Plotly
148 | ```
149 | 
150 | 
151 | ```julia
152 | # Plot the error as a function of the tolerance
153 | plotlyjs()
154 | Plots.scatter(tols[2:end], abs.(OV[2:end] .- OV[1]),legend=:topleft,
155 |                 ylabel="Error", xlabel="Tolerance",size=(920,400),label=:"Error",title="Tolerance of Solver vs Error")
156 | ygrid!(:on, :dashdot, 0.1)
157 | ```
158 | 
159 | ![svg](./files/t6_tols.svg)
160 | 
161 | ### PreSolve
162 | 
163 | In optimization, presolve is a stage at the beginning of the solver in which the problem is simplified to remove redunant constraints and otherwise simplify the problem before the optimization itself begins. The default for presolve in GenX is "choose", allowing the solver to use presolve only if it will reduce computation time. 
164 | 
165 | Let's try setting presolve to off and on, then compare computation times.
166 | 
167 | 
168 | ```julia
169 | # First, set tolerances back to original
170 | highs_settings["Feasib_Tol"] = 1e-5
171 | highs_settings["Optimal_Tol"] = 1e-5
172 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)    
173 | ```
174 | 
175 | ```julia
176 | highs_settings["Pre_Solve"] = "off"
177 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)
178 | OPTIMIZER2 = GenX.configure_solver(setup["Solver"], settings_path);
179 | EP2 = GenX.generate_model(setup,inputs,OPTIMIZER2)
180 | ```
181 | ```
182 |     Discharge Module
183 |     Non-served Energy Module
184 |     Investment Discharge Module
185 |     Unit Commitment Module
186 |     Emissions Module (for CO2 Policy modularization
187 |     Dispatchable Resources Module
188 |     Storage Resources Module
189 |     Storage Investment Module
190 |     Storage Core Resources Module
191 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
192 |     Thermal (Unit Commitment) Resources Module
193 |     C02 Policies Module
194 |     Energy Share Requirement Policies Module
195 |     Capacity Reserve Margin Policies Module
196 |     Minimum Capacity Requirement Module
197 |     Maximum Capacity Requirement Module
198 | 
199 |     A JuMP Model
200 |     Minimization problem with:
201 |     Variables: 18492
202 |     Objective function type: AffExpr
203 |     `AffExpr`-in-`MathOptInterface.EqualTo{Float64}`: 5544 constraints
204 |     `AffExpr`-in-`MathOptInterface.GreaterThan{Float64}`: 7398 constraints
205 |     `AffExpr`-in-`MathOptInterface.LessThan{Float64}`: 27730 constraints
206 |     `VariableRef`-in-`MathOptInterface.EqualTo{Float64}`: 2 constraints
207 |     `VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 18490 constraints
208 |     Model mode: AUTOMATIC
209 |     CachingOptimizer state: EMPTY_OPTIMIZER
210 |     Solver name: HiGHS
211 |     Names registered in the model: cCO2Emissions_systemwide, cCapacityResMargin, cESRShare, cMaxCap, cMaxCapEnergy, cMaxCapEnergyDuration, cMaxNSE, cMaxRetCommit, cMaxRetEnergy, cMaxRetNoCommit, cMinCap, cMinCapEnergy, cMinCapEnergyDuration, cNSEPerSeg, cPowerBalance, cSoCBalInterior, cSoCBalStart, cZoneMaxCapReq, cZoneMinCapReq, eCFix, eCFixEnergy, eCNSE, eCStart, eCVar_in, eCVar_out, eCapResMarBalance, eCapResMarBalanceStor, eCapResMarBalanceThermal, eCapResMarBalanceVRE, eELOSS, eELOSSByZone, eESR, eESRDischarge, eEmissionsByPlant, eEmissionsByZone, eExistingCap, eExistingCapEnergy, eGenerationByThermAll, eGenerationByVRE, eGenerationByZone, eMaxCapRes, eMaxCapResInvest, eMinCapRes, eMinCapResInvest, eObj, ePowerBalance, ePowerBalanceDisp, ePowerBalanceNse, ePowerBalanceStor, ePowerBalanceThermCommit, eTotalCFix, eTotalCFixEnergy, eTotalCNSE, eTotalCNSET, eTotalCNSETS, eTotalCStart, eTotalCStartT, eTotalCVarIn, eTotalCVarInT, eTotalCVarOut, eTotalCVarOutT, eTotalCap, eTotalCapEnergy, vCAP, vCAPENERGY, vCHARGE, vCO2Cap_slack, vCOMMIT, vNSE, vP, vRETCAP, vRETCAPENERGY, vS, vSHUT, vSTART, vZERO
212 | ```
213 | 
214 | ```julia
215 | solution2 = @elapsed GenX.solve_model(EP2,setup)
216 | ```
217 | ```
218 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
219 |     Solving LP without presolve or with basis
220 |     Using EKK dual simplex solver - serial
221 |       Iteration        Objective     Infeasibilities num(sum)
222 |               0    -4.3842305368e+02 Ph1: 19318(12391.6); Du: 5(438.423) 0s
223 |           18662     9.5083526285e+03 Pr: 3142(5018.36); Du: 0(0.000872182) 5s
224 |           23359     9.8583752055e+03 Pr: 0(0); Du: 0(1.27565e-13) 6s
225 |     Model   status      : Optimal
226 |     Simplex   iterations: 23359
227 |     Objective value     :  9.8583752055e+03
228 |     HiGHS run time      :          6.77
229 |     LP solved for primal
230 | 
231 |     6.84933975
232 | ```
233 | 
234 | ```julia
235 | highs_settings["Pre_Solve"] = "on"
236 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)
237 | OPTIMIZER3 = GenX.configure_solver(setup["Solver"], settings_path);
238 | EP3 = GenX.generate_model(setup,inputs,OPTIMIZER3)
239 | ```
240 | ```
241 |     Discharge Module
242 |     Non-served Energy Module
243 |     Investment Discharge Module
244 |     Unit Commitment Module
245 |     Emissions Module (for CO2 Policy modularization
246 |     Dispatchable Resources Module
247 |     Storage Resources Module
248 |     Storage Investment Module
249 |     Storage Core Resources Module
250 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
251 |     Thermal (Unit Commitment) Resources Module
252 |     C02 Policies Module
253 |     Energy Share Requirement Policies Module
254 |     Capacity Reserve Margin Policies Module
255 |     Minimum Capacity Requirement Module
256 |     Maximum Capacity Requirement Module
257 | 
258 |     A JuMP Model
259 |     Minimization problem with:
260 |     Variables: 18492
261 |     Objective function type: AffExpr
262 |     `AffExpr`-in-`MathOptInterface.EqualTo{Float64}`: 5544 constraints
263 |     `AffExpr`-in-`MathOptInterface.GreaterThan{Float64}`: 7398 constraints
264 |     `AffExpr`-in-`MathOptInterface.LessThan{Float64}`: 27730 constraints
265 |     `VariableRef`-in-`MathOptInterface.EqualTo{Float64}`: 2 constraints
266 |     `VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 18490 constraints
267 |     Model mode: AUTOMATIC
268 |     CachingOptimizer state: EMPTY_OPTIMIZER
269 |     Solver name: HiGHS
270 |     Names registered in the model: cCO2Emissions_systemwide, cCapacityResMargin, cESRShare, cMaxCap, cMaxCapEnergy, cMaxCapEnergyDuration, cMaxNSE, cMaxRetCommit, cMaxRetEnergy, cMaxRetNoCommit, cMinCap, cMinCapEnergy, cMinCapEnergyDuration, cNSEPerSeg, cPowerBalance, cSoCBalInterior, cSoCBalStart, cZoneMaxCapReq, cZoneMinCapReq, eCFix, eCFixEnergy, eCNSE, eCStart, eCVar_in, eCVar_out, eCapResMarBalance, eCapResMarBalanceStor, eCapResMarBalanceThermal, eCapResMarBalanceVRE, eELOSS, eELOSSByZone, eESR, eESRDischarge, eEmissionsByPlant, eEmissionsByZone, eExistingCap, eExistingCapEnergy, eGenerationByThermAll, eGenerationByVRE, eGenerationByZone, eMaxCapRes, eMaxCapResInvest, eMinCapRes, eMinCapResInvest, eObj, ePowerBalance, ePowerBalanceDisp, ePowerBalanceNse, ePowerBalanceStor, ePowerBalanceThermCommit, eTotalCFix, eTotalCFixEnergy, eTotalCNSE, eTotalCNSET, eTotalCNSETS, eTotalCStart, eTotalCStartT, eTotalCVarIn, eTotalCVarInT, eTotalCVarOut, eTotalCVarOutT, eTotalCap, eTotalCapEnergy, vCAP, vCAPENERGY, vCHARGE, vCO2Cap_slack, vCOMMIT, vNSE, vP, vRETCAP, vRETCAPENERGY, vS, vSHUT, vSTART, vZERO
271 | ```
272 | 
273 | ```julia
274 | solution3 = @elapsed GenX.solve_model(EP3,setup)
275 | ```
276 | 
277 | ```
278 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
279 |     Presolving model
280 |     35947 rows, 17464 cols, 136177 nonzeros
281 |     34470 rows, 15991 cols, 136110 nonzeros
282 |     Presolve : Reductions: rows 34470(-6202); columns 15991(-2501); elements 136110(-29848)
283 |     Solving the presolved LP
284 |     Using EKK dual simplex solver - serial
285 |       Iteration        Objective     Infeasibilities num(sum)
286 |               0    -2.9011432493e+00 Ph1: 118(557.293); Du: 15(2.90114) 0s
287 |           16445     9.8583752055e+03 Pr: 0(0); Du: 0(1.25316e-13) 4s
288 |     Solving the original LP from the solution after postsolve
289 |     Model   status      : Optimal
290 |     Simplex   iterations: 16445
291 |     Objective value     :  9.8583752055e+03
292 |     HiGHS run time      :          4.55
293 |     LP solved for primal
294 | 
295 |     4.655439792
296 | ```
297 | 
298 | As we can see, the runtime with PreSolve is shorter, and would be even shorter for a larger system. However, it could introduce numerical inaccuracies. If you find the model is struggling to converge, try turn PreSolve off.
299 | 
300 | ```julia
301 | # Write PreSolve back to choose
302 | highs_settings["Pre_Solve"] = "choose"
303 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)
304 | ```
305 | 
306 | ### Crossover
307 | 
308 | Crossover is a method in which, at each step of the optimization algorithm, the solution is pushed to the boundary of the solution space. This allows for a potentially more accurate solution, but can be computationally intensive. Let's try turning crossover on and off and see what solutions we get:
309 | 
310 | 
311 | ```julia
312 | highs_settings["run_crossover"] = "off"
313 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)
314 | OPTIMIZER4 = GenX.configure_solver(setup["Solver"], settings_path);
315 | EP4 = GenX.generate_model(setup,inputs,OPTIMIZER4)
316 | ```
317 | 
318 | ```
319 |     Discharge Module
320 |     Non-served Energy Module
321 |     Investment Discharge Module
322 |     Unit Commitment Module
323 |     Emissions Module (for CO2 Policy modularization
324 |     Transmission Module
325 |     Dispatchable Resources Module
326 |     Storage Resources Module
327 |     Storage Investment Module
328 |     Storage Core Resources Module
329 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
330 |     Thermal (Unit Commitment) Resources Module
331 |     C02 Policies Module
332 |     Minimum Capacity Requirement Module
333 | 
334 |     A JuMP Model
335 |     Minimization problem with:
336 |     Variables: 83192
337 |     Objective function type: AffExpr
338 |     `AffExpr`-in-`MathOptInterface.EqualTo{Float64}`: 24024 constraints
339 |     `AffExpr`-in-`MathOptInterface.GreaterThan{Float64}`: 20334 constraints
340 |     `AffExpr`-in-`MathOptInterface.LessThan{Float64}`: 103509 constraints
341 |     `VariableRef`-in-`MathOptInterface.EqualTo{Float64}`: 4 constraints
342 |     `VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 79492 constraints
343 |     Model mode: AUTOMATIC
344 |     CachingOptimizer state: EMPTY_OPTIMIZER
345 |     Solver name: HiGHS
346 |     Names registered in the model: cCO2Emissions_systemwide, cMaxCap, cMaxCapEnergy, cMaxCapEnergyDuration, cMaxFlow_in, cMaxFlow_out, cMaxLineReinforcement, cMaxNSE, cMaxRetCommit, cMaxRetEnergy, cMaxRetNoCommit, cMinCap, cMinCapEnergy, cMinCapEnergyDuration, cNSEPerSeg, cPowerBalance, cSoCBalInterior, cSoCBalStart, cTAuxLimit, cTAuxSum, cTLoss, cZoneMinCapReq, eAvail_Trans_Cap, eCFix, eCFixEnergy, eCNSE, eCStart, eCVar_in, eCVar_out, eELOSS, eELOSSByZone, eEmissionsByPlant, eEmissionsByZone, eExistingCap, eExistingCapEnergy, eGenerationByThermAll, eGenerationByVRE, eGenerationByZone, eLosses_By_Zone, eMinCapRes, eMinCapResInvest, eNet_Export_Flows, eObj, ePowerBalance, ePowerBalanceDisp, ePowerBalanceLossesByZone, ePowerBalanceNetExportFlows, ePowerBalanceNse, ePowerBalanceStor, ePowerBalanceThermCommit, eTotalCFix, eTotalCFixEnergy, eTotalCNSE, eTotalCNSET, eTotalCNSETS, eTotalCNetworkExp, eTotalCStart, eTotalCStartT, eTotalCVarIn, eTotalCVarInT, eTotalCVarOut, eTotalCVarOutT, eTotalCap, eTotalCapEnergy, eTransMax, vCAP, vCAPENERGY, vCHARGE, vCO2Cap_slack, vCOMMIT, vFLOW, vNEW_TRANS_CAP, vNSE, vP, vRETCAP, vRETCAPENERGY, vS, vSHUT, vSTART, vTAUX_NEG, vTAUX_POS, vTLOSS, vZERO
347 | ```
348 | 
349 | ```julia
350 | solution4 = @elapsed GenX.solve_model(EP4,setup)
351 | ```
352 | 
353 | ```
354 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
355 |     Presolving model
356 |     123675 rows, 81174 cols, 478190 nonzeros
357 |     116575 rows, 74076 cols, 478470 nonzeros
358 |     Presolve : Reductions: rows 116575(-31292); columns 74076(-9116); elements 478470(-75676)
359 |     Solving the presolved LP
360 |     Using EKK dual simplex solver - serial
361 |       Iteration        Objective     Infeasibilities num(sum)
362 |               0     1.9243583242e+03 Pr: 5545(9397.81); Du: 0(3.92542e-09) 0s
363 |           13530     2.9999821788e+03 Pr: 30131(9.49605e+06); Du: 0(0.0013131) 5s
364 |           17547     3.5484267823e+03 Pr: 19414(952045); Du: 0(0.00175439) 10s
365 |           20723     4.7298157079e+03 Pr: 29321(991206); Du: 0(0.00183106) 15s
366 |           23580     5.7123748112e+03 Pr: 32150(7.12339e+06); Du: 0(0.00148821) 21s
367 |           26170     6.1864339355e+03 Pr: 23825(7.35638e+06); Du: 0(0.00149712) 26s
368 |           29149     6.6441899572e+03 Pr: 27775(3.51868e+06); Du: 0(0.00148729) 31s
369 |           31348     6.8846964690e+03 Pr: 35484(2.8051e+06); Du: 0(0.00139557) 36s
370 |           33603     6.9920173954e+03 Pr: 24118(2.03558e+06); Du: 0(0.00124593) 42s
371 |           35671     7.2015870783e+03 Pr: 34108(1.48506e+07); Du: 0(0.00155189) 47s
372 |           37885     7.4048679609e+03 Pr: 31619(4.35123e+07); Du: 0(0.00179926) 52s
373 |           40109     7.6356641465e+03 Pr: 25843(2.88592e+06); Du: 0(0.00205301) 58s
374 |           42353     7.8375259516e+03 Pr: 31443(8.49023e+06); Du: 0(0.00226205) 64s
375 |           45258     8.1692860958e+03 Pr: 37870(5.26412e+06); Du: 0(0.00255441) 69s
376 |           48083     8.3152673717e+03 Pr: 40961(1.14875e+07); Du: 0(0.00294817) 75s
377 |           50545     8.4510258333e+03 Pr: 30790(3.72272e+08); Du: 0(0.00304629) 80s
378 |           52861     8.5807507297e+03 Pr: 22492(930796); Du: 0(0.00320519) 85s
379 |           54980     8.6629986832e+03 Pr: 30776(2.08885e+07); Du: 0(0.00337039) 91s
380 |           57333     8.7549581833e+03 Pr: 26257(1.13046e+06); Du: 0(0.00357615) 96s
381 |           59389     8.8000584935e+03 Pr: 36678(2.40379e+06); Du: 0(0.00364701) 101s
382 |           61669     8.8767323679e+03 Pr: 35715(2.44371e+06); Du: 0(0.00390224) 107s
383 |           63914     8.9782186363e+03 Pr: 43654(3.60725e+06); Du: 0(0.00423026) 113s
384 |           66084     9.0603325781e+03 Pr: 22220(2.48776e+06); Du: 0(0.00410399) 118s
385 |           69022     9.1231092369e+03 Pr: 22727(1.78641e+06); Du: 0(0.00444875) 124s
386 |           71953     9.1538574545e+03 Pr: 22264(5.37124e+06); Du: 0(0.00461629) 129s
387 |           74846     9.1867207120e+03 Pr: 26970(1.49142e+06); Du: 0(0.00477614) 135s
388 |           77129     9.2058130738e+03 Pr: 0(0); Du: 0(0.00107487) 140s
389 |           77129     9.2058130738e+03 Pr: 0(0); Du: 0(0.00107487) 140s
390 |     Using EKK dual simplex solver - serial
391 |       Iteration        Objective     Infeasibilities num(sum)
392 |           77129     9.2058130738e+03 Pr: 1(0.000235421); Du: 0(0.000836801) 140s
393 |           77136     9.2058130749e+03 Pr: 0(0); Du: 0(0.000836801) 140s
394 |           77136     9.2058130749e+03 Pr: 0(0); Du: 0(0.000836801) 140s
395 |     Solving the original LP from the solution after postsolve
396 |     Model   status      : Optimal
397 |     Simplex   iterations: 77136
398 |     Objective value     :  9.2058130749e+03
399 |     HiGHS run time      :        140.51
400 |     LP solved for primal
401 | 
402 |     140.762363
403 | ```
404 | 
405 | ```julia
406 | highs_settings["run_crossover"] = "on"
407 | YAML.write_file(joinpath(case,"Settings/highs_settings.yml"), highs_settings)
408 | OPTIMIZER5 = GenX.configure_solver(setup["Solver"], settings_path);
409 | EP5 = GenX.generate_model(setup,inputs,OPTIMIZER5)
410 | ```
411 | 
412 | ```
413 |     Discharge Module
414 |     Non-served Energy Module
415 |     Investment Discharge Module
416 |     Unit Commitment Module
417 |     Emissions Module (for CO2 Policy modularization
418 |     Transmission Module
419 |     Dispatchable Resources Module
420 |     Storage Resources Module
421 |     Storage Investment Module
422 |     Storage Core Resources Module
423 |     Storage Resources with Symmetric Charge/Discharge Capacity Module
424 |     Thermal (Unit Commitment) Resources Module
425 |     C02 Policies Module
426 |     Minimum Capacity Requirement Module
427 | 
428 |     A JuMP Model
429 |     Minimization problem with:
430 |     Variables: 83192
431 |     Objective function type: AffExpr
432 |     `AffExpr`-in-`MathOptInterface.EqualTo{Float64}`: 24024 constraints
433 |     `AffExpr`-in-`MathOptInterface.GreaterThan{Float64}`: 20334 constraints
434 |     `AffExpr`-in-`MathOptInterface.LessThan{Float64}`: 103509 constraints
435 |     `VariableRef`-in-`MathOptInterface.EqualTo{Float64}`: 4 constraints
436 |     `VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 79492 constraints
437 |     Model mode: AUTOMATIC
438 |     CachingOptimizer state: EMPTY_OPTIMIZER
439 |     Solver name: HiGHS
440 |     Names registered in the model: cCO2Emissions_systemwide, cMaxCap, cMaxCapEnergy, cMaxCapEnergyDuration, cMaxFlow_in, cMaxFlow_out, cMaxLineReinforcement, cMaxNSE, cMaxRetCommit, cMaxRetEnergy, cMaxRetNoCommit, cMinCap, cMinCapEnergy, cMinCapEnergyDuration, cNSEPerSeg, cPowerBalance, cSoCBalInterior, cSoCBalStart, cTAuxLimit, cTAuxSum, cTLoss, cZoneMinCapReq, eAvail_Trans_Cap, eCFix, eCFixEnergy, eCNSE, eCStart, eCVar_in, eCVar_out, eELOSS, eELOSSByZone, eEmissionsByPlant, eEmissionsByZone, eExistingCap, eExistingCapEnergy, eGenerationByThermAll, eGenerationByVRE, eGenerationByZone, eLosses_By_Zone, eMinCapRes, eMinCapResInvest, eNet_Export_Flows, eObj, ePowerBalance, ePowerBalanceDisp, ePowerBalanceLossesByZone, ePowerBalanceNetExportFlows, ePowerBalanceNse, ePowerBalanceStor, ePowerBalanceThermCommit, eTotalCFix, eTotalCFixEnergy, eTotalCNSE, eTotalCNSET, eTotalCNSETS, eTotalCNetworkExp, eTotalCStart, eTotalCStartT, eTotalCVarIn, eTotalCVarInT, eTotalCVarOut, eTotalCVarOutT, eTotalCap, eTotalCapEnergy, eTransMax, vCAP, vCAPENERGY, vCHARGE, vCO2Cap_slack, vCOMMIT, vFLOW, vNEW_TRANS_CAP, vNSE, vP, vRETCAP, vRETCAPENERGY, vS, vSHUT, vSTART, vTAUX_NEG, vTAUX_POS, vTLOSS, vZERO
441 | ```
442 | 
443 | ```julia
444 | solution5 = @elapsed GenX.solve_model(EP5,setup)
445 | ```
446 | 
447 | ```
448 |     Running HiGHS 1.6.0: Copyright (c) 2023 HiGHS under MIT licence terms
449 |     Presolving model
450 |     123675 rows, 81174 cols, 478190 nonzeros
451 |     116575 rows, 74076 cols, 478470 nonzeros
452 |     Presolve : Reductions: rows 116575(-31292); columns 74076(-9116); elements 478470(-75676)
453 |     Solving the presolved LP
454 |     Using EKK dual simplex solver - serial
455 |       Iteration        Objective     Infeasibilities num(sum)
456 |               0     1.9243583242e+03 Pr: 5545(9397.81); Du: 0(3.92542e-09) 0s
457 |           13530     2.9999821788e+03 Pr: 30131(9.49605e+06); Du: 0(0.0013131) 5s
458 |           17547     3.5484267823e+03 Pr: 19414(952045); Du: 0(0.00175439) 10s
459 |           20723     4.7298157079e+03 Pr: 29321(991206); Du: 0(0.00183106) 15s
460 |           23580     5.7123748112e+03 Pr: 32150(7.12339e+06); Du: 0(0.00148821) 21s
461 |           26170     6.1864339355e+03 Pr: 23825(7.35638e+06); Du: 0(0.00149712) 26s
462 |           29149     6.6441899572e+03 Pr: 27775(3.51868e+06); Du: 0(0.00148729) 31s
463 |           31348     6.8846964690e+03 Pr: 35484(2.8051e+06); Du: 0(0.00139557) 36s
464 |           33603     6.9920173954e+03 Pr: 24118(2.03558e+06); Du: 0(0.00124593) 42s
465 |           35671     7.2015870783e+03 Pr: 34108(1.48506e+07); Du: 0(0.00155189) 47s
466 |           37885     7.4048679609e+03 Pr: 31619(4.35123e+07); Du: 0(0.00179926) 52s
467 |           40109     7.6356641465e+03 Pr: 25843(2.88592e+06); Du: 0(0.00205301) 58s
468 |           42353     7.8375259516e+03 Pr: 31443(8.49023e+06); Du: 0(0.00226205) 63s
469 |           45258     8.1692860958e+03 Pr: 37870(5.26412e+06); Du: 0(0.00255441) 69s
470 |           48083     8.3152673717e+03 Pr: 40961(1.14875e+07); Du: 0(0.00294817) 75s
471 |           50545     8.4510258333e+03 Pr: 30790(3.72272e+08); Du: 0(0.00304629) 80s
472 |           52861     8.5807507297e+03 Pr: 22492(930796); Du: 0(0.00320519) 85s
473 |           54980     8.6629986832e+03 Pr: 30776(2.08885e+07); Du: 0(0.00337039) 91s
474 |           57333     8.7549581833e+03 Pr: 26257(1.13046e+06); Du: 0(0.00357615) 96s
475 |           59389     8.8000584935e+03 Pr: 36678(2.40379e+06); Du: 0(0.00364701) 101s
476 |           61669     8.8767323679e+03 Pr: 35715(2.44371e+06); Du: 0(0.00390224) 107s
477 |           63914     8.9782186363e+03 Pr: 43654(3.60725e+06); Du: 0(0.00423026) 113s
478 |           66084     9.0603325781e+03 Pr: 22220(2.48776e+06); Du: 0(0.00410399) 118s
479 |           69022     9.1231092369e+03 Pr: 22727(1.78641e+06); Du: 0(0.00444875) 124s
480 |           71953     9.1538574545e+03 Pr: 22264(5.37124e+06); Du: 0(0.00461629) 129s
481 |           74408     9.1814081583e+03 Pr: 29329(5.2193e+06); Du: 0(0.00473215) 134s
482 |           77012     9.2060247446e+03 Pr: 0(0); Du: 0(0.00509972) 140s
483 |           77129     9.2058130738e+03 Pr: 0(0); Du: 0(0.00107487) 140s
484 |           77129     9.2058130738e+03 Pr: 0(0); Du: 0(0.00107487) 140s
485 |     Using EKK dual simplex solver - serial
486 |       Iteration        Objective     Infeasibilities num(sum)
487 |           77129     9.2058130738e+03 Pr: 1(0.000235421); Du: 0(0.000836801) 140s
488 |           77136     9.2058130749e+03 Pr: 0(0); Du: 0(0.000836801) 140s
489 |           77136     9.2058130749e+03 Pr: 0(0); Du: 0(0.000836801) 140s
490 |     Solving the original LP from the solution after postsolve
491 |     Model   status      : Optimal
492 |     Simplex   iterations: 77136
493 |     Objective value     :  9.2058130749e+03
494 |     HiGHS run time      :        140.44
495 |     LP solved for primal
496 | 
497 |     140.74829025
498 | ```


--------------------------------------------------------------------------------
/docs/src/Tutorials/Tutorials_intro.md:
--------------------------------------------------------------------------------
 1 | # GenX Tutorials
 2 | 
 3 | Welcome to the GenX tutorials! In the following tutorials, we outline some important features of GenX and how to run them.
 4 | All the tutorials are written in Julia and are available as Jupyter notebooks at the [GenX-Tutorials](https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials) repository.
 5 | 
 6 | Here is a list of the tutorials:
 7 | 1. [Tutorial 1: Configuring Settings](@ref)
 8 | 2. [Tutorial 2: Network Visualization](@ref)
 9 | 3. [Tutorial 3: K-Means and Time Domain Reduction](@ref)
10 | 4. [Tutorial 4: Model Generation](@ref)
11 | 5. [Tutorial 5: Solving the Model](@ref)
12 | 6. [Tutorial 6: Solver Settings](@ref)
13 | 7. [Tutorial 7: Policy Constraints](@ref)
14 | 8. [Tutorial 8: Outputs](@ref)
15 | 
16 | 
17 | 


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/Julia.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/Julia.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/LatexHierarchy.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/LatexHierarchy.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/addGenX.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/addGenX.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/addIJulia.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/addIJulia.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/default_settings.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/default_settings.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/genx_settings_none.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/genx_settings_none.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/genxsettings.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/genxsettings.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/highs_defaults.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/highs_defaults.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/jump_logo.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/jump_logo.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/jupyter_screen.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/jupyter_screen.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/new_england.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/new_england.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/opennotebook.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/opennotebook.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/runcase.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/runcase.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/t3_kmeans.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/t3_kmeans.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/t3_nokmeans.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/t3_nokmeans.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/t3_recon.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/t3_recon.png


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/t6_tols.svg:
--------------------------------------------------------------------------------
1 | <svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700" height="500" style="" viewBox="0 0 700 500"><rect x="0" y="0" width="700" height="500" style="fill: rgb(255, 255, 255); fill-opacity: 1;"/><defs id="defs-b841ba"><g class="clips"><clipPath id="clipb841baxyplot" class="plotclip"><rect width="526.9299897295447" height="337.6353346456693"/></clipPath><clipPath class="axesclip" id="clipb841bax"><rect x="120.50239643957549" y="0" width="526.9299897295447" height="500"/></clipPath><clipPath class="axesclip" id="clipb841bay"><rect x="0" y="82.79691601049865" width="700" height="337.6353346456693"/></clipPath><clipPath class="axesclip" id="clipb841baxy"><rect x="120.50239643957549" y="82.79691601049865" width="526.9299897295447" height="337.6353346456693"/></clipPath></g><g class="gradients"/></defs><g class="bglayer"/><g class="layer-below"><g class="imagelayer"/><g class="shapelayer"/></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"/><g class="imagelayer"/></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(134.9223964395755,0)" d="M0,82.79691601049865v337.6353346456693" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="xgrid crisp" transform="translate(259.32239643957547,0)" d="M0,82.79691601049865v337.6353346456693" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="xgrid crisp" transform="translate(383.7223964395755,0)" d="M0,82.79691601049865v337.6353346456693" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="xgrid crisp" transform="translate(508.1223964395755,0)" d="M0,82.79691601049865v337.6353346456693" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="xgrid crisp" transform="translate(632.5223964395755,0)" d="M0,82.79691601049865v337.6353346456693" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/></g><g class="y"><path class="ygrid crisp" transform="translate(0,410.87691601049863)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="ygrid crisp" transform="translate(0,352.5069160104986)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="ygrid crisp" transform="translate(0,294.1369160104987)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="ygrid crisp" transform="translate(0,235.76691601049865)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="ygrid crisp" transform="translate(0,177.39691601049864)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/><path class="ygrid crisp" transform="translate(0,119.02691601049864)" d="M120.50239643957549,0h526.9299897295447" style="stroke: rgb(0, 0, 0); stroke-opacity: 0.1; stroke-width: 0.5px;"/></g></g><g class="zerolinelayer"/><path class="xlines-below"/><path class="ylines-below"/><g class="overlines-below"/><g class="xaxislayer-below"/><g class="yaxislayer-below"/><g class="overaxes-below"/><g class="plot" transform="translate(120.50239643957549,82.79691601049865)" clip-path="url('#clipb841baxyplot')"><g class="scatterlayer mlayer"><g class="trace scatter tracee4a825" style="stroke-miterlimit: 2; opacity: 1;"><g class="fills"/><g class="errorbars"/><g class="lines"/><g class="points"><path class="point" transform="translate(14.91,328.08)" d="M4,0A4,4 0 1,1 0,-4A4,4 0 0,1 4,0Z" style="opacity: 1; stroke-width: 1px; fill: rgb(0, 154, 250); fill-opacity: 1; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/><path class="point" transform="translate(64.18,158.2)" d="M4,0A4,4 0 1,1 0,-4A4,4 0 0,1 4,0Z" style="opacity: 1; stroke-width: 1px; fill: rgb(0, 154, 250); fill-opacity: 1; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/><path class="point" transform="translate(512.02,9.56)" d="M4,0A4,4 0 1,1 0,-4A4,4 0 0,1 4,0Z" style="opacity: 1; stroke-width: 1px; fill: rgb(0, 154, 250); fill-opacity: 1; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/></g><g class="text"/></g></g></g><g class="overplot"/><path class="xlines-above crisp" d="M119.50239643957549,420.9322506561679H647.4323861691202" style="fill: none; stroke-width: 1px; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/><path class="ylines-above crisp" d="M120.00239643957549,82.79691601049865V420.4322506561679" style="fill: none; stroke-width: 1px; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/><g class="overlines-above"/><g class="xaxislayer-above"><path class="xtick ticks crisp" d="M0,420.4322506561679v-5" transform="translate(134.9223964395755,0)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="xtick ticks crisp" d="M0,420.4322506561679v-5" transform="translate(259.32239643957547,0)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="xtick ticks crisp" d="M0,420.4322506561679v-5" transform="translate(383.7223964395755,0)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="xtick ticks crisp" d="M0,420.4322506561679v-5" transform="translate(508.1223964395755,0)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="xtick ticks crisp" d="M0,420.4322506561679v-5" transform="translate(632.5223964395755,0)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><g class="xtick"><text text-anchor="middle" x="0" y="434.6322506561679" transform="translate(134.9223964395755,0)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0.000</text></g><g class="xtick"><text text-anchor="middle" x="0" y="434.6322506561679" transform="translate(259.32239643957547,0)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0.025</text></g><g class="xtick"><text text-anchor="middle" x="0" y="434.6322506561679" transform="translate(383.7223964395755,0)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0.050</text></g><g class="xtick"><text text-anchor="middle" x="0" y="434.6322506561679" transform="translate(508.1223964395755,0)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0.075</text></g><g class="xtick"><text text-anchor="middle" x="0" y="434.6322506561679" transform="translate(632.5223964395755,0)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0.100</text></g></g><g class="yaxislayer-above"><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,410.87691601049863)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,352.5069160104986)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,294.1369160104987)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,235.76691601049865)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,177.39691601049864)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><path class="ytick ticks crisp" d="M120.50239643957549,0h5" transform="translate(0,119.02691601049864)" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; stroke-width: 1px;"/><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,410.87691601049863)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">0</text></g><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,352.5069160104986)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">5.00Ã—10â»Â¹Â²</text></g><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,294.1369160104987)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">1.00Ã—10â»Â¹Â¹</text></g><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,235.76691601049865)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">1.50Ã—10â»Â¹Â¹</text></g><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,177.39691601049864)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">2.00Ã—10â»Â¹Â¹</text></g><g class="ytick"><text text-anchor="end" x="117.30239643957549" y="3.8499999999999996" transform="translate(0,119.02691601049864)" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">2.50Ã—10â»Â¹Â¹</text></g></g><g class="overaxes-above"/></g></g><g class="polarlayer"/><g class="ternarylayer"/><g class="geolayer"/><g class="funnelarealayer"/><g class="pielayer"/><g class="treemaplayer"/><g class="sunburstlayer"/><g class="glimages"/><defs id="topdefs-b841ba"><g class="clips"/><clipPath id="legendb841ba"><rect width="70" height="29" x="1" y="1"/></clipPath></defs><g class="layer-above"><g class="imagelayer"/><g class="shapelayer"/></g><g class="infolayer"><g class="legend" pointer-events="all" transform="translate(92,60)"><rect class="bg" shape-rendering="crispEdges" style="stroke: rgb(0, 0, 0); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1; stroke-width: 1px;" width="71" height="30" x="0.5" y="0.5"/><g class="scrollbox" transform="" clip-path="url('#legendb841ba')"><g class="groups"><g class="traces" transform="translate(1,15.5)" style="opacity: 1;"><text class="legendtext" text-anchor="start" x="40" y="4.29" style="font-family: sans-serif; font-size: 11px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">Error</text><g class="layers" style="opacity: 1;"><g class="legendfill"/><g class="legendlines"/><g class="legendsymbols"><g class="legendpoints"><path class="scatterpts" transform="translate(20,0)" d="M4,0A4,4 0 1,1 0,-4A4,4 0 0,1 4,0Z" style="opacity: 1; stroke-width: 1px; fill: rgb(0, 154, 250); fill-opacity: 1; stroke: rgb(0, 0, 0); stroke-opacity: 1;"/></g></g></g><rect class="legendtoggle" x="0" y="-9.5" width="64.609375" height="19" style="fill: rgb(0, 0, 0); fill-opacity: 0;"/></g></g></g><rect class="scrollbar" rx="20" ry="3" width="0" height="0" style="fill: rgb(128, 139, 164); fill-opacity: 1;" x="0" y="0"/></g><g class="g-gtitle"/><g class="g-xtitle"><text class="xtitle" x="383.9673913043478" y="462.640625" text-anchor="middle" style="font-family: sans-serif; font-size: 15px; fill: rgb(0, 0, 0); opacity: 1; font-weight: normal; white-space: pre;">Tolerance</text></g><g class="g-ytitle"><text class="ytitle" transform="rotate(-90,42.5625,251.6145833333333)" x="42.5625" y="251.6145833333333" text-anchor="middle" style="font-family: sans-serif; font-size: 15px; fill: rgb(0, 0, 0); opacity: 1; font-weight: normal; white-space: pre;">Error</text></g><g class="annotation" data-index="0" style="opacity: 1;"><g class="annotation-text-g" transform="rotate(0,383.9673913043478,73)"><g class="cursor-pointer" transform="translate(258,60)"><rect class="bg" x="0.5" y="0.5" width="250" height="25" style="stroke-width: 1px; stroke: rgb(0, 0, 0); stroke-opacity: 0; fill: rgb(0, 0, 0); fill-opacity: 0;"/><text class="annotation-text" text-anchor="middle" x="125.390625" y="20" style="font-family: sans-serif; font-size: 20px; fill: rgb(0, 0, 0); fill-opacity: 1; white-space: pre;">Tolerance of Solver vs Error</text></g></g></g></g></svg>


--------------------------------------------------------------------------------
/docs/src/Tutorials/files/usingIJulia.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/Tutorials/files/usingIJulia.png


--------------------------------------------------------------------------------
/docs/src/User_Guide/TDR_input.md:
--------------------------------------------------------------------------------
 1 | # Time-domain reduction
 2 | 
 3 | Modeling grid operations for each hour of the year can be computationally expensive for models with many zones and resources. Rather than modeling and optimizing power grid operations at a high temporal resolution (e.g., hourly, over a full year) while evaluating new capacity investments, which can be computationally expensive for large-scale studies with several resources, it may be useful to consider a reduced temporal resolution to model annual grid operations. Time-domain reduction is often employed in capacity expansion models as a way to balance model spatial and temporal resolution as well as representation of dispatch, while ensuring reasonable computational times. Such a time-domain reduction is often employed in capacity expansion models as a way to balance model spatial and temporal resolution as well as representation of dispatch, while ensuring reasonable computational times. GenX allows the option of performing time-domain reduction on the user supplied time-series input data to produce a representative time series at the desired level of temporal resolution. The time-domain reduction method provided allows the user to automate these features while specifying the various parameters of the time-domain reduction 'clustering' algorithm to be used in formulating the resulting optimization model. The below table summarizes the list of parameters to be specified by the user to perform the time domain reduction implemented in GenX. These parameters are passed to GenX via the YAML file `time_domain_reduction_settings.yml`.
 4 | 
 5 | It's also possible for GenX perform clustering separately from the optimization task. Check out the [Running a case with Time Domain Reduction](@ref) section for more information. 
 6 | 
 7 | **Structure of the time\_domain\_reduction.yml file**
 8 | 
 9 | |**Key** | **Description**|
10 | | :------------ | :-----------|
11 | |Timesteps\_per\_period | The number of timesteps (e.g., hours) in each representative period (i.e. 168 for weeks, 24 for days, 72 for three-day periods, etc).|
12 | |UseExtremePeriods | 1 = Include outliers (by performance or demand/resource extreme) as their own representative extreme periods. This setting automatically includes periods based on criteria outlined in the dictionary `ExtremePeriods`. Extreme periods can be selected based on following criteria applied to demand profiles or solar and wind capacity factors profiles, at either the zonal or system level. A) absolute (timestep with min/max value) statistic (minimum, maximum) and B) integral (period with min/max summed value) statistic (minimum, maximum). For example, the user could want the hour with the most demand across the whole system to be included among the extreme periods. They would select Demand, System, Absolute, and Max.|
13 | ||0 = Do not include extreme periods.|
14 | |ExtremePeriods | If **UseExtremePeriods = 1**, use this dictionary to select which types of extreme periods to use. Select by profile type (Demand, PV, or Wind), geography (Zone or System), grouping by timestep or by period (Absolute or Integral), and statistic (Maximum or Minimum).|
15 | |ClusterMethod |Either `kmeans` or `kmedoids`, the method used to cluster periods and determine each time step's representative period.|
16 | |ScalingMethod |Either `N` or `S`, the decision to normalize ([0,1]) or standardize (mean 0, variance 1) the input data prior to clustering.|
17 | |MinPeriods |The minimum number of representative periods used to represent the input data. If using UseExtremePeriods, this must be greater or equal to the number of selected extreme periods. If `IterativelyAddPeriods` is off, this will be the total number of representative periods.|
18 | |MaxPeriods| The maximum number of representative periods - both clustered and extreme - that may be used to represent the input data.|
19 | |IterativelyAddPeriods |1 = Add representative periods until the error threshold between input data and represented data is met or the maximum number of representative periods is reached.|
20 | ||0 = Use only the minimum number of representative periods. This minimum value includes the selected extreme periods if `UseExtremePeriods` is on.|
21 | |Threshold |Iterative period addition will end if the period farthest from its representative period (as measured using Euclidean distance) is within this percentage of the total possible error (for normalization) or 95% of the total possible error (Â± 2 Ïƒ for standardization). E.g., for a threshold of 0.01, each period must be within 1% of the spread of possible error before the clustering iterations will terminate (or until the maximum is reached).|
22 | |IterateMethod | Either â€˜cluster' (Default) or â€˜extreme', whether to increment the number of clusters to the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.|
23 | |nReps |Default = 200, the number of kmeans/kmedoids repetitions at the same setting.|
24 | |DemandWeight| Default = 1, a multiplier on demand columns to optionally prioritize better fits for demand profiles over resource capacity factor or fuel price profiles.|
25 | |WeightTotal |Default = 8760, the sum to which the relative weights of representative periods will be scaled.|
26 | |ClusterFuelPrices| Either 1 or 0, whether or not to use the fuel price time series in `Fuels_data.csv` in the clustering process. If 'no', this function will still write `Fuels_data.csv` in the TimeDomainReductionFolder with reshaped fuel prices based on the number and size of the representative periods but will not use the fuel price time series for selection of representative periods.|
27 | 


--------------------------------------------------------------------------------
/docs/src/User_Guide/generate_alternatives.md:
--------------------------------------------------------------------------------
 1 | ## Running Modeling to Generate Alternatives with GenX
 2 | 
 3 | GenX includes a modeling to generate alternatives (MGA) package that can be used to automatically enumerate a diverse set of near cost-optimal solutions to electricity system planning problems. To use the MGA algorithm, user will need to perform the following tasks:
 4 | 
 5 | 1. Add a `Resource_Type` column in all the resource `.csv` files denoting the type of each technology.
 6 | 2. Add a `MGA` column in all the resource `.csv` files denoting the availability of the technology.
 7 | 3. Set the `ModelingToGenerateAlternatives` flag in the `genx_settings.yml` file to 1.
 8 | 4. Set the `ModelingtoGenerateAlternativeSlack` flag in the `genx_settings.yml` file to the desirable level of slack.
 9 | 5. Set the `ModelingToGenerateAlternativesIterations` flag to half the total number of desired solutions, as each iteration provides 2 solutions.
10 | 6. Set the `MGAAnnualGeneration` flag in the `genx_settings.yml` file to the desired MGA formulation.
11 | 7. Solve the model using `Run.jl` file.
12 | 
13 | Results from the MGA algorithm would be saved in MGA\_max and MGA\_min folders in the case folder.


--------------------------------------------------------------------------------
/docs/src/User_Guide/methodofmorris_input.md:
--------------------------------------------------------------------------------
 1 | # Method\_of\_morris\_range.csv ([Example](https://github.com/GenXProject/GenX/blob/main/Example_Systems/MethodofMorrisExample/OneZone/Method_of_morris_range.csv))
 2 | 
 3 | This file contains the settings parameters required to run the Method of Morris algorithm in GenX. 
 4 | 
 5 | !!! note "Note"
 6 |     This file is needed if the `MethodofMorris` flag is ON in the YAML file `genx_settings.yml`.
 7 | 
 8 | |**Column Name** | **Description**|
 9 | | :------------ | :-----------|
10 | |Resource | This column contains **unique** names of resources available to the model. Resources can include generators, storage, and flexible or time shiftable demand.|
11 | |Zone | Integer representing zone number where the resource is located. |
12 | |Lower\_bound | Percentage lower deviation from the nominal value|
13 | |Upper\_bound| Percentage upper deviation from the nominal value|
14 | |Parameter| Column from the `Generators_data.csv` file containing uncertain parameters|
15 | |Group| Group the uncertain parameters that will be changed all at once while performing the sensitivity analysis. For example, if the fuel price of natural gas is uncertain, all generators consuming natural gas should be in the same group. Group name is user defined|
16 | |p_steps| Number of steps between upper and lower bound|
17 | |total\_num\_trajectory| Total number of trakectories through the design matrix|
18 | |num\_trajectory| Selected number of trajectories throigh the design matrix|
19 | |len\_design\_mat| Length of the design matrix|
20 | |policy| Name of the policy|
21 | 
22 | Notes:
23 | 1. Upper and lower bounds are specified in terms of percentage deviation from the nominal value.
24 | 2. Percentage variation for uncertain parameters in a given group is identical. For example, if solar cluster 1 and solar cluster 2 both belong to the â€˜solarâ€™ group, their `Lower_bound` and `Upper_bound` must be identical.
25 | 3. `P_steps` should at least be = 1%, i.e., `Upper_bound â€“ Lower_bound < p_steps`
26 | 4. `P_steps` for parameters in one group must be identical
27 | 5. `Total_num_trajectory` should be around 3 to 4 times the total number of uncertain parameters
28 | 6. `num_trajectory` should be approximately equal to the total number of uncertain parameters
29 | 7. `len_design_mat` should be 1.5 to 2 times the total number of uncertain parameters
30 | 8. Higher number of `num_trajectory` and `len_design_mat` would lead to higher accuracy
31 | 9. Upper and lower bounds should be specified for all the resources included in the `Generators_data.csv` file. If a parameter related to a particular resource is not uncertain, specify upper bound = lower bound = 0.


--------------------------------------------------------------------------------
/docs/src/User_Guide/model_configuration.md:
--------------------------------------------------------------------------------
  1 | # Model settings parameters
  2 | 
  3 | The first step in configuring a GenX model is to specify the model settings parameters. These parameters are specified in a `genx_settings.yml` file inside a `settings` folder which must be located in the current working directory. Settings include those related to model structure, solution strategy and outputs, policy constraints, and others. In particular:
  4 | - Model structure related settings parameters affect the formulation of the model constraints and objective function. 
  5 | - Computational performance related parameters affect the accuracy of the solution.
  6 | - Policy related parameters specify the policy type and policy goal. 
  7 | - Network related parameters specify settings related to transmission network expansion and losses.
  8 | Note that all settings parameters are case sensitive.
  9 | 
 10 | (Optional) The user can also select the output files that they want to export using the `output_settings.yml` file. This file containes a list of `yes/no` options for each output file, and should be located in the `settings` folder. By default, if `output_settings.yml` is not included, GenX will export all output files. 
 11 | 
 12 | The following tables summarize the model settings parameters and their default/possible values.
 13 | 
 14 | ## 1. Model structure related settings parameters
 15 | 
 16 | |**Parameter** | **Description**|
 17 | | :------------ | :-----------|
 18 | |UCommit | Select technical resolution of of modeling thermal generators.|
 19 | ||0 = no unit commitment.|
 20 | ||1 = unit commitment with integer clustering.|
 21 | ||2 = unit commitment with linearized clustering.|
 22 | |OperationalReserves | Flag for modeling operational reserves .|
 23 | ||0 = No operational reserves considered. |
 24 | ||1 = Consider regulation (primary) and spinning (secondary) reserves. |
 25 | |StorageLosses | Flag to account for storage related losses.|
 26 | ||0 = VRE and CO2 constraints DO NOT account for energy lost. |
 27 | ||1 = constraints account for energy lost. |
 28 | |TimeDomainReduction | 1 = Use time domain reduced inputs available in the folder with the name defined by settings parameter `TimeDomainReductionFolder`. If such a folder does not exist or it is empty, time domain reduction will reduce the input data and save the results there.|
 29 | ||0 = Use the data in the main case folder; do not perform clustering.|
 30 | |VirtualChargeDischargeCost | Hypothetical cost of charging and discharging storage resources (in $/MWh).|
 31 | |StorageVirtualDischarge | Flag to enable contributions that a storage device makes to the capacity reserve margin without generating power.|
 32 | ||1 = activate the virtual discharge of storage resources.|
 33 | ||0 = do not activate the virtual discharge of storage resources.|
 34 | |LDSAdditionalConstraints | Flag to activate additional constraints for long duration storage resources to prevent violation of SoC limits in non-representative periods.|
 35 | ||1 = activate additional constraints.|
 36 | ||0 = do not activate additional constraints.|
 37 | |HourlyMatching| Constraint to match generation from clean sources with hourly consumption.|
 38 | ||1 = Constraint is active.|
 39 | ||0 = Constraint is not active.|
 40 | |HydrogenHourlyMatching | Flag to allow hydrogen production to contribute to the hourly clean supply matching constraint.|
 41 | ||1 = Hydrogen production contributes to the hourly clean supply matching constraint.|
 42 | ||0 = Hydrogen production does not contribute to the hourly clean supply matching constraint.|
 43 | 
 44 | ## 2. Solution strategy
 45 | 
 46 | |**Parameter** | **Description**|
 47 | | :------------ | :-----------|
 48 | |ParameterScale | Flag to turn on parameter scaling wherein demand, capacity and power variables defined in GW rather than MW. This flag aides in improving the computational performance of the model. |
 49 | ||1 = Scaling is activated. |
 50 | ||0 = Scaling is not activated. |
 51 | |ObjScale| Parameter value to scale the objective function during optimization.|
 52 | |MultiStage | Model multiple planning stages |
 53 | ||1 = Model multiple planning stages as specified in `multi_stage_settings.yml` |
 54 | ||0 = Model single planning stage |
 55 | |ModelingToGenerateAlternatives | Modeling to Generate Alternatives Algorithm. For more details, see the [Modeling to Generate Alternatives](@ref) section in the **Model Reference**.|
 56 | ||1 = Use the algorithm. |
 57 | ||0 = Do not use the algorithm. |
 58 | |ModelingtoGenerateAlternativeSlack | value used to define the maximum deviation from the least-cost solution as a part of Modeling to Generate Alternative Algorithm. Can take any real value between 0 and 1. |
 59 | |MGAAnnualGeneration| Flag to switch between different MGA formulations.|
 60 | ||1 = Create constraint weighing annual generation.|
 61 | ||0 = Create constraint without weighing annual generation.|
 62 | |MethodofMorris | Method of Morris algorithm |
 63 | ||1 = Use the algorithm. |
 64 | ||0 = Do not use the algorithm. |
 65 | 
 66 | ## 3. Policy related
 67 | 
 68 | |**Parameter** | **Description**|
 69 | | :------------ | :-----------|
 70 | |CO2Cap | Flag for specifying the type of CO2 emission limit constraint.|
 71 | || 0 = no CO2 emission limit|
 72 | || 1 = mass-based emission limit constraint|
 73 | || 2 = demand + rate-based emission limit constraint|
 74 | || 3 = generation + rate-based emission limit constraint|
 75 | |EnergyShareRequirement | Flag for specifying regional renewable portfolio standard (RPS) and clean energy standard policy (CES) related constraints.|
 76 | || Default = 0 (No RPS or CES constraints).|
 77 | || 1 = activate energy share requirement related constraints. |
 78 | |CapacityReserveMargin | Flag for Capacity Reserve Margin constraints. |
 79 | || Default = 0 (No Capacity Reserve Margin constraints)|
 80 | || 1 = activate Capacity Reserve Margin related constraints |
 81 | |MinCapReq | Minimum technology carve out requirement constraints.|
 82 | || 1 = if one or more minimum technology capacity constraints are specified|
 83 | || 0 = otherwise|
 84 | |MaxCapReq | Maximum system-wide technology capacity limit constraints.|
 85 | || 1 = if one or more maximum technology capacity constraints are specified|
 86 | || 0 = otherwise|
 87 | |HydrogenMinimumProduction | Hydrogen production requirements from electrolyzers.|
 88 | |1 = Constraint is active.|
 89 | ||0 = Constraint is not active.| 
 90 | 
 91 | ## 4. Network related
 92 | 
 93 | |**Parameter** | **Description**|
 94 | | :------------ | :-----------|
 95 | |NetworkExpansion | Flag for activating or deactivating inter-regional transmission expansion.|
 96 | ||1 = active|
 97 | ||0 = modeling single zone or for multi-zone problems in which inter regional transmission expansion is not allowed.|
 98 | | DC\_OPF | Flag for using the DC-OPF formulation for calculating transmission line MW flows and imposing constraints.|
 99 | ||1 = use DC-OPF formulation|
100 | ||0 = do not use DC-OPF formulation|
101 | |Trans\_Loss\_Segments | Number of segments to use in piece-wise linear approximation of losses.|
102 | ||1: linear|
103 | ||>=2: piece-wise quadratic|
104 | |IncludeLossesInESR | Flag for including transmission losses and storage losses as part of ESR.|
105 | ||1 = include losses in ESR|
106 | ||0 = do not include losses in ESR|
107 | 
108 | ## 5. Outputs
109 | 
110 | |**Parameter** | **Description**|
111 | | :------------ | :-----------|
112 | |PrintModel | Flag for printing the model equations as .lp file.|
113 | ||1 = including the model equation as an output|
114 | ||0 = the model equation won't be included as an output|
115 | |WriteShadowPrices | Get the optimal values of dual variables of various model related constraints, including to estimate electricity prices, stored value of energy and the marginal CO2 prices.|
116 | | WriteOutputs | Flag for writing the model outputs with hourly resolution or just the annual sum.|
117 | || "full" = write the model outputs with hourly resolution.|
118 | || "annual" = write only the annual sum of the model outputs.|
119 | | OutputFullTimeSeries | Flag for writing the full time series of the model outputs.|
120 | ||1 = write the full time series of the model outputs.|
121 | ||0 = write only the reduced time series of the model outputs.|
122 | | OutputFullTimeSeriesFolder | Name of the folder where the full time series of the model outputs will be stored inside the results directory (default: Full_TimeSeries).|
123 | |OverwriteResults | Flag for overwriting the output results from the previous run.|
124 | ||1 = overwrite the results.|
125 | ||0 = do not overwrite the results.|
126 | 
127 | ## 6. Solver related
128 | 
129 | |**Parameter** | **Description**|
130 | | :------------ | :-----------|
131 | |Solver | OPTIONAL name of solver. Default is "HiGHS" effectively. It is necessary to set `Solver: "Gurobi"` when [reusing the same gurobi environment for multiple solves](https://github.com/jump-dev/Gurobi.jl?tab=readme-ov-file#reusing-the-same-gurobi-environment-for-multiple-solves).
132 | |EnableJuMPStringNames | Flag to enable/disable JuMP string names to improve the performance.|
133 | ||1 = enable JuMP string names.|
134 | ||0 = disable JuMP string names.|
135 | |ComputeConflicts | Flag to enable the computation of conflicts in case of infeasibility of the model (Note: the chosen solver must support this feature).|
136 | ||1 = enable the computation of conflicts.|
137 | ||0 = disable the computation of conflicts.|
138 | 
139 | ## 7. Folder structure related
140 | 
141 | |**Parameter** | **Description**|
142 | | :------------ | :-----------|
143 | |SystemFolder | Name of the folder inside the current working directory where the input data for the system is stored (default = "system").|
144 | |PoliciesFolder | Name of the folder inside the current working directory where the input data for policies is stored (default = "policies").|
145 | |ResourcesFolder | Name of the folder inside the current working directory where the input data for resources is stored (default = "resources").|
146 | |ResourcePoliciesFolder | Name of the folder inside the `ResourcesFolder` where the input data for resource policy assignments is stored (default = "policy_assignments").|
147 | |TimeDomainReductionFolder | Name of the folder inside the current working directory where time domain reduced input data is stored.|
148 | 
149 | The next step in configuring a GenX model is to specify the solver settings parameters using a `[solver_name]_settings.yml` file inside the `settings` folder. The solver settings parameters are solver specific and are described in the following section.
150 | 


--------------------------------------------------------------------------------
/docs/src/User_Guide/model_output.md:
--------------------------------------------------------------------------------
  1 | # GenX Outputs
  2 | 
  3 | The table below summarizes the units of each output variable reported as part of the various CSV files produced after each model run. The reported units are also provided. If a result file includes time-dependent values, the value will not include the hour weight in it. An annual sum ("AnnualSum") column/row will be provided whenever it is possible (e.g., `emissions.csv`).
  4 | 
  5 | ## 1 Default output files
  6 | 
  7 | ### 1.1 capacity.csv
  8 | 
  9 | Reports optimal values of investment variables (except StartCap, which is an input)
 10 | 
 11 | ###### Table 15: Structure of the capacity.csv file
 12 | ---
 13 | |**Output** |**Description** |**Units** |
 14 | | :------------ | :-----------|:-----------|
 15 | | StartCap |Initial power capacity of each resource type in each zone; this is an input |MW |
 16 | | RetCap |Retired power capacity of each resource type in each zone |MW |
 17 | | NewCap |Installed capacity of each resource type in each zone |MW|
 18 | | EndCap| Total power capacity of each resource type in each zone |MW |
 19 | | StartEnergyCap |Initial energy capacity of each resource type in each zone; this is an input and applies only to storage tech.| MWh |
 20 | | RetEnergyCap |Retired energy capacity of each resource type in each zone; applies only to storage tech. |MWh |
 21 | | NewEnergyCap| Installed energy capacity of each resource type in each zone; applies only to storage tech. |MWh |
 22 | | EndEnergyCap |Total installed energy capacity of each resource type in each zone; applies only to storage tech. |MWh |
 23 | | StartChargeCap| Initial charging power capacity of `STOR = 2` resource type in each zone; this is an input |MW |
 24 | | RetChargeCap |Retired charging power capacity of `STOR = 2` resource type in each zone |MW |
 25 | | NewChargeCap |Installed charging capacity of each resource type in each zone |MW |
 26 | | EndChargeCap |Total charging power capacity of each resource type in each zone |MW|
 27 | 
 28 | ### 1.2 costs.csv
 29 | 
 30 | Reports optimal objective function value and contribution of each term by zone.
 31 | 
 32 | ###### Table 16: Structure of the costs.csv file
 33 | ---
 34 | |**Output** |**Description** |**Units** |
 35 | | :------------ | :-----------|:-----------|
 36 | | cTotal |Total objective function value |$ |
 37 | | cFix |Total annualized investment and fixed operating & maintainenance (FOM) costs associated with all resources |$ |
 38 | | cVar |Total annual variable cost associated with all resources; includes fuel costs for thermal plants |$|
 39 | | cNSE |Total annual cost of non-served energy |$|
 40 | | cStart |Total annual cost of start-up of thermal power plants| $|
 41 | | cUnmetRsv |Total annual cost of not meeting time-dependent operating reserve (spinning) requirements |$ |
 42 | | cNetworkExp |Total cost of network expansion |$|
 43 | | cEmissionsRevenue |Total and zonal emissions revenue |$ |
 44 | | cEmissionsCost |Total an zonal emissions cost |$ |
 45 | 
 46 | ### 1.3 emissions.csv
 47 | 
 48 | Reports CO2 emissions by zone at each hour; an annual sum row will be provided. If any emission cap is present, emission prices each zone faced by each cap will be copied on top of this table with the following strucutre.
 49 | 
 50 | ###### Table 17: Structure of emission prices in the emissions.csv file
 51 | ---
 52 | |**Output** |**Description** |**Units** |
 53 | | :------------ | :-----------|:-----------|
 54 | |CO_2\_price |Marginal CO2 abatement cost associated with constraint on maximum annual CO2 emissions; will be same across zones if CO2 emissions constraint is applied for the entire region and not zone-wise |\$/ tonne CO2. |
 55 | 
 56 | ### 1.4 nse.csv
 57 | 
 58 | Reports non-served energy for every model zone, time step and cost-segment.
 59 | 
 60 | ### 1.5 power.csv
 61 | 
 62 | Reports power discharged by each resource (generation, storage, demand response) in each model time step.
 63 | 
 64 | ### 1.6 reliability.csv
 65 | 
 66 | Reports dual variable of maximum non-served energy constraint (shadow price of reliability constraint) for each model zone and time step.
 67 | 
 68 | ### 1.7 prices.csv
 69 | 
 70 | Reports marginal electricity price for each model zone and time step. Marginal electricity price is equal to the dual variable of the load balance constraint. If GenX is configured as a mixed integer linear program, then this output is only generated if `WriteShadowPrices` flag is activated. If configured as a linear program (i.e. linearized unit commitment or economic dispatch) then output automatically available.
 71 | 
 72 | ### 1.8 status.csv
 73 | 
 74 | Reports computational performance of the model and objective function related information.
 75 | 
 76 | ###### Table 18: Structure of the status.csv file
 77 | ---
 78 | |**Output** |**Description** |**Units** |
 79 | | :------------ | :-----------|:-----------|
 80 | |Status | termination criteria (optimal, timelimit etc.).||
 81 | |solve | Solve time including time for pre-solve |seconds |
 82 | |Objval | Optimal objective function value |$|
 83 | |Objbound | Best objective lower bound | $ |
 84 | |FinalMIPGap |Optimality gap at termination in case of a mixed-integer linear program (MIP gap); when using Gurobi, the lower bound and MIP gap is reported excluding constant terms (E.g. fixed cost of existing generators that cannot be retired) in the objective function and hence may not be directly usable. |Fraction|
 85 | 
 86 | ### 1.9 NetRevenue.csv
 87 | 
 88 | This file summarizes the cost, revenue and profit for each generation technology for each region.
 89 | 
 90 | ###### Table 19: Stucture of the NetRevenue.csv file
 91 | ---
 92 | |**Output** |**Description** |**Units** |
 93 | | :------------ | :-----------|:-----------|
 94 | | Fixed\_OM\_cost\_MW | Fixed Operation and Maintenance cost of the MW capacity. |$|
 95 | | Fixed\_OM\_cost\_MWh| Fixed Operation and Maintenance cost of the MWh capacity. Only applicable to energy storage.| $ |
 96 | | Var\_OM\_cost\_out| Variable Operation and Maintenance cost of the power generation or discharge. |$ |
 97 | | Var\_OM\_cost\_in |Variable Operation and Maintenance cost of the power charge/pumping. Only applicable to energy storage. |$ |
 98 | | Fuel\_cost| Fuel cost of the power generation. Only applicable to generation that burns fuel. |$ |
 99 | | Charge\_cost |Cost of charging power (due to the payment for electricity) Only applicable to energy storage. |$|
100 | | EmissionsCost| Cost of buying emission credit. |$ |
101 | | StartCost |Cost of generator start-up. |$ |
102 | | Inv\_cost\_MW |Cost of building MW capacity. |$ |
103 | | Inv\_cost\_MWh| Cost of building MWh capacity. |$ |
104 | | EnergyRevenue |Revenue of generating power.| $ |
105 | | SubsidyRevenue| Revenue of Min\_Cap subsidy. |$ |
106 | | ReserveMarginRevenue| Revenue earned from capacity reserve margin constraints. |$|
107 | | ESRRevenue| Revenue selling renewable/clean energy credits. |$ |
108 | | Revenue| Total Revenue.| $ |
109 | | Cost| Total Cost. |$ |
110 | | Profit |Revenue minus Cost. |$ |
111 | 
112 | ## 2 Settings-specific outputs
113 | 
114 | This section includes the output files that GenX will print if corresponding function is specified in the Settings.
115 | 
116 | ### 2.1 CapacityValue.csv
117 | 
118 | This file includes the time-dependent capacity value calculated for each generator. GenX will print this file only if the capacity reserve margin constraints are modeled through the setting file. Each row of the file (excluding the header) corresponds to a generator specified in the inputs. Each column starting from the t1 to the second last one stores the result of capacity obligation provided in each hour divided by the total capacity. Thus the number is unitless. If the capacity margin reserve is not binding for one hour, GenX will return zero. The last column specified the name of the corresponding capacity reserve constraint. Note that, if the user calculates the hour-weight-averaged capacity value for each generator using data of the binding hours, the result is what RTO/ISO call capacity credit.
119 | 
120 | <!-- #### 2.2 ExportRevenue.csv
121 | 
122 | This file includes the export revenue in $ of each zone. GenX will print this file only when a network is present and Locational Marginal Price (LMP) data is available to the GenX. The Total row includes the time-step-weighted summation of the time-dependent values shown below. For each time-step, the export revenue is calculated as the net outbound powerflow multiplied by the LMP. It is noteworthy that this export revenue is already part of the generation revenue, and the user should not double count.
123 | 
124 | 
125 | #### 2.3 Importcost.csv
126 | 
127 | This file includes the import cost in $ of each zone. GenX will print this file only when a network is present and Locational Marginal Price (LMP) data is available to the GenX. The Total row includes the time-step -weighted summation of the time-dependent values shown below. For each time step, the import cost is calculated as the net inbound powerflow multiplied by the LMP. It is noteworthy that this import cost is already part of the load payment, and the user should not double count. -->
128 | 
129 | ### 2.2 EnergyRevenue.csv
130 | 
131 | This file includes the energy revenue in $ earned by each generator through injecting into the grid. Only annual sum values are available.
132 | 
133 | ### 2.3 ChargingCost.csv
134 | 
135 | This file includes the charging cost  in $ of earned by each generator through withdrawing from the grid. Only annual sum values are available.
136 | 
137 | ### 2.4 ReserveMargin.csv
138 | 
139 | This file includes the shadow prices of the capacity reserve margin constraints. GenX will print this file only when capacity reserve margin is modeled and the shadow price can be obtained form the solver, as described earlier. Each row (except the header) corresponds to a capacity reserve margin constraint, and each column corresponds to an time step. As a reminder, GenX models the capacity reserve margin (aka capacity market) at the time-dependent level, and each constraint either stands for an overall market or a locality constraint.
140 | 
141 | ### 2.5 ReserveMarginRevenue.csv
142 | 
143 | This file includes the capacity revenue earned by each generator listed in the input file. GenX will print this file only when capacity reserve margin is modeled and the shadow price can be obtained form the solver. Each row corresponds to a generator, and each column starting from the 6th to the second last is the total revenue from each capacity reserve margin constraint. The revenue is calculated as the capacity contribution of each time steps multiplied by the shadow price, and then the sum is taken over all modeled time steps. The last column is the total revenue received from all capacity reserve margin constraints. As a reminder, GenX models the capacity reserve margin (aka capacity market) at the time-dependent level, and each constraint either stands for an overall market or a locality constraint.
144 | 
145 | ### 2.6 ESR\_prices.csv
146 | 
147 | This file includes the renewable/clean energy credit price of each modeled RPS/CES constraint. GenX will print this file only when RPS/CES is modeled and the shadow price can be obtained form the solver. The unit is $/MWh.
148 | 
149 | ### 2.7 ESR\_Revenue.csv
150 | 
151 | This file includes the renewable/clean credit revenue earned by each generator listed in the input file. GenX will print this file only when RPS/CES is modeled and the shadow price can be obtained form the solver. Each row corresponds to a generator, and each column starting from the 6th to the second last is the total revenue earned from each RPS constraint. The revenue is calculated as the total annual generation (if elgible for the corresponding constraint) multiplied by the RPS/CES price. The last column is the total revenue received from all constraint. The unit is $.
152 | 
153 | ### 2.8 SubsidyRevenue.csv
154 | 
155 | This file includes subsidy revenue earned if a generator specified Min\_Cap is provided in the input file. GenX will print this file only the shadow price can be obtained form the solver. Do not confuse this with the Minimum Capacity Carveout constraint, which is for a subset of generators, and a separate revenue term will be calculated in other files. The unit is $.
156 | 


--------------------------------------------------------------------------------
/docs/src/User_Guide/multi_stage_input.md:
--------------------------------------------------------------------------------
  1 | # Multi-stage setup
  2 | 
  3 | This section describes the available features, inputs and model components related to formulating and solving multi-stage investment planning problems. Two different types of multi-stage problems can be setup:
  4 | * Perfect foresight: A single multi-stage investment planning problem that simultaneously optimizes capacity and operations across all specified investment stages
  5 | * Myopic: Sequential solution of single-stage investment planning for each investment stage, where capacity additions and retirements from the previous stages are used to determine initial (or existing) capacity at the beginning of the current stage. 
  6 | 
  7 | The table below summarizes the key differences in the two model setups.
  8 | 
  9 | |                                              | Perfect foresight | Myopic                               |
 10 | | :------------------------------------------ | :-----------------: | :------------------------------------: |
 11 | | No. of optimization problems solved        | 1                 | Equal to number of investment stages |
 12 | | Objective function cost basis              | Net present value | Annualized costs                     |
 13 | | Price/dual variable information available? | No                | Yes                                  |
 14 | 
 15 | 
 16 | ### Additional inputs needed for multi-stage modeling
 17 | 
 18 | ####  Input data files
 19 | Instead of one set of input files, there is one directory of input files that needs to be provided for each planning period or stage (e.g., â€œinputs/inputs\_p1/â€ for the first period â€œinputs/inputs\_p2/â€ for the second period, etc.). Below we list the additional parameters that must be provided in the corresponding stage-specific input files to instantiate a multi-stage planning problem.
 20 | 
 21 | 
 22 | |                              |                                                                   **Resource_multistage_data.csv files**                                                                  |
 23 | |:------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|
 24 | | Min\_Retired\_Cap\_MW        | Minimum capacity in MW that must retire in this planning stage. Note that for the co-located VRE-STOR module, this value represents the grid connection component.                                                                                           |
 25 | | Min\_Retired\_Energy\_Cap\_MW | Minimum energy capacity in MW that must retire in this planning stage. Note that for the co-located VRE-STOR module, this value represents the storage component.                                                                                    |
 26 | | Min\_Retired\_Charge\_Cap\_MW | Minimum charge capacity in MW that must retire in this planning stage.                                                                                     |
 27 | | Lifetime                     | The operational lifespan in years of this technology after which it must be retired.                                                                       |
 28 | | Capital\_Recovery\_Period      | The technology-specific period in years over which initial capital costs must be recovered. Note that for the co-located VRE-STOR module, this value represents the grid connection component.                                                               |
 29 | | WACC                         | The technology-specific weighted average cost of capital. Note that for the co-located VRE-STOR module, this value represents the grid connection component.                                                                                                 |
 30 | |Contribute\_Min\_Retirement | {0, 1}, Flag to indicate whether the (retrofitting) resource can contribute to the minimum retirement requirement.|
 31 | 
 32 | |                              |                                                                   **co-located VRE-STOR resources only**                                                                  |
 33 | |:------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|
 34 | |Min\_Retired\_Cap\_Inverter\_MW  |Minimum inverter capacity in MW AC that must retire in this plannig stage. |
 35 | |Min\_Retired\_Cap\_Solar\_MW  |Minimum solar PV capacity in MW DC that must retire in this plannig stage. |
 36 | |Min\_Retired\_Cap\_Wind\_MW  |Minimum wind capacity in MW AC that must retire in this plannig stage. |
 37 | |Min\_Retired\_Cap\_Discharge_DC\_MW  |Minimum storage DC discharge capacity that must retire in this planning stage with `STOR_DC_DISCHARGE = 2`. |
 38 | |Min\_Retired\_Cap\_Charge_DC\_MW  |Minimum storage DC charge capacity that must retire in this planning stage with `STOR_DC_CHARGE = 2`. |
 39 | |Min\_Retired\_Cap\_Discharge_AC\_MW  |Minimum storage AC discharge capacity that must retire in this planning stage with `STOR_AC_DISCHARGE = 2`. |
 40 | |Min\_Retired\_Cap\_Charge_AC\_MW  |Minimum storage AC charge capacity that must retire in this planning stage with `STOR_AC_CHARGE = 2`. |
 41 | |Capital\_Recovery\_Period_DC  |The technology-specific period in years over which initial capital costs for the inverter component must be recovered.|
 42 | |Capital\_Recovery\_Period_Solar  |The technology-specific period in years over which initial capital costs for the solar PV component must be recovered.|
 43 | |Capital\_Recovery\_Period_Wind  |The technology-specific period in years over which initial capital costs for the wind component must be recovered.|
 44 | |Capital\_Recovery\_Period_Discharge_DC  |The technology-specific period in years over which initial capital costs for the storage DC discharge component must be recovered when `STOR_DC_DISCHARGE = 2  `. |
 45 | |Capital\_Recovery\_Period_Charge_DC  |The technology-specific period in years over which initial capital costs for the storage DC charge component must be recovered when `STOR_DC_CHARGE = 2  `.|
 46 | |Capital\_Recovery\_Period_Discharge_AC  |The technology-specific period in years over which initial capital costs for the storage AC discharge component must be recovered when `STOR_AC_DISCHARGE = 2  `.|
 47 | |Capital\_Recovery\_Period_Charge_AC  |The technology-specific period in years over which initial capital costs for the storage AC charge component must be recovered when `STOR_DC_CHARGE = 2  `.|
 48 | | WACC\_DC | The line-specific weighted average cost of capital for the inverter component. |
 49 | | WACC\_Solar | The line-specific weighted average cost of capital for the solar PV component. |
 50 | | WACC\_Wind | The line-specific weighted average cost of capital for the wind component. |
 51 | | WACC\_Discharge\_DC | The line-specific weighted average cost of capital for the discharging DC storage component with `STOR_DC_DISCHARGE = 2`. |
 52 | | WACC\_Charge\_DC | The line-specific weighted average cost of capital for the charging DC storage component with `STOR_DC_CHARGE = 2`. |
 53 | | WACC\_Discharge\_AC | The line-specific weighted average cost of capital for the discharging AC storage component with `STOR_AC_DISCHARGE = 2`. |
 54 | | WACC\_Charge\_AC | The line-specific weighted average cost of capital for the charging AC storage component with `STOR_AC_CHARGE = 2`. |
 55 | 
 56 | |                           |                                                                       **Network.csv**                                                                      |
 57 | |:---------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|
 58 | | Line\_Max\_Flow\_Possible\_MW | The maximum transmission capacity of the line, as opposed to Line\_Max\_Reinforcement\_MW which now specifies the maximum expansion to the line in one stage. |
 59 | | Capital\_Recovery\_Period   | The line-specific period in years over which initial capital costs must be recovered.                                                                |
 60 | | WACC                      | The line-specific weighted average cost of capital.                                                                                                  |
 61 | 
 62 | 
 63 | !!! note "Allowing retrofitted capacity to not contribute to minimum retirement requirements (`myopic=0` only)"
 64 |     Special considerations must be taken into account when utilizing the retrofit module alongside multi-stage planning, particularly when using a non zero value for the `Min_Retired_Cap_MW` column in the `Resource_multistage_data.csv` file.
 65 |     1. When assigning a non-zero value to the `Min_Retired_Cap_MW` column in the `Resource_multistage_data.csv` file, the user can specify whether the model should consider the retrofitted capacity to contribute to the minimum retirement requirement. This is done by setting the `Contribute_Min_Retirement` column to 1 for the retrofit options in the same retrofit cluster (i.e., same `Retrofit_Id`).
 66 |     2. By default, the model assumes that retrofitted capacity contributes to fulfilling minimum retirement requirements.
 67 |     3. Should users wish to exclude retrofitted capacity from contributing to minimum retirement requirements, they must set the `Contribute_Min_Retirement` column to 0 for **all** retrofit options within the same retrofit cluster (i.e., sharing the same `Retrofit_Id`).
 68 |     4. It's important to note that this additional functionality is not currently supported when `myopic=1`. In this case, the retrofit options are only allowed to contribute to the minimum retirement requirement.
 69 | 
 70 |     Example 1: Retrofitted capacity is allowed to contribute to the minimum retirement requirement (i.e., retrofit options in the same cluster (`Retrofit_Id = 1`) all have `Contribute_Min_Retirement = 1`):
 71 |     ```
 72 |     Thermal.csv
 73 | 
 74 |     Resource          â”‚ Zone  | Retrofit | Can_Retrofit | Retrofit_Id | Retrofit_Efficiency
 75 |     String            â”‚ Int64 | Int64    | Int64        | Int64       | Float64
 76 |     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 77 |     coal_1            â”‚ 1     â”‚ 0        â”‚ 1            â”‚ 1           â”‚ 0
 78 |     20_NH3_retrofit_1 â”‚ 1     â”‚ 1        â”‚ 0            â”‚ 1           â”‚ 0.85
 79 |     20_NH3_retrofit_2 â”‚ 1     â”‚ 1        â”‚ 0            â”‚ 1           â”‚ 0.85
 80 |     ```
 81 | 
 82 |     ```
 83 |     Resource_multistage_data.csv
 84 | 
 85 |     Resource          â”‚ Min_Retired_Cap_MW | Contribute_Min_Retirement
 86 |     String            â”‚ Float64            | Float64 
 87 |     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 88 |     coal_1            â”‚ 4500               â”‚ 0
 89 |     20_NH3_retrofit_1 â”‚ 0                  â”‚ 1                         <---------
 90 |     20_NH3_retrofit_2 â”‚ 0                  â”‚ 1                         <---------
 91 |     ```
 92 | 
 93 |     Example 2: Retrofitted capacity is not allowed to contribute to the minimum retirement requirement (i.e., none of the retrofit options in the same cluster (`Retrofit_Id = 1`) contribute to the minimum retirement requirement (`myopic=0`)):
 94 | 
 95 |     Thermal.csv: same as Example 1.
 96 | 
 97 |     ```
 98 |     Resource_multistage_data.csv
 99 | 
100 |     Resource          â”‚ Min_Retired_Cap_MW | Contribute_Min_Retirement
101 |     String            â”‚ Float64            | Float64
102 |     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
103 |     coal_1            â”‚ 4500               â”‚ 0
104 |     20_NH3_retrofit_1 â”‚ 0                  â”‚ 0                         <---------
105 |     20_NH3_retrofit_2 â”‚ 0                  â”‚ 0                         <---------
106 |     ```
107 | 
108 |     And the case where some retrofit options contribute to the minimum retirement requirement and some do not is not currently supported and will be addressed in a future release.
109 | 
110 | !!! warning "Warning"
111 |     If `New_Build` and `Can_Retire` are both set to 0, the model will not transfer built capacity from one stage to the next, but will instead set capacity to the value of existing capacity from the input files for each stage. Therefore, the user must ensure that the capacity is correctly set in the input files for each stage. Not following this guideline may result in incorrect or unexpected results, particularly when setting a a non-zero value for the `Min_Retired_Cap_MW` parameter. 
112 | 
113 | #### Settings Files
114 | A separate settings.yml file includes a list of parameters to be specified to formulate the multi-stage planning model.
115 | 
116 | |                      |                                                                    **multi\_stage\_settings.yml**                                                                    |
117 | |----------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------|
118 | | NumStages            | The number of model investment planning stages.                                                                                                                    |
119 | | StageLengths         | A list of lengths of each model stage in years (e.g., [10, 10, 10] for three stages each of length 10). Note that stages could be defined to be of varying length. |
120 | | Myopic               | 0 = perfect foresight, 1 = myopic model (see above table)                                                                                                          |
121 | | ConvergenceTolerance | The relative optimality gap used for convergence of the dual dynamic programming algorithm. Only required when Myopic = 0                                          |
122 | | WACC                 | Rate used to discount non-technology-specific costs from stage to stage (i.e., the â€œsocial discount rateâ€).                                                        |
123 | | WriteIntermittentOutputs | (valid if Myopic = 1) 0 = do not write intermittent outputs, 1 = write intermittent output. |
124 | 
125 | |                       |                                                                                  **time\_domain\_reduction\_settings.yml**                                                                                  |
126 | |:-----------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
127 | | MultiStageConcatenate | Designates whether to use time domain reduction for the full set of input data together (1) or to reduce only the first stage data and apply the returned representative periods to the rest of the input data (0). |
128 | 


--------------------------------------------------------------------------------
/docs/src/User_Guide/running_TDR.md:
--------------------------------------------------------------------------------
 1 | # Running a case with Time Domain Reduction
 2 | 
 3 | There are two ways to run a case with a reduced (e.g. less than full-year) temporal resolution.
 4 | 1. Let GenX perform the time domain reduction before optimizing.
 5 | 2. Bring your own clustered data
 6 | 
 7 | It's also possible for GenX perform clustering separately from the optimization task. 
 8 | 
 9 | ## Method 1: Let GenX perform the time domain reduction (clustering)
10 | 
11 | Set `TimeDomainReduction: 1 `in the GenX settings for the case.
12 | 
13 | When the case is run (but before the optimization model is built), reduced time series data will be output to a folder within the case, (typically) `TDR_results`. Note that if the data already exists in that folder, it will not be overwritten. If a user wants to change the time domain reduction settings and try again, the folder should be deleted before the case is run.
14 | 
15 | The clustering is done according to the settings in `time_domain_reduction.yml`. These are described in the Inputs section of data_documentation.
16 | 
17 | Time domain clustering can only be performed on data which represents a single contiguous period: typically a year of 8760 or 8736 hours.
18 | 
19 | The header of the file `Demand_data.csv` in the main case folder will typically look like this:
20 | 
21 | ```
22 | ..., Rep_Periods, Timesteps_per_Rep_Period, Sub_Weights, ...
23 |                1,                     8760,        8760,
24 | ```
25 | 
26 | ## Method 2: Bring your own clustered data
27 | 
28 | The second method is to use an external program to generate the reduced ('clustered') time series data. For instance, PowerGenome has a capability to construct GenX cases with clustered time series data.
29 | 
30 | Running using this method **requires** setting `TimeDomainReduction: 0` in the GenX settings for the case.
31 | 
32 | Clustered time series data requires specifying the clustering data using three columns in `Demand_data.csv`: `Rep_Periods`, `Timesteps_per_Rep_Period`, and `Sub_Weights`. For example, a problem representing a full year via 3 representative weeks, and where the first week represents one which is twice as common as the others, would look like
33 | 
34 | ```
35 | ..., Rep_Periods, Timesteps_per_Rep_Period, Sub_Weights, ...
36 |                3,                      168,      4368.0,
37 |                                                  2184.0,
38 |                                                  2184.0,
39 | ```
40 | 
41 | In this example, the first week represents a total of `26*168 = 4368` hours over a full year.
42 | 
43 | The time series data are written in single unbroken columns: in this example, the `Time_Index` ranges from 1 to 504.
44 | 
45 | For problems involving Long Duration Storage, a file `Period_map.csv` is necessary to describe how these representative periods occur throughout the modeled year.
46 | 
47 | See also the [Time-domain reduction](@ref).
48 | 
49 | ## Performing time domain reduction (TDR) separately from optimization
50 | *Added in 0.3.4*
51 | 
52 | It may be useful to perform time domain reduction (TDR) (or "clustering") on a set of inputs before using them as part of full GenX optimization task. For example, a user might want to test various TDR settings and examine the resulting clustered inputs. This can now be performed using the run_timedomainreduction! function.
53 | 
54 | ```
55 | $ julia --project=/home/youruser/GenX
56 | 
57 | julia> using GenX
58 | julia> run_timedomainreduction!("/path/to/case")
59 | ```
60 | 
61 | This function will obey the settings in `path/to/case/settings/time_domain_reduction_settings.yml`. It will output the resulting clustered time series files in the case.
62 | 
63 | Running this function will overwrite these files in the case. This is done with the expectation that the user is trying out various settings.


--------------------------------------------------------------------------------
/docs/src/User_Guide/running_model.md:
--------------------------------------------------------------------------------
 1 | # Running the model
 2 | 
 3 | When running a new case, it is recommended to create a new folder for the case outside of the `GenX` repository. This folder should contain all the `.csv` input files described in the [GenX Inputs](@ref) section, as well as the `settings` folder containing at least the `genx_settings.yml` and `[solver_name].yml` files.  
 4 | 
 5 | !!! tip "Tip"
 6 |     Check out the [Running GenX](@ref) for additional information on how to run GenX and what happens when you run a case.
 7 | 
 8 | Once the model and the solver are set up, and once all the `.csv` input files are ready, GenX can be run using the following command:
 9 | 
10 | ```
11 | $ julia --project=/path/to/GenX
12 | 
13 | julia> using GenX
14 | julia> run_genx_case!("/path/to/case")
15 | ```
16 | 
17 | where `/path/to/GenX` is the path to the `GenX` repository, and `/path/to/case` is the path to the folder of the case. 
18 | 
19 | Alternatively, you can create a `Run.jl` file with the following code:
20 | 
21 | ```julia
22 | using GenX
23 | run_genx_case!(dirname(@__FILE__))
24 | ```
25 | and and place it in the case folder. Then, you can run the case by opening a terminal and running the following command:
26 | 
27 | ```bash
28 | $ julia --project="/path/to/GenX" /path/to/case/Run.jl
29 | ```
30 | where `/path/to/GenX` is the path to the `GenX` repository, and `/path/to/case` is the path to the folder of the case.
31 | 
32 | The output files will be saved in the `Results` folder inside the case folder. Check out the [GenX Outputs](@ref) section for more information on the output files.
33 | 
34 | !!! note "Slack Variables"
35 |     To run a case with **slack variables**, check out the [Policy Slack Variables](@ref) section.


--------------------------------------------------------------------------------
/docs/src/User_Guide/slack_variables_overview.md:
--------------------------------------------------------------------------------
 1 | # Policy Slack Variables
 2 | _Added in 0.3.5_
 3 | 
 4 | Rather than modeling policy requirements as inflexible constraints, it may be advantageous to instead allow these requirements to be violated at some predetermined cost. 
 5 | This is accomplished via 'slack variables,' which can be used by the model to meet a policy constraint if it cannot be met cost-effectively by normal means. 
 6 | Once the incremental shadow price of meeting a policy constraint rises above a cost threshold set by the user, the model will rely on the slack variable to fill any remaining gap. 
 7 | 
 8 | Using slack variables rather than hard constraints may be useful for GenX users who wish to avoid unexpected infeasibilities resulting from policy requirements that cannot be met. 
 9 | Using slack variables with very high cost thresholds, users can quickly identify specific policy constraints that are effectively infeasible without causing errors. 
10 | 
11 | Slack variables with lower assigned costs can also be used to model policies with built-in cost thresholds, for example a CO2 Cap with a maximum allowable carbon price of \$200/ton. 
12 | They can be activated for each individual policy type available in GenX, including: Capacity Reserve Margins, Energy Share Requirements, CO2 Caps, Minimum Capacity Requirements, and Maximum Capacity Requirements. 
13 | 
14 | ## Running cases with slack variables
15 | 
16 | Slack variables are turned off by default in GenX, but can be automatically activated for each policy type by providing the relevant inputs. 
17 | Slack variables will only be activated when the relevant policy type is itself activated in `GenX_settings.yml`. 
18 | For some policy types, slack variables are activated by providing a new input file, while for others they are activated by modifying an existing file. 
19 | Instructions for each policy type are listed below:
20 | 
21 | ## Capacity Reserve Margin
22 | 
23 | Slack variables for Capacity Reserve Margin constraints are created when GenX detects the presence of the file `Capacity_reserve_margin_slack.csv` in the Inputs folder. 
24 | This file should contain two columns: one titled 'CRM_Constraint' naming the individual Capacity Reserve Margin constraints in the same order in which they are listed in the first row of `Capacity_reserve_margin.csv`, and a second titled 'PriceCap' containing the price thresholds for each constraint. 
25 | The units for these thresholds are $/MW.
26 | 
27 | ## CO2 Cap
28 | Slack variables for CO2 Cap constraints are created when GenX detects the presence of the file `CO2_cap_slack.csv` in the Inputs folder. 
29 | This file should contain two columns: one titled 'CO2_Cap_Constraint' naming the individual CO2 Cap constraints in the same order in which they are listed in the first row of `CO2_Cap.csv`, and a second titled 'PriceCap' containing the price thresholds for each constraint.  The units for these thresholds are $/ton. 
30 | The CO2 Cap slack variable itself is always in units of tons of CO2, even if the CO2 Cap is a rate-based cap.
31 | 
32 | ## Energy Share Requirement
33 | 
34 | Slack variables for Energy Share Requirement constraints are created when GenX detects the presence of the file `Energy_share_requirement_slack.csv` in the Inputs folder. 
35 | This file should contain two columns: one titled 'ESR_Constraint' naming the individual Energy Share Requirement constraints in the same order in which they are listed in the first row of `Energy_share_requirement.csv`, and a second titled 'PriceCap' containing the price thresholds for each constraint. 
36 | The units for these thresholds are \$/MWh.
37 | 
38 | ## Minimum Capacity Requirement
39 | 
40 | Slack variables for Minimum Capacity Requirement constraints are created when GenX detects the presence of a column titled 'PriceCap' in the file `Minimum_capacity_requirement.csv`. 
41 | This column contains the price thresholds for each Minimum Capacity Requirement constraint, in units of \$/MW. 
42 | 
43 | ## Maximum Capacity Requirement
44 | 
45 | Slack variables for Maximum Capacity Requirement constraints are created when GenX detects the presence of a column titled 'PriceCap' in the file `Maximum_capacity_requirement.csv`. 
46 | This column contains the price thresholds for each Maximum Capacity Requirement constraint, in units of \$/MW. 
47 | 
48 | ## Slack Variables Results Files
49 | 
50 | By default, a policy type's result files include the shadow prices for each policy constraint. 
51 | When slack variables are activated, outputs also include the final values of the slack variables (i.e. the amount by which the policy constraint was violated), and the total costs associated with those slack variables. 
52 | These files are named using the convention `X_prices_and_penalties.csv`, where `X` is the name of the relevant policy type.
53 | 
54 | GenX will also print the total cost associated with each activated slack variable type in the file `costs.csv`.
55 | 
56 | ## Slack Variables Example
57 | 
58 | The folder `Example_Systems/SmallNewEngland/ThreeZones_Slack_Variables_Example` contains examples of the input files needed to activate slack variables for each of the policy types in GenX. 
59 | Running this example with a given set of policy constraints activated will generate the relevant slack variables and print their outputs.
60 |  


--------------------------------------------------------------------------------
/docs/src/User_Guide/solver_configuration.md:
--------------------------------------------------------------------------------
 1 | # Solver Configuration
 2 | 
 3 | To define and solve the optimization problems, GenX relies on [JuMP](https://jump.dev/JuMP.jl/stable/), a domain-specific modeling language for mathematical optimization written in Julia, and on a variety of open-source and commercial solvers. GenX supports the following solvers:
 4 | 
 5 | - [Cbc](https://github.com/coin-or/Cbc) (open-source)
 6 | - [Clp](https://github.com/coin-or/Clp) (open-source)
 7 | - [CPLEX](https://www.ibm.com/analytics/cplex-optimizer) (commercial)
 8 | - [Gurobi](https://www.gurobi.com/) (commercial)
 9 | - [HiGHS](https://highs.dev/) (open-source)
10 | - [SCIP](https://scip.zib.de/) (open-source)
11 | 
12 | Solver related settings parameters are specified in the appropriate .yml file (e.g. `highs_settings.yml`, `gurobi_settings.yml`, etc.), which should be located in the `settings` folder inside the current working directory (the same `settings` folder where `genx_settings.yml` is located). Settings are specific to each solver. Check the `Example_Systems` folder for examples of solver settings files and parameters. 
13 | 
14 | !!! note "Note"
15 |     GenX supplies default settings for most solver settings in the various solver-specific functions found in the `src/configure_solver/` directory.
16 |     To overwrite default settings, you can specify the below Solver specific settings.
17 | 
18 | The following table summarizes the solver settings parameters and their default/possible values. 
19 | !!! tip "Tip"
20 |     Since each solver has its own set of parameters names, together with a description of the parameter, the table provides a reference to the the corresponding solver specific parameter name. 
21 | 
22 | #### Solver settings parameters**
23 | 
24 | |**Settings Parameter** | **Description**|
25 | |:----------------------|:---------------|
26 | |Method | Algorithm used to solve continuous models or the root node of a MIP model. Generally, barrier method provides the fastest run times for real-world problem set.|
27 | || **CPLEX**: CPX\_PARAM\_LPMETHOD - Default = 0; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-algorithm-continuous-linear-problems) for more specifications.|
28 | || **Gurobi**: Method - Default = -1; See [link](https://www.gurobi.com/documentation/8.1/refman/method.html) for more specifications.|
29 | || **clp**: SolveType - Default = 5; See [link](https://www.coin-or.org/Doxygen/Clp/classClpSolve.html) for more specifications.|
30 | || **HiGHS**: Method - Default = "choose"; See [link](https://ergo-code.github.io/HiGHS/dev/options/definitions/) for more specifications.|
31 | |BarConvTol | Convergence tolerance for barrier algorithm.|
32 | || **CPLEX**: CPX\_PARAM\_BAREPCOMP - Default = 1e-8; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-convergence-tolerance-lp-qp-problems) for more specifications.|
33 | || **Gurobi**: BarConvTol - Default = 1e-8; See [link](https://www.gurobi.com/documentation/8.1/refman/barconvtol.html) for more specifications.|
34 | |Feasib\_Tol | All constraints must be satisfied as per this tolerance. Note that this tolerance is absolute.|
35 | || **CPLEX**: CPX\_PARAM\_EPRHS - Default = 1e-6; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-feasibility-tolerance) for more specifications.|
36 | || **Gurobi**: FeasibilityTol - Default = 1e-6; See [link](https://www.gurobi.com/documentation/9.1/refman/feasibilitytol.html) for more specifications.|
37 | || **clp**: PrimalTolerance - Default = 1e-7; See [link](https://www.coin-or.org/Clp/userguide/clpuserguide.html) for more specifications.|
38 | || **clp**: DualTolerance - Default = 1e-7; See [link](https://www.coin-or.org/Clp/userguide/clpuserguide.html) for more specifications.|
39 | |Optimal\_Tol | Reduced costs must all be smaller than Optimal\_Tol in the improving direction in order for a model to be declared optimal.|
40 | || **CPLEX**: CPX\_PARAM\_EPOPT - Default = 1e-6; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-optimality-tolerance) for more specifications.|
41 | || **Gurobi**: OptimalityTol - Default = 1e-6; See [link](https://www.gurobi.com/documentation/8.1/refman/optimalitytol.html) for more specifications.|
42 | |Pre\_Solve | Controls the presolve level.|
43 | || **Gurobi**: Presolve - Default = -1; See [link](https://www.gurobi.com/documentation/8.1/refman/presolve.html) for more specifications.|
44 | || **clp**: PresolveType - Default = 5; See [link](https://www.coin-or.org/Doxygen/Clp/classClpSolve.html) for more specifications.|
45 | |Crossover | Determines the crossover strategy used to transform the interior solution produced by barrier algorithm into a basic solution.|
46 | || **CPLEX**: CPX\_PARAM\_SOLUTIONTYPE - Default = 2; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-optimality-tolerance) for more specifications.|
47 | || **Gurobi**: Crossover - Default = 0; See [link](https://www.gurobi.com/documentation/9.1/refman/crossover.html#:~:text=Use%20value%200%20to%20disable,interior%20solution%20computed%20by%20barrier.) for more specifications.|
48 | |NumericFocus | Controls the degree to which the code attempts to detect and manage numerical issues.|
49 | || **CPLEX**: CPX\_PARAM\_NUMERICALEMPHASIS - Default = 0; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-numerical-precision-emphasis) for more specifications.|
50 | || **Gurobi**: NumericFocus - Default = 0; See [link](https://www.gurobi.com/documentation/9.1/refman/numericfocus.html) for more specifications.|
51 | |TimeLimit | Time limit to terminate the solution algorithm, model could also terminate if it reaches MIPGap before this time.|
52 | || **CPLEX**: CPX\_PARAM\_TILIM- Default = 1e+75; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-optimizer-time-limit-in-seconds) for more specifications.|
53 | || **Gurobi**: TimeLimit - Default = infinity; See [link](https://www.gurobi.com/documentation/9.1/refman/timelimit.html) for more specifications.|
54 | || **clp**: MaximumSeconds - Default = -1; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
55 | |MIPGap | Optimality gap in case of mixed-integer program.|
56 | || **CPLEX**: CPX\_PARAM\_EPGAP- Default = 1e-4; See [link](https://www.ibm.com/docs/en/icos/22.1.1?topic=parameters-relative-mip-gap-tolerance) for more specifications.|
57 | || **Gurobi**: MIPGap - Default = 1e-4; See [link](https://www.gurobi.com/documentation/9.1/refman/mipgap2.html) for more specifications.|
58 | |DualObjectiveLimit | When using dual simplex (where the objective is monotonically changing), terminate when the objective exceeds this limit.|
59 | || **clp**: DualObjectiveLimit - Default = 1e308; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
60 | |MaximumIterations | Terminate after performing this number of simplex iterations.|
61 | || **clp**: MaximumIterations - Default = 2147483647; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
62 | |LogLevel | Set to 1, 2, 3, or 4 for increasing output. Set to 0 to disable output.|
63 | || **clp**: logLevel - Default = 1; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
64 | || **cbc**: logLevel - Default = 1; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
65 | |InfeasibleReturn | Set to 1 to return as soon as the problem is found to be infeasible (by default, an infeasibility proof is computed as well).|
66 | || **clp**: InfeasibleReturn - Default = 0; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
67 | |Scaling | Sets or unsets scaling; 0 -off, 1 equilibrium, 2 geometric, 3 auto, 4 dynamic(later).|
68 | || **clp**: Scaling - Default = 3; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
69 | |Perturbation | Perturbs problem; Switch on perturbation (50), automatic (100), don't try perturbing (102).|
70 | || **clp**: Perturbation - Default = 3; See [link](https://www.coin-or.org/Doxygen/Clp/classClpModel.html) for more specifications.|
71 | |maxSolutions | Terminate after this many feasible solutions have been found.|
72 | || **cbc**: maxSolutions - Default = -1; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
73 | |maxNodes | Terminate after this many branch-and-bound nodes have been evaluated|
74 | || **cbc**: maxNodes - Default = -1; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
75 | | allowableGap | Terminate after optimality gap is less than this value (on an absolute scale)|
76 | || **cbc**: allowableGap - Default = -1; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
77 | |ratioGap | Terminate after optimality gap is smaller than this relative fraction.|
78 | || **cbc**: ratioGap - Default = Inf; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
79 | |threads | Set the number of threads to use for parallel branch & bound.|
80 | || **cbc**: threads - Default = 1; See [link](https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a244a08213674ce52ddcf33ab4ff53380a185d42e67d2c4cb7b79914c0ed322b5f) for more specifications.|
81 | 


--------------------------------------------------------------------------------
/docs/src/User_Guide/workflow.md:
--------------------------------------------------------------------------------
  1 | # User Guide
  2 | 
  3 | ## Introduction
  4 | GenX is a constrained **linear** or **mixed integer linear optimization model** that determines the portfolio of electricity generation, storage, transmission, and demand-side resource investments and operational decisions to meet electricity demand in one or more future planning years at lowest cost, while subject to a variety of power system operational constraints, resource availability limits, and other imposed environmental, market design, and policy constraints.
  5 | 
  6 | Depending on the planning problem or question to be studied, GenX can be configured with varying levels of model resolution and scope, with regards to: 
  7 | 1. Temporal resolution of time series data such as **electricity demand** and **renewable energy availability**; 
  8 | 2. Power system **operational detail** and unit **commitment constraints**; 
  9 | 3. **Geospatial resolution** and **transmission network** representation. 
 10 | 
 11 | The model is also capable of representing a full range of conventional and novel electricity resources, including thermal generators, variable renewable resources (wind and solar), run-of-river, reservoir and pumped-storage hydroelectric generators, energy storage devices, demand-side flexibility, demand response, and several advanced technologies such as long-duration energy storage.
 12 | 
 13 | ## Workflow
 14 | The flexibility of GenX is achieved through a modular and transparent code structure developed in [Julia](http://julialang.org/) + [JuMP](http://jump.dev/). The software workflow includes two main steps: 
 15 | 
 16 | 1. **Model configuration** and **building**: this step involves the specification of the planning problem to be studied, including time dependent data like electricity demand, renewable energy availability and fuel prices, number and type of resources included in the model, graph representation of the transmission network, and the set of constraints and objectives to be imposed.
 17 | 
 18 | 2. **Model execution**: once the model is configured, a solver is called to find the optimal solution to the planning problem. The solution is then post-processed to generate a set of output files that can be used for further analysis.
 19 | 
 20 | The next sections in this guide provide more details on how to perform all the steps in the workflow: 
 21 | 1. [Model settings parameters](@ref): `genx_settings.yml`
 22 | 2. [Solver Configuration](@ref): `[solver_name]_settings.yml`
 23 | 3. [GenX Inputs](@ref)
 24 | 4. [Time-domain reduction](@ref): `time_domain_reduction.yml` (optional)
 25 | 5. [Multi-stage setup](@ref): `multi_stage_settings.yml` (optional)
 26 | 6. [Running the model](@ref)
 27 | 7. [GenX Outputs](@ref)
 28 | 
 29 | ## Details of running a GenX case 
 30 | This section details as to what happens in the process of running a GenX case. As a first step, the GenX package and the desired solver (is it's anyting other than the default solver, HiGHS; for instance, Gurobi) are loaded 
 31 | 
 32 | ```julia
 33 | using GenX
 34 | using Gurobi
 35 | optimizer=Gurobi.Optimizer
 36 | ```
 37 | The next command the user needs to run is the following:
 38 | 
 39 | ```julia
 40 | run_genx_case!("<Location_of_the_case_study_data>", optimizer)
 41 | ```
 42 | Contingent upon whether a single stage model or a multi-stage model is intended to be run, the above function, inturn makes calls to either of these two functions:
 43 | For single-stage case:
 44 | ```julia
 45 | run_genx_case_simple!(case, mysetup, optimizer)
 46 | ```
 47 | From within this function, if time-domain reduction (TDR) is needed, GenX first checks 	whether there already is time domain clustered data (in order to avoid duplication of efforts) by running 
 48 | ```julia
 49 | prevent_doubled_timedomainreduction(case)
 50 | ```
 51 | and if the function
 52 | ```julia
 53 | !time_domain_reduced_files_exist(TDRpath)
 54 | ```
 55 | returns true value, it then runs
 56 | ```julia
 57 | cluster_inputs(case, settings_path, mysetup)
 58 | ```
 59 | to generate the time-domain clustered data for the time-series.
 60 | -OR-
 61 | For multi-stage case:
 62 | 
 63 | ```julia
 64 | run_genx_case_multistage!(case, mysetup, optimizer)
 65 | ```
 66 | In this case also, the TDR clustering is done in a similar way, exxcept for the fact that if TDRSettingsDict["MultiStageConcatenate"] is set to 0, the TDR clustering is done individually for each stage. Otherwise, the clustering is done for all the stages together. The next step is configuring the solver, which is done by
 67 | ```julia
 68 | OPTIMIZER = configure_solver(settings_path, optimizer)
 69 | ```
 70 | The call to configure_solver first gets the particular solver that is being used to solve the particular case at hand, which then calls a function specific to that solver in order to use either the default values of the solver settings parameter or, any other set of values, specified in the settings YAML file for that particular solver. 
 71 | 
 72 | The configuration of solver is followed by loading the input files by running the following function:
 73 | ```julia
 74 | myinputs = load_inputs(mysetup, case)
 75 | ```
 76 | The above function in its turn calls separate functions to load different resources, demand data, fuels data etc. and returns the dictionary myinputs populated by the input data. The next function call is to generate the model 
 77 | ```julia
 78 | time_elapsed = @elapsed EP = generate_model(mysetup, myinputs, OPTIMIZER)
 79 | println("Time elapsed for model building is")
 80 | println(time_elapsed)
 81 | ```
 82 | The above function call instantiates the different decision variables, constraints, and objective function expressions from the input data. It can be seen that we also keep track of the time required to build the model. Follwoing this, the solve_model function makes the call to the solver and return the results as well as the solve time. 
 83 | ```julia
 84 | EP, solve_time = solve_model(EP, mysetup)
 85 | myinputs["solve_time"] = solve_time # Store the model solve time in myinputs
 86 | ```
 87 | For writing the results, we invoke the following function:
 88 | ```julia
 89 | outputs_path = get_default_output_folder(case)
 90 | elapsed_time = @elapsed outputs_path = write_outputs(EP, outputs_path, mysetup, myinputs)
 91 | ```
 92 | The call to the write_outputs() function in turn calls a series of functions (write_capacity, write_power etc.) each of which querries the respective decision variables and creates dataframes, eventually outputting the results to separate CSV files. 
 93 | 
 94 | ## Single and Multi-stage investment planning
 95 | 
 96 | In addition to the standard single-stage planning mode, in which the produces a single snapshot of the minimum-cost generation capacity mix to meet demand at least cost under some pre-specified future conditions, recent improvements in the GenX source code (part of v0.3 release) enable its use for studying **long-term evolution** of the power system across multiple investment stages. GenX can be used to study multi-stage power system planning in the following two ways:
 97 | 
 98 | - The user can formulate and solve a deterministic multi-stage planning problem with perfect foresight i.e. demand, cost, and policy assumptions about all stages are known and exploited to determine the least-cost investment trajectory for the entire period. The solution relies on exploiting the decomposable nature of the multi-stage problem via the implementation of the dual dynamic programming algorithm, described in [Lara et al. 2018 here](https://www.sciencedirect.com/science/article/abs/pii/S0377221718304466).
 99 | 
100 | - The user can formulate a sequential, myopic multi-stage planning problem, where the model solves a sequence of single-stage investment planning problems wherein investment decisions in each stage are individually optimized to meet demand given assumptions for the current planning stage and with investment decisions from previous stages treated as inputs for the current stage. We refer to this as "myopic" (or shortsighted) mode since the solution does not account for information about future stages in determining investments for a given stage. This version is generally more computationally efficient than the deterministic multi-stage expansion with perfect foresight mode.
101 | 
102 | 


--------------------------------------------------------------------------------
/docs/src/additional_third_party_extensions.md:
--------------------------------------------------------------------------------
1 | # Additional Third Party Extensions to GenX
2 | 
3 | ## pygenx: Python interface for GenX
4 | 
5 | Python users can now run GenX from a thin-python-wrapper interface, developed by [Daniel Olsen](https://github.com/danielolsen). This tool is called `pygenx` and can be cloned from the github page: [pygenx](https://github.com/danielolsen/pygenx). It needs installation of Julia 1.3 and a clone of GenX repo along with your python installation.
6 | 
7 | ## Simple GenX Case Runner: For automated sequential batch run for GenX
8 | 
9 | It is now possible to run a list of GenX cases as separate batch jobs. Alternatively, they can also be run locally in sequence, as one job. It has been developed by [Jacob Schwartz](https://github.com/cfe316). This tool is called `SimpleGenXCaseRunner` and can be cloned from the github page: [SimpleGenXCaseRunner](https://github.com/cfe316/SimpleGenXCaseRunner)


--------------------------------------------------------------------------------
/docs/src/assets/Dimensions_graphic3_background.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/Dimensions_graphic3_background.png


--------------------------------------------------------------------------------
/docs/src/assets/GenX_setup_tutorial_part_1.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/GenX_setup_tutorial_part_1.png


--------------------------------------------------------------------------------
/docs/src/assets/GenX_setup_tutorial_part_2.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/GenX_setup_tutorial_part_2.png


--------------------------------------------------------------------------------
/docs/src/assets/LDES_approach.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/LDES_approach.png


--------------------------------------------------------------------------------
/docs/src/assets/genx_style.css:
--------------------------------------------------------------------------------
1 | .light-style-only {display: block;}
2 | .dark-style-only {display: none;}
3 | .theme--documenter-dark .light-style-only {display: none;}
4 | .theme--documenter-dark .dark-style-only {display: block;}


--------------------------------------------------------------------------------
/docs/src/assets/logo-dark.svg:
--------------------------------------------------------------------------------
  1 | <?xml version="1.0" encoding="UTF-8" standalone="no"?>
  2 | <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
  3 | 
  4 | <svg
  5 |    version="1.1"
  6 |    id="Layer_1"
  7 |    x="0px"
  8 |    y="0px"
  9 |    width="400"
 10 |    height="120"
 11 |    viewBox="0 0 400 120"
 12 |    enable-background="new 0 0 612 216.393"
 13 |    xml:space="preserve"
 14 |    sodipodi:docname="genx-logo-dark.svg"
 15 |    inkscape:version="1.3.2 (1:1.3.2+202311252150+091e20ef0f)"
 16 |    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
 17 |    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
 18 |    xmlns="http://www.w3.org/2000/svg"
 19 |    xmlns:svg="http://www.w3.org/2000/svg"><defs
 20 |    id="defs16" /><sodipodi:namedview
 21 |    id="namedview16"
 22 |    pagecolor="#ffffff"
 23 |    bordercolor="#666666"
 24 |    borderopacity="1.0"
 25 |    inkscape:showpageshadow="2"
 26 |    inkscape:pageopacity="0.0"
 27 |    inkscape:pagecheckerboard="true"
 28 |    inkscape:deskcolor="#d1d1d1"
 29 |    inkscape:zoom="3.3986928"
 30 |    inkscape:cx="206.25577"
 31 |    inkscape:cy="38.985577"
 32 |    inkscape:window-width="1920"
 33 |    inkscape:window-height="1011"
 34 |    inkscape:window-x="0"
 35 |    inkscape:window-y="32"
 36 |    inkscape:window-maximized="1"
 37 |    inkscape:current-layer="group_6" />
 38 | 
 39 | <g
 40 |    id="group_6"
 41 |    transform="translate(-118.29589,-97.305499)">
 42 | 	<g
 43 |    id="g12">
 44 | 		<path
 45 |    d="m 208.43,127.796 -9.428,9.324 c -5.967,-6.312 -12.922,-9.468 -20.866,-9.468 -6.924,0 -12.723,2.295 -17.397,6.886 -4.674,4.591 -7.011,10.169 -7.011,16.735 0,6.79 2.425,12.545 7.275,17.262 4.85,4.718 10.834,7.076 17.95,7.076 4.627,0 8.528,-0.972 11.704,-2.916 3.176,-1.944 5.736,-4.988 7.683,-9.133 h -20.369 v -12.576 h 35.383 l 0.096,2.965 c 0,6.152 -1.594,11.986 -4.781,17.5 -3.188,5.516 -7.316,9.724 -12.384,12.624 -5.069,2.9 -11.014,4.351 -17.835,4.351 -7.3,0 -13.812,-1.586 -19.533,-4.757 -5.722,-3.172 -10.249,-7.69 -13.58,-13.556 -3.332,-5.865 -4.997,-12.193 -4.997,-18.982 0,-9.309 3.076,-17.406 9.228,-24.291 7.299,-8.192 16.799,-12.289 28.499,-12.289 6.12,0 11.842,1.133 17.166,3.396 4.494,1.913 8.893,5.196 13.197,9.849 z"
 46 |    id="path7"
 47 |    style="fill:#ffffff" />
 48 | 		<path
 49 |    d="m 276.424,164.423 h -41.935 c 0.605,3.698 2.224,6.64 4.854,8.822 2.63,2.184 5.984,3.275 10.065,3.275 4.877,0 9.069,-1.705 12.576,-5.116 l 10.998,5.164 c -2.742,3.889 -6.025,6.766 -9.85,8.631 -3.825,1.864 -8.368,2.797 -13.627,2.797 -8.161,0 -14.807,-2.574 -19.939,-7.723 -5.133,-5.147 -7.698,-11.595 -7.698,-19.341 0,-7.938 2.558,-14.528 7.674,-19.772 5.116,-5.242 11.531,-7.865 19.246,-7.865 8.192,0 14.854,2.623 19.987,7.865 5.132,5.244 7.698,12.17 7.698,20.776 z m -13.054,-10.28 c -0.862,-2.9 -2.563,-5.26 -5.102,-7.076 -2.539,-1.817 -5.484,-2.727 -8.837,-2.727 -3.64,0 -6.833,1.021 -9.579,3.061 -1.725,1.275 -3.321,3.523 -4.79,6.742 z"
 50 |    id="path8"
 51 |    style="fill:#ffffff" />
 52 | 		<path
 53 |    d="m 286.991,134.634 h 13.054 v 5.331 c 2.96,-2.495 5.642,-4.23 8.045,-5.207 2.402,-0.975 4.862,-1.463 7.377,-1.463 5.156,0 9.533,1.801 13.131,5.403 3.023,3.06 4.535,7.587 4.535,13.579 v 34.38 h -12.91 v -22.782 c 0,-6.209 -0.278,-10.331 -0.835,-12.369 -0.557,-2.038 -1.526,-3.59 -2.91,-4.656 -1.384,-1.067 -3.093,-1.601 -5.128,-1.601 -2.639,0 -4.905,0.884 -6.797,2.65 -1.892,1.769 -3.204,4.212 -3.936,7.331 -0.382,1.625 -0.572,5.143 -0.572,10.555 v 20.872 h -13.054 z"
 54 |    id="path9"
 55 |    style="fill:#ffffff" />
 56 | 		<path
 57 |    d="m 424.206,173.03 c 2.072,0 3.842,0.727 5.308,2.176 1.466,1.451 2.2,3.213 2.2,5.283 0,2.073 -0.734,3.842 -2.2,5.309 -1.466,1.465 -3.235,2.199 -5.308,2.199 -2.073,0 -3.841,-0.734 -5.307,-2.199 -1.467,-1.467 -2.2,-3.235 -2.2,-5.309 0,-2.07 0.733,-3.832 2.2,-5.283 1.466,-1.45 3.235,-2.176 5.307,-2.176 z"
 58 |    id="path10"
 59 |    style="fill:#ffffff" />
 60 | 		<path
 61 |    d="m 444.098,134.634 h 13.054 v 53.745 c 0,4.94 -0.486,8.631 -1.458,11.068 -0.973,2.439 -2.511,4.312 -4.614,5.619 -2.104,1.307 -4.639,1.961 -7.603,1.961 -2.614,0 -5.865,-0.654 -9.755,-1.961 v -10.28 c 2.041,0.987 3.842,1.481 5.403,1.481 1.657,0 2.9,-0.494 3.729,-1.481 0.829,-0.989 1.243,-2.806 1.243,-5.451 v -54.701 z m 6.503,-21.421 c 2.327,0 4.312,0.826 5.953,2.479 1.642,1.653 2.463,3.656 2.463,6.008 0,2.32 -0.813,4.309 -2.438,5.961 -1.626,1.652 -3.571,2.479 -5.834,2.479 -2.327,0 -4.312,-0.842 -5.953,-2.526 -1.641,-1.684 -2.462,-3.72 -2.462,-6.103 0,-2.289 0.805,-4.244 2.414,-5.865 1.609,-1.621 3.562,-2.433 5.857,-2.433 z"
 62 |    id="path11"
 63 |    style="fill:#ffffff" />
 64 | 		<path
 65 |    d="m 468.483,114.551 h 13.054 v 72.106 h -13.054 z"
 66 |    id="path12"
 67 |    style="fill:#ffffff" />
 68 | 	</g>
 69 | 	
 70 | 		<line
 71 |    fill="#ffffff"
 72 |    stroke="#000000"
 73 |    stroke-width="6"
 74 |    stroke-miterlimit="10"
 75 |    x1="401.01599"
 76 |    y1="124.198"
 77 |    x2="350.96701"
 78 |    y2="178.96899"
 79 |    id="line12"
 80 |    style="fill:#ffffff;stroke:#ffffff" />
 81 | 	<g
 82 |    id="g13"
 83 |    style="fill:none;stroke:#ffffff">
 84 | 		<path
 85 |    fill="none"
 86 |    stroke="#000000"
 87 |    stroke-width="6"
 88 |    stroke-miterlimit="10"
 89 |    d="m 354.967,122.635 c 0,0 6.984,33.334 42.051,55.008"
 90 |    id="path13"
 91 |    style="fill:none;stroke:#ffffff" />
 92 | 	</g>
 93 | 	<circle
 94 |    fill="#ca3d32"
 95 |    cx="397.017"
 96 |    cy="177.64101"
 97 |    r="9.0170002"
 98 |    id="circle13" />
 99 | 	<circle
100 |    fill="#4d64af"
101 |    cx="350.96701"
102 |    cy="177.64101"
103 |    r="9.0159998"
104 |    id="circle14" />
105 | 	<circle
106 |    fill="#9359a3"
107 |    cx="401.01599"
108 |    cy="124.198"
109 |    r="9.0159998"
110 |    id="circle15" />
111 | 	<circle
112 |    fill="#389746"
113 |    cx="354.96701"
114 |    cy="124.198"
115 |    r="9.0159998"
116 |    id="circle16" />
117 | </g>
118 | </svg>
119 | 


--------------------------------------------------------------------------------
/docs/src/assets/logo.svg:
--------------------------------------------------------------------------------
  1 | <?xml version="1.0" encoding="UTF-8" standalone="no"?>
  2 | <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
  3 | 
  4 | <svg
  5 |    version="1.1"
  6 |    id="Layer_1"
  7 |    x="0px"
  8 |    y="0px"
  9 |    width="400"
 10 |    height="120"
 11 |    viewBox="0 0 400 120"
 12 |    enable-background="new 0 0 612 216.393"
 13 |    xml:space="preserve"
 14 |    sodipodi:docname="genx-logo-light.svg"
 15 |    inkscape:version="1.3.2 (1:1.3.2+202311252150+091e20ef0f)"
 16 |    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
 17 |    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
 18 |    xmlns="http://www.w3.org/2000/svg"
 19 |    xmlns:svg="http://www.w3.org/2000/svg"><defs
 20 |    id="defs16" /><sodipodi:namedview
 21 |    id="namedview16"
 22 |    pagecolor="#ffffff"
 23 |    bordercolor="#666666"
 24 |    borderopacity="1.0"
 25 |    inkscape:showpageshadow="2"
 26 |    inkscape:pageopacity="0.0"
 27 |    inkscape:pagecheckerboard="true"
 28 |    inkscape:deskcolor="#d1d1d1"
 29 |    inkscape:zoom="1.6993464"
 30 |    inkscape:cx="165.94615"
 31 |    inkscape:cy="-5.0019231"
 32 |    inkscape:window-width="1920"
 33 |    inkscape:window-height="1011"
 34 |    inkscape:window-x="0"
 35 |    inkscape:window-y="32"
 36 |    inkscape:window-maximized="1"
 37 |    inkscape:current-layer="Layer_1" />
 38 | 
 39 | <g
 40 |    id="group_6"
 41 |    transform="translate(-118.29589,-97.305499)">
 42 | 	<g
 43 |    id="g12">
 44 | 		<path
 45 |    d="m 208.43,127.796 -9.428,9.324 c -5.967,-6.312 -12.922,-9.468 -20.866,-9.468 -6.924,0 -12.723,2.295 -17.397,6.886 -4.674,4.591 -7.011,10.169 -7.011,16.735 0,6.79 2.425,12.545 7.275,17.262 4.85,4.718 10.834,7.076 17.95,7.076 4.627,0 8.528,-0.972 11.704,-2.916 3.176,-1.944 5.736,-4.988 7.683,-9.133 h -20.369 v -12.576 h 35.383 l 0.096,2.965 c 0,6.152 -1.594,11.986 -4.781,17.5 -3.188,5.516 -7.316,9.724 -12.384,12.624 -5.069,2.9 -11.014,4.351 -17.835,4.351 -7.3,0 -13.812,-1.586 -19.533,-4.757 -5.722,-3.172 -10.249,-7.69 -13.58,-13.556 -3.332,-5.865 -4.997,-12.193 -4.997,-18.982 0,-9.309 3.076,-17.406 9.228,-24.291 7.299,-8.192 16.799,-12.289 28.499,-12.289 6.12,0 11.842,1.133 17.166,3.396 4.494,1.913 8.893,5.196 13.197,9.849 z"
 46 |    id="path7" />
 47 | 		<path
 48 |    d="m 276.424,164.423 h -41.935 c 0.605,3.698 2.224,6.64 4.854,8.822 2.63,2.184 5.984,3.275 10.065,3.275 4.877,0 9.069,-1.705 12.576,-5.116 l 10.998,5.164 c -2.742,3.889 -6.025,6.766 -9.85,8.631 -3.825,1.864 -8.368,2.797 -13.627,2.797 -8.161,0 -14.807,-2.574 -19.939,-7.723 -5.133,-5.147 -7.698,-11.595 -7.698,-19.341 0,-7.938 2.558,-14.528 7.674,-19.772 5.116,-5.242 11.531,-7.865 19.246,-7.865 8.192,0 14.854,2.623 19.987,7.865 5.132,5.244 7.698,12.17 7.698,20.776 z m -13.054,-10.28 c -0.862,-2.9 -2.563,-5.26 -5.102,-7.076 -2.539,-1.817 -5.484,-2.727 -8.837,-2.727 -3.64,0 -6.833,1.021 -9.579,3.061 -1.725,1.275 -3.321,3.523 -4.79,6.742 z"
 49 |    id="path8" />
 50 | 		<path
 51 |    d="m 286.991,134.634 h 13.054 v 5.331 c 2.96,-2.495 5.642,-4.23 8.045,-5.207 2.402,-0.975 4.862,-1.463 7.377,-1.463 5.156,0 9.533,1.801 13.131,5.403 3.023,3.06 4.535,7.587 4.535,13.579 v 34.38 h -12.91 v -22.782 c 0,-6.209 -0.278,-10.331 -0.835,-12.369 -0.557,-2.038 -1.526,-3.59 -2.91,-4.656 -1.384,-1.067 -3.093,-1.601 -5.128,-1.601 -2.639,0 -4.905,0.884 -6.797,2.65 -1.892,1.769 -3.204,4.212 -3.936,7.331 -0.382,1.625 -0.572,5.143 -0.572,10.555 v 20.872 h -13.054 z"
 52 |    id="path9" />
 53 | 		<path
 54 |    d="m 424.206,173.03 c 2.072,0 3.842,0.727 5.308,2.176 1.466,1.451 2.2,3.213 2.2,5.283 0,2.073 -0.734,3.842 -2.2,5.309 -1.466,1.465 -3.235,2.199 -5.308,2.199 -2.073,0 -3.841,-0.734 -5.307,-2.199 -1.467,-1.467 -2.2,-3.235 -2.2,-5.309 0,-2.07 0.733,-3.832 2.2,-5.283 1.466,-1.45 3.235,-2.176 5.307,-2.176 z"
 55 |    id="path10" />
 56 | 		<path
 57 |    d="m 444.098,134.634 h 13.054 v 53.745 c 0,4.94 -0.486,8.631 -1.458,11.068 -0.973,2.439 -2.511,4.312 -4.614,5.619 -2.104,1.307 -4.639,1.961 -7.603,1.961 -2.614,0 -5.865,-0.654 -9.755,-1.961 v -10.28 c 2.041,0.987 3.842,1.481 5.403,1.481 1.657,0 2.9,-0.494 3.729,-1.481 0.829,-0.989 1.243,-2.806 1.243,-5.451 v -54.701 z m 6.503,-21.421 c 2.327,0 4.312,0.826 5.953,2.479 1.642,1.653 2.463,3.656 2.463,6.008 0,2.32 -0.813,4.309 -2.438,5.961 -1.626,1.652 -3.571,2.479 -5.834,2.479 -2.327,0 -4.312,-0.842 -5.953,-2.526 -1.641,-1.684 -2.462,-3.72 -2.462,-6.103 0,-2.289 0.805,-4.244 2.414,-5.865 1.609,-1.621 3.562,-2.433 5.857,-2.433 z"
 58 |    id="path11" />
 59 | 		<path
 60 |    d="m 468.483,114.551 h 13.054 v 72.106 h -13.054 z"
 61 |    id="path12" />
 62 | 	</g>
 63 | 	
 64 | 		<line
 65 |    fill="#ffffff"
 66 |    stroke="#000000"
 67 |    stroke-width="6"
 68 |    stroke-miterlimit="10"
 69 |    x1="401.01599"
 70 |    y1="124.198"
 71 |    x2="350.96701"
 72 |    y2="178.96899"
 73 |    id="line12" />
 74 | 	<g
 75 |    id="g13">
 76 | 		<path
 77 |    fill="none"
 78 |    stroke="#000000"
 79 |    stroke-width="6"
 80 |    stroke-miterlimit="10"
 81 |    d="m 354.967,122.635 c 0,0 6.984,33.334 42.051,55.008"
 82 |    id="path13" />
 83 | 	</g>
 84 | 	<circle
 85 |    fill="#ca3d32"
 86 |    cx="397.017"
 87 |    cy="177.64101"
 88 |    r="9.0170002"
 89 |    id="circle13" />
 90 | 	<circle
 91 |    fill="#4d64af"
 92 |    cx="350.96701"
 93 |    cy="177.64101"
 94 |    r="9.0159998"
 95 |    id="circle14" />
 96 | 	<circle
 97 |    fill="#9359a3"
 98 |    cx="401.01599"
 99 |    cy="124.198"
100 |    r="9.0159998"
101 |    id="circle15" />
102 | 	<circle
103 |    fill="#389746"
104 |    cx="354.96701"
105 |    cy="124.198"
106 |    r="9.0159998"
107 |    id="circle16" />
108 | </g>
109 | </svg>
110 | 


--------------------------------------------------------------------------------
/docs/src/assets/logo_readme.svg:
--------------------------------------------------------------------------------
  1 | <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  2 | 	 width="100%" viewBox="0 0 2307 692" enable-background="new 0 0 2307 692" xml:space="preserve">
  3 | <path fill="#FFFFFF" opacity="1.000000" stroke="none" 
  4 | 	d="
  5 | M1466.000000,693.000000 
  6 | 	C977.333313,693.000000 489.166656,693.000000 1.000000,693.000000 
  7 | 	C1.000000,462.333344 1.000000,231.666672 1.000000,1.000000 
  8 | 	C770.000000,1.000000 1539.000000,1.000000 2308.000000,1.000000 
  9 | 	C2308.000000,231.666672 2308.000000,462.333344 2308.000000,693.000000 
 10 | 	C2027.500000,693.000000 1747.000000,693.000000 1466.000000,693.000000 
 11 | M1368.867065,418.145508 
 12 | 	C1367.155396,417.714844 1365.364990,417.478882 1363.744751,416.822449 
 13 | 	C1352.062744,412.088837 1340.100586,411.146606 1328.111938,415.016449 
 14 | 	C1309.009888,421.182495 1296.695435,434.190216 1292.395142,453.812012 
 15 | 	C1288.043579,473.667328 1293.817505,491.004578 1309.093140,504.249634 
 16 | 	C1325.368286,518.361389 1344.429199,521.303528 1364.100220,512.653992 
 17 | 	C1383.906128,503.945099 1394.873657,488.153473 1395.033936,466.120148 
 18 | 	C1395.086060,458.940552 1393.206665,451.746948 1392.771484,444.155090 
 19 | 	C1416.724854,417.976990 1440.678223,391.798920 1464.493164,365.772034 
 20 | 	C1476.465698,378.098450 1487.317505,390.567810 1499.519775,401.534760 
 21 | 	C1518.539795,418.629181 1538.476318,434.704010 1558.046631,452.035736 
 22 | 	C1558.062378,452.366394 1558.146362,452.710541 1558.084229,453.025787 
 23 | 	C1550.147095,493.200836 1583.891724,525.294739 1623.377075,515.116760 
 24 | 	C1648.767822,508.571930 1665.911011,480.324860 1660.115112,454.583344 
 25 | 	C1653.787354,426.479553 1627.032837,407.795349 1600.337769,413.621277 
 26 | 	C1592.388672,415.356049 1584.957886,419.464813 1576.720337,422.021057 
 27 | 	C1544.349976,397.835510 1515.028931,370.413605 1488.664429,339.642761 
 28 | 	C1489.642822,338.422058 1490.314331,337.481262 1491.088013,336.633820 
 29 | 	C1524.630127,299.895172 1558.204224,263.185699 1591.711060,226.414871 
 30 | 	C1598.058960,219.448593 1604.143799,212.242462 1611.099609,205.281723 
 31 | 	C1612.861328,205.648361 1614.681030,205.842346 1616.375244,206.410522 
 32 | 	C1625.304443,209.405182 1634.379395,209.621735 1643.475952,207.629303 
 33 | 	C1669.507935,201.927582 1687.649902,175.905121 1683.889771,150.188889 
 34 | 	C1679.593384,120.805412 1654.522095,102.398087 1627.734009,104.763176 
 35 | 	C1591.907837,107.926239 1570.111206,143.949951 1583.979614,177.212982 
 36 | 	C1584.597900,178.696075 1584.744873,180.375748 1584.448486,182.167770 
 37 | 	C1583.468506,183.498245 1582.600098,184.930573 1581.492188,186.144302 
 38 | 	C1550.207153,220.420700 1518.901489,254.678223 1487.589722,288.930298 
 39 | 	C1480.673950,296.495453 1473.723145,304.028625 1466.161133,312.259430 
 40 | 	C1457.769897,299.759521 1449.625732,288.027283 1441.895386,276.028412 
 41 | 	C1425.739624,250.951767 1412.495117,224.334381 1401.019287,196.330765 
 42 | 	C1401.622070,195.553970 1402.155884,194.710037 1402.837524,194.010178 
 43 | 	C1419.171753,177.238968 1423.104614,154.243149 1413.317383,133.703201 
 44 | 	C1405.125977,116.512505 1384.825195,101.970428 1359.822388,104.850258 
 45 | 	C1325.795410,108.769508 1304.335449,145.877594 1318.531738,177.421356 
 46 | 	C1328.157227,198.808472 1345.554932,208.572968 1368.727295,209.860718 
 47 | 	C1386.944824,254.217224 1410.549072,295.513245 1439.529175,333.696930 
 48 | 	C1442.314941,337.367493 1441.695435,339.285675 1438.936279,342.285461 
 49 | 	C1415.758057,367.485016 1392.717773,392.811493 1368.867065,418.145508 
 50 | M390.498505,448.194214 
 51 | 	C366.356750,454.422302 342.007507,454.702515 317.707123,449.747803 
 52 | 	C258.692078,437.715057 207.943832,384.960663 205.964233,319.492432 
 53 | 	C204.373505,266.884949 225.537292,225.621384 269.712921,198.334106 
 54 | 	C320.158966,167.173630 372.565857,169.967712 424.116760,197.379410 
 55 | 	C440.230499,205.947739 453.832001,218.042313 466.489685,231.031158 
 56 | 	C484.437195,212.729797 502.221527,194.594833 520.287659,176.172516 
 57 | 	C505.128784,159.566666 487.764587,143.761688 467.303589,131.934967 
 58 | 	C415.295837,101.873795 359.168854,95.196053 300.736572,104.815903 
 59 | 	C255.525269,112.259148 217.399597,133.499634 185.967743,166.815292 
 60 | 	C157.221252,197.284637 138.119995,232.746429 131.383377,274.276550 
 61 | 	C123.762123,321.260223 129.519958,366.513794 150.677048,409.472168 
 62 | 	C176.045715,460.981964 215.633347,496.557465 270.071442,515.087891 
 63 | 	C306.502838,527.489014 343.977264,529.977234 382.010437,525.043030 
 64 | 	C422.937531,519.733337 458.938019,503.518250 488.159058,474.238403 
 65 | 	C527.443909,434.874542 548.755920,387.237366 550.404846,331.307281 
 66 | 	C550.602600,324.600861 549.844421,317.866302 549.530151,311.162964 
 67 | 	C548.020752,311.036591 547.366089,310.933838 546.711365,310.933777 
 68 | 	C481.045441,310.926819 415.379456,310.961884 349.713745,310.843933 
 69 | 	C345.724823,310.836792 345.096283,312.337219 345.118561,315.831085 
 70 | 	C345.253540,336.996643 345.178986,358.163513 345.198883,379.329926 
 71 | 	C345.200226,380.756439 345.401367,382.182770 345.541809,384.033142 
 72 | 	C384.579803,384.033142 423.146790,384.033142 462.490295,384.033142 
 73 | 	C447.370911,415.794922 425.298676,438.504974 390.498505,448.194214 
 74 | M599.149597,385.375854 
 75 | 	C600.061462,391.463379 600.654724,397.618774 601.935364,403.627716 
 76 | 	C612.596741,453.652679 641.375488,489.529266 687.610901,510.928436 
 77 | 	C718.075378,525.028259 750.519470,526.988464 783.482178,523.450500 
 78 | 	C813.279480,520.252197 840.499512,510.563721 863.894836,491.327606 
 79 | 	C875.245789,481.994537 885.035034,471.251801 893.605408,458.876556 
 80 | 	C892.899902,458.391144 892.525574,458.050232 892.087646,457.844330 
 81 | 	C872.226440,448.508240 852.385315,439.128265 832.433289,429.990204 
 82 | 	C831.174133,429.413513 828.562500,430.196716 827.393921,431.250122 
 83 | 	C802.645325,453.559814 773.669556,461.688812 740.968628,457.016022 
 84 | 	C712.802368,452.991211 691.785034,438.622040 679.090393,412.863800 
 85 | 	C675.446106,405.469360 672.859863,397.672577 671.968567,388.730896 
 86 | 	C752.787842,388.730896 832.987427,388.730896 913.462952,388.730896 
 87 | 	C914.015320,370.861145 913.757690,353.613220 910.665771,336.490448 
 88 | 	C903.402222,296.265930 884.484985,262.898163 851.295654,238.655243 
 89 | 	C810.959167,209.191727 765.307434,203.215515 717.621277,212.864502 
 90 | 	C670.739624,222.350723 637.233398,250.750107 615.349121,292.725494 
 91 | 	C600.386475,321.424713 596.740112,352.487091 599.149597,385.375854 
 92 | M974.213562,218.834793 
 93 | 	C974.213562,318.114471 974.213562,417.394165 974.213562,516.945557 
 94 | 	C999.530762,516.945557 1024.272217,516.945557 1049.697144,516.945557 
 95 | 	C1049.697144,514.737427 1049.686401,512.793335 1049.698608,510.849335 
 96 | 	C1050.020020,459.202484 1050.152832,407.553375 1050.768066,355.910004 
 97 | 	C1050.992310,337.085938 1055.793945,319.287109 1066.920776,303.731384 
 98 | 	C1079.840210,285.669312 1097.424438,276.995209 1119.759766,278.415344 
 99 | 	C1142.314697,279.849457 1159.434326,296.333435 1162.246704,321.468933 
100 | 	C1164.481323,341.440491 1165.533203,361.620697 1165.767944,381.723969 
101 | 	C1166.275879,425.216553 1165.973389,468.719330 1165.836426,512.217468 
102 | 	C1165.824097,516.153748 1166.814575,517.346497 1170.852905,517.309631 
103 | 	C1192.516968,517.111877 1214.184082,517.181946 1235.849731,517.255493 
104 | 	C1238.866577,517.265747 1240.787109,517.126709 1240.771729,513.124573 
105 | 	C1240.509644,444.472809 1240.626465,375.818604 1240.081787,307.169525 
106 | 	C1239.920776,286.896942 1235.272095,267.171143 1222.935791,250.651474 
107 | 	C1198.410400,217.809326 1164.719971,205.572784 1124.627930,209.847961 
108 | 	C1099.967285,212.477615 1079.135132,224.063309 1059.903442,238.984909 
109 | 	C1056.815430,241.380859 1053.725708,243.774490 1049.700439,246.895050 
110 | 	C1049.700439,237.627319 1049.505127,229.534210 1049.785645,221.457596 
111 | 	C1049.919067,217.614273 1048.592529,216.691071 1044.927734,216.716721 
112 | 	C1022.929565,216.870651 1000.929688,216.772095 978.930664,216.842270 
113 | 	C977.409424,216.847122 975.890442,217.533478 974.213562,218.834793 
114 | M1955.821411,465.500031 
115 | 	C1955.821411,382.752777 1955.821411,300.005493 1955.821411,217.157928 
116 | 	C1930.390137,217.157928 1905.678101,217.157928 1880.500732,217.157928 
117 | 	C1880.500732,219.322647 1880.500732,221.125626 1880.500732,222.928589 
118 | 	C1880.501343,325.233917 1880.524780,427.539246 1880.445679,529.844482 
119 | 	C1880.440918,535.983582 1879.953979,542.169739 1879.100342,548.251038 
120 | 	C1877.207764,561.733826 1870.924316,569.388489 1859.224365,571.347534 
121 | 	C1853.615723,572.286621 1847.526367,572.017395 1841.924927,570.918335 
122 | 	C1834.857666,569.531738 1828.066162,566.738953 1821.131714,564.545227 
123 | 	C1820.987671,564.784058 1820.679199,565.057373 1820.678223,565.331787 
124 | 	C1820.613403,583.822327 1820.521362,602.313293 1820.653931,620.802673 
125 | 	C1820.662354,621.967834 1822.219482,623.782043 1823.424194,624.180420 
126 | 	C1844.570435,631.172180 1866.067017,636.515259 1888.574829,633.970947 
127 | 	C1913.455933,631.158203 1933.029541,619.890686 1944.755127,596.883789 
128 | 	C1952.118530,582.436157 1954.579102,566.755249 1955.033447,550.941223 
129 | 	C1955.841919,522.809875 1955.615112,494.648743 1955.821411,465.500031 
130 | M2081.495605,517.213318 
131 | 	C2086.420654,517.213318 2091.345947,517.213318 2096.389648,517.213318 
132 | 	C2096.389648,378.097168 2096.389648,239.696671 2096.389648,101.252151 
133 | 	C2071.145508,101.252151 2046.235840,101.252151 2021.234131,101.252151 
134 | 	C2021.234131,239.974121 2021.234131,378.357147 2021.234131,517.213318 
135 | 	C2041.236084,517.213318 2060.866943,517.213318 2081.495605,517.213318 
136 | M1917.571411,191.162811 
137 | 	C1946.305542,190.953171 1966.875977,169.959183 1966.562866,140.738388 
138 | 	C1966.363647,122.135925 1957.479004,108.105881 1941.550781,99.161934 
139 | 	C1925.904785,90.376427 1909.545532,90.604858 1893.896606,99.513412 
140 | 	C1874.986572,110.278351 1866.120239,132.026917 1871.430420,153.667664 
141 | 	C1876.220581,173.189621 1893.821411,190.347198 1917.571411,191.162811 
142 | M1737.181152,448.666504 
143 | 	C1728.549072,456.235535 1723.328247,465.611450 1722.447876,477.147583 
144 | 	C1721.048340,495.488129 1728.375122,509.594055 1743.975464,519.070129 
145 | 	C1758.464478,527.871277 1777.941406,526.690613 1791.069580,516.854004 
146 | 	C1805.670776,505.914093 1812.354736,488.219757 1808.204346,471.493500 
147 | 	C1800.359497,439.878143 1763.490356,427.696747 1737.181152,448.666504 
148 | z"/>
149 | <path fill="#020202" opacity="1.000000" stroke="none" 
150 | 	d="
151 | M390.882629,448.064514 
152 | 	C425.298676,438.504974 447.370911,415.794922 462.490295,384.033142 
153 | 	C423.146790,384.033142 384.579803,384.033142 345.541809,384.033142 
154 | 	C345.401367,382.182770 345.200226,380.756439 345.198883,379.329926 
155 | 	C345.178986,358.163513 345.253540,336.996643 345.118561,315.831085 
156 | 	C345.096283,312.337219 345.724823,310.836792 349.713745,310.843933 
157 | 	C415.379456,310.961884 481.045441,310.926819 546.711365,310.933777 
158 | 	C547.366089,310.933838 548.020752,311.036591 549.530151,311.162964 
159 | 	C549.844421,317.866302 550.602600,324.600861 550.404846,331.307281 
160 | 	C548.755920,387.237366 527.443909,434.874542 488.159058,474.238403 
161 | 	C458.938019,503.518250 422.937531,519.733337 382.010437,525.043030 
162 | 	C343.977264,529.977234 306.502838,527.489014 270.071442,515.087891 
163 | 	C215.633347,496.557465 176.045715,460.981964 150.677048,409.472168 
164 | 	C129.519958,366.513794 123.762123,321.260223 131.383377,274.276550 
165 | 	C138.119995,232.746429 157.221252,197.284637 185.967743,166.815292 
166 | 	C217.399597,133.499634 255.525269,112.259148 300.736572,104.815903 
167 | 	C359.168854,95.196053 415.295837,101.873795 467.303589,131.934967 
168 | 	C487.764587,143.761688 505.128784,159.566666 520.287659,176.172516 
169 | 	C502.221527,194.594833 484.437195,212.729797 466.489685,231.031158 
170 | 	C453.832001,218.042313 440.230499,205.947739 424.116760,197.379410 
171 | 	C372.565857,169.967712 320.158966,167.173630 269.712921,198.334106 
172 | 	C225.537292,225.621384 204.373505,266.884949 205.964233,319.492432 
173 | 	C207.943832,384.960663 258.692078,437.715057 317.707123,449.747803 
174 | 	C342.007507,454.702515 366.356750,454.422302 390.882629,448.064514 
175 | z"/>
176 | <path fill="#020202" opacity="1.000000" stroke="none" 
177 | 	d="
178 | M599.144531,384.908081 
179 | 	C596.740112,352.487091 600.386475,321.424713 615.349121,292.725494 
180 | 	C637.233398,250.750107 670.739624,222.350723 717.621277,212.864502 
181 | 	C765.307434,203.215515 810.959167,209.191727 851.295654,238.655243 
182 | 	C884.484985,262.898163 903.402222,296.265930 910.665771,336.490448 
183 | 	C913.757690,353.613220 914.015320,370.861145 913.462952,388.730896 
184 | 	C832.987427,388.730896 752.787842,388.730896 671.968567,388.730896 
185 | 	C672.859863,397.672577 675.446106,405.469360 679.090393,412.863800 
186 | 	C691.785034,438.622040 712.802368,452.991211 740.968628,457.016022 
187 | 	C773.669556,461.688812 802.645325,453.559814 827.393921,431.250122 
188 | 	C828.562500,430.196716 831.174133,429.413513 832.433289,429.990204 
189 | 	C852.385315,439.128265 872.226440,448.508240 892.087646,457.844330 
190 | 	C892.525574,458.050232 892.899902,458.391144 893.605408,458.876556 
191 | 	C885.035034,471.251801 875.245789,481.994537 863.894836,491.327606 
192 | 	C840.499512,510.563721 813.279480,520.252197 783.482178,523.450500 
193 | 	C750.519470,526.988464 718.075378,525.028259 687.610901,510.928436 
194 | 	C641.375488,489.529266 612.596741,453.652679 601.935364,403.627716 
195 | 	C600.654724,397.618774 600.061462,391.463379 599.144531,384.908081 
196 | M727.365417,277.730286 
197 | 	C701.518311,285.979309 685.636353,304.234528 675.573975,328.952545 
198 | 	C729.715759,328.952545 783.368774,328.952545 837.343628,328.952545 
199 | 	C837.038818,327.564697 836.933472,326.584320 836.609375,325.682556 
200 | 	C829.100952,304.792938 814.739014,290.123291 794.864014,280.920502 
201 | 	C773.180908,270.880554 750.757629,270.837982 727.365417,277.730286 
202 | z"/>
203 | <path fill="#020202" opacity="1.000000" stroke="none" 
204 | 	d="
205 | M974.291992,218.368851 
206 | 	C975.890442,217.533478 977.409424,216.847122 978.930664,216.842270 
207 | 	C1000.929688,216.772095 1022.929565,216.870651 1044.927734,216.716721 
208 | 	C1048.592529,216.691071 1049.919067,217.614273 1049.785645,221.457596 
209 | 	C1049.505127,229.534210 1049.700439,237.627319 1049.700439,246.895050 
210 | 	C1053.725708,243.774490 1056.815430,241.380859 1059.903442,238.984909 
211 | 	C1079.135132,224.063309 1099.967285,212.477615 1124.627930,209.847961 
212 | 	C1164.719971,205.572784 1198.410400,217.809326 1222.935791,250.651474 
213 | 	C1235.272095,267.171143 1239.920776,286.896942 1240.081787,307.169525 
214 | 	C1240.626465,375.818604 1240.509644,444.472809 1240.771729,513.124573 
215 | 	C1240.787109,517.126709 1238.866577,517.265747 1235.849731,517.255493 
216 | 	C1214.184082,517.181946 1192.516968,517.111877 1170.852905,517.309631 
217 | 	C1166.814575,517.346497 1165.824097,516.153748 1165.836426,512.217468 
218 | 	C1165.973389,468.719330 1166.275879,425.216553 1165.767944,381.723969 
219 | 	C1165.533203,361.620697 1164.481323,341.440491 1162.246704,321.468933 
220 | 	C1159.434326,296.333435 1142.314697,279.849457 1119.759766,278.415344 
221 | 	C1097.424438,276.995209 1079.840210,285.669312 1066.920776,303.731384 
222 | 	C1055.793945,319.287109 1050.992310,337.085938 1050.768066,355.910004 
223 | 	C1050.152832,407.553375 1050.020020,459.202484 1049.698608,510.849335 
224 | 	C1049.686401,512.793335 1049.697144,514.737427 1049.697144,516.945557 
225 | 	C1024.272217,516.945557 999.530762,516.945557 974.213562,516.945557 
226 | 	C974.213562,417.394165 974.213562,318.114471 974.291992,218.368851 
227 | z"/>
228 | <path fill="#020202" opacity="1.000000" stroke="none" 
229 | 	d="
230 | M1955.821411,466.000061 
231 | 	C1955.615112,494.648743 1955.841919,522.809875 1955.033447,550.941223 
232 | 	C1954.579102,566.755249 1952.118530,582.436157 1944.755127,596.883789 
233 | 	C1933.029541,619.890686 1913.455933,631.158203 1888.574829,633.970947 
234 | 	C1866.067017,636.515259 1844.570435,631.172180 1823.424194,624.180420 
235 | 	C1822.219482,623.782043 1820.662354,621.967834 1820.653931,620.802673 
236 | 	C1820.521362,602.313293 1820.613403,583.822327 1820.678223,565.331787 
237 | 	C1820.679199,565.057373 1820.987671,564.784058 1821.131714,564.545227 
238 | 	C1828.066162,566.738953 1834.857666,569.531738 1841.924927,570.918335 
239 | 	C1847.526367,572.017395 1853.615723,572.286621 1859.224365,571.347534 
240 | 	C1870.924316,569.388489 1877.207764,561.733826 1879.100342,548.251038 
241 | 	C1879.953979,542.169739 1880.440918,535.983582 1880.445679,529.844482 
242 | 	C1880.524780,427.539246 1880.501343,325.233917 1880.500732,222.928589 
243 | 	C1880.500732,221.125626 1880.500732,219.322647 1880.500732,217.157928 
244 | 	C1905.678101,217.157928 1930.390137,217.157928 1955.821411,217.157928 
245 | 	C1955.821411,300.005493 1955.821411,382.752777 1955.821411,466.000061 
246 | z"/>
247 | <path fill="#020202" opacity="1.000000" stroke="none" 
248 | 	d="
249 | M2080.996582,517.213318 
250 | 	C2060.866943,517.213318 2041.236084,517.213318 2021.234131,517.213318 
251 | 	C2021.234131,378.357147 2021.234131,239.974121 2021.234131,101.252151 
252 | 	C2046.235840,101.252151 2071.145508,101.252151 2096.389648,101.252151 
253 | 	C2096.389648,239.696671 2096.389648,378.097168 2096.389648,517.213318 
254 | 	C2091.345947,517.213318 2086.420654,517.213318 2080.996582,517.213318 
255 | z"/>
256 | <path fill="#030303" opacity="1.000000" stroke="none" 
257 | 	d="
258 | M1610.349976,205.147034 
259 | 	C1604.143799,212.242462 1598.058960,219.448593 1591.711060,226.414871 
260 | 	C1558.204224,263.185699 1524.630127,299.895172 1491.088013,336.633820 
261 | 	C1490.314331,337.481262 1489.642822,338.422058 1488.664429,339.642761 
262 | 	C1515.028931,370.413605 1544.349976,397.835510 1576.830933,422.524933 
263 | 	C1574.984985,425.034790 1572.608032,426.776489 1571.149658,429.095764 
264 | 	C1566.588257,436.350311 1562.373535,443.822784 1558.024536,451.210876 
265 | 	C1538.476318,434.704010 1518.539795,418.629181 1499.519775,401.534760 
266 | 	C1487.317505,390.567810 1476.465698,378.098450 1464.493164,365.772034 
267 | 	C1440.678223,391.798920 1416.724854,417.976990 1392.193726,444.126648 
268 | 	C1386.415894,434.769470 1380.368774,426.203461 1370.914429,420.596558 
269 | 	C1370.234009,420.193054 1370.050415,418.951569 1369.635864,418.099731 
270 | 	C1392.717773,392.811493 1415.758057,367.485016 1438.936279,342.285461 
271 | 	C1441.695435,339.285675 1442.314941,337.367493 1439.529175,333.696930 
272 | 	C1410.549072,295.513245 1386.944824,254.217224 1369.083008,209.414490 
273 | 	C1374.531128,207.758392 1379.834839,207.088074 1384.660278,205.197159 
274 | 	C1390.238159,203.011368 1395.395020,199.750610 1400.734619,196.956573 
275 | 	C1412.495117,224.334381 1425.739624,250.951767 1441.895386,276.028412 
276 | 	C1449.625732,288.027283 1457.769897,299.759521 1466.161133,312.259430 
277 | 	C1473.723145,304.028625 1480.673950,296.495453 1487.589722,288.930298 
278 | 	C1518.901489,254.678223 1550.207153,220.420700 1581.492188,186.144302 
279 | 	C1582.600098,184.930573 1583.468506,183.498245 1585.052246,182.251862 
280 | 	C1590.949341,187.915588 1596.086548,193.656326 1601.605835,199.002625 
281 | 	C1604.133057,201.450745 1607.411865,203.122971 1610.349976,205.147034 
282 | z"/>
283 | <path fill="#399847" opacity="1.000000" stroke="none" 
284 | 	d="
285 | M1400.876953,196.643677 
286 | 	C1395.395020,199.750610 1390.238159,203.011368 1384.660278,205.197159 
287 | 	C1379.834839,207.088074 1374.531128,207.758392 1369.014404,209.036987 
288 | 	C1345.554932,208.572968 1328.157227,198.808472 1318.531738,177.421356 
289 | 	C1304.335449,145.877594 1325.795410,108.769508 1359.822388,104.850258 
290 | 	C1384.825195,101.970428 1405.125977,116.512505 1413.317383,133.703201 
291 | 	C1423.104614,154.243149 1419.171753,177.238968 1402.837524,194.010178 
292 | 	C1402.155884,194.710037 1401.622070,195.553970 1400.876953,196.643677 
293 | z"/>
294 | <path fill="#CA3E33" opacity="1.000000" stroke="none" 
295 | 	d="
296 | M1558.035645,451.623291 
297 | 	C1562.373535,443.822784 1566.588257,436.350311 1571.149658,429.095764 
298 | 	C1572.608032,426.776489 1574.984985,425.034790 1577.115479,422.757324 
299 | 	C1584.957886,419.464813 1592.388672,415.356049 1600.337769,413.621277 
300 | 	C1627.032837,407.795349 1653.787354,426.479553 1660.115112,454.583344 
301 | 	C1665.911011,480.324860 1648.767822,508.571930 1623.377075,515.116760 
302 | 	C1583.891724,525.294739 1550.147095,493.200836 1558.084229,453.025787 
303 | 	C1558.146362,452.710541 1558.062378,452.366394 1558.035645,451.623291 
304 | z"/>
305 | <path fill="#4E65AF" opacity="1.000000" stroke="none" 
306 | 	d="
307 | M1369.251465,418.122620 
308 | 	C1370.050415,418.951569 1370.234009,420.193054 1370.914429,420.596558 
309 | 	C1380.368774,426.203461 1386.415894,434.769470 1391.913330,444.328979 
310 | 	C1393.206665,451.746948 1395.086060,458.940552 1395.033936,466.120148 
311 | 	C1394.873657,488.153473 1383.906128,503.945099 1364.100220,512.653992 
312 | 	C1344.429199,521.303528 1325.368286,518.361389 1309.093140,504.249634 
313 | 	C1293.817505,491.004578 1288.043579,473.667328 1292.395142,453.812012 
314 | 	C1296.695435,434.190216 1309.009888,421.182495 1328.111938,415.016449 
315 | 	C1340.100586,411.146606 1352.062744,412.088837 1363.744751,416.822449 
316 | 	C1365.364990,417.478882 1367.155396,417.714844 1369.251465,418.122620 
317 | z"/>
318 | <path fill="#945AA3" opacity="1.000000" stroke="none" 
319 | 	d="
320 | M1610.724854,205.214386 
321 | 	C1607.411865,203.122971 1604.133057,201.450745 1601.605835,199.002625 
322 | 	C1596.086548,193.656326 1590.949341,187.915588 1585.383789,182.149902 
323 | 	C1584.744873,180.375748 1584.597900,178.696075 1583.979614,177.212982 
324 | 	C1570.111206,143.949951 1591.907837,107.926239 1627.734009,104.763176 
325 | 	C1654.522095,102.398087 1679.593384,120.805412 1683.889771,150.188889 
326 | 	C1687.649902,175.905121 1669.507935,201.927582 1643.475952,207.629303 
327 | 	C1634.379395,209.621735 1625.304443,209.405182 1616.375244,206.410522 
328 | 	C1614.681030,205.842346 1612.861328,205.648361 1610.724854,205.214386 
329 | z"/>
330 | <path fill="#030303" opacity="1.000000" stroke="none" 
331 | 	d="
332 | M1917.095703,191.153152 
333 | 	C1893.821411,190.347198 1876.220581,173.189621 1871.430420,153.667664 
334 | 	C1866.120239,132.026917 1874.986572,110.278351 1893.896606,99.513412 
335 | 	C1909.545532,90.604858 1925.904785,90.376427 1941.550781,99.161934 
336 | 	C1957.479004,108.105881 1966.363647,122.135925 1966.562866,140.738388 
337 | 	C1966.875977,169.959183 1946.305542,190.953171 1917.095703,191.153152 
338 | z"/>
339 | <path fill="#030303" opacity="1.000000" stroke="none" 
340 | 	d="
341 | M1737.451416,448.436401 
342 | 	C1763.490356,427.696747 1800.359497,439.878143 1808.204346,471.493500 
343 | 	C1812.354736,488.219757 1805.670776,505.914093 1791.069580,516.854004 
344 | 	C1777.941406,526.690613 1758.464478,527.871277 1743.975464,519.070129 
345 | 	C1728.375122,509.594055 1721.048340,495.488129 1722.447876,477.147583 
346 | 	C1723.328247,465.611450 1728.549072,456.235535 1737.451416,448.436401 
347 | z"/>
348 | <path fill="#FCFCFC" opacity="1.000000" stroke="none" 
349 | 	d="
350 | M727.727539,277.560974 
351 | 	C750.757629,270.837982 773.180908,270.880554 794.864014,280.920502 
352 | 	C814.739014,290.123291 829.100952,304.792938 836.609375,325.682556 
353 | 	C836.933472,326.584320 837.038818,327.564697 837.343628,328.952545 
354 | 	C783.368774,328.952545 729.715759,328.952545 675.573975,328.952545 
355 | 	C685.636353,304.234528 701.518311,285.979309 727.727539,277.560974 
356 | z"/>
357 | </svg>


--------------------------------------------------------------------------------
/docs/src/assets/type_hierarchy.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/type_hierarchy.png


--------------------------------------------------------------------------------
/docs/src/assets/vre_stor_module.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/docs/src/assets/vre_stor_module.png


--------------------------------------------------------------------------------
/docs/src/developer_guide.md:
--------------------------------------------------------------------------------
  1 | # How to contribute to GenX
  2 | 
  3 | ## Introduction
  4 | 
  5 | GenX is an open-source project, and we welcome contributions from the community. This guide aims to help you get started with GenX and explain how to contribute to the project. In general, the two main ways to contribute to GenX are:
  6 | 
  7 | 1. Use of [GitHub issues](https://docs.github.com/en/issues/tracking-your-work-with-issues/creating-an-issue) to report bugs and request new features
  8 | 2. Use of [GitHub pull requests (PR)](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request) to submit code changes
  9 | 
 10 | !!! tip
 11 |     We encourage every contributors to read this [guide](https://github.com/SciML/ColPrac), which contains some guidelines on how to contribute to a collaborative project like GenX.
 12 | 
 13 | The following sections describe in more detail how to work with GenX resources and how to add a new resource to GenX.
 14 | 
 15 | ## Style guide
 16 | GenX project follows the [SciML Style Guide](https://github.com/SciML/SciMLStyle). We encourage contributors to follow this style guide when submitting code changes to GenX. Before submitting a new PR, please run the following command to format a file or a directory:
 17 | ```julia
 18 | julia> using JuliaFormatter
 19 | julia> format("path_to_directory", SciMLStyle(), verbose=true)
 20 | ```
 21 | or
 22 | ```julia
 23 | julia> using JuliaFormatter
 24 | julia> format("path_to_file.jl", SciMLStyle(), verbose=true)
 25 | ```
 26 | The GitHub repository of GenX is configured to verify the code style of each PR and will automatically provide comments to assist you in formatting the code according to the style guide.
 27 | 
 28 | ## GenX resources
 29 | 
 30 | In GenX, a resource is defined as an instance of a `GenX resource type`, a subtype of an `AbstractResource`. This allows the code to use multiple dispatch and define a common interface (behavior) for all resources in the code. 
 31 | Type hierarchy of GenX resources:
 32 | 
 33 | ![Type hierarchy of GenX resources](./assets/type_hierarchy.png)
 34 | 
 35 | !!! note
 36 |     All the interface and utility functions available for resources are defined in the [resources.jl](https://github.com/GenXProject/GenX/blob/develop/src/model/resources/resources.jl) file. 
 37 | 
 38 | The set of all the resource types available in GenX are contained in the `resource_types` `Tuple` defined at the of the `resources.jl` file. During the initialization process, GenX reads the input data files and creates a new instance of the corresponding resource type for each row in the file. 
 39 | 
 40 | ### Resource design principles
 41 | 
 42 | Resources in GenX are constructed from a set of input files (in `.csv` format, one for each type of resource) located in the `resources` folder inside the `case` folder. Each row in one of these files defines a new resource instance, and each column corresponds to an attribute of that resource type. 
 43 | 
 44 | !!! warning
 45 |     The first column of each input data file should be called `Resource` and contain a unique identifier for each resource.
 46 | 
 47 | For example, in the case below, the files `Hydro.csv`, `Thermal.csv`, `Vre.csv`, and `Storage.csv` contain the resource data for the hydro, thermal, VRE, and storage resources, respectively. These files are read by GenX during the initialization process and used to create the corresponding resource instances.
 48 | 
 49 | ```
 50 | case_folder
 51 |     â”œâ”€â”€ resources
 52 |     â”‚   â”œâ”€â”€ Hydro.csv
 53 |     â”‚   â”œâ”€â”€ Thermal.csv
 54 |     â”‚   â”œâ”€â”€ Vre.csv
 55 |     â”‚   â””â”€â”€ Storage.csv
 56 |     â”œâ”€â”€ system
 57 |     â”‚   â””â”€â”€ Generators_variability.csv
 58 |     //
 59 |     â”œâ”€â”€ setting
 60 |     â”‚   â””â”€â”€ genx_settings.yml
 61 |     â””â”€â”€ Run.jl
 62 | ```
 63 | 
 64 | When loading the file `Thermal.csv` below, GenX will create three new resources of type `Thermal` and assign the values of the attributes of each resource from the columns in the input data file:
 65 | 
 66 | ```
 67 | Thermal.csv
 68 | 
 69 |  resource            â”‚ zone  â”‚ existing_cap_mw â”‚ inv_cost_per_mwyr â”‚ heat_rate_mmbtu_per_mwh â”‚
 70 |  String              â”‚ Int64 â”‚ Float64         â”‚ Float64           â”‚ Float64                 â”‚
 71 | â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
 72 |  NG_combined_cycle_1 â”‚ 1     â”‚ 100.0           â”‚ 239841            â”‚ 7.89                    â”‚
 73 |  NG_combined_cycle_2 â”‚ 2     â”‚ 200.0           â”‚ 0.0               â”‚ 8.29                    â”‚
 74 |  Biomass             â”‚ 3     â”‚ 200.0           â”‚ 81998             â”‚ 9.9                     â”‚
 75 | ```
 76 | These three resources, together with all the other resources in the data files, will be stored in the GenX `inputs` dictionary with the key `RESOURCES`.
 77 | 
 78 | ```julia
 79 | julia> gen = inputs["RESOURCES"]
 80 | julia> length(gen)  # returns the number of resources in the model
 81 | julia> thermal(gen)  # returns the indices of all thermal resources (Vector{Int64})
 82 | julia> gen.Thermal  # returns the thermal resources (Vector{Thermal})
 83 | julia> gen.Thermal == gen[thermal(gen)]  # returns true
 84 | ```
 85 | 
 86 | ### Working with GenX resources
 87 | To access the attributes of each resource, you can either use a function interface or the standard `.` notation. 
 88 | 
 89 | For example, let's assume that `thermal_gen` is the vector of the three `Thermal` resources created from the input data file `Thermal.csv` shown above. 
 90 | 
 91 | !!! note
 92 |     In the example below, we create the vector `thermal_gen` manually. However, in practice, this vector is automatically created by GenX when loading the input data file `Thermal.csv`.
 93 | 
 94 | ```@meta
 95 | DocTestSetup = quote
 96 |     using GenX: AbstractResource, Thermal, resource_name, existing_cap_mw, inv_cost_per_mwyr, ids_with, ids_with_positive, ids_with_nonneg, ids_with_policy, resource_id, esr, haskey
 97 | end
 98 | ```
 99 | 
100 | ```jldoctest example_thermal
101 | julia> thermal_gen = [Thermal(Dict(:resource => "NG_combined_cycle_1", 
102 |                                 :existing_cap_mw => 100.0, 
103 |                                 :inv_cost_per_mwyr => 239841, 
104 |                                 :heat_rate_mmbtu_per_mwh => 7.89,
105 |                                 :id => 23,
106 |                                 :max_cap_mw => 100.0,
107 |                                 :esr_1 => 1,)),
108 |                         Thermal(Dict(:resource => "NG_combined_cycle_2",
109 |                                 :existing_cap_mw => 200.0,
110 |                                 :inv_cost_per_mwyr => 0.0,
111 |                                 :heat_rate_mmbtu_per_mwh => 8.29,
112 |                                 :max_cap_mw => 0,
113 |                                 :id => 24)),
114 |                         Thermal(Dict(:resource => "Biomass",
115 |                                 :existing_cap_mw => 200.0,
116 |                                 :inv_cost_per_mwyr => 81998,
117 |                                 :heat_rate_mmbtu_per_mwh => 9.9, 
118 |                                 :max_cap_mw => 0,
119 |                                 :lds => 1,
120 |                                 :new_build => 1,
121 |                                 :id => 25))];
122 | ```
123 | 
124 | To access the attributes of the resources in `thermal_gen`, you can either use the function interfaces defined in `resources.jl` (recommended), or you can use the standard `.` notation:
125 | 
126 | ```jldoctest example_thermal
127 | julia> resource_name(thermal_gen[1])
128 | "NG_combined_cycle_1"
129 | julia> resource_name.(thermal_gen)
130 | 3-element Vector{String}:
131 |  "NG_combined_cycle_1"
132 |  "NG_combined_cycle_2"
133 |  "Biomass"
134 | julia> existing_cap_mw(thermal_gen[1])
135 | 100.0
136 | julia> existing_cap_mw.(thermal_gen)
137 | 3-element Vector{Float64}:
138 |  100.0
139 |  200.0
140 |  200.0
141 | julia> thermal_gen[1].existing_cap_mw
142 | 100.0
143 | ```
144 | 
145 | Moreover, inside the `resources.jl` file, there is a set of utility functions to work with all the resources and that can be used as building blocks to create more complex functions:
146 | 
147 | - [`Base.get`](@ref): Returns the value of the attribute `sym` of the resource `r`. If the attribute is not defined for the resource, it returns the `default` value of that attribute.
148 | 
149 | Example: 
150 | ```jldoctest example_thermal
151 | julia> get(thermal_gen[1], :existing_cap_mw, 0)
152 | 100.0
153 | julia> get(thermal_gen[1], :new_build, 0)
154 | 0
155 | ```
156 | 
157 | - [`Base.haskey`](@ref): Returns `true` if the resource `r` has the attribute `sym`, and `false` otherwise.
158 | 
159 | Example: 
160 | ```jldoctest example_thermal
161 | julia> haskey(thermal_gen[1], :existing_cap_mw)
162 | true
163 | julia> haskey(thermal_gen[1], :new_build)
164 | false
165 | ```
166 | 
167 | - [`Base.findall`](@ref): Returns the indices of the resources in `rs` for which the function `f` returns `true`.
168 | 
169 | Example: 
170 | ```jldoctest example_thermal
171 | julia> findall(r -> isa(r,Thermal), thermal_gen) # returns the indices of the thermal resources in thermal_gen
172 | 3-element Vector{Int64}:
173 |  23
174 |  24
175 |  25
176 | julia> findall(r -> get(r, :lds, 0) > 0, thermal_gen)  # returns the indices of the resources in thermal_gen that have a Long Duration Storage (lds) attribute greater than 0
177 | 1-element Vector{Int64}:
178 |  25
179 | julia> findall(r -> get(r, :new_build, 0) == 1, thermal_gen) # returns the indices of the resources in thermal_gen that are buildable (new_build = 1)
180 | 1-element Vector{Int64}:
181 |  25
182 | ```
183 | - [`GenX.ids_with`](@ref): Returns the indices of the resources in the vector `rs` for which the function `f` is different from `default`.
184 | 
185 | Example: 
186 | ```jldoctest example_thermal
187 | julia> ids_with(thermal_gen, inv_cost_per_mwyr)
188 | 2-element Vector{Int64}:
189 |  23
190 |  25
191 | ```
192 | A similar function works with `Symbol`s and `String`s instead of getter functions:
193 | ```jldoctest example_thermal
194 | julia> ids_with(thermal_gen, :inv_cost_per_mwyr)
195 | 2-element Vector{Int64}:
196 |  23
197 |  25
198 | ```
199 | 
200 | - [`GenX.ids_with_policy`](@ref): Returns the indices of the resources in the vector `rs` that have a policy with the name `name` and the tag `tag`.
201 | 
202 | Example: 
203 | ```jldoctest example_thermal
204 | julia> ids_with_policy(thermal_gen, esr, tag=1)
205 | 1-element Vector{Int64}:
206 |  23
207 | ```
208 | 
209 | - [`GenX.ids_with_positive`](@ref): Returns the indices of the resources in the vector `rs` for which the getter function `f` returns a positive value.
210 | 
211 | Example: 
212 | ```jldoctest example_thermal
213 | julia> ids_with_positive(thermal_gen, inv_cost_per_mwyr)
214 | 2-element Vector{Int64}:
215 |  23 
216 |  25
217 | ```
218 | A similar function works with `Symbol`s and `String`s instead of getter functions:
219 | ```jldoctest example_thermal
220 | julia> ids_with_positive(thermal_gen, :inv_cost_per_mwyr)
221 | 2-element Vector{Int64}:
222 |  23
223 |  25
224 | ```
225 | 
226 | - [`GenX.ids_with_nonneg`](@ref): Returns the indices of the resources in `rs` for which the getter function `f` returns a non-negative value.
227 | 
228 | Other useful functions available in GenX are:
229 | - `GenX.resource_id`: Returns the `id` of the resource `r`.
230 | Example: 
231 | ```jldoctest example_thermal
232 | julia> resource_id(thermal_gen[1])
233 | 23
234 | julia> resource_id.(thermal_gen)
235 | 3-element Vector{Int64}:
236 |  23
237 |  24
238 |  25
239 | ```
240 | - `GenX.resource_name`: Returns the `name` of the resource `r`.
241 | Example: 
242 | ```jldoctest example_thermal
243 | julia> resource_name(thermal_gen[1])
244 | "NG_combined_cycle_1"
245 | julia> resource_name.(thermal_gen)
246 | 3-element Vector{String}:
247 |  "NG_combined_cycle_1"
248 |  "NG_combined_cycle_2"
249 |  "Biomass"
250 | ```
251 | 
252 | 
253 | ## How to add a new resource to GenX
254 | ### Overview
255 | GenX is designed to be modular and highly flexible to comply with the rapidly changing electricity landscape. For this reason, adding a new resource to GenX is relatively straightforward. This guide will walk you through the steps to do it.
256 | 
257 | !!! tip
258 |     Before you start, ensure you have read the section of the documentation about [1.4 Resources input files](@ref). This will help you understand the data format that GenX expects for each resource and where to place the input data files. 
259 | 
260 | 
261 | ### Step 1: Define the new resource data type
262 | The first step to add a new resource to GenX is to create a new GenX resource type. This is done by adding a new element to the `resource_types` list of symbols defined at the top of the [resources.jl](https://github.com/GenXProject/GenX/blob/develop/src/model/resources/resources.jl) file. This list contains the names of all the resource types available in GenX. 
263 | 
264 | For example, to add a new resource type called `new_resource`, you would need to add a new `Symbol`, `:NewResource` to the `resource_types` list:
265 | ```julia
266 | const resource_types = (:Thermal,
267 |                         :Vre,
268 |                         :Hydro,
269 |                         :Storage,
270 |                         :MustRun,
271 |                         :FlexDemand,
272 |                         :VreStorage,
273 |                         :Electrolyzer,
274 |                         :NewResource)
275 | ```
276 | We encourage you to use `CamelCase` for the name of the new resource type.
277 | 
278 | The lines right after the `resource_types` list automatically create a new `struct` (composite type) for the new resource type. More importantly, the new resource type will be defined as a subtype of the GenX `AbstractResource` type. This is important because it allows the code to use multiple dispach and define a common interface (behavior) for all resources in GenX. For instance, the `resource_id()` function will return the `id` of any resource in GenX, regardless of its type (and therefore will automatically work for the newly created `new_resource`).
279 | 
280 | ### Step 2: Add the filename of the new resource type to GenX
281 | 
282 | In GenX, the attributes of a resource are automatically defined from the columns of the corresponding input data file (e.g., `Thermal.csv` file for the `Thermal` resources, `Hydro.csv` file for the `Hydro` resource, etc). The first column of these files should be called `Resource` and contain a unique identifier for each resource. The rest of the columns in the input data file will be used to define the attributes of the new resource type. 
283 | 
284 | So, the second step to add a new resource type to GenX is to add the filename of the input data file to GenX. The list of input data files that GenX loads during the initialization process are defined at the top of the [`load_resource_data.jl`](https://github.com/GenXProject/GenX/tree/main/src/load_inputs/load_resources_data.jl)
285 | file, inside an internal function called `_get_resource_info()`. This function returns a `NamedTuple` called `resource_info` with the name of the input data file and the name of the resource type for each resource that is available in GenX. 
286 | 
287 | To add the new resource type to GenX, add a new item to `resource_info`, where the first field is the name of the input data file and the second is the name of the resource type that was created in Step 1. The names in `resource_info` are only used to make the code more readable and are arbitrary. 
288 | 
289 | For example, if you are adding a new resource type called `new_resource`, you would need to add the following line to the `resource_info`: `new_resource = (filename="New_resource.csv", type=NewResource)`, as follows: 
290 | 
291 | ```julia
292 | function _get_resource_info()
293 |     resource_info = (
294 |         hydro   = (filename="Hydro.csv", type=Hydro),
295 |         thermal = (filename="Thermal.csv", type=Thermal),
296 |         vre     = (filename="Vre.csv", type=Vre),
297 |         storage = (filename="Storage.csv", type=Storage),
298 |         flex_demand  = (filename="Flex_demand.csv", type=FlexDemand),
299 |         must_run = (filename="Must_run.csv", type=MustRun),
300 |         electrolyzer = (filename="Electrolyzer.csv", type=Electrolyzer),
301 |         vre_stor = (filename="Vre_stor.csv", type=VreStorage)
302 |         new_resource = (filename="New_resource.csv", type=NewResource)
303 |     )
304 |     return resource_info
305 | end
306 | ```
307 | With this simple edit, whenever the file `New_resource.csv` is found in the input data folder, GenX will automatically perform the following steps:
308 | 
309 | 1. Load the new resource input file,
310 | 2. Create a new instance of the `NewResource` type for each row in the input data file,
311 | 3. Define the attributes of each `NewResource` from the columns in the input data file,
312 | 4. Populate the attributes of each `NewResource` with the values read from the input data file.
313 | 5. Add the new resources to the vector of resources in the model.
314 | 
315 | For example, if the input data file `New_resource.csv` contains the following data:
316 | ```
317 | New_resource.csv
318 | 
319 |  Resource â”‚ Zone  | Exisiting_capacity | attribute_1 | attribute_2
320 |  String   â”‚ Int64 | Float64            | Float64     | Float64
321 | â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
322 |  new_res1 â”‚ 1     â”‚ 100.0              â”‚ 6.2         â”‚ 0.4
323 |  new_res2 â”‚ 1     â”‚ 200.0              â”‚ 0.1         â”‚ 4.0
324 |  new_res3 â”‚ 2     â”‚ 300.0              â”‚ 2.0         â”‚ 0.1
325 | ```
326 | GenX will create three new resources of type `NewResource` with the following attributes:
327 | - `resource`: `String` with the name of the resource (e.g., `new_res1`, `new_res2`, `new_res3`)
328 | - `zone`: `Int64` with the zone of the resource (e.g., `1`, `1`, `2`)
329 | - `existing_capacity`: `Float64` with the existing capacity of the resource (e.g., `100.0`, `200.0`, `300.0`)
330 | - `attribute_1`: `Float64` with the value of `attribute_1` (e.g., `6.2`, `0.1`, `2.0`)
331 | - `attribute_2`: `Float64` with the value of `attribute_2` (e.g., `0.4`, `4.0`, `0.1`)
332 | 
333 | 
334 | See Step 3 for more details on how to work with the new resource type.
335 | 
336 | !!! warning
337 |     Each resource type must contain a `Resource` attribute. This attribute should be `String` that uniquely identifies the resource. 
338 | 
339 | ### Step 3: Work with the new resource type
340 | Once the new resource type has been defined and added to GenX, you can work with it as you would with any other resource type. To improve the robustness and readability of the code, we recommend that you define getter functions for the new attributes of the new resource type (e.g., a function `zone(r) = r.zone` to get the zone of the resource `r`). These functions can be defined in the `resources.jl` file. However, this is not strictly necessary, and you can access the attributes of the new resource type directly using the standard `.` notation:
341 | 
342 | !!! tip
343 |     To simplify the creation of getter functions for the new resource type, you can use the `@interface` macro available in GenX. This macro automatically creates a new function with the same name as the attribute and which returns the value of the attribute. For example, if you want to create a getter function for the `attribute_1` of the `NewResource` type, these two ways are equivalent:
344 |     ```julia
345 |     julia> default_attribute_1 = 0.0    # default value for attribute_1
346 |     julia> attribute_1(res::NewResource) = get(res, :attribute_1, default_attribute_1)
347 |     attribute_1 (generic function with 1 method)
348 |     julia> @interface(attribute_1, 0.0, NewResource)
349 |     attribute_1 (generic function with 1 method)
350 |     ```
351 |     And then:
352 |     ```julia
353 |     julia> attribute_1(new_res1)
354 |     6.2
355 |     julia> new_res1.attribute_1
356 |     6.2
357 |     ```
358 | 
359 | ```@meta
360 | DocTestSetup = nothing
361 | ```
362 | 
363 | # Utility functions to work with JuMP expressions in GenX
364 | ```@autodocs
365 | Modules = [GenX]
366 | Pages = ["model/expression_manipulation.jl"]
367 | ```


--------------------------------------------------------------------------------
/docs/src/index.md:
--------------------------------------------------------------------------------
 1 | ```@raw html
 2 | <img class="light-style-only" width="600" src="assets/logo.svg" style="padding-left: 50px; padding-top: 20px; "/>
 3 | <img class="dark-style-only" width="600" src="assets/logo-dark.svg" style="padding-left: 50px; padding-top: 20px; "/>
 4 | ```
 5 | 
 6 | ### Welcome to the GenX documentation! 
 7 | 
 8 | ## What is GenX?
 9 | 
10 | GenX is a highly-configurable, [open source](https://github.com/GenXProject/GenX/blob/main/LICENSE) electricity resource capacity expansion model that incorporates several state-of-the-art practices in electricity system planning to offer improved decision support for a changing electricity landscape.
11 | 
12 | The model was [originally developed](https://energy.mit.edu/publication/enhanced-decision-support-changing-electricity-landscape/) by [Jesse D. Jenkins](https://mae.princeton.edu/people/faculty/jenkins) and [Nestor A. Sepulveda](https://energy.mit.edu/profile/nestor-sepulveda/) at the Massachusetts Institute of Technology and is now jointly maintained by [a team of contributors](https://energy.mit.edu/genx/#team) at the Princeton University ZERO Lab (led by Jenkins), MIT (led by [Ruaridh MacDonald](https://energy.mit.edu/profile/ruaridh-macdonald/)), NYU (led by [Dharik Mallapragada](https://engineering.nyu.edu/faculty/dharik-mallapragada)), and Binghamton University (led by [Neha Patankar](https://www.binghamton.edu/ssie/people/profile.html?id=npatankar)). 
13 | 
14 | GenX is a constrained linear or mixed integer linear optimization model that determines the portfolio of electricity generation, storage, transmission, and demand-side resource investments and operational decisions to meet electricity demand in one or more future planning years at lowest cost, while subject to a variety of power system operational constraints, resource availability limits, and other imposed environmental, market design, and policy constraints.
15 | 
16 | GenX features a modular and transparent code structure developed in [Julia](http://julialang.org/) + [JuMP](http://jump.dev/). The model is designed to be highly flexible and configurable for use in a variety of applications from academic research and technology evaluation to public policy and regulatory analysis and resource planning. See the **User Guide** for more information on how to use GenX and the **Developer Guide** for more information on how to contribute to GenX.
17 | 
18 | ## Uses
19 | 
20 | From a centralized planning perspective, the GenX model can help to determine the investments needed to supply future electricity demand at minimum cost, as is common in least-cost utility planning or integrated resource planning processes. In the context of liberalized markets, the model can be used by regulators and policy makers for indicative energy planning or policy analysis in order to establish a long-term vision of efficient market and policy outcomes. The model can also be used for techno-economic assessment of emerging electricity generation, storage, and demand-side resources and to enumerate the effect of parametric uncertainty (e.g., technology costs, fuel costs, demand, policy decisions) on the system-wide value or role of different resources.
21 | 
22 | ## Roadmap of the Documentation: A Guide for the Users and Developers
23 | 
24 | This section provides a quick guidance as to how to navigate through the different parts of the documentation pages; what the different sections contain, and how to relate it to the different parts of the GenX code-base. 
25 | 
26 | This page serves as a gentle introduction to what GenX is meant for and what it does. 
27 | 
28 | The next subsection, [Installation Guide](@ref) goes over how to download and install GenX and also how to download and install the Julia programming language (in which GenX is written) and the different open-source non-commercial freely available solvers, as well as the commercial solvers and the respective JuMP interfaces. This subsection also goes over installing the environment dependencies and instantiating a virtual environment.
29 | 
30 | We also mention the shortcomings of GenX and some third party extentions in the next couple subsections
31 | 
32 | The next section is **Getting Started** goes over [Running GenX](@ref) and has two subsections. The first subsection, [Example cases](@ref), gives a walkthrough through some predefined example systems and how to run GenX for those and interpret the results. It also tells how to run GenX for a user-defined case. The subsection [Using commercial solvers: Gurobi or CPLEX](@ref) talks specifically about how to run GenX with commercial solvers like Gurobi and CPLEX that are absolutely indispensable for solving large cases. 
33 | 
34 | The third section, **Tutorial** starts with [GenX Tutorials](@ref) and gives a comprehensive tour of the different steps that are involved when a GenX capacity expansion simulation is run. It consists of 6 tutorial sections, each of which highlights the different important aspects of model construction and run of GenX. The different sections are configuring the GenX settings, visualizing the network, time domain reduction, generating the model, solving the model, and adjusting the different solver settings.
35 | 
36 | The **User Guide**, which the fourth section ([User Guide](@ref)) goes into the depths and details of the different steps and the settings and input parameters from the previous Tutorial section. The sections starts off with an overview of the workflow in GenX, briefing about the different steps (some of which we encountered in the Tutorials) of running GenX model. It then explains the different parameters of settings, policy, time-domain reduction, model structure, and output. Following this, the next subsection explains the different solver settings parameters of the different solvers. The next subsection goes over the different input CSV files and the different fields that are used there. The following two subsections are devoted to Time Domain Reduction (TDR). The first one walks through and explains the different settings parameters for TDR and the second one explains the couple different ways to run TDR for GenX and what exactly happens when we run TDR. The next four subsections, respectively, explains the different parameters, inputs, and outputs, and what happens when Modeling to Generate Alternatives (MGA), Multi-stage model, slack variables for policies (when we want to satisfy policy constraints in a soft manner by adding penalty of violation in the objective function), and Method of Morris. Finally, the last two sections are about the different steps involved while solving the model and the explanation of different output fields for both the default settings and user-specific settings. 
37 | 
38 | The **Model Concept and Overview** section first introduces the GenX model in [GenX Model Introduction](@ref) and talks about its scope. It also introduces the notations, the objective function, and the power balance constraints. This is the first section which delves into the theoretical and mathematical details of the model, which is the most important one for model developers.
39 | 
40 | The **Model Reference**, which is the sixth section delves deep into the GenX model and introduces the mathematical formulation, while discussing the physical interpretations of all the different parts of the GenX model. This section starts off with discussing the [Core](@ref) of the model, which models the Discharge, Non-Served Energy, Operational Reserves, Transmission, Unit Commitment, CO2, and Fuel. The different parts of the model consists of the different tyoe of generating resources (thermal, hydro, VRE, storage etc.), transmission network (modeling of flows as well as losses), demand modeling, operating reserves, unit commitment, different policies (such as CO2 constraint, capacity reserve margin, energy share requirement, min and max cap requirement etc.). This section also mentions about the different Julia functions (or methods) used for loading the input files, building the model, solving it, and generating the output files. Also, this is the section that explains the internal details of the Julia functions used for TDR, MGA, Method of Morris, Multi-stage modeling, and the several utility functions used throughout the GenX code-base. 
41 | 
42 | The seventh section, **Public API Reference** [Public Documentation](@ref) is for describing the functions that are directly accessible to an external program from GenX (like loading inputs, generating output, running TDR script etc.) and how an external "client" code can access the GenX features, if the user desires to run his/her own code instead of the Run.jl provided by us.
43 | 
44 | The eighth section, **Third Party Extension** [Additional Third Party Extensions to GenX](@ref) mentions about Pygenx, a Python interface for GenX, that was built by Daniel Olsen and GenX case runner for automated batch running, built by Jacob Schwartz.
45 | 
46 | Finally, the ninth and last section, **Developer Docs** [How to contribute to GenX](@ref) talks about the resource organization in GenX, how to add a new user-defined resource, and also several JuMP functions that are used as utility throughout the GenX code-base. 
47 | 
48 | 
49 | 
50 | 
51 | 
52 | ## How to cite GenX
53 | 
54 | We recommend users of GenX to cite it in their academic publications and patent filings. Here's the text to put up as the citation for GenX:
55 | `MIT Energy Initiative and Princeton University ZERO lab. [GenX](https://github.com/GenXProject/GenX): a configurable power system capacity expansion model for studying low-carbon energy futures n.d. https://github.com/GenXProject/GenX`.
56 | 
57 | ## Acknowledgement
58 | The GenX team expresses deep gratitude to [Maya Mutic](https://github.com/mmutic) for developing the tutorials along with Filippo Pecci and Luca Bonaldo. 
59 | The Julia-themed GenX logo was designed by Laura Zwanziger and Jacob Schwartz.
60 | 
61 | ## License
62 | 
63 | GenX is released under the General Public License, GPL-2.0
64 | 
65 | ## Index
66 | 
67 | ```@index
68 | Pages = ["Model_Reference/core.md",
69 |         "Model_Reference/Resources/curtailable_variable_renewable.md",
70 |         "Model_Reference/Resources/flexible_demand.md",
71 |         "Model_Reference/Resources/hydro_res.md",
72 |         "Model_Reference/Resources/hydro_inter_period_linkage.md",
73 |         "Model_Reference/Resources/must_run.md",
74 |         "Model_Reference/Resources/storage.md",
75 |         "Model_Reference/Resources/investment_charge.md",
76 |         "Model_Reference/Resources/investment_energy.md",
77 |         "Model_Reference/Resources/long_duration_storage.md",
78 |         "Model_Reference/Resources/storage_all.md",
79 |         "Model_Reference/Resources/storage_asymmetric.md",
80 |         "Model_Reference/Resources/storage_symmetric.md",
81 |         "Model_Reference/Resources/vre_stor.md",
82 |         "Model_Reference/Resources/thermal.md",
83 |         "Model_Reference/Resources/thermal_commit.md",
84 |         "Model_Reference/Resources/thermal_no_commit.md",
85 |         "Model_Reference/Resources/electrolyzers.md",
86 |         "Model_Reference/Resources/maintenance.md",
87 |         "Model_Reference/policies.md",
88 |         "User_Guide/solver_configuration.md",
89 |         "Model_Reference/load_inputs.md",
90 |         "Model_Reference/TDR.md",
91 |         "Model_Reference/Multi_Stage/configure_multi_stage_inputs.md",
92 |         "Model_Reference/Multi_Stage/dual_dynamic_programming.md",
93 |         "Public_API/solve_model.md",
94 |         "Public_API/mga.md",
95 |         "Public_API/methodofmorris.md",
96 |         "Public_API/write_outputs.md"]
97 | ```


--------------------------------------------------------------------------------
/docs/src/installation.md:
--------------------------------------------------------------------------------
 1 | # Installation Guide
 2 | This guide will walk you through the steps to install Julia, the GenX package, and the required dependencies to run GenX.
 3 | 
 4 | ## Installing Julia
 5 | GenX (v0.4.4) runs on Julia v1.6 through v1.9, with a minimum version of the package [JuMP](https://jump.dev/JuMP.jl/stable/) v1.1.1. Julia v1.10 and v1.11 are also supported. However, we recently noticed a decline in performance with Julia v1.10, which is currently under investigation. Therefore, we recommend using Julia v1.9, particularly for very large cases. To install Julia, please follow the instructions on the [Julia website](https://julialang.org/downloads/).
 6 | 
 7 | !!! note "Note" 
 8 |     We recommend the users to stick to a particular version of Julia to run GenX. If however, the users decide to switch between versions, it's very important to delete the old `Manifest.toml` file and do a fresh build of GenX.
 9 | 
10 | ## Downloading GenX and installing dependencies
11 | After installing Julia, you can download GenX by either cloning the repository or downloading the zip file from the [GenX GitHub page](https://github.com/GenXProject/GenX). For this tutorial it will be assumed to be within your home directory: `/home/youruser/GenX`.
12 | Once you have downloaded GenX, you can install the dependencies by following the steps below:
13 | 
14 | 1\. Start a terminal and navigate into the `GenX` folder.
15 | 
16 | 2\. Type `julia --project=.` to start an instance of the `julia` kernel with the `project` set to the current folder. The flag `--project=.` indicates that Julia will activate the project environment using the `Project.toml` present in the current folder, `.`. If running on Windows, the location of Julia can also be specified as e.g., `C:\julia-1.6.0\bin\julia.exe --project=.`.
17 | 
18 | !!! tip "Tip"
19 |     The file `Project.toml` in the parent directory lists all of the dependencies and their versions needed to run GenX. You can see all of the packages installed in your Julia environment and their version numbers by running `pkg> status` or `pkg> st` on the package manager command line in the Jula REPL (for more information on the Julia package manager, read the documentation for the [Pkg.jl](https://pkgdocs.julialang.org/v1/environments/) or for the [Julia standard library](https://docs.julialang.org/en/v1/stdlib/Pkg/)).
20 | 
21 | !!! tip "Tip" 
22 |     `julia --project` is a shortcut for `julia --project=.`
23 | 
24 | 3\. Type `]` to bring up the package system `(GenX) pkg >` prompt. This indicates that the GenX project was detected. 
25 | 
26 | !!! warning "Warning"
27 |     If you see `(@v1.6) pkg>` as the prompt, then the `project` was not successfully set.
28 | 
29 | 4\. Type `instantiate` from the `(GenX) pkg` prompt.
30 |    
31 | !!! note "Note for Windows users" 
32 |     On Windows there is an issue with the prepopulated `MUMPS_seq_jll v5.5.1` that prevents compilation of the solvers. To avoid this issue type `add MUMPS_seq_jll@5.4.1` after running instantiate.
33 | 
34 | 5\. Type `st` to check that the dependecies have been installed. If there is no error, it has been successful.
35 | 
36 | !!! tip "Tip" 
37 |     Type the back key to come back to the `julia>` prompt from the package manager.
38 | 
39 | The above steps are shown in Figure 1 and Figure 2.
40 | 
41 | ![Creating the Julia environment and installing dependencies: Steps 2-4](assets/GenX_setup_tutorial_part_1.png)
42 | *Figure 1. Creating the Julia environment and installing dependencies from Project.toml file from inside the GenX folder.*
43 | 
44 | ![Creating the Julia environment and installing dependencies: Step 5](assets/GenX_setup_tutorial_part_2.png)
45 | *Figure 2. Creating the Julia environment and installing dependencies from Project.toml file from inside the GenX folder: Step 5*
46 | 
47 | ## Installing solvers
48 | GenX requires a solver to be installed to solve the optimization problem. By default, GenX uses one of the following open-source freely available solvers:
49 | 
50 | 1. [HiGHS](https://github.com/jump-dev/HiGHS.jl) for linear programming and MILP (default solver)
51 | 2. [Clp](https://github.com/jump-dev/Clp.jl) for linear programming (LP) problems
52 | 3. [Cbc](https://github.com/jump-dev/Cbc.jl) for mixed integer linear programming (MILP) problems
53 | 
54 | We also provide the option to use one of these two commercial solvers: 
55 | 4. [Gurobi](https://www.gurobi.com)
56 | 5. [CPLEX](https://www.ibm.com/analytics/cplex-optimizer).
57 | 
58 | !!! note "Note on commercial solvers"
59 |     Using Gurobi and CPLEX requires a valid license on the host machine.
60 | 
61 | ## Notes on previous versions of GenX
62 | For those users who has previously cloned GenX, and has been running it successfully so far, and therefore might be unwilling to run it on the latest version of Julia: please look into the GitHub branch, [old_version](https://github.com/GenXProject/GenX/tree/old_version).
63 | 
64 | 
65 | 


--------------------------------------------------------------------------------
/docs/src/limitations_genx.md:
--------------------------------------------------------------------------------
 1 | # Limitations of the GenX Model
 2 | 
 3 | While the benefits of an openly available generation and transmission expansion model are high, many approximations have been made due to missing data or to manage computational tractability. The assumptions of the GenX model are listed below. It serves as a caveat to the user and as an encouragement to improve the approximations.
 4 | 
 5 | #### 1. Time period
 6 | GenX makes the simplifying assumption that each time period contains n copies of a single, representative year. GenX optimizes generation and transmission capacity for just this characteristic year within each time period, assuming the results for different years in the same time period are identical. However, the GenX objective function accounts only for the cost of the final model time period.
 7 | 
 8 | #### 2. Cost
 9 | The GenX objective function assumes that the cost of powerplants is specified in the unit of currency per unit of capacity. GenX also assumes that the capital cost of technologies is paid through loans.
10 | 
11 | #### 3.Market
12 | GenX is a bottom-up (technology-explicit), partial equilibrium model that assumes perfect markets for commodities. In other words, each commodity is produced such that the sum of producer and consumer surplus is maximized.
13 | 
14 | #### 4. Technology
15 | Behavioral response and acceptance of new technology are often modeled simplistically as a discount rate or by externally fixing the technology capacity. A higher, technology-specific discount rate represents consumer reluctance to accept newer technologies.
16 | 
17 | #### 5. Uncertainty
18 | Because each model realization assumes a particular state of the world based on the input values drawn, the parameter uncertainty is propagated through the model in the case of myopic model runs.
19 | 
20 | #### 6. Decision-making
21 | 
22 | GenX assumes rational decision making, with perfect information and perfect foresight, and simultaneously optimizes all decisions over the user-specified time horizon.
23 | 
24 | #### 7. Demand
25 | GenX assumes price-elastic demand segments that are represented using piece-wise approximation rather than an inverse demand curve to keep the model linear.
26 | 


--------------------------------------------------------------------------------
/docs/src/third_party_genx.md:
--------------------------------------------------------------------------------
 1 | ## pygenx: Python interface for GenX
 2 | 
 3 | Python users can now run GenX from a thin-python-wrapper interface, developed by [Daniel Olsen](https://github.com/danielolsen). This tool is called `pygenx` and can be cloned from the github page: [pygenx](https://github.com/danielolsen/pygenx). It needs installation of Julia 1.3 and a clone of GenX repo along with your python installation. 
 4 | 
 5 | ## Simple GenX Case Runner: For automated sequential batch run for GenX
 6 | 
 7 | It is now possible to run a list of GenX cases as separate batch jobs. Alternatively, they can also be run locally in sequence, as one job. It has been developed by [Jacob Schwartz](https://github.com/cfe316). This tool is called `SimpleGenXCaseRunner` and can be cloned from the github page: [SimpleGenXCaseRunner](https://github.com/cfe316/SimpleGenXCaseRunner)
 8 | 
 9 | ## Bug and feature requests and contact info
10 | If you would like to report a bug in the code or request a feature, please use our [Issue Tracker](https://github.com/GenXProject/GenX/issues). If you're unsure or have questions on how to use GenX that are not addressed by the above documentation, please reach out to Sambuddha Chakrabarti (sc87@princeton.edu), Luca Bonaldo (lucabonaldo@princeton.edu), Jesse Jenkins (jdj2@princeton.edu) or Dharik Mallapragada (dharik@mit.edu).
11 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/README.md:
--------------------------------------------------------------------------------
 1 | # Three Zones
 2 | 
 3 | **Three Zones**, a one-year example with hourly resolution, contains zones representing Massachusetts, Connecticut, and Maine. The ten represented resources include natural gas, solar PV, wind, and lithium-ion battery storage.
 4 | 
 5 | To run the model, first navigate to the example directory:
 6 | 
 7 | - Using a Julia REPL:
 8 | 
 9 | ```bash
10 | $ julia
11 | julia> cd("example_systems/1_three_zones/")
12 | ```
13 | 
14 | - Using a terminal or command prompt:
15 | ```bash
16 | $ cd example_systems/1_three_zones/
17 | ``` 
18 |    
19 | Next, ensure that your settings in `settings/genx_settings.yml` are correct. The default settings use the solver `HiGHS`, time domain reduced input data (`TimeDomainReduction: 1`) and minimum capacity requirement policy (`MinCapReq: 1`) as specified in the `policies/Minimum_capacity_requirement.csv` file. Other optional policies include a capacity reserve margin, an energy share requirement (such as renewable portfolio standard (RPS) or clean electricity standard (CES) policies), a CO2 emissions cap, and a maximum capacity requirement policy (see the documentation for more details). For this example, a rate-based carbon cap of 50 gCO<sub>2</sub> per kWh is specified in the `policies/CO2_cap.csv` input file.
20 | 
21 | Once the settings are confirmed, run the model with the `Run.jl` script in the example directory:
22 | 
23 | - Using a Julia REPL (recommended)
24 | ```julia
25 | julia> include("Run.jl")
26 | ```
27 | - Using a terminal or command prompt:
28 | ```bash
29 | $ julia Run.jl
30 | ```
31 | 
32 | Once the model has completed, results will write to the `results` directory.
33 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/Run.jl:
--------------------------------------------------------------------------------
1 | using GenX
2 | 
3 | run_genx_case!(dirname(@__FILE__))
4 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,0.05,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,0.05,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,0.05,0,0,0.025
5 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,MA_PV,5000
3 | 2,CT_Wind,10000
4 | 3,All_Batteries,6000
5 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_battery,1,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,MA,0
3 | CT_battery,2,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,CT,0
4 | ME_battery,3,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,ME,0


--------------------------------------------------------------------------------
/example_systems/1_three_zones/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,0,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,0,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,0,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/1_three_zones/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_solar_pv,1,1,1,0,0,-1,0,85300,18760,0,0,0,0,0,MA,1
3 | CT_onshore_wind,2,1,1,0,0,-1,0,97200,43205,0.1,0,0,0,0,CT,1
4 | CT_solar_pv,2,1,1,0,0,-1,0,85300,18760,0,0,0,0,0,CT,1
5 | ME_onshore_wind,3,1,1,0,0,-1,0,97200,43205,0.1,0,0,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/1_three_zones/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | MA_solar_pv,1,0,0
3 | CT_onshore_wind,0,1,0
4 | MA_battery,0,0,1
5 | CT_battery,0,0,1
6 | ME_battery,0,0,1


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/clp_settings.yml:
--------------------------------------------------------------------------------
 1 | # Clp Solver parameters https://github.com/jump-dev/Clp.jl
 2 | # Common solver settings
 3 | Feasib_Tol: 1e-5              # Primal/Dual feasibility tolerance
 4 | TimeLimit: -1.0               # Terminate after this many seconds have passed. A negative value means no time limit
 5 | Pre_Solve: 0                  # Set to 1 to disable presolve
 6 | Method: 5                     # Solution method: dual simplex (0), primal simplex (1), sprint (2), barrier with crossover (3), barrier without crossover (4), automatic (5)
 7 | 
 8 | #Clp-specific solver settings
 9 | DualObjectiveLimit: 1e308     # When using dual simplex (where the objective is monotonically changing), terminate when the objective exceeds this limit
10 | MaximumIterations: 2147483647 # Terminate after performing this number of simplex iterations
11 | LogLevel: 1                   # Set to 1, 2, 3, or 4 for increasing output. Set to 0 to disable output
12 | InfeasibleReturn: 0           # Set to 1 to return as soon as the problem is found to be infeasible (by default, an infeasibility proof is computed as well)
13 | Scaling: 3                    # 0 -off, 1 equilibrium, 2 geometric, 3 auto, 4 dynamic(later)
14 | Perturbation: 100             # switch on perturbation (50), automatic (100), don't try perturbing (102)


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/cplex_settings.yml:
--------------------------------------------------------------------------------
 1 | # CPLEX Solver Parameters
 2 | Feasib_Tol: 1.0e-05 # Constraint (primal) feasibility tolerances.
 3 | Optimal_Tol: 1e-5 # Dual feasibility tolerances.
 4 | Pre_Solve: 1 # Controls presolve level.
 5 | TimeLimit: 110000 # Limits total time solver.
 6 | MIPGap: 1e-3 # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
 7 | Method: 2 # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | BarConvTol: 1.0e-08 # Barrier convergence tolerance (determines when barrier terminates).
 9 | NumericFocus: 0 # Numerical precision emphasis.
10 | SolutionType: 2 # Solution type for LP or QP.
11 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/genx_settings.yml:
--------------------------------------------------------------------------------
 1 | NetworkExpansion: 1 # Transmission network expansionl; 0 = not active; 1 = active systemwide
 2 | Trans_Loss_Segments: 1 # Number of segments used in piecewise linear approximation of transmission losses; 1 = linear, >2 = piecewise quadratic
 3 | EnergyShareRequirement: 0 # Minimum qualifying renewables penetration; 0 = not active; 1 = active systemwide
 4 | CapacityReserveMargin: 0 # Number of capacity reserve margin constraints; 0 = not active; 1 = active systemwide
 5 | CO2Cap: 2 # CO2 emissions cap; 0 = not active (no CO2 emission limit); 1 = mass-based emission limit constraint; 2 = demand + rate-based emission limit constraint; 3 = generation + rate-based emission limit constraint
 6 | StorageLosses: 1 # Energy Share Requirement and CO2 constraints account for energy lost; 0 = not active (DO NOT account for energy lost); 1 = active systemwide (DO account for energy lost)
 7 | MinCapReq: 1  # Activate minimum technology carveout constraints; 0 = not active; 1 = active
 8 | MaxCapReq: 0  # Activate maximum technology carveout constraints; 0 = not active; 1 = active
 9 | ParameterScale: 1 # Turn on parameter scaling wherein demand, capacity and power variables are defined in GW rather than MW. 0 = not active; 1 = active systemwide
10 | WriteShadowPrices: 1 # Write shadow prices of LP or relaxed MILP; 0 = not active; 1 = active
11 | UCommit: 2 # Unit committment of thermal power plants; 0 = not active; 1 = active using integer clestering; 2 = active using linearized clustering
12 | TimeDomainReduction: 1 # Time domain reduce (i.e. cluster) inputs based on Demand_data.csv, Generators_variability.csv, and Fuels_data.csv; 0 = not active (use input data as provided); 0 = active (cluster input data, or use data that has already been clustered)
13 | OutputFullTimeSeries: 1


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/gurobi_settings.yml:
--------------------------------------------------------------------------------
 1 | # Gurobi Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05           # Constraint (primal) feasibility tolerances.
 4 | Optimal_Tol: 1e-5             # Dual feasibility tolerances.
 5 | TimeLimit: 110000             # Limits total time solver.
 6 | Pre_Solve: 1                  # Controls presolve level.
 7 | Method: 4                     # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | 
 9 | #Gurobi-specific solver settings
10 | MIPGap: 1e-3                  # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
11 | BarConvTol: 1.0e-08           # Barrier convergence tolerance (determines when barrier terminates).
12 | NumericFocus: 0               # Numerical precision emphasis.
13 | Crossover: -1                 # Barrier crossver strategy.
14 | PreDual: 0                    # Decides whether presolve should pass the primal or dual linear programming problem to the LP optimization algorithm.
15 | AggFill: 10                   # Allowed fill during presolve aggregation.
16 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm           #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
  1 | #####
  2 | #
  3 | #  TIME DOMAIN REDUCTION SETTINGS
  4 | #
  5 | #  Set parameters here that organize how your full timeseries
  6 | #   data will be divided into representative period clusters.
  7 | #   Ensure that time_domain_reduction is set to 1 in GenX_settings.yml
  8 | #   before running. Run within GenX or use PreCluster.jl to test and
  9 | #   examine representative period output before proceeding.
 10 | #   Specify your data input directory as inpath within Run_test.jl
 11 | #   or PreCluster.jl.
 12 | #
 13 | #####
 14 | 
 15 |   #   - TimestepsPerRepPeriod
 16 |   #   Typically 168 timesteps (e.g., hours) per period, this designates
 17 |   #   the length of each representative period.
 18 | TimestepsPerRepPeriod: 168
 19 | 
 20 |   #   - ClusterMethod
 21 |   #   Either 'kmeans' or 'kmedoids', this designates the method used to cluster
 22 |   #   periods and determine each point's representative period.
 23 | ClusterMethod: 'kmeans'
 24 | 
 25 |   #   - ScalingMethod
 26 |   #   Either 'N' or 'S', this designates directs the module to normalize ([0,1])
 27 |   #   or standardize (mean 0, variance 1) the input data.
 28 | ScalingMethod: "S"
 29 | 
 30 |   #   - MaxPeriods
 31 |   #   The maximum number of periods - both clustered periods and extreme periods -
 32 |   #   that may be used to represent the input data. If IterativelyAddPeriods is on and the
 33 |   #   error threshold is never met, this will be the total number of periods.
 34 | MaxPeriods: 11
 35 | 
 36 |   #   - MinPeriods
 37 |   #   The minimum number of periods used to represent the input data. If using
 38 |   #   UseExtremePeriods, this must be at least the number of extreme periods requests. If
 39 |   #   IterativelyAddPeriods if off, this will be the total number of periods.
 40 | MinPeriods: 8
 41 | 
 42 |   #   - IterativelyAddPeriods
 43 |   #   Either 'yes' or 'no', this designates whether or not to add periods
 44 |   #   until the error threshold between input data and represented data is met or the maximum
 45 |   #   number of periods is reached.
 46 | IterativelyAddPeriods: 1
 47 | 
 48 |   #   - IterateMethod
 49 |   #   Either 'cluster' or 'extreme', this designates whether to add clusters to
 50 |   #   the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.
 51 |   #   The default option is 'cluster'.
 52 | IterateMethod: "cluster"
 53 | 
 54 |   #   - Threshold
 55 |   #   Iterative period addition will end if the period farthest (Euclidean Distance)
 56 |   #   from its representative period is within this percentage of the total possible error (for normalization)
 57 |   #   or ~95% of the total possible error (for standardization). E.g., for a threshold of 0.01,
 58 |   #   every period must be within 1% of the spread of possible error before the clustering
 59 |   #   iterations will terminate (or until the max number of periods is reached).
 60 | Threshold: 0.05
 61 | 
 62 |   #   - nReps
 63 |   #   The number of times to repeat each kmeans/kmedoids clustering at the same setting.
 64 | nReps: 100
 65 | 
 66 |   #   - DemandWeight
 67 |   #   Default 1, this is an optional multiplier on demand columns in order to prioritize
 68 |   #   better fits for demand profiles over resource capacity factor profiles.
 69 | DemandWeight: 1
 70 | 
 71 |   #   - WeightTotal
 72 |   #   Default 8760, the sum to which the relative weights of representative periods will be scaled.
 73 | WeightTotal: 8760
 74 | 
 75 |   #   - ClusterFuelPrices
 76 |   #   Either 1 (yes) or 0 (no), this indicates whether or not to use the fuel price
 77 |   #   time series in Fuels_data.csv in the clustering process. If 0, this function will still write
 78 |   #   Fuels_data_clustered.csv with reshaped fuel prices based on the number and size of the
 79 |   #   representative weeks, assuming a constant time series of fuel prices with length equal to the
 80 |   #   number of timesteps in the raw input data.
 81 | ClusterFuelPrices: 1
 82 | 
 83 |   #   - UseExtremePeriods
 84 |   #   Either 'yes' or 'no', this designates whether or not to include
 85 |   #   outliers (by performance or demand/resource extreme) as their own representative periods.
 86 |   #   This setting automatically includes the periods with maximum demand, minimum solar cf and
 87 |   #   minimum wind cf as extreme periods.
 88 | UseExtremePeriods: 1
 89 | 
 90 |   #   - MultiStageConcatenate
 91 |   #   (Only considered if MultiStage = 1 in genx_settings.yml)
 92 |   #   If 1, this designates that the model should time domain reduce the input data
 93 |   #   of all model stages together. Else if 0, the model will time domain reduce each
 94 |   #   stage separately
 95 | MultiStageConcatenate: 0
 96 | 
 97 | # STILL IN DEVELOPMENT - Currently just uses integral max demand, integral min PV and wind.
 98 | #   - ExtremePeriods
 99 | #   Use this to define which periods to be included among the final representative periods
100 | #   as "Extreme Periods".
101 | #   Select by profile type: demand ("Demand"), solar PV capacity factors ("PV"), and wind capacity factors ("Wind").
102 | #   Select whether to examine these profiles by zone ("Zone") or across the whole system ("System").
103 | #   Select whether to look for absolute max/min at the timestep level ("Absolute")
104 | #      or max/min sum across the period ("Integral").
105 | #   Select whether you want the maximum ("Max") or minimum ("Min") (of the prior type) for each profile type.
106 | ExtremePeriods:
107 |    Demand:
108 |       Zone:
109 |          Absolute:
110 |             Max: 0
111 |             Min: 0
112 |          Integral:
113 |             Max: 0
114 |             Min: 0
115 |       System:
116 |          Absolute:
117 |             Max: 1
118 |             Min: 0
119 |          Integral:
120 |             Max: 0
121 |             Min: 0
122 |    PV:
123 |       Zone:
124 |          Absolute:
125 |             Max: 0
126 |             Min: 0
127 |          Integral:
128 |             Max: 0
129 |             Min: 1
130 |       System:
131 |          Absolute:
132 |             Max: 0
133 |             Min: 0
134 |          Integral:
135 |             Max: 0
136 |             Min: 0
137 |    Wind:
138 |       Zone:
139 |          Absolute:
140 |             Max: 0
141 |             Min: 0
142 |          Integral:
143 |             Max: 0
144 |             Min: 1
145 |       System:
146 |          Absolute:
147 |             Max: 0
148 |             Min: 0
149 |          Integral:
150 |             Max: 0
151 |             Min: 0
152 | 


--------------------------------------------------------------------------------
/example_systems/1_three_zones/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0
4 | ME,z3,,,,,,,,,,,


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/README.md:
--------------------------------------------------------------------------------
 1 | # Three Zones Multi-Stage
 2 | 
 3 | This is a toy multi-stage example with hourly resolution which contains zones representing Massachusetts, Connecticut, and Maine. It is designed to show how to run multi-stage investment planning models. The ten represented resources include natural gas, solar PV, wind, and lithium-ion battery storage.
 4 | 
 5 | To run the model, first navigate to the example directory:
 6 | 
 7 | - Using a Julia REPL:
 8 | 
 9 | ```bash
10 | $ julia
11 | julia> cd("example_systems/6_three_zones_w_multistage/")
12 | ```
13 | 
14 | - Using a terminal or command prompt:
15 | ```bash
16 | $ cd example_systems/6_three_zones_w_multistage/
17 | ``` 
18 |    
19 | Next, ensure that your settings in `settings/genx_settings.yml` are correct. The default settings use the solver HiGHS and time domain reduced input data (`TimeDomainReduction: 1`). 
20 | 
21 | The `settings/multi_stage_settings.yml` file contains settings parameters specific to multi-stage modeling. This example is configured for three model periods (`NumPeriods: 3`) of 10 years in length each (`PeriodLength: 10`).
22 | 
23 | Multi-period modeling in GenX requires a separate set of model inputs for each period to be modeled, which are located in the directories `inputs/inputs_p



    
    

    
    

    
    
    
    

    
    
    
    



    

        


            

            
            
            
            
        


        



            



            
                
                    
                    
                
                
            

            



            

            



            

                    
                    
                    
                

        

    


    

    

    

        , where `



    
    

    
    

    
    
    
    

    
    
    
    



    

        


            

            
            
            
            
        


        



            



            
                
                    
                    
                
                
            

            



            

            



            

                    
                    
                    
                

        

    


    

    

    

         is the number of the model period. Although separate model periods can have different costs and policy parameters, the resources names and types, specified in each resource `.csv` files (included in the `resources` folder) must be identical across model periods. In addition, multi-stage modeling with a single zone requires an additional input file, `Resource_multistage_data.csv`, also located in the `resources` directory, which contains fields related to resource lifetimes, capital recovery periods, and endogenous retirements.
24 | 
25 | A rate-based carbon cap becomes more stringent across the three model periods and for each zone, declining from of 1,000 gCO<sub>2</sub> per kWh in the first period, 500  gCO<sub>2</sub> per kWh in the second period, and  50 gCO<sub>2</sub> per kWh in the third period, as specified in the `policies/CO2_cap.csv` input files in `inputs/inputs_p1`, `inputs/inputs_p2`, and `inputs/inputs_p3` respectively.
26 | 
27 | Once the settings are confirmed, run the model with the `Run.jl` script in the example directory:
28 | 
29 | - Using a Julia REPL (recommended)
30 | ```julia
31 | julia> include("Run.jl")
32 | ```
33 | - Using a terminal or command prompt:
34 | ```bash
35 | $ julia Run.jl
36 | ```
37 | 
38 | Once the model has completed, results will write to the `results` directory.


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/Run.jl:
--------------------------------------------------------------------------------
1 | using GenX
2 | 
3 | run_genx_case!(dirname(@__FILE__))
4 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,1,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,1,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,1,0,0,0.025


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
 2 | MA_natural_gas_combined_cycle,0.039,20,20,0,0,0
 3 | MA_solar_pv,0.017,20,20,0,0,0
 4 | CT_natural_gas_combined_cycle,0.039,20,20,0,0,0
 5 | CT_onshore_wind,0.024,20,20,0,0,0
 6 | CT_solar_pv,0.017,20,20,0,0,0
 7 | ME_natural_gas_combined_cycle,0.039,20,20,0,0,0
 8 | ME_onshore_wind,0.024,20,20,0,0,0
 9 | MA_battery,0.027,20,20,0,0,0
10 | CT_battery,0.027,20,20,0,0,0
11 | ME_battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,MA,0
3 | CT_battery,2,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,CT,0
4 | ME_battery,3,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,ME,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,1,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,1,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,1,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_solar_pv,1,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,MA,1
3 | CT_onshore_wind,2,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,CT,1
4 | CT_solar_pv,2,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,CT,1
5 | ME_onshore_wind,3,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p1/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC,Capital_Recovery_Period
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0,7000,0.062,30
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0,5000,0.062,30
4 | ME,z3,,,,,,,,,,,,,,


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,0.5,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,0.5,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,0.5,0,0,0.025


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
 2 | MA_natural_gas_combined_cycle,0.039,20,20,0,0,0
 3 | MA_solar_pv,0.017,20,20,0,0,0
 4 | CT_natural_gas_combined_cycle,0.039,20,20,0,0,0
 5 | CT_onshore_wind,0.024,20,20,0,0,0
 6 | CT_solar_pv,0.017,20,20,0,0,0
 7 | ME_natural_gas_combined_cycle,0.039,20,20,0,0,0
 8 | ME_onshore_wind,0.024,20,20,0,0,0
 9 | MA_battery,0.027,20,20,0,0,0
10 | CT_battery,0.027,20,20,0,0,0
11 | ME_battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,MA,0
3 | CT_battery,2,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,CT,0
4 | ME_battery,3,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,ME,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,1,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,1,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,1,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_solar_pv,1,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,MA,1
3 | CT_onshore_wind,2,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,CT,1
4 | CT_solar_pv,2,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,CT,1
5 | ME_onshore_wind,3,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p2/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC,Capital_Recovery_Period
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0,7000,0.062,30
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0,5000,0.062,30
4 | ME,z3,,,,,,,,,,,,,,


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,0.05,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,0.05,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,0.05,0,0,0.025
5 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
 2 | MA_natural_gas_combined_cycle,0.039,20,20,0,0,0
 3 | MA_solar_pv,0.017,20,20,0,0,0
 4 | CT_natural_gas_combined_cycle,0.039,20,20,0,0,0
 5 | CT_onshore_wind,0.024,20,20,0,0,0
 6 | CT_solar_pv,0.017,20,20,0,0,0
 7 | ME_natural_gas_combined_cycle,0.039,20,20,0,0,0
 8 | ME_onshore_wind,0.024,20,20,0,0,0
 9 | MA_battery,0.027,20,20,0,0,0
10 | CT_battery,0.027,20,20,0,0,0
11 | ME_battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,MA,0
3 | CT_battery,2,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,CT,0
4 | ME_battery,3,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,ME,0


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,1,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,1,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,1,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_solar_pv,1,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,MA,1
3 | CT_onshore_wind,2,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,CT,1
4 | CT_solar_pv,2,1,1,1,0,-1,0,85300,18760,0,0,0,0,0,CT,1
5 | ME_onshore_wind,3,1,1,1,0,-1,0,97200,43205,0.1,0,0,0,0,ME,1


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/inputs/inputs_p3/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC,Capital_Recovery_Period
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0,7000,0.062,30
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0,5000,0.062,30
4 | ME,z3,,,,,,,,,,,,,,


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/clp_settings.yml:
--------------------------------------------------------------------------------
 1 | # Clp Solver parameters https://github.com/jump-dev/Clp.jl
 2 | # Common solver settings
 3 | Feasib_Tol: 1e-5              # Primal/Dual feasibility tolerance
 4 | TimeLimit: -1.0               # Terminate after this many seconds have passed. A negative value means no time limit
 5 | Pre_Solve: 0                  # Set to 1 to disable presolve
 6 | Method: 5                     # Solution method: dual simplex (0), primal simplex (1), sprint (2), barrier with crossover (3), barrier without crossover (4), automatic (5)
 7 | 
 8 | #Clp-specific solver settings
 9 | DualObjectiveLimit: 1e308     # When using dual simplex (where the objective is monotonically changing), terminate when the objective exceeds this limit
10 | MaximumIterations: 2147483647 # Terminate after performing this number of simplex iterations
11 | LogLevel: 1                   # Set to 1, 2, 3, or 4 for increasing output. Set to 0 to disable output
12 | InfeasibleReturn: 0           # Set to 1 to return as soon as the problem is found to be infeasible (by default, an infeasibility proof is computed as well)
13 | Scaling: 3                    # 0 -off, 1 equilibrium, 2 geometric, 3 auto, 4 dynamic(later)
14 | Perturbation: 100             # switch on perturbation (50), automatic (100), don't try perturbing (102)


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/cplex_settings.yml:
--------------------------------------------------------------------------------
 1 | # CPLEX Solver Parameters
 2 | Feasib_Tol: 1.0e-05 # Constraint (primal) feasibility tolerances.
 3 | Optimal_Tol: 1e-5 # Dual feasibility tolerances.
 4 | Pre_Solve: 1 # Controls presolve level.
 5 | TimeLimit: 110000 # Limits total time solver.
 6 | MIPGap: 1e-3 # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
 7 | Method: 2 # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | BarConvTol: 1.0e-08 # Barrier convergence tolerance (determines when barrier terminates).
 9 | NumericFocus: 0 # Numerical precision emphasis.
10 | SolutionType: 2 # Solution type for LP or QP.
11 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/genx_settings.yml:
--------------------------------------------------------------------------------
 1 | NetworkExpansion: 1 # Transmission network expansionl; 0 = not active; 1 = active systemwide
 2 | Trans_Loss_Segments: 1 # Number of segments used in piecewise linear approximation of transmission losses; 1 = linear, >2 = piecewise quadratic
 3 | EnergyShareRequirement: 0 # Minimum qualifying renewables penetration; 0 = not active; 1 = active systemwide
 4 | CapacityReserveMargin: 0 # Number of capacity reserve margin constraints; 0 = not active; 1 = active systemwide
 5 | CO2Cap: 2 # CO2 emissions cap; 0 = not active (no CO2 emission limit); 1 = mass-based emission limit constraint; 2 = demand + rate-based emission limit constraint; 3 = generation + rate-based emission limit constraint
 6 | StorageLosses: 1 # Energy Share Requirement and CO2 constraints account for energy lost; 0 = not active (DO NOT account for energy lost); 1 = active systemwide (DO account for energy lost)
 7 | MinCapReq: 0  # Activate minimum technology carveout constraints; 0 = not active; 1 = active
 8 | MaxCapReq: 0  # Activate maximum technology carveout constraints; 0 = not active; 1 = active
 9 | ParameterScale: 1 # Turn on parameter scaling wherein demand, capacity and power variables are defined in GW rather than MW. 0 = not active; 1 = active systemwide
10 | UCommit: 2 # Unit committment of thermal power plants; 0 = not active; 1 = active using integer clestering; 2 = active using linearized clustering
11 | TimeDomainReduction: 1 # Time domain reduce (i.e. cluster) inputs based on Demand_data.csv, Generators_variability.csv, and Fuels_data.csv; 0 = not active (use input data as provided); 0 = active (cluster input data, or use data that has already been clustered)
12 | MultiStage: 1 # 0 = Single-stage GenX, 1 = Multi-stage GenX
13 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/gurobi_settings.yml:
--------------------------------------------------------------------------------
 1 | # Gurobi Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05           # Constraint (primal) feasibility tolerances.
 4 | Optimal_Tol: 1e-5             # Dual feasibility tolerances.
 5 | TimeLimit: 110000             # Limits total time solver.
 6 | Pre_Solve: 1                  # Controls presolve level.
 7 | Method: 4                     # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | 
 9 | #Gurobi-specific solver settings
10 | MIPGap: 1e-3                  # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
11 | BarConvTol: 1.0e-08           # Barrier convergence tolerance (determines when barrier terminates).
12 | NumericFocus: 0               # Numerical precision emphasis.
13 | Crossover: -1                 # Barrier crossver strategy.
14 | PreDual: 0                    # Decides whether presolve should pass the primal or dual linear programming problem to the LP optimization algorithm.
15 | AggFill: 10                   # Allowed fill during presolve aggregation.
16 | OutputFlag: 0                 # Controls Gurobi output.s
17 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23              # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm            #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 
13 | 


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/multi_stage_settings.yml:
--------------------------------------------------------------------------------
1 | NumStages: 3 # Number of model investment planning stages
2 | StageLengths: [10,10,10] # Length of each model stage (years)
3 | WACC: 0.045 # Weighted average cost of capital
4 | ConvergenceTolerance: 0.01 # Relative optimality gap used for convergence
5 | Myopic: 1 # If using multi-stage GenX, 1 = myopic, 0 = dual dynamic programming
6 | WriteIntermittentOutputs: 0 # If 1, write intermediate outputs to disk


--------------------------------------------------------------------------------
/example_systems/6_three_zones_w_multistage/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
  1 | #####
  2 | #
  3 | #  TIME DOMAIN REDUCTION SETTINGS
  4 | #
  5 | #  Set parameters here that organize how your full timeseries
  6 | #   data will be divided into representative period clusters.
  7 | #   Ensure that time_domain_reduction is set to 1 in GenX_settings.yml
  8 | #   before running. Run within GenX or use PreCluster.jl to test and
  9 | #   examine representative period output before proceeding.
 10 | #   Specify your data input directory as inpath within Run_test.jl
 11 | #   or PreCluster.jl.
 12 | #
 13 | #####
 14 | 
 15 |   #   - TimestepsPerRepPeriod
 16 |   #   Typically 168 timesteps (e.g., hours) per period, this designates
 17 |   #   the length of each representative period.
 18 | TimestepsPerRepPeriod: 168
 19 | 
 20 |   #   - ClusterMethod
 21 |   #   Either 'kmeans' or 'kmedoids', this designates the method used to cluster
 22 |   #   periods and determine each point's representative period.
 23 | ClusterMethod: 'kmeans'
 24 | 
 25 |   #   - ScalingMethod
 26 |   #   Either 'N' or 'S', this designates directs the module to normalize ([0,1])
 27 |   #   or standardize (mean 0, variance 1) the input data.
 28 | ScalingMethod: "S"
 29 | 
 30 |   #   - MaxPeriods
 31 |   #   The maximum number of periods - both clustered periods and extreme periods -
 32 |   #   that may be used to represent the input data. If IterativelyAddPeriods is on and the
 33 |   #   error threshold is never met, this will be the total number of periods.
 34 | MaxPeriods: 11
 35 | 
 36 |   #   - MinPeriods
 37 |   #   The minimum number of periods used to represent the input data. If using
 38 |   #   UseExtremePeriods, this must be at least the number of extreme periods requests. If
 39 |   #   IterativelyAddPeriods if off, this will be the total number of periods.
 40 | MinPeriods: 11
 41 | 
 42 |   #   - IterativelyAddPeriods
 43 |   #   Either 1 (yes) or 0 (no), this designates whether or not to add periods
 44 |   #   until the error threshold between input data and represented data is met or the maximum
 45 |   #   number of periods is reached.
 46 | IterativelyAddPeriods: 0
 47 | 
 48 |   #   - IterateMethod
 49 |   #   Either 'cluster' or 'extreme', this designates whether to add clusters to
 50 |   #   the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.
 51 |   #   The default option is 'cluster'.
 52 | IterateMethod: "cluster"
 53 | 
 54 |   #   - Threshold
 55 |   #   Iterative period addition will end if the period farthest (Euclidean Distance)
 56 |   #   from its representative period is within this percentage of the total possible error (for normalization)
 57 |   #   or ~95% of the total possible error (for standardization). E.g., for a threshold of 0.01,
 58 |   #   every period must be within 1% of the spread of possible error before the clustering
 59 |   #   iterations will terminate (or until the max number of periods is reached).
 60 | Threshold: 0.05
 61 | 
 62 |   #   - nReps
 63 |   #   The number of times to repeat each kmeans/kmedoids clustering at the same setting.
 64 | nReps: 100
 65 | 
 66 |   #   - DemandWeight
 67 |   #   Default 1, this is an optional multiplier on demand columns in order to prioritize
 68 |   #   better fits for demand profiles over resource capacity factor profiles.
 69 | DemandWeight: 1
 70 | 
 71 |   #   - WeightTotal
 72 |   #   Default 8760, the sum to which the relative weights of representative periods will be scaled.
 73 | WeightTotal: 8760
 74 | 
 75 |   #   - ClusterFuelPrices
 76 |   #   Either 1 (yes) or 0 (no), this indicates whether or not to use the fuel price
 77 |   #   time series in Fuels_data.csv in the clustering process. If 0, this function will still write
 78 |   #   Fuels_data_clustered.csv with reshaped fuel prices based on the number and size of the
 79 |   #   representative weeks, assuming a constant time series of fuel prices with length equal to the
 80 |   #   number of timesteps in the raw input data.
 81 | ClusterFuelPrices: 1
 82 | 
 83 |   #   - MultiStageConcatenate
 84 |   #   (Only considered if MultiStage = 1 in genx_settings.yml)
 85 |   #   If 1, this designates that the model should time domain reduce the input data
 86 |   #   of all model stages together. Else if 0, the model will time domain reduce each 
 87 |   #   stage separately
 88 | MultiStageConcatenate: 0
 89 | 
 90 |   #   - UseExtremePeriods
 91 |   #   Either 1 (yes) or 0 (no), this designates whether or not to include
 92 |   #   outliers (by performance or demand/resource extreme) as their own representative periods.
 93 |   #   This setting automatically includes the periods with maximum demand, minimum solar cf and
 94 |   #   minimum wind cf as extreme periods.
 95 | UseExtremePeriods: 1
 96 | 
 97 | #   - ExtremePeriods
 98 | #   Use this to define which periods to be included among the final representative periods
 99 | #   as "Extreme Periods".
100 | #   Select by profile type: demand ("Demand"), solar PV capacity factors ("PV"), and wind capacity factors ("Wind").
101 | #   Select whether to examine these profiles by zone ("Zone") or across the whole system ("System").
102 | #   Select whether to look for absolute max/min at the timestep level ("Absolute")
103 | #      or max/min sum across the period ("Integral").
104 | #   Select whether you want the maximum ("Max") or minimum ("Min") (of the prior type) for each profile type.
105 | ExtremePeriods:
106 |    Demand:
107 |       Zone:
108 |          Absolute:
109 |             Max: 0
110 |             Min: 0
111 |          Integral:
112 |             Max: 0
113 |             Min: 0
114 |       System:
115 |          Absolute:
116 |             Max: 1
117 |             Min: 0
118 |          Integral:
119 |             Max: 0
120 |             Min: 0
121 |    PV:
122 |       Zone:
123 |          Absolute:
124 |             Max: 0
125 |             Min: 0
126 |          Integral:
127 |             Max: 0
128 |             Min: 0
129 |       System:
130 |          Absolute:
131 |             Max: 0
132 |             Min: 0
133 |          Integral:
134 |             Max: 0
135 |             Min: 1
136 |    Wind:
137 |       Zone:
138 |          Absolute:
139 |             Max: 0
140 |             Min: 0
141 |          Integral:
142 |             Max: 0
143 |             Min: 0
144 |       System:
145 |          Absolute:
146 |             Max: 0
147 |             Min: 0
148 |          Integral:
149 |             Max: 0
150 |             Min: 1
151 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/Run.jl:
--------------------------------------------------------------------------------
1 | run_genx_case!(dirname(@__FILE__))
2 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
  1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
  2 | SVU000111,0.05,20,20,0,0,0
  3 | SVU000116,0.05,20,20,0,0,0
  4 | SVU000121,0.05,20,20,0,0,0
  5 | SVU000281,0.05,20,20,0,0,0
  6 | SVU000286,0.05,20,20,0,0,0
  7 | SVU000291,0.05,20,20,0,0,0
  8 | SVU000751,0.05,20,20,0,0,0
  9 | SVU000861,0.05,20,20,0,0,0
 10 | SVU000296,0.05,20,20,0,0,0
 11 | SVU000301,0.05,20,20,0,0,0
 12 | SVU000336,0.05,20,20,0,0,0
 13 | SVU000341,0.05,20,20,0,0,0
 14 | SVU000351,0.05,20,20,0,0,0
 15 | SVU000481,0.05,20,20,0,0,0
 16 | GNRC-CT-61-2020-Battery Storage-1,0.05,20,20,0,0,0
 17 | GNRC-CT-67-2020-Battery Storage-1,0.05,20,20,0,0,0
 18 | GNRC-CT-68-2020-Battery Storage-1,0.05,20,20,0,0,0
 19 | GNRC-MA-63-2020-Battery Storage-1,0.05,20,20,0,0,0
 20 | GNRC-MA-71-2020-Battery Storage-1,0.05,20,20,0,0,0
 21 | GNRC-MA-72-2020-Battery Storage-1,0.05,20,20,0,0,0
 22 | GNRC-MA-73-2020-Battery Storage-1,0.05,20,20,0,0,0
 23 | GNRC-ME-70-2020-Battery Storage-1,0.05,20,20,0,0,0
 24 | GNRC-NH-74-2020-Battery Storage-1,0.05,20,20,0,0,0
 25 | GNRC-RI-62-2020-Battery Storage-1,0.05,20,20,0,0,0
 26 | GNRC-VT-75-2020-Battery Storage-1,0.05,20,20,0,0,0
 27 | AID_DM_4153,0.05,20,20,0,0,0
 28 | AID_DM_4224,0.05,20,20,0,0,0
 29 | AID_DM_4281,0.05,20,20,0,0,0
 30 | AID_DM_4295,0.05,20,20,0,0,0
 31 | AID_DM_4355,0.05,20,20,0,0,0
 32 | AID_DM_4358,0.05,20,20,0,0,0
 33 | AID_DM_4548,0.05,20,20,0,0,0
 34 | AID_DM_4383,0.05,20,20,0,0,0
 35 | AID_DM_4473,0.05,20,20,0,0,0
 36 | AID_DM_4518,0.05,20,20,0,0,0
 37 | AID_DM_4521,0.05,20,20,0,0,0
 38 | AID_DM_4530,0.05,20,20,0,0,0
 39 | AID_DM_4532,0.05,20,20,0,0,0
 40 | AID101237,0.05,20,20,0,0,0
 41 | AID101231,0.05,20,20,0,0,0
 42 | AID12448,0.05,20,20,0,0,0
 43 | AID15604,0.05,20,20,0,0,0
 44 | AID15844,0.05,20,20,0,0,0
 45 | AID2306,0.05,20,20,0,0,0
 46 | AID2307,0.05,20,20,0,0,0
 47 | AID2308,0.05,20,20,0,0,0
 48 | AID2305,0.05,20,20,0,0,0
 49 | AID18,0.05,20,20,0,0,0
 50 | AID2207,0.05,20,20,0,0,0
 51 | AID2498,0.05,20,20,0,0,0
 52 | AID2428,0.05,20,20,0,0,0
 53 | AID2626,0.05,20,20,0,0,0
 54 | AID2654,0.05,20,20,0,0,0
 55 | AID2507,0.05,20,20,0,0,0
 56 | AID3190,0.05,20,20,0,0,0
 57 | AID3486,0.05,20,20,0,0,0
 58 | AID2879,0.05,20,20,0,0,0
 59 | AID4276,0.05,20,20,0,0,0
 60 | AID4436,0.05,20,20,0,0,0
 61 | AID4437,0.05,20,20,0,0,0
 62 | AID4438,0.05,20,20,0,0,0
 63 | AID4724,0.05,20,20,0,0,0
 64 | AID4725,0.05,20,20,0,0,0
 65 | AID4726,0.05,20,20,0,0,0
 66 | AID4714,0.05,20,20,0,0,0
 67 | AID4774,0.05,20,20,0,0,0
 68 | AID4855,0.05,20,20,0,0,0
 69 | AID4857,0.05,20,20,0,0,0
 70 | AID4858,0.05,20,20,0,0,0
 71 | AID4875,0.05,20,20,0,0,0
 72 | AID102657,0.05,20,20,0,0,0
 73 | AID103304,0.05,20,20,0,0,0
 74 | AID4988,0.05,20,20,0,0,0
 75 | AID4989,0.05,20,20,0,0,0
 76 | AID5042,0.05,20,20,0,0,0
 77 | AID5062,0.05,20,20,0,0,0
 78 | AID5193,0.05,20,20,0,0,0
 79 | AID5194,0.05,20,20,0,0,0
 80 | AID5707,0.05,20,20,0,0,0
 81 | AID5413,0.05,20,20,0,0,0
 82 | AID5853,0.05,20,20,0,0,0
 83 | AID6696,0.05,20,20,0,0,0
 84 | AID6349,0.05,20,20,0,0,0
 85 | AID6850,0.05,20,20,0,0,0
 86 | AID6856,0.05,20,20,0,0,0
 87 | AID6849,0.05,20,20,0,0,0
 88 | AID6855,0.05,20,20,0,0,0
 89 | AID6843,0.05,20,20,0,0,0
 90 | AID6858,0.05,20,20,0,0,0
 91 | AID6859,0.05,20,20,0,0,0
 92 | AID6864,0.05,20,20,0,0,0
 93 | AID6968,0.05,20,20,0,0,0
 94 | AID6973,0.05,20,20,0,0,0
 95 | AID6975,0.05,20,20,0,0,0
 96 | AID6976,0.05,20,20,0,0,0
 97 | AID6964,0.05,20,20,0,0,0
 98 | GNRC-RI-62-2028-Gas CC-1,0.05,20,20,0,0,0
 99 | SVU000114,0.05,20,20,0,0,0
100 | SVU000119,0.05,20,20,0,0,0
101 | SVU000124,0.05,20,20,0,0,0
102 | SVU000284,0.05,20,20,0,0,0
103 | SVU000289,0.05,20,20,0,0,0
104 | SVU000294,0.05,20,20,0,0,0
105 | SVU000299,0.05,20,20,0,0,0
106 | SVU000304,0.05,20,20,0,0,0
107 | SVU000339,0.05,20,20,0,0,0
108 | SVU000344,0.05,20,20,0,0,0
109 | SVU000354,0.05,20,20,0,0,0
110 | SVU000484,0.05,20,20,0,0,0
111 | SVU000754,0.05,20,20,0,0,0
112 | SVU000864,0.05,20,20,0,0,0
113 | AID6862,0.05,20,20,0,0,0
114 | AID6965,0.05,20,20,0,0,0
115 | AID6846,0.05,20,20,0,0,0
116 | AID6893,0.05,20,20,0,0,0
117 | AID3907,0.05,20,20,0,0,0
118 | AID6994,0.05,20,20,0,0,0
119 | AID6851,0.05,20,20,0,0,0
120 | AID18397,0.05,20,20,0,0,0
121 | AID3135,0.05,20,20,0,0,0
122 | AID2535,0.05,20,20,0,0,0
123 | AID6847,0.05,20,20,0,0,0
124 | AID2621,0.05,20,20,0,0,0
125 | AID18756,0.05,20,20,0,0,0
126 | AID3641,0.05,20,20,0,0,0
127 | AID2537,0.05,20,20,0,0,0
128 | AID2777,0.05,20,20,0,0,0
129 | AID2769,0.05,20,20,0,0,0
130 | AID2770,0.05,20,20,0,0,0
131 | AID6852,0.05,20,20,0,0,0
132 | AID2773,0.05,20,20,0,0,0
133 | AID3522,0.05,20,20,0,0,0
134 | AID6867,0.05,20,20,0,0,0
135 | AID6868,0.05,20,20,0,0,0
136 | AID6969,0.05,20,20,0,0,0
137 | AID3523,0.05,20,20,0,0,0
138 | AID3033,0.05,20,20,0,0,0
139 | AID3249,0.05,20,20,0,0,0
140 | AID2782,0.05,20,20,0,0,0
141 | AID2329,0.05,20,20,0,0,0
142 | AID6970,0.05,20,20,0,0,0
143 | AID6971,0.05,20,20,0,0,0
144 | AID2687,0.05,20,20,0,0,0
145 | AID100037,0.05,20,20,0,0,0
146 | AID2683,0.05,20,20,0,0,0
147 | AID6857,0.05,20,20,0,0,0
148 | AID2768,0.05,20,20,0,0,0
149 | AID104996,0.05,20,20,0,0,0
150 | AID6854,0.05,20,20,0,0,0
151 | AID6848,0.05,20,20,0,0,0
152 | AID100126,0.05,20,20,0,0,0
153 | AID2685,0.05,20,20,0,0,0
154 | AID10,0.05,20,20,0,0,0
155 | AID5367,0.05,20,20,0,0,0
156 | AID52,0.05,20,20,0,0,0
157 | AID6770,0.05,20,20,0,0,0
158 | AID5319,0.05,20,20,0,0,0
159 | AID2536,0.05,20,20,0,0,0
160 | AID2686,0.05,20,20,0,0,0
161 | AID5508,0.05,20,20,0,0,0
162 | AID104581,0.05,20,20,0,0,0
163 | AID2618,0.05,20,20,0,0,0
164 | GNRC-CT-68-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
165 | GNRC-MA-63-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
166 | GNRC-MA-71-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
167 | GNRC-MA-72-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
168 | GNRC-ME-69-2020-Solar Utility-1,0.05,20,20,0,0,0
169 | GNRC-ME-70-2020-Solar Utility-1,0.05,20,20,0,0,0
170 | GNRC-NH-74-2020-Solar Utility-1,0.05,20,20,0,0,0
171 | GNRC-RI-62-2020-Solar Utility-1,0.05,20,20,0,0,0
172 | GNRC-VT-75-2020-Solar Utility-1,0.05,20,20,0,0,0
173 | GNRC-CT-61-2020-Solar Utility-1,0.05,20,20,0,0,0
174 | GNRC-CT-67-2020-Solar Utility-1,0.05,20,20,0,0,0
175 | GNRC-MA-73-2020-Solar Utility-1,0.05,20,20,0,0,0
176 | GNRC-VT-75-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
177 | GNRC-CT-68-2020-Solar Utility-1,0.05,20,20,0,0,0
178 | GNRC-MA-63-2020-Solar Utility-1,0.05,20,20,0,0,0
179 | GNRC-MA-71-2020-Solar Utility-1,0.05,20,20,0,0,0
180 | GNRC-MA-72-2020-Solar Utility-1,0.05,20,20,0,0,0
181 | GNRC-NH-74-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
182 | GNRC-RI-62-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
183 | GNRC-CT-67-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
184 | GNRC-CT-61-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
185 | GNRC-MA-73-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
186 | GNRC-ME-70-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
187 | GNRC-ME-69-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
188 | SVU000352,0.05,20,20,0,0,0
189 | SVU000282,0.05,20,20,0,0,0
190 | SVU000287,0.05,20,20,0,0,0
191 | SVU000122,0.05,20,20,0,0,0
192 | SVU000117,0.05,20,20,0,0,0
193 | SVU000112,0.05,20,20,0,0,0
194 | SVU000292,0.05,20,20,0,0,0
195 | SVU000297,0.05,20,20,0,0,0
196 | SVU000302,0.05,20,20,0,0,0
197 | SVU000337,0.05,20,20,0,0,0
198 | SVU000342,0.05,20,20,0,0,0
199 | SVU000482,0.05,20,20,0,0,0
200 | AID_DM_1144,0.05,20,20,0,0,0
201 | AID_DM_1122,0.05,20,20,0,0,0
202 | AID_DM_1053,0.05,20,20,0,0,0
203 | AID_DM_1193,0.05,20,20,0,0,0
204 | AID_DM_1194,0.05,20,20,0,0,0
205 | AID_DM_1216,0.05,20,20,0,0,0
206 | AID_DM_1079,0.05,20,20,0,0,0
207 | AID_DM_1285,0.05,20,20,0,0,0
208 | AID_DM_1288,0.05,20,20,0,0,0
209 | AID_DM_1377,0.05,20,20,0,0,0
210 | AID_DM_1341,0.05,20,20,0,0,0
211 | AID_DM_1312,0.05,20,20,0,0,0
212 | AID_DM_1412,0.05,20,20,0,0,0
213 | AID_DM_1393,0.05,20,20,0,0,0
214 | AID_DM_1423,0.05,20,20,0,0,0
215 | AID_DM_1477,0.05,20,20,0,0,0
216 | AID_DM_1500,0.05,20,20,0,0,0
217 | AID_DM_1746,0.05,20,20,0,0,0
218 | AID_DM_1771,0.05,20,20,0,0,0
219 | AID_DM_1709,0.05,20,20,0,0,0
220 | AID_DM_1732,0.05,20,20,0,0,0
221 | AID_DM_1789,0.05,20,20,0,0,0
222 | AID_DM_1791,0.05,20,20,0,0,0
223 | AID_DM_1798,0.05,20,20,0,0,0
224 | AID_DM_1844,0.05,20,20,0,0,0
225 | AID_DM_164,0.05,20,20,0,0,0
226 | AID_DM_1917,0.05,20,20,0,0,0
227 | AID_DM_1983,0.05,20,20,0,0,0
228 | AID_DM_191,0.05,20,20,0,0,0
229 | AID_DM_2050,0.05,20,20,0,0,0
230 | AID_DM_213,0.05,20,20,0,0,0
231 | AID_DM_2137,0.05,20,20,0,0,0
232 | AID_DM_2186,0.05,20,20,0,0,0
233 | AID_DM_2163,0.05,20,20,0,0,0
234 | AID_DM_2199,0.05,20,20,0,0,0
235 | AID_DM_2246,0.05,20,20,0,0,0
236 | AID_DM_2234,0.05,20,20,0,0,0
237 | AID_DM_2214,0.05,20,20,0,0,0
238 | AID_DM_2320,0.05,20,20,0,0,0
239 | AID_DM_2287,0.05,20,20,0,0,0
240 | AID_DM_2357,0.05,20,20,0,0,0
241 | AID_DM_242,0.05,20,20,0,0,0
242 | AID_DM_2444,0.05,20,20,0,0,0
243 | AID_DM_2328,0.05,20,20,0,0,0
244 | AID_DM_2406,0.05,20,20,0,0,0
245 | AID_DM_2460,0.05,20,20,0,0,0
246 | AID_DM_2471,0.05,20,20,0,0,0
247 | AID_DM_2487,0.05,20,20,0,0,0
248 | AID_DM_2490,0.05,20,20,0,0,0
249 | AID_DM_278,0.05,20,20,0,0,0
250 | AID_DM_28,0.05,20,20,0,0,0
251 | AID_DM_339,0.05,20,20,0,0,0
252 | AID_DM_383,0.05,20,20,0,0,0
253 | AID_DM_4,0.05,20,20,0,0,0
254 | AID_DM_461,0.05,20,20,0,0,0
255 | AID_DM_507,0.05,20,20,0,0,0
256 | AID_DM_608,0.05,20,20,0,0,0
257 | AID_DM_50,0.05,20,20,0,0,0
258 | AID_DM_552,0.05,20,20,0,0,0
259 | AID_DM_653,0.05,20,20,0,0,0
260 | AID_DM_654,0.05,20,20,0,0,0
261 | AID_DM_669,0.05,20,20,0,0,0
262 | AID_DM_667,0.05,20,20,0,0,0
263 | AID_DM_668,0.05,20,20,0,0,0
264 | AID_DM_72,0.05,20,20,0,0,0
265 | AID_DM_775,0.05,20,20,0,0,0
266 | AID_DM_925,0.05,20,20,0,0,0
267 | AID_DM_712,0.05,20,20,0,0,0
268 | AID_DM_75,0.05,20,20,0,0,0
269 | AID_DM_935,0.05,20,20,0,0,0
270 | AID_DM_958,0.05,20,20,0,0,0
271 | AID_DM_963,0.05,20,20,0,0,0
272 | AID_DM_999,0.05,20,20,0,0,0
273 | SVU000862,0.05,20,20,0,0,0
274 | SVU000752,0.05,20,20,0,0,0
275 | AID107200,0.05,20,20,0,0,0
276 | AID107192,0.05,20,20,0,0,0
277 | AID107201,0.05,20,20,0,0,0
278 | AID107206,0.05,20,20,0,0,0
279 | AID107205,0.05,20,20,0,0,0
280 | GNRC-CT-61-2020-Wind Offshore-1,0.05,20,20,0,0,0
281 | GNRC-MA-63-2020-Wind Offshore-1,0.05,20,20,0,0,0
282 | GNRC-MA-71-2020-Wind Offshore-1,0.05,20,20,0,0,0
283 | GNRC-ME-70-2020-Wind Offshore-1,0.05,20,20,0,0,0
284 | GNRC-NH-74-2020-Wind Offshore-1,0.05,20,20,0,0,0
285 | GNRC-RI-62-2020-Wind Offshore-1,0.05,20,20,0,0,0
286 | GNRC-CT-68-2020-Wind Onshore-1,0.05,20,20,0,0,0
287 | GNRC-MA-73-2020-Wind Onshore-1,0.05,20,20,0,0,0
288 | GNRC-ME-69-2020-Wind Onshore-1,0.05,20,20,0,0,0
289 | GNRC-ME-70-2020-Wind Onshore-1,0.05,20,20,0,0,0
290 | GNRC-NH-74-2020-Wind Onshore-1,0.05,20,20,0,0,0
291 | GNRC-NH-74-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
292 | GNRC-RI-62-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
293 | GNRC-VT-75-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
294 | GNRC-RI-62-2020-Wind Onshore-1,0.05,20,20,0,0,0
295 | GNRC-VT-75-2020-Wind Onshore-1,0.05,20,20,0,0,0
296 | GNRC-CT-68-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
297 | GNRC-MA-73-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
298 | GNRC-ME-69-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
299 | GNRC-ME-70-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
300 | SVU000753,0.05,20,20,0,0,0
301 | SVU000863,0.05,20,20,0,0,0
302 | SVU000483,0.05,20,20,0,0,0
303 | SVU000353,0.05,20,20,0,0,0
304 | SVU000343,0.05,20,20,0,0,0
305 | SVU000338,0.05,20,20,0,0,0
306 | SVU000303,0.05,20,20,0,0,0
307 | SVU000283,0.05,20,20,0,0,0
308 | AID104841,0.05,20,20,0,0,0
309 | AID106047,0.05,20,20,0,0,0
310 | AID_DM_2511,0.05,20,20,0,0,0
311 | AID_DM_2513,0.05,20,20,0,0,0
312 | AID_DM_2514,0.05,20,20,0,0,0
313 | AID_DM_2586,0.05,20,20,0,0,0
314 | AID_DM_2728,0.05,20,20,0,0,0
315 | AID_DM_2591,0.05,20,20,0,0,0
316 | AID_DM_2665,0.05,20,20,0,0,0
317 | AID_DM_2726,0.05,20,20,0,0,0
318 | AID_DM_2756,0.05,20,20,0,0,0
319 | AID_DM_2910,0.05,20,20,0,0,0
320 | AID_DM_2950,0.05,20,20,0,0,0
321 | AID_DM_2959,0.05,20,20,0,0,0
322 | AID_DM_2820,0.05,20,20,0,0,0
323 | AID_DM_3064,0.05,20,20,0,0,0
324 | AID_DM_3102,0.05,20,20,0,0,0
325 | AID_DM_3187,0.05,20,20,0,0,0
326 | AID_DM_3230,0.05,20,20,0,0,0
327 | AID_DM_3244,0.05,20,20,0,0,0
328 | AID_DM_3176,0.05,20,20,0,0,0
329 | AID_DM_3406,0.05,20,20,0,0,0
330 | AID_DM_3500,0.05,20,20,0,0,0
331 | AID_DM_3512,0.05,20,20,0,0,0
332 | AID_DM_3673,0.05,20,20,0,0,0
333 | AID_DM_3759,0.05,20,20,0,0,0
334 | AID_DM_3732,0.05,20,20,0,0,0
335 | AID_DM_3806,0.05,20,20,0,0,0
336 | AID_DM_3884,0.05,20,20,0,0,0
337 | AID_DM_3855,0.05,20,20,0,0,0
338 | AID_DM_3913,0.05,20,20,0,0,0
339 | AID_DM_3914,0.05,20,20,0,0,0
340 | AID_DM_4003,0.05,20,20,0,0,0
341 | AID_DM_3998,0.05,20,20,0,0,0
342 | AID_DM_4051,0.05,20,20,0,0,0
343 | AID_DM_4065,0.05,20,20,0,0,0
344 | AID_DM_4058,0.05,20,20,0,0,0
345 | AID_DM_4097,0.05,20,20,0,0,0
346 | AID104236,0.05,20,20,0,0,0
347 | AID104294,0.05,20,20,0,0,0
348 | AID101718,0.05,20,20,0,0,0
349 | AID104857,0.05,20,20,0,0,0
350 | AID106710,0.05,20,20,0,0,0
351 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
 1 | ï»¿Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
 2 | SVU000111,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
 3 | SVU000116,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
 4 | SVU000121,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
 5 | SVU000281,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
 6 | SVU000286,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
 7 | SVU000291,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
 8 | SVU000751,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
 9 | SVU000861,13,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
10 | SVU000296,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
11 | SVU000301,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
12 | SVU000336,5,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineBHE,0
13 | SVU000341,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
14 | SVU000351,6,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineCentral,0
15 | SVU000481,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
16 | GNRC-CT-61-2020-Battery Storage-1,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
17 | GNRC-CT-67-2020-Battery Storage-1,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
18 | GNRC-CT-68-2020-Battery Storage-1,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
19 | GNRC-MA-63-2020-Battery Storage-1,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
20 | GNRC-MA-71-2020-Battery Storage-1,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
21 | GNRC-MA-72-2020-Battery Storage-1,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
22 | GNRC-MA-73-2020-Battery Storage-1,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
23 | GNRC-ME-70-2020-Battery Storage-1,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
24 | GNRC-NH-74-2020-Battery Storage-1,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
25 | GNRC-RI-62-2020-Battery Storage-1,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
26 | GNRC-VT-75-2020-Battery Storage-1,13,1,1,1,0,24.9,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
27 | AID_DM_4153,9,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
28 | AID_DM_4224,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
29 | AID_DM_4281,8,1,1,1,0,16.2,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
30 | AID_DM_4295,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
31 | AID_DM_4355,1,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.6,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
32 | AID_DM_4358,13,1,1,1,0,16.7,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
33 | AID_DM_4548,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
34 | AID_DM_4383,13,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
35 | AID_DM_4473,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
36 | AID_DM_4518,8,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
37 | AID_DM_4521,12,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
38 | AID_DM_4530,7,1,1,1,0,6,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
39 | AID_DM_4532,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
40 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID101237,1,1,1,1,347.5,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  3 | AID101231,1,1,1,1,108,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  4 | AID12448,4,1,1,1,335.5500005,-1,20,65400,504.533199,3.460417953,9820.69,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
  5 | AID15604,10,1,1,1,622.5,-1,50,65400,644.1212706,3.460417953,8712.45,NG_Tenn Z6,250,20,3.43589,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
  6 | AID15844,2,1,1,1,261.2999942,-1,50,65400,322.9006049,3.460417953,9000,NG_Algonquin,250,20,2.93286,11,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
  7 | AID2306,12,1,1,1,240.9499969,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  8 | AID2307,12,1,1,1,241,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  9 | AID2308,12,1,1,1,264.2999942,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,11,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 10 | AID2305,12,1,1,1,108,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 11 | AID18,4,1,1,1,737.5,-1,20,65400,610.4850102,2.066293197,9846.71,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 12 | AID2207,11,1,1,1,300,-1,50,65400,275.8109111,2.107943699,7780.89,NG_Tenn Z6,250,20,2.91726,17,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 13 | AID2498,12,1,1,1,107.8458341,-1,50,65400,433.8986582,1.392957686,8994.99,NG_Algonquin,250,20,3.5801,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 14 | AID2428,9,1,1,1,487,-1,50,65400,560.0322256,2.767402848,23266.9,NG_Algonquin,250,20,2.814,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 15 | AID2626,4,1,1,1,123.2741642,-1,50,65400,314.4934136,2.170419453,7474.17,NG_Iroquois Z2,250,20,2.92715,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 16 | AID2654,5,1,1,1,237.8000031,-1,50,65400,193.4039468,3.581889662,20312,NG_Dracut,250,0,2.903,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 17 | AID2507,10,1,1,1,169.8000031,-1,50,65400,292.6285059,2.170419453,7998.15,NG_Tenn Z6,250,20,2.97717,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 18 | AID3190,9,1,1,1,762.5,-1,50,65400,368.3092888,2.430729738,8379.42,NG_Algonquin,250,20,3.35622,15,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 19 | AID3486,9,1,1,1,100.6499983,-1,50,65400,250.5850542,2.092910973,9000,NG_Algonquin,250,20,2.93605,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 20 | AID2879,10,1,1,1,217.4000003,-1,29.8,65400,474.2621707,2.249095003,21594.9,NG_Tenn Z6,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 21 | AID4276,1,1,1,1,263.5999997,-1,50,65400,289.2664859,2.079023903,9000,NG_Algonquin,250,20,2.81977,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 22 | AID4436,2,1,1,1,268.9999936,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,17,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 23 | AID4437,2,1,1,1,262.3999939,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 24 | AID4438,2,1,1,1,150,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 25 | AID4724,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 26 | AID4725,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 27 | AID4726,12,1,1,1,515,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 28 | AID4714,5,1,1,1,255.1200015,-1,50,65400,427.1714061,2.383297418,8089.74,NG_Dracut,250,20,2.99297,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 29 | AID4774,10,1,1,1,158.9000003,-1,50,65400,304.4009294,1.056287789,9210.47,NG_Tenn Z6,250,20,3.6323,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 30 | AID4855,12,1,1,1,267.6999995,-1,50,65400,332.9920184,2.399497215,8669.49,NG_Algonquin,250,20,3.41896,16,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 31 | AID4857,4,1,1,1,270.3500061,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.89212,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 32 | AID4858,4,1,1,1,359.3999939,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.96142,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 33 | AID4875,10,1,1,1,786,-1,50,65400,343.0823612,2.308101666,7643.5,NG_Tenn Z6,250,20,2.95351,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 34 | AID102657,2,1,1,1,450,-1,47.1,65400,328.6524429,3.455781792,9000,NG_Algonquin,250,20,1.412,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 35 | AID103304,4,1,1,1,772.5999756,-1,40,65400,328.6524429,3.455781792,6826.65,NG_Iroquois Z2,250,15,2.814,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 36 | AID4988,1,1,1,1,777.75,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 37 | AID4989,1,1,1,1,352.4499995,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 38 | AID5042,1,1,1,1,543,-1,20,65400,464.1696865,2.097536427,9742.65,NG_Tenn Z6,250,20,8.763,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 39 | AID5062,11,1,1,1,228.75,-1,50,65400,243.8578021,1.956385123,9000,NG_Dracut,250,20,2.99318,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 40 | AID5193,12,1,1,1,228.75,-1,50,65400,973.7491276,3.732291875,9103.42,NG_Tenn Z6,250,20,3.59008,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 41 | AID5194,12,1,1,1,558,-1,50,65400,1000.657065,3.792454901,9164.6,NG_Tenn Z6,250,20,3.61421,7,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 42 | AID5707,12,1,1,1,169.7458356,-1,50,65400,275.8109111,2.155386726,9000,NG_Tenn Z6,250,20,2.95943,8,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 43 | AID5413,10,1,1,1,256.9899966,-1,50,65400,497.8070176,2.812522441,9891.06,NG_Tenn Z6,250,20,4.11311,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 44 | AID5853,6,1,1,1,528.8241653,-1,47,65400,403.6276299,2.354377622,9000,NG_Dracut,250,20,2.98036,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 45 | AID6696,7,1,1,1,267.3000005,-1,50,65400,366.6272081,2.276858436,7035.88,NG_Dracut,250,20,2.77471,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 46 | AID6349,9,1,1,1,146.1999969,-1,50,65400,378.3996316,2.369421056,7753.2,NG_Algonquin,250,20,3.00754,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 47 | AID6850,4,1,1,1,563.5,-1,20,65400,674.3912282,2.617000635,9917.75,FO6,250,20,8.921,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 48 | AID6856,9,1,1,1,116.3199997,-1,35.5,65400,580.2129112,1.837226141,9709.63,FO6,250,20,8.734,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 49 | AID6849,7,1,1,1,560.149999,-1,25.7,65400,191.7218661,1.622035448,9850.71,FO6,250,20,8.861,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 50 | AID6855,1,1,1,1,454.4000066,-1,16.1,65400,412.0348213,1.989941081,18857.2,NG_Algonquin,250,20,9.194,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 51 | AID6843,2,1,1,1,440.25,-1,22,65400,610.4850102,2.066293197,19606.7,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 52 | AID6858,12,1,1,1,437.0999934,-1,11.4,65400,595.3484253,1.638224538,20300.8,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 53 | AID6859,1,1,1,1,557.5,-1,22.9,65400,578.5308305,2.097536427,19558.7,FO6,250,20,9.536,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 54 | AID6864,9,1,1,1,400.0499878,-1,30.5,65400,580.2129112,1.837226141,18600.6,FO6,250,20,9.068,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 55 | AID6968,2,1,1,1,409.8500061,-1,31,65400,410.3527406,2.082492994,25920.1,FO6,250,20,12.637,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 56 | AID6973,2,1,1,1,163,-1,30.5,65400,415.4000534,2.11257986,22482.8,FO6,250,20,10.961,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 57 | AID6975,3,1,1,1,170,-1,25.6,65400,492.7607755,2.296527323,23376.3,FO6,250,20,11.397,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 58 | AID6976,3,1,1,1,118.2399979,-1,14.4,65400,492.7607755,2.296527323,23823,FO6,250,20,11.615,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 59 | AID6964,2,1,1,1,0,-1,37.8,65400,410.3527406,2.082492994,25285.1,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 60 | GNRC-RI-62-2028-Gas CC-1,12,1,1,1,0,-1,20,65400,328.8558773,3.515944818,9000,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 61 | SVU000114,2,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 62 | SVU000119,3,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 63 | SVU000124,4,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Iroquois Z2,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 64 | SVU000284,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 65 | SVU000289,9,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 66 | SVU000294,1,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 67 | SVU000299,8,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 68 | SVU000304,10,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 69 | SVU000339,5,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 70 | SVU000344,7,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 71 | SVU000354,6,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 72 | SVU000484,11,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 73 | SVU000754,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 74 | SVU000864,13,1,1,1,26,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Vermont,1
 75 | AID6862,9,1,1,1,239.9499969,-1,36.2,65400,805.5721084,2.418009739,14303,FO6,250,20,12.873,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 76 | AID6965,2,1,1,1,19,-1,41.4,65400,410.3527406,2.082492994,23959.6,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 77 | AID6846,11,1,1,1,400.2000122,-1,20,65400,581.8949919,1.920527146,11000,FO6,250,20,9.9,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 78 | AID6893,11,1,1,1,2.264166703,-1,15,65400,558.3501449,3.122588481,19911.3,NG_Dracut,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 79 | AID3907,2,1,1,1,603.0640295,-1,30,65400,275.8109111,0.642102988,18530,NG_Algonquin,250,0,7.7826,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 80 | AID6994,7,1,1,1,52.00416597,-1,9.9,65400,191.7218661,1.622035448,9955.93,FO6,250,20,8.483,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 81 | AID6851,7,1,1,1,26.5,-1,19.2,65400,191.7218661,1.622035448,11374,FO6,250,20,10.237,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 82 | AID18397,8,1,1,1,65,-1,50,65400,322.9006049,3.460417953,9945.18,NG_Tenn Z6,250,20,4.17698,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 83 | AID3135,9,1,1,1,48.43000031,-1,50,65400,351.4906233,2.460816605,8715,NG_Algonquin,250,20,3.4833,6,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 84 | AID2535,6,1,1,1,12.60000038,-1,50,65400,193.4039468,3.581889662,11081,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 85 | AID6847,1,1,1,1,6.5,-1,20,65400,726.5282349,1.807139275,15820,FO6,250,20,14.238,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 86 | AID2621,11,1,1,1,74,-1,20,65400,474.2621707,2.249095003,14569,NG_Tenn Z6,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 87 | AID18756,8,1,1,1,38.96552511,-1,50,65400,322.9006049,3.460417953,7810.375,NG_Tenn Z6,250,20,3.28036,9,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 88 | AID3641,1,1,1,1,47.65999985,-1,50,65400,348.1286033,2.843765671,12657.16783,NG_Tenn Z6,250,20,5.31601,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 89 | AID2537,6,1,1,1,0,-1,50,65400,193.4039468,3.581889662,11231,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 90 | AID2777,2,1,1,1,0.870000005,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 91 | AID2769,2,1,1,1,1.409999967,-1,20,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 92 | AID2770,2,1,1,1,3.100000004,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 93 | AID6852,12,1,1,1,5.279584531,-1,20,65400,423.8083154,2.097536427,14569,FO6,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 94 | AID2773,2,1,1,1,2.519187245,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 95 | AID3522,1,1,1,1,1.289999962,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 96 | AID6867,12,1,1,1,1.289999962,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 97 | AID6868,12,1,1,1,12.09999998,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 98 | AID6969,5,1,1,1,2.519187245,-1,20,65400,395.2161557,2.051260471,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 99 | AID3523,1,1,1,1,3,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
100 | AID3033,1,1,1,1,12.09999998,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
101 | AID3249,5,1,1,1,55.20000076,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
102 | AID2782,2,1,1,1,8.220890411,-1,50,65400,334.6740991,2.338177825,7471.67,NG_Algonquin,250,20,3.1381,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
103 | AID2329,2,1,1,1,24.40999985,-1,50,65400,193.4039468,3.581889662,10913,NG_Algonquin,250,0,3.182,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
104 | AID6970,5,1,1,1,37.18000031,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
105 | AID6971,5,1,1,1,52.22999954,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
106 | AID2687,5,1,1,1,5.397408253,-1,5,65400,617.2122623,1.438077279,9482,NG_Dracut,250,0,8.534,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
107 | AID100037,2,1,1,1,0.100000001,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
108 | AID2683,1,1,1,1,9.300000191,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
109 | AID6857,10,1,1,1,81.97000122,-1,20,65400,726.5282349,1.790950185,16126,FO6,250,20,14.513,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
110 | AID2768,2,1,1,1,36.3,-1,48.8,65400,474.2621707,2.249095003,12076,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
111 | AID104996,2,1,1,1,9.300000191,-1,70,65400,0,3.576107845,9598,NG_Algonquin,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
112 | AID6854,10,1,1,1,51.80583382,-1,20,65400,726.5282349,1.790950185,17278,FO6,250,20,15.55,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
113 | AID6848,7,1,1,1,5,-1,19.2,65400,191.7218661,1.622035448,10973,FO6,250,20,9.876,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
114 | AID100126,2,1,1,1,0.159999996,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
115 | AID2685,1,1,1,1,5.699999809,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
116 | AID10,10,1,1,1,4.212434466,-1,20,65400,726.5282349,1.790950185,17234,FO6,250,20,15.511,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
117 | AID5367,2,1,1,1,81.5,-1,5,65400,538.1683887,2.127612587,15000,NG_Algonquin,250,20,13.5,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
118 | AID52,8,1,1,1,61.34691781,-1,50,65400,322.9006049,3.460417953,8757.029032,NG_Tenn Z6,250,20,3.67795,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
119 | AID6770,2,1,1,1,65.72000122,-1,30,65400,413.7179727,2.553368518,9586.15,NG_Algonquin,250,0,4.02618,16,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
120 | AID5319,12,1,1,1,48.40583229,-1,50,65400,334.6740991,2.231738843,8725.99,NG_Tenn Z6,250,20,3.66492,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
121 | AID2536,6,1,1,1,15.22999954,-1,50,65400,193.4039468,3.581889662,11123,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
122 | AID2686,5,1,1,1,87.09999847,-1,5,65400,617.2122623,1.438077279,8926,NG_Dracut,250,0,8.033,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
123 | AID5508,9,1,1,1,12.40990211,-1,50,65400,1051.10985,5.889991328,13283,NG_Algonquin,250,20,5.57886,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
124 | AID104581,1,1,1,1,2.5,-1,70,65400,0,3.581889662,10607,NG_Tenn Z6,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
125 | AID2618,11,1,1,1,0,-1,20,65400,560.0322256,2.767402848,13904.81818,FO6,250,20,12.514,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
126 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/resources/Thermalformatissues.csv:
--------------------------------------------------------------------------------
  1 | ï»¿Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID101237,1,1,1,1,347.5,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  3 | AID101231,1,1,1,1,108,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  4 | AID12448,4,1,1,1,335.5500005,-1,20,65400,504.533199,3.460417953,9820.69,NG_Iroquois,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
  5 | AID15604,10,1,1,1,622.5,-1,50,65400,644.1212706,3.460417953,8712.45,NG_Tenn_Z6,250,20,3.43589,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
  6 | AID15844,2,1,1,1,261.2999942,-1,50,65400,322.9006049,3.460417953,9000,NG_Algonquin,250,20,2.93286,11,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
  7 | AID2306,12,1,1,1,240.9499969,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  8 | AID2307,12,1,1,1,241,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn_Z6,250,20,2.9946,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  9 | AID2308,12,1,1,1,264.2999942,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn_Z6,250,20,2.9946,11,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 10 | AID2305,12,1,1,1,108,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 11 | AID18,4,1,1,1,737.5,-1,20,65400,610.4850102,2.066293197,9846.71,NG_Iroquois,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 12 | AID2207,11,1,1,1,300,-1,50,65400,275.8109111,2.107943699,7780.89,NG_Tenn_Z6,250,20,2.91726,17,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 13 | AID2498,12,1,1,1,107.8458341,-1,50,65400,433.8986582,1.392957686,8994.99,NG_Algonquin,250,20,3.5801,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 14 | AID2428,9,1,1,1,487,-1,50,65400,560.0322256,2.767402848,23266.9,NG_Algonquin,250,20,2.814,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 15 | AID2626,4,1,1,1,123.2741642,-1,50,65400,314.4934136,2.170419453,7474.17,NG_Iroquois,250,20,2.92715,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 16 | AID2654,5,1,1,1,237.8000031,-1,50,65400,193.4039468,3.581889662,20312,NG_Dracut,250,0,2.903,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 17 | AID2507,10,1,1,1,169.8000031,-1,50,65400,292.6285059,2.170419453,7998.15,NG_Tenn_Z6,250,20,2.97717,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 18 | AID3190,9,1,1,1,762.5,-1,50,65400,368.3092888,2.430729738,8379.42,NG_Algonquin,250,20,3.35622,15,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 19 | AID3486,9,1,1,1,100.6499983,-1,50,65400,250.5850542,2.092910973,9000,NG_Algonquin,250,20,2.93605,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 20 | AID2879,10,1,1,1,217.4000003,-1,29.8,65400,474.2621707,2.249095003,21594.9,NG_Tenn_Z6,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 21 | AID4276,1,1,1,1,263.5999997,-1,50,65400,289.2664859,2.079023903,9000,NG_Algonquin,250,20,2.81977,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 22 | AID4436,2,1,1,1,268.9999936,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,17,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 23 | AID4437,2,1,1,1,262.3999939,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 24 | AID4438,2,1,1,1,150,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 25 | AID4724,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 26 | AID4725,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 27 | AID4726,12,1,1,1,515,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 28 | AID4714,5,1,1,1,255.1200015,-1,50,65400,427.1714061,2.383297418,8089.74,NG_Dracut,250,20,2.99297,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 29 | AID4774,10,1,1,1,158.9000003,-1,50,65400,304.4009294,1.056287789,9210.47,NG_Tenn_Z6,250,20,3.6323,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 30 | AID4855,12,1,1,1,267.6999995,-1,50,65400,332.9920184,2.399497215,8669.49,NG_Algonquin,250,20,3.41896,16,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 31 | AID4857,4,1,1,1,270.3500061,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois,250,20,2.89212,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 32 | AID4858,4,1,1,1,359.3999939,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois,250,20,2.96142,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 33 | AID4875,10,1,1,1,786,-1,50,65400,343.0823612,2.308101666,7643.5,NG_Tenn_Z6,250,20,2.95351,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 34 | AID102657,2,1,1,1,450,-1,47.1,65400,328.6524429,3.455781792,9000,NG_Algonquin,250,20,1.412,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 35 | AID103304,4,1,1,1,772.5999756,-1,40,65400,328.6524429,3.455781792,6826.65,NG_Iroquois,250,15,2.814,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 36 | AID4988,1,1,1,1,777.75,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 37 | AID4989,1,1,1,1,352.4499995,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 38 | AID5042,1,1,1,1,543,-1,20,65400,464.1696865,2.097536427,9742.65,NG_Tenn_Z6,250,20,8.763,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 39 | AID5062,11,1,1,1,228.75,-1,50,65400,243.8578021,1.956385123,9000,NG_Dracut,250,20,2.99318,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 40 | AID5193,12,1,1,1,228.75,-1,50,65400,973.7491276,3.732291875,9103.42,NG_Tenn_Z6,250,20,3.59008,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 41 | AID5194,12,1,1,1,558,-1,50,65400,1000.657065,3.792454901,9164.6,NG_Tenn_Z6,250,20,3.61421,7,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 42 | AID5707,12,1,1,1,169.7458356,-1,50,65400,275.8109111,2.155386726,9000,NG_Tenn_Z6,250,20,2.95943,8,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 43 | AID5413,10,1,1,1,256.9899966,-1,50,65400,497.8070176,2.812522441,9891.06,NG_Tenn_Z6,250,20,4.11311,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 44 | AID5853,6,1,1,1,528.8241653,-1,47,65400,403.6276299,2.354377622,9000,NG_Dracut,250,20,2.98036,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 45 | AID6696,7,1,1,1,267.3000005,-1,50,65400,366.6272081,2.276858436,7035.88,NG_Dracut,250,20,2.77471,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 46 | AID6349,9,1,1,1,146.1999969,-1,50,65400,378.3996316,2.369421056,7753.2,NG_Algonquin,250,20,3.00754,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 47 | AID6850,4,1,1,1,563.5,-1,20,65400,674.3912282,2.617000635,9917.75,FO6,250,20,8.921,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 48 | AID6856,9,1,1,1,116.3199997,-1,35.5,65400,580.2129112,1.837226141,9709.63,FO6,250,20,8.734,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 49 | AID6849,7,1,1,1,560.149999,-1,25.7,65400,191.7218661,1.622035448,9850.71,FO6,250,20,8.861,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 50 | AID6855,1,1,1,1,454.4000066,-1,16.1,65400,412.0348213,1.989941081,18857.2,NG_Algonquin,250,20,9.194,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 51 | AID6843,2,1,1,1,440.25,-1,22,65400,610.4850102,2.066293197,19606.7,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 52 | AID6858,12,1,1,1,437.0999934,-1,11.4,65400,595.3484253,1.638224538,20300.8,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 53 | AID6859,1,1,1,1,557.5,-1,22.9,65400,578.5308305,2.097536427,19558.7,FO6,250,20,9.536,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 54 | AID6864,9,1,1,1,400.0499878,-1,30.5,65400,580.2129112,1.837226141,18600.6,FO6,250,20,9.068,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 55 | AID6968,2,1,1,1,409.8500061,-1,31,65400,410.3527406,2.082492994,25920.1,FO6,250,20,12.637,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 56 | AID6973,2,1,1,1,163,-1,30.5,65400,415.4000534,2.11257986,22482.8,FO6,250,20,10.961,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 57 | AID6975,3,1,1,1,170,-1,25.6,65400,492.7607755,2.296527323,23376.3,FO6,250,20,11.397,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 58 | AID6976,3,1,1,1,118.2399979,-1,14.4,65400,492.7607755,2.296527323,23823,FO6,250,20,11.615,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 59 | AID6964,2,1,1,1,0,-1,37.8,65400,410.3527406,2.082492994,25285.1,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 60 | GNRC-RI-62-2028-Gas CC-1,12,1,1,1,0,-1,20,65400,328.8558773,3.515944818,9000,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 61 | SVU000114,2,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 62 | SVU000119,3,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 63 | SVU000124,4,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Iroquois,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 64 | SVU000284,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 65 | SVU000289,9,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 66 | SVU000294,1,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 67 | SVU000299,8,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn_Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 68 | SVU000304,10,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn_Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 69 | SVU000339,5,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 70 | SVU000344,7,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 71 | SVU000354,6,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 72 | SVU000484,11,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn_Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 73 | SVU000754,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 74 | SVU000864,13,1,1,1,26,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn_Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Vermont,1
 75 | AID6862,9,1,1,1,239.9499969,-1,36.2,65400,805.5721084,2.418009739,14303,FO6,250,20,12.873,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 76 | AID6965,2,1,1,1,19,-1,41.4,65400,410.3527406,2.082492994,23959.6,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 77 | AID6846,11,1,1,1,400.2000122,-1,20,65400,581.8949919,1.920527146,11000,FO6,250,20,9.9,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 78 | AID6893,11,1,1,1,2.264166703,-1,15,65400,558.3501449,3.122588481,19911.3,NG_Dracut,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 79 | AID3907,2,1,1,1,603.0640295,-1,30,65400,275.8109111,0.642102988,18530,NG_Algonquin,250,0,7.7826,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 80 | AID6994,7,1,1,1,52.00416597,-1,9.9,65400,191.7218661,1.622035448,9955.93,FO6,250,20,8.483,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 81 | AID6851,7,1,1,1,26.5,-1,19.2,65400,191.7218661,1.622035448,11374,FO6,250,20,10.237,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 82 | AID18397,8,1,1,1,65,-1,50,65400,322.9006049,3.460417953,9945.18,NG_Tenn_Z6,250,20,4.17698,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 83 | AID3135,9,1,1,1,48.43000031,-1,50,65400,351.4906233,2.460816605,8715,NG_Algonquin,250,20,3.4833,6,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 84 | AID2535,6,1,1,1,12.60000038,-1,50,65400,193.4039468,3.581889662,11081,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 85 | AID6847,1,1,1,1,6.5,-1,20,65400,726.5282349,1.807139275,15820,FO6,250,20,14.238,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 86 | AID2621,11,1,1,1,74,-1,20,65400,474.2621707,2.249095003,14569,NG_Tenn_Z6,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 87 | AID18756,8,1,1,1,38.96552511,-1,50,65400,322.9006049,3.460417953,7810.375,NG_Tenn_Z6,250,20,3.28036,9,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 88 | AID3641,1,1,1,1,47.65999985,-1,50,65400,348.1286033,2.843765671,12657.16783,NG_Tenn_Z6,250,20,5.31601,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 89 | AID2537,6,1,1,1,0,-1,50,65400,193.4039468,3.581889662,11231,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 90 | AID2777,2,1,1,1,0.870000005,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 91 | AID2769,2,1,1,1,1.409999967,-1,20,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 92 | AID2770,2,1,1,1,3.100000004,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 93 | AID6852,12,1,1,1,5.279584531,-1,20,65400,423.8083154,2.097536427,14569,FO6,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 94 | AID2773,2,1,1,1,2.519187245,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 95 | AID3522,1,1,1,1,1.289999962,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 96 | AID6867,12,1,1,1,1.289999962,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 97 | AID6868,12,1,1,1,12.09999998,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 98 | AID6969,5,1,1,1,2.519187245,-1,20,65400,395.2161557,2.051260471,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 99 | AID3523,1,1,1,1,3,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
100 | AID3033,1,1,1,1,12.09999998,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
101 | AID3249,5,1,1,1,55.20000076,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
102 | AID2782,2,1,1,1,8.220890411,-1,50,65400,334.6740991,2.338177825,7471.67,NG_Algonquin,250,20,3.1381,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
103 | AID2329,2,1,1,1,24.40999985,-1,50,65400,193.4039468,3.581889662,10913,NG_Algonquin,250,0,3.182,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
104 | AID6970,5,1,1,1,37.18000031,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
105 | AID6971,5,1,1,1,52.22999954,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
106 | AID2687,5,1,1,1,5.397408253,-1,5,65400,617.2122623,1.438077279,9482,NG_Dracut,250,0,8.534,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
107 | AID100037,2,1,1,1,0.100000001,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
108 | AID2683,1,1,1,1,9.300000191,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
109 | AID6857,10,1,1,1,81.97000122,-1,20,65400,726.5282349,1.790950185,16126,FO6,250,20,14.513,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
110 | AID2768,2,1,1,1,36.3,-1,48.8,65400,474.2621707,2.249095003,12076,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
111 | AID104996,2,1,1,1,9.300000191,-1,70,65400,0,3.576107845,9598,NG_Algonquin,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
112 | AID6854,10,1,1,1,51.80583382,-1,20,65400,726.5282349,1.790950185,17278,FO6,250,20,15.55,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
113 | AID6848,7,1,1,1,5,-1,19.2,65400,191.7218661,1.622035448,10973,FO6,250,20,9.876,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
114 | AID100126,2,1,1,1,0.159999996,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
115 | AID2685,1,1,1,1,5.699999809,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
116 | AID10,10,1,1,1,4.212434466,-1,20,65400,726.5282349,1.790950185,17234,FO6,250,20,15.511,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
117 | AID5367,2,1,1,1,81.5,-1,5,65400,538.1683887,2.127612587,15000,NG_Algonquin,250,20,13.5,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
118 | AID52,8,1,1,1,61.34691781,-1,50,65400,322.9006049,3.460417953,8757.029032,NG_Tenn_Z6,250,20,3.67795,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
119 | AID6770,2,1,1,1,65.72000122,-1,30,65400,413.7179727,2.553368518,9586.15,NG_Algonquin,250,0,4.02618,16,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
120 | AID5319,12,1,1,1,48.40583229,-1,50,65400,334.6740991,2.231738843,8725.99,NG_Tenn_Z6,250,20,3.66492,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
121 | AID2536,6,1,1,1,15.22999954,-1,50,65400,193.4039468,3.581889662,11123,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
122 | AID2686,5,1,1,1,87.09999847,-1,5,65400,617.2122623,1.438077279,8926,NG_Dracut,250,0,8.033,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
123 | AID5508,9,1,1,1,12.40990211,-1,50,65400,1051.10985,5.889991328,13283,NG_Algonquin,250,20,5.57886,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
124 | AID104581,1,1,1,1,2.5,-1,70,65400,0,3.581889662,10607,NG_Tenn_Z6,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
125 | AID2618,11,1,1,1,0,-1,20,65400,560.0322256,2.767402848,13904.81818,FO6,250,20,12.514,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
126 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | ï»¿Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID107192,9,1,1,1,804,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  3 | AID107200,9,1,1,1,1232,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  4 | AID107201,9,1,1,1,133.3333333,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  5 | AID107205,9,1,1,1,66.66666667,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  6 | AID107206,9,1,1,1,0,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  7 | GNRC-MA-63-2020-Solar Utility-1,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
  8 | GNRC-MA-71-2020-Solar Utility-1,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
  9 | GNRC-MA-72-2020-Solar Utility-1,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 10 | GNRC-CT-61-2020-Solar Utility-1,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 11 | GNRC-CT-67-2020-Solar Utility-1,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 12 | GNRC-CT-68-2020-Solar Utility-1,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 13 | GNRC-NH-74-2020-Solar Utility-1-PTC,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 14 | GNRC-RI-62-2020-Solar Utility-1-PTC,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 15 | GNRC-VT-75-2020-Solar Utility-1-PTC,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 16 | GNRC-MA-73-2020-Solar Utility-1-PTC,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 17 | GNRC-CT-61-2020-Solar Utility-1-PTC,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 18 | GNRC-CT-67-2020-Solar Utility-1-PTC,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 19 | GNRC-CT-68-2020-Solar Utility-1-PTC,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 20 | GNRC-MA-63-2020-Solar Utility-1-PTC,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 21 | GNRC-MA-71-2020-Solar Utility-1-PTC,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 22 | GNRC-MA-72-2020-Solar Utility-1-PTC,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 23 | GNRC-MA-73-2020-Solar Utility-1,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 24 | GNRC-ME-69-2020-Solar Utility-1,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 25 | GNRC-ME-70-2020-Solar Utility-1,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 26 | GNRC-NH-74-2020-Solar Utility-1,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 27 | GNRC-RI-62-2020-Solar Utility-1,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 28 | GNRC-VT-75-2020-Solar Utility-1,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 29 | GNRC-ME-69-2020-Solar Utility-1-PTC,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 30 | GNRC-ME-70-2020-Solar Utility-1-PTC,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 31 | GNRC-CT-61-2020-Wind Offshore-1,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
 32 | GNRC-MA-63-2020-Wind Offshore-1,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
 33 | GNRC-MA-71-2020-Wind Offshore-1,1,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,Boston,1
 34 | GNRC-ME-70-2020-Wind Offshore-1,7,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MaineSouth,1
 35 | GNRC-RI-62-2020-Wind Offshore-1,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
 36 | GNRC-NH-74-2020-Wind Offshore-1,11,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,NewHampshire,1
 37 | GNRC-CT-68-2020-Wind Onshore-1,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 38 | GNRC-MA-73-2020-Wind Onshore-1,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 39 | GNRC-ME-69-2020-Wind Onshore-1,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 40 | GNRC-ME-70-2020-Wind Onshore-1,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 41 | GNRC-NH-74-2020-Wind Onshore-1,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 42 | GNRC-RI-62-2020-Wind Onshore-1,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 43 | GNRC-VT-75-2020-Wind Onshore-1,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 44 | GNRC-CT-68-2020-Wind Onshore-1-PTC,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 45 | GNRC-MA-73-2020-Wind Onshore-1-PTC,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 46 | GNRC-ME-69-2020-Wind Onshore-1-PTC,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 47 | GNRC-ME-70-2020-Wind Onshore-1-PTC,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 48 | GNRC-NH-74-2020-Wind Onshore-1-PTC,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 49 | GNRC-VT-75-2020-Wind Onshore-1-PTC,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 50 | GNRC-RI-62-2020-Wind Onshore-1-PTC,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 51 | SVU000483,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 52 | SVU000353,6,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineCentral,1
 53 | SVU000343,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 54 | SVU000338,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 55 | SVU000303,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 56 | SVU000283,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 57 | SVU000863,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 58 | SVU000753,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 59 | SVU000112,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 60 | SVU000117,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 61 | SVU000122,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 62 | SVU000297,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 63 | SVU000302,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 64 | SVU000337,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 65 | SVU000342,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 66 | SVU000352,6,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineCentral,1
 67 | SVU000482,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 68 | SVU000752,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 69 | SVU000862,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 70 | SVU000282,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 71 | SVU000287,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 72 | SVU000292,1,1,1,1,5,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 73 | AID_DM_1053,9,1,1,1,14,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 74 | AID_DM_1079,10,1,1,1,38.4,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 75 | AID_DM_1122,9,1,1,1,7,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 76 | AID_DM_1144,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 77 | AID_DM_1193,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 78 | AID_DM_1194,13,1,1,1,7,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 79 | AID_DM_1216,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 80 | AID_DM_1285,10,1,1,1,9.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 81 | AID_DM_1288,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
 82 | AID_DM_1312,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 83 | AID_DM_1341,13,1,1,1,12.4,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 84 | AID_DM_1377,12,1,1,1,16.1,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 85 | AID_DM_1393,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
 86 | AID_DM_1412,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 87 | AID_DM_1423,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 88 | AID_DM_1477,12,1,1,1,12.7,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 89 | AID_DM_1500,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 90 | AID_DM_164,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 91 | AID_DM_1709,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 92 | AID_DM_1732,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 93 | AID_DM_1746,12,1,1,1,6,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 94 | AID_DM_1771,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 95 | AID_DM_1789,8,1,1,1,5,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
 96 | AID_DM_1791,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 97 | AID_DM_1798,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 98 | AID_DM_1844,9,1,1,1,5.43,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 99 | AID_DM_191,8,1,1,1,5.49,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
100 | AID_DM_1917,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
101 | AID_DM_1983,2,1,1,1,26.4,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
102 | AID_DM_2050,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
103 | AID_DM_213,13,1,1,1,6.3,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
104 | AID_DM_2137,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
105 | AID_DM_2163,12,1,1,1,5.2,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
106 | AID_DM_2186,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
107 | AID_DM_2199,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
108 | AID_DM_2214,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
109 | AID_DM_2234,10,1,1,1,6.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
110 | AID_DM_2246,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
111 | AID_DM_2287,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
112 | AID_DM_2320,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
113 | AID_DM_2328,2,1,1,1,20,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
114 | AID_DM_2357,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
115 | AID_DM_2406,10,1,1,1,5.62,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
116 | AID_DM_242,8,1,1,1,50,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
117 | AID_DM_2444,7,1,1,1,8.42,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
118 | AID_DM_2460,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
119 | AID_DM_2471,10,1,1,1,7.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
120 | AID_DM_2487,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
121 | AID_DM_2490,10,1,1,1,12.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
122 | AID_DM_2511,10,1,1,1,8,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
123 | AID_DM_2513,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
124 | AID_DM_2514,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
125 | AID_DM_2586,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
126 | AID_DM_2591,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
127 | AID_DM_2665,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
128 | AID_DM_2726,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
129 | AID_DM_2728,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
130 | AID_DM_2756,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
131 | AID_DM_278,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
132 | AID_DM_28,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
133 | AID_DM_2820,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
134 | AID_DM_2910,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
135 | AID_DM_2950,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
136 | AID_DM_2959,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
137 | AID_DM_3064,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
138 | AID_DM_3102,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
139 | AID_DM_3176,2,1,1,1,0,-1,0,97200,0,0,0,0,0,0,ConnCentral,1
140 | AID_DM_3187,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
141 | AID_DM_3230,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
142 | AID_DM_3244,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
143 | AID_DM_339,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
144 | AID_DM_3406,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
145 | AID_DM_3500,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
146 | AID_DM_3512,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
147 | AID_DM_3673,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
148 | AID_DM_3732,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
149 | AID_DM_3759,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
150 | AID_DM_3806,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
151 | AID_DM_383,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
152 | AID_DM_3855,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
153 | AID_DM_3884,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
154 | AID_DM_3913,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
155 | AID_DM_3914,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
156 | AID_DM_3998,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
157 | AID_DM_4,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
158 | AID_DM_4003,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
159 | AID_DM_4051,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
160 | AID_DM_4058,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
161 | AID_DM_4065,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
162 | AID_DM_4097,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
163 | AID_DM_461,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
164 | AID_DM_50,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
165 | AID_DM_507,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
166 | AID_DM_552,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
167 | AID_DM_608,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
168 | AID_DM_653,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
169 | AID_DM_654,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
170 | AID_DM_667,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
171 | AID_DM_668,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
172 | AID_DM_669,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
173 | AID_DM_712,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
174 | AID_DM_72,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
175 | AID_DM_75,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
176 | AID_DM_775,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
177 | AID_DM_925,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
178 | AID_DM_935,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
179 | AID_DM_958,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
180 | AID_DM_963,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
181 | AID_DM_999,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
182 | AID101718,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
183 | AID104236,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
184 | AID104294,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
185 | AID104841,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
186 | AID104857,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
187 | AID106047,9,1,1,1,0,-1,0,97200,1765.510186,0,0,0,0,0,MassSE,1
188 | AID106710,7,1,1,1,0,-1,0,97200,1151.494991,0,0,0,0,0,MaineSouth,1
189 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/system/Network - Copy (2).csv:
--------------------------------------------------------------------------------
 1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC
 2 | Boston,z1,1,1,8,2629,Boston_to_MassCentral,35,0.0094,2629,12060,0.95,0,0,7000,0.062
 3 | ConnCentral,z2,2,2,4,3650,ConnCentral_to_ConnSW,25,0.005,3650,12060,0.95,0,0,7000,0.062
 4 | ConnNorwalk,z3,3,3,4,1537,ConnNorwalk_to_ConnSW,15,0.005,1537,12060,0.95,0,0,5000,0.062
 5 | ConnSW,z4,4,4,2,1100,ConnSW_to_ConnCentral,25,0.005,1100,12060,0.95,0,0,7000,0.062
 6 | MaineBHE,z5,5,5,6,1975,MaineBHE_to_MaineCentral,80,0.01,1975,12060,0.95,0,0,7000,0.062
 7 | MaineCentral,z6,6,6,5,1975,MaineCentral_to_MaineBHE,80,0.01,1975,12060,0.95,0,0,5000,0.062
 8 | MaineSouth,z7,7,7,6,1925,MaineSouth_to_MaineCentral,70,0.01,1925,12060,0.95,0,0,5000,0.062
 9 | MassCentral,z8,8,8,1,2859,MassCentral_to_Boston,35,0.0094,2859,12060,0.95,0,0,5000,0.062
10 | MassSE,z9,9,9,1,997,MassSE_to_Boston,40,0.001536098,997,12060,0.95,0,0,5000,0.062
11 | MassWest,z10,10,10,2,1400,MassWest_to_ConnCentral,60,0.01,1400,12060,0.95,0,0,5000,0.062
12 | NewHampshire,z11,11,11,1,1391,NewHampshire_to_Boston,50,0.013636364,1391,12060,0.95,0,0,7000,0.062
13 | RhodeIsland,z12,12,12,1,453,RhodeIsland_to_Boston,50,0.018213737,453,12060,0.95,0,0,7000,0.062
14 | Vermont,z13,13,13,10,467,Vermont_to_MassWest,40,0.027620841,467,12060,0.95,0,0,7000,0.062


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p1/system/Network.csv:
--------------------------------------------------------------------------------
 1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC
 2 | Boston,z1,1,1,8,2629,Boston_to_MassCentral,35,0.0094,2629,12060,0.95,0,0,7000,0.062
 3 | ConnCentral,z2,2,1,9,997,Boston_to_MassSE,40,0.001536098,997,12060,0.95,0,0,5000,0.062
 4 | ConnNorwalk,z3,3,1,11,816,Boston_to_NewHampshire,50,0.013636364,816,12060,0.95,0,0,7000,0.062
 5 | ConnSW,z4,4,1,12,1953,Boston_to_RhodeIsland,50,0.018213737,1953,12060,0.95,0,0,5000,0.062
 6 | MaineBHE,z5,5,2,4,3650,ConnCentral_to_ConnSW,25,0.005,3650,12060,0.95,0,0,7000,0.062
 7 | MaineCentral,z6,6,2,10,1400,ConnCentral_to_MassWest,60,0.01,1400,12060,0.95,0,0,5000,0.062
 8 | MaineSouth,z7,7,2,12,393,ConnCentral_to_RhodeIsland,55,0.02,393,12060,0.95,0,0,7000,0.062
 9 | MassCentral,z8,8,3,4,1537,ConnNorwalk_to_ConnSW,15,0.005,1537,12060,0.95,0,0,5000,0.062
10 | MassSE,z9,9,4,2,1100,ConnSW_to_ConnCentral,25,0.005,1100,12060,0.95,0,0,7000,0.062
11 | MassWest,z10,10,4,3,1650,ConnSW_to_ConnNorwalk,15,0.005,1650,12060,0.95,0,0,5000,0.062
12 | NewHampshire,z11,11,5,6,1975,MaineBHE_to_MaineCentral,80,0.01,1975,12060,0.95,0,0,7000,0.062
13 | RhodeIsland,z12,12,6,5,1975,MaineCentral_to_MaineBHE,80,0.01,1975,12060,0.95,0,0,5000,0.062
14 | Vermont,z13,13,6,7,1925,MaineCentral_to_MaineSouth,70,0.01,1925,12060,0.95,0,0,7000,0.062
15 | ,,14,7,6,1925,MaineSouth_to_MaineCentral,70,0.01,1925,12060,0.95,0,0,5000,0.062
16 | ,,15,7,11,1900,MaineSouth_to_NewHampshire,75,0.03008658,1900,12060,0.95,0,0,7000,0.062
17 | ,,16,8,1,2859,MassCentral_to_Boston,35,0.0094,2859,12060,0.95,0,0,5000,0.062
18 | ,,17,8,10,1286,MassCentral_to_MassWest,50,0.01,1286,12060,0.95,0,0,7000,0.062
19 | ,,18,8,11,900,MassCentral_to_NewHampshire,45,0.0058102,900,12060,0.95,0,0,5000,0.062
20 | ,,19,8,12,1893,MassCentral_to_RhodeIsland,40,0.0272,1893,12060,0.95,0,0,7000,0.062
21 | ,,20,9,1,997,MassSE_to_Boston,40,0.001536098,997,12060,0.95,0,0,5000,0.062
22 | ,,21,9,12,9999,MassSE_to_RhodeIsland,30,0.016703297,9999,12060,0.95,0,0,7000,0.062
23 | ,,22,10,2,1400,MassWest_to_ConnCentral,60,0.01,1400,12060,0.95,0,0,5000,0.062
24 | ,,23,10,8,1407,MassWest_to_MassCentral,50,0.01,1407,12060,0.95,0,0,7000,0.062
25 | ,,24,10,13,900,MassWest_to_Vermont,40,0.027620841,900,12060,0.95,0,0,5000,0.062
26 | ,,25,11,1,1391,NewHampshire_to_Boston,50,0.013636364,1391,12060,0.95,0,0,7000,0.062
27 | ,,26,11,7,650,NewHampshire_to_MaineSouth,75,0.03008658,650,12060,0.95,0,0,5000,0.062
28 | ,,27,11,8,467,NewHampshire_to_MassCentral,45,0.0058102,467,12060,0.95,0,0,7000,0.062
29 | ,,28,11,13,800,NewHampshire_to_Vermont,60,0.033270559,800,12060,0.95,0,0,5000,0.062
30 | ,,29,12,1,453,RhodeIsland_to_Boston,50,0.018213737,453,12060,0.95,0,0,7000,0.062
31 | ,,30,12,2,664,RhodeIsland_to_ConnCentral,55,0.02,664,12060,0.95,0,0,5000,0.062
32 | ,,31,12,8,750,RhodeIsland_to_MassCentral,40,0.0272,750,12060,0.95,0,0,7000,0.062
33 | ,,32,12,9,9999,RhodeIsland_to_MassSE,30,0.016703297,9999,12060,0.95,0,0,5000,0.062
34 | ,,33,13,10,467,Vermont_to_MassWest,40,0.027620841,467,12060,0.95,0,0,7000,0.062
35 | ,,34,13,11,400,Vermont_to_NewHampshire,60,0.033270559,400,12060,0.95,0,0,5000,0.062
36 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
  1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
  2 | SVU000111,0.05,20,20,0,0,0
  3 | SVU000116,0.05,20,20,0,0,0
  4 | SVU000121,0.05,20,20,0,0,0
  5 | SVU000281,0.05,20,20,0,0,0
  6 | SVU000286,0.05,20,20,0,0,0
  7 | SVU000291,0.05,20,20,0,0,0
  8 | SVU000751,0.05,20,20,0,0,0
  9 | SVU000861,0.05,20,20,0,0,0
 10 | SVU000296,0.05,20,20,0,0,0
 11 | SVU000301,0.05,20,20,0,0,0
 12 | SVU000336,0.05,20,20,0,0,0
 13 | SVU000341,0.05,20,20,0,0,0
 14 | SVU000351,0.05,20,20,0,0,0
 15 | SVU000481,0.05,20,20,0,0,0
 16 | GNRC-CT-61-2020-Battery Storage-1,0.05,20,20,0,0,0
 17 | GNRC-CT-67-2020-Battery Storage-1,0.05,20,20,0,0,0
 18 | GNRC-CT-68-2020-Battery Storage-1,0.05,20,20,0,0,0
 19 | GNRC-MA-63-2020-Battery Storage-1,0.05,20,20,0,0,0
 20 | GNRC-MA-71-2020-Battery Storage-1,0.05,20,20,0,0,0
 21 | GNRC-MA-72-2020-Battery Storage-1,0.05,20,20,0,0,0
 22 | GNRC-MA-73-2020-Battery Storage-1,0.05,20,20,0,0,0
 23 | GNRC-ME-70-2020-Battery Storage-1,0.05,20,20,0,0,0
 24 | GNRC-NH-74-2020-Battery Storage-1,0.05,20,20,0,0,0
 25 | GNRC-RI-62-2020-Battery Storage-1,0.05,20,20,0,0,0
 26 | GNRC-VT-75-2020-Battery Storage-1,0.05,20,20,0,0,0
 27 | AID_DM_4153,0.05,20,20,0,0,0
 28 | AID_DM_4224,0.05,20,20,0,0,0
 29 | AID_DM_4281,0.05,20,20,0,0,0
 30 | AID_DM_4295,0.05,20,20,0,0,0
 31 | AID_DM_4355,0.05,20,20,0,0,0
 32 | AID_DM_4358,0.05,20,20,0,0,0
 33 | AID_DM_4548,0.05,20,20,0,0,0
 34 | AID_DM_4383,0.05,20,20,0,0,0
 35 | AID_DM_4473,0.05,20,20,0,0,0
 36 | AID_DM_4518,0.05,20,20,0,0,0
 37 | AID_DM_4521,0.05,20,20,0,0,0
 38 | AID_DM_4530,0.05,20,20,0,0,0
 39 | AID_DM_4532,0.05,20,20,0,0,0
 40 | AID101237,0.05,20,20,0,0,0
 41 | AID101231,0.05,20,20,0,0,0
 42 | AID12448,0.05,20,20,0,0,0
 43 | AID15604,0.05,20,20,0,0,0
 44 | AID15844,0.05,20,20,0,0,0
 45 | AID2306,0.05,20,20,0,0,0
 46 | AID2307,0.05,20,20,0,0,0
 47 | AID2308,0.05,20,20,0,0,0
 48 | AID2305,0.05,20,20,0,0,0
 49 | AID18,0.05,20,20,0,0,0
 50 | AID2207,0.05,20,20,0,0,0
 51 | AID2498,0.05,20,20,0,0,0
 52 | AID2428,0.05,20,20,0,0,0
 53 | AID2626,0.05,20,20,0,0,0
 54 | AID2654,0.05,20,20,0,0,0
 55 | AID2507,0.05,20,20,0,0,0
 56 | AID3190,0.05,20,20,0,0,0
 57 | AID3486,0.05,20,20,0,0,0
 58 | AID2879,0.05,20,20,0,0,0
 59 | AID4276,0.05,20,20,0,0,0
 60 | AID4436,0.05,20,20,0,0,0
 61 | AID4437,0.05,20,20,0,0,0
 62 | AID4438,0.05,20,20,0,0,0
 63 | AID4724,0.05,20,20,0,0,0
 64 | AID4725,0.05,20,20,0,0,0
 65 | AID4726,0.05,20,20,0,0,0
 66 | AID4714,0.05,20,20,0,0,0
 67 | AID4774,0.05,20,20,0,0,0
 68 | AID4855,0.05,20,20,0,0,0
 69 | AID4857,0.05,20,20,0,0,0
 70 | AID4858,0.05,20,20,0,0,0
 71 | AID4875,0.05,20,20,0,0,0
 72 | AID102657,0.05,20,20,0,0,0
 73 | AID103304,0.05,20,20,0,0,0
 74 | AID4988,0.05,20,20,0,0,0
 75 | AID4989,0.05,20,20,0,0,0
 76 | AID5042,0.05,20,20,0,0,0
 77 | AID5062,0.05,20,20,0,0,0
 78 | AID5193,0.05,20,20,0,0,0
 79 | AID5194,0.05,20,20,0,0,0
 80 | AID5707,0.05,20,20,0,0,0
 81 | AID5413,0.05,20,20,0,0,0
 82 | AID5853,0.05,20,20,0,0,0
 83 | AID6696,0.05,20,20,0,0,0
 84 | AID6349,0.05,20,20,0,0,0
 85 | AID6850,0.05,20,20,0,0,0
 86 | AID6856,0.05,20,20,0,0,0
 87 | AID6849,0.05,20,20,0,0,0
 88 | AID6855,0.05,20,20,0,0,0
 89 | AID6843,0.05,20,20,0,0,0
 90 | AID6858,0.05,20,20,0,0,0
 91 | AID6859,0.05,20,20,0,0,0
 92 | AID6864,0.05,20,20,0,0,0
 93 | AID6968,0.05,20,20,0,0,0
 94 | AID6973,0.05,20,20,0,0,0
 95 | AID6975,0.05,20,20,0,0,0
 96 | AID6976,0.05,20,20,0,0,0
 97 | AID6964,0.05,20,20,0,0,0
 98 | GNRC-RI-62-2028-Gas CC-1,0.05,20,20,0,0,0
 99 | SVU000114,0.05,20,20,0,0,0
100 | SVU000119,0.05,20,20,0,0,0
101 | SVU000124,0.05,20,20,0,0,0
102 | SVU000284,0.05,20,20,0,0,0
103 | SVU000289,0.05,20,20,0,0,0
104 | SVU000294,0.05,20,20,0,0,0
105 | SVU000299,0.05,20,20,0,0,0
106 | SVU000304,0.05,20,20,0,0,0
107 | SVU000339,0.05,20,20,0,0,0
108 | SVU000344,0.05,20,20,0,0,0
109 | SVU000354,0.05,20,20,0,0,0
110 | SVU000484,0.05,20,20,0,0,0
111 | SVU000754,0.05,20,20,0,0,0
112 | SVU000864,0.05,20,20,0,0,0
113 | AID6862,0.05,20,20,0,0,0
114 | AID6965,0.05,20,20,0,0,0
115 | AID6846,0.05,20,20,0,0,0
116 | AID6893,0.05,20,20,0,0,0
117 | AID3907,0.05,20,20,0,0,0
118 | AID6994,0.05,20,20,0,0,0
119 | AID6851,0.05,20,20,0,0,0
120 | AID18397,0.05,20,20,0,0,0
121 | AID3135,0.05,20,20,0,0,0
122 | AID2535,0.05,20,20,0,0,0
123 | AID6847,0.05,20,20,0,0,0
124 | AID2621,0.05,20,20,0,0,0
125 | AID18756,0.05,20,20,0,0,0
126 | AID3641,0.05,20,20,0,0,0
127 | AID2537,0.05,20,20,0,0,0
128 | AID2777,0.05,20,20,0,0,0
129 | AID2769,0.05,20,20,0,0,0
130 | AID2770,0.05,20,20,0,0,0
131 | AID6852,0.05,20,20,0,0,0
132 | AID2773,0.05,20,20,0,0,0
133 | AID3522,0.05,20,20,0,0,0
134 | AID6867,0.05,20,20,0,0,0
135 | AID6868,0.05,20,20,0,0,0
136 | AID6969,0.05,20,20,0,0,0
137 | AID3523,0.05,20,20,0,0,0
138 | AID3033,0.05,20,20,0,0,0
139 | AID3249,0.05,20,20,0,0,0
140 | AID2782,0.05,20,20,0,0,0
141 | AID2329,0.05,20,20,0,0,0
142 | AID6970,0.05,20,20,0,0,0
143 | AID6971,0.05,20,20,0,0,0
144 | AID2687,0.05,20,20,0,0,0
145 | AID100037,0.05,20,20,0,0,0
146 | AID2683,0.05,20,20,0,0,0
147 | AID6857,0.05,20,20,0,0,0
148 | AID2768,0.05,20,20,0,0,0
149 | AID104996,0.05,20,20,0,0,0
150 | AID6854,0.05,20,20,0,0,0
151 | AID6848,0.05,20,20,0,0,0
152 | AID100126,0.05,20,20,0,0,0
153 | AID2685,0.05,20,20,0,0,0
154 | AID10,0.05,20,20,0,0,0
155 | AID5367,0.05,20,20,0,0,0
156 | AID52,0.05,20,20,0,0,0
157 | AID6770,0.05,20,20,0,0,0
158 | AID5319,0.05,20,20,0,0,0
159 | AID2536,0.05,20,20,0,0,0
160 | AID2686,0.05,20,20,0,0,0
161 | AID5508,0.05,20,20,0,0,0
162 | AID104581,0.05,20,20,0,0,0
163 | AID2618,0.05,20,20,0,0,0
164 | GNRC-CT-68-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
165 | GNRC-MA-63-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
166 | GNRC-MA-71-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
167 | GNRC-MA-72-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
168 | GNRC-ME-69-2020-Solar Utility-1,0.05,20,20,0,0,0
169 | GNRC-ME-70-2020-Solar Utility-1,0.05,20,20,0,0,0
170 | GNRC-NH-74-2020-Solar Utility-1,0.05,20,20,0,0,0
171 | GNRC-RI-62-2020-Solar Utility-1,0.05,20,20,0,0,0
172 | GNRC-VT-75-2020-Solar Utility-1,0.05,20,20,0,0,0
173 | GNRC-CT-61-2020-Solar Utility-1,0.05,20,20,0,0,0
174 | GNRC-CT-67-2020-Solar Utility-1,0.05,20,20,0,0,0
175 | GNRC-MA-73-2020-Solar Utility-1,0.05,20,20,0,0,0
176 | GNRC-VT-75-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
177 | GNRC-CT-68-2020-Solar Utility-1,0.05,20,20,0,0,0
178 | GNRC-MA-63-2020-Solar Utility-1,0.05,20,20,0,0,0
179 | GNRC-MA-71-2020-Solar Utility-1,0.05,20,20,0,0,0
180 | GNRC-MA-72-2020-Solar Utility-1,0.05,20,20,0,0,0
181 | GNRC-NH-74-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
182 | GNRC-RI-62-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
183 | GNRC-CT-67-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
184 | GNRC-CT-61-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
185 | GNRC-MA-73-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
186 | GNRC-ME-70-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
187 | GNRC-ME-69-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
188 | SVU000352,0.05,20,20,0,0,0
189 | SVU000282,0.05,20,20,0,0,0
190 | SVU000287,0.05,20,20,0,0,0
191 | SVU000122,0.05,20,20,0,0,0
192 | SVU000117,0.05,20,20,0,0,0
193 | SVU000112,0.05,20,20,0,0,0
194 | SVU000292,0.05,20,20,0,0,0
195 | SVU000297,0.05,20,20,0,0,0
196 | SVU000302,0.05,20,20,0,0,0
197 | SVU000337,0.05,20,20,0,0,0
198 | SVU000342,0.05,20,20,0,0,0
199 | SVU000482,0.05,20,20,0,0,0
200 | AID_DM_1144,0.05,20,20,0,0,0
201 | AID_DM_1122,0.05,20,20,0,0,0
202 | AID_DM_1053,0.05,20,20,0,0,0
203 | AID_DM_1193,0.05,20,20,0,0,0
204 | AID_DM_1194,0.05,20,20,0,0,0
205 | AID_DM_1216,0.05,20,20,0,0,0
206 | AID_DM_1079,0.05,20,20,0,0,0
207 | AID_DM_1285,0.05,20,20,0,0,0
208 | AID_DM_1288,0.05,20,20,0,0,0
209 | AID_DM_1377,0.05,20,20,0,0,0
210 | AID_DM_1341,0.05,20,20,0,0,0
211 | AID_DM_1312,0.05,20,20,0,0,0
212 | AID_DM_1412,0.05,20,20,0,0,0
213 | AID_DM_1393,0.05,20,20,0,0,0
214 | AID_DM_1423,0.05,20,20,0,0,0
215 | AID_DM_1477,0.05,20,20,0,0,0
216 | AID_DM_1500,0.05,20,20,0,0,0
217 | AID_DM_1746,0.05,20,20,0,0,0
218 | AID_DM_1771,0.05,20,20,0,0,0
219 | AID_DM_1709,0.05,20,20,0,0,0
220 | AID_DM_1732,0.05,20,20,0,0,0
221 | AID_DM_1789,0.05,20,20,0,0,0
222 | AID_DM_1791,0.05,20,20,0,0,0
223 | AID_DM_1798,0.05,20,20,0,0,0
224 | AID_DM_1844,0.05,20,20,0,0,0
225 | AID_DM_164,0.05,20,20,0,0,0
226 | AID_DM_1917,0.05,20,20,0,0,0
227 | AID_DM_1983,0.05,20,20,0,0,0
228 | AID_DM_191,0.05,20,20,0,0,0
229 | AID_DM_2050,0.05,20,20,0,0,0
230 | AID_DM_213,0.05,20,20,0,0,0
231 | AID_DM_2137,0.05,20,20,0,0,0
232 | AID_DM_2186,0.05,20,20,0,0,0
233 | AID_DM_2163,0.05,20,20,0,0,0
234 | AID_DM_2199,0.05,20,20,0,0,0
235 | AID_DM_2246,0.05,20,20,0,0,0
236 | AID_DM_2234,0.05,20,20,0,0,0
237 | AID_DM_2214,0.05,20,20,0,0,0
238 | AID_DM_2320,0.05,20,20,0,0,0
239 | AID_DM_2287,0.05,20,20,0,0,0
240 | AID_DM_2357,0.05,20,20,0,0,0
241 | AID_DM_242,0.05,20,20,0,0,0
242 | AID_DM_2444,0.05,20,20,0,0,0
243 | AID_DM_2328,0.05,20,20,0,0,0
244 | AID_DM_2406,0.05,20,20,0,0,0
245 | AID_DM_2460,0.05,20,20,0,0,0
246 | AID_DM_2471,0.05,20,20,0,0,0
247 | AID_DM_2487,0.05,20,20,0,0,0
248 | AID_DM_2490,0.05,20,20,0,0,0
249 | AID_DM_278,0.05,20,20,0,0,0
250 | AID_DM_28,0.05,20,20,0,0,0
251 | AID_DM_339,0.05,20,20,0,0,0
252 | AID_DM_383,0.05,20,20,0,0,0
253 | AID_DM_4,0.05,20,20,0,0,0
254 | AID_DM_461,0.05,20,20,0,0,0
255 | AID_DM_507,0.05,20,20,0,0,0
256 | AID_DM_608,0.05,20,20,0,0,0
257 | AID_DM_50,0.05,20,20,0,0,0
258 | AID_DM_552,0.05,20,20,0,0,0
259 | AID_DM_653,0.05,20,20,0,0,0
260 | AID_DM_654,0.05,20,20,0,0,0
261 | AID_DM_669,0.05,20,20,0,0,0
262 | AID_DM_667,0.05,20,20,0,0,0
263 | AID_DM_668,0.05,20,20,0,0,0
264 | AID_DM_72,0.05,20,20,0,0,0
265 | AID_DM_775,0.05,20,20,0,0,0
266 | AID_DM_925,0.05,20,20,0,0,0
267 | AID_DM_712,0.05,20,20,0,0,0
268 | AID_DM_75,0.05,20,20,0,0,0
269 | AID_DM_935,0.05,20,20,0,0,0
270 | AID_DM_958,0.05,20,20,0,0,0
271 | AID_DM_963,0.05,20,20,0,0,0
272 | AID_DM_999,0.05,20,20,0,0,0
273 | SVU000862,0.05,20,20,0,0,0
274 | SVU000752,0.05,20,20,0,0,0
275 | AID107200,0.05,20,20,0,0,0
276 | AID107192,0.05,20,20,0,0,0
277 | AID107201,0.05,20,20,0,0,0
278 | AID107206,0.05,20,20,0,0,0
279 | AID107205,0.05,20,20,0,0,0
280 | GNRC-CT-61-2020-Wind Offshore-1,0.05,20,20,0,0,0
281 | GNRC-MA-63-2020-Wind Offshore-1,0.05,20,20,0,0,0
282 | GNRC-MA-71-2020-Wind Offshore-1,0.05,20,20,0,0,0
283 | GNRC-ME-70-2020-Wind Offshore-1,0.05,20,20,0,0,0
284 | GNRC-NH-74-2020-Wind Offshore-1,0.05,20,20,0,0,0
285 | GNRC-RI-62-2020-Wind Offshore-1,0.05,20,20,0,0,0
286 | GNRC-CT-68-2020-Wind Onshore-1,0.05,20,20,0,0,0
287 | GNRC-MA-73-2020-Wind Onshore-1,0.05,20,20,0,0,0
288 | GNRC-ME-69-2020-Wind Onshore-1,0.05,20,20,0,0,0
289 | GNRC-ME-70-2020-Wind Onshore-1,0.05,20,20,0,0,0
290 | GNRC-NH-74-2020-Wind Onshore-1,0.05,20,20,0,0,0
291 | GNRC-NH-74-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
292 | GNRC-RI-62-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
293 | GNRC-VT-75-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
294 | GNRC-RI-62-2020-Wind Onshore-1,0.05,20,20,0,0,0
295 | GNRC-VT-75-2020-Wind Onshore-1,0.05,20,20,0,0,0
296 | GNRC-CT-68-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
297 | GNRC-MA-73-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
298 | GNRC-ME-69-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
299 | GNRC-ME-70-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
300 | SVU000753,0.05,20,20,0,0,0
301 | SVU000863,0.05,20,20,0,0,0
302 | SVU000483,0.05,20,20,0,0,0
303 | SVU000353,0.05,20,20,0,0,0
304 | SVU000343,0.05,20,20,0,0,0
305 | SVU000338,0.05,20,20,0,0,0
306 | SVU000303,0.05,20,20,0,0,0
307 | SVU000283,0.05,20,20,0,0,0
308 | AID104841,0.05,20,20,0,0,0
309 | AID106047,0.05,20,20,0,0,0
310 | AID_DM_2511,0.05,20,20,0,0,0
311 | AID_DM_2513,0.05,20,20,0,0,0
312 | AID_DM_2514,0.05,20,20,0,0,0
313 | AID_DM_2586,0.05,20,20,0,0,0
314 | AID_DM_2728,0.05,20,20,0,0,0
315 | AID_DM_2591,0.05,20,20,0,0,0
316 | AID_DM_2665,0.05,20,20,0,0,0
317 | AID_DM_2726,0.05,20,20,0,0,0
318 | AID_DM_2756,0.05,20,20,0,0,0
319 | AID_DM_2910,0.05,20,20,0,0,0
320 | AID_DM_2950,0.05,20,20,0,0,0
321 | AID_DM_2959,0.05,20,20,0,0,0
322 | AID_DM_2820,0.05,20,20,0,0,0
323 | AID_DM_3064,0.05,20,20,0,0,0
324 | AID_DM_3102,0.05,20,20,0,0,0
325 | AID_DM_3187,0.05,20,20,0,0,0
326 | AID_DM_3230,0.05,20,20,0,0,0
327 | AID_DM_3244,0.05,20,20,0,0,0
328 | AID_DM_3176,0.05,20,20,0,0,0
329 | AID_DM_3406,0.05,20,20,0,0,0
330 | AID_DM_3500,0.05,20,20,0,0,0
331 | AID_DM_3512,0.05,20,20,0,0,0
332 | AID_DM_3673,0.05,20,20,0,0,0
333 | AID_DM_3759,0.05,20,20,0,0,0
334 | AID_DM_3732,0.05,20,20,0,0,0
335 | AID_DM_3806,0.05,20,20,0,0,0
336 | AID_DM_3884,0.05,20,20,0,0,0
337 | AID_DM_3855,0.05,20,20,0,0,0
338 | AID_DM_3913,0.05,20,20,0,0,0
339 | AID_DM_3914,0.05,20,20,0,0,0
340 | AID_DM_4003,0.05,20,20,0,0,0
341 | AID_DM_3998,0.05,20,20,0,0,0
342 | AID_DM_4051,0.05,20,20,0,0,0
343 | AID_DM_4065,0.05,20,20,0,0,0
344 | AID_DM_4058,0.05,20,20,0,0,0
345 | AID_DM_4097,0.05,20,20,0,0,0
346 | AID104236,0.05,20,20,0,0,0
347 | AID104294,0.05,20,20,0,0,0
348 | AID101718,0.05,20,20,0,0,0
349 | AID104857,0.05,20,20,0,0,0
350 | AID106710,0.05,20,20,0,0,0
351 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
 1 | ï»¿Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
 2 | SVU000296,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
 3 | SVU000301,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
 4 | SVU000336,5,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineBHE,0
 5 | SVU000341,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
 6 | SVU000351,6,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineCentral,0
 7 | SVU000481,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
 8 | SVU000286,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
 9 | SVU000281,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
10 | SVU000751,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
11 | SVU000861,13,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
12 | SVU000121,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
13 | SVU000116,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
14 | SVU000111,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
15 | SVU000291,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
16 | GNRC-CT-61-2020-Battery Storage-1,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
17 | GNRC-CT-67-2020-Battery Storage-1,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
18 | GNRC-CT-68-2020-Battery Storage-1,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
19 | GNRC-MA-63-2020-Battery Storage-1,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
20 | GNRC-MA-71-2020-Battery Storage-1,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
21 | GNRC-MA-72-2020-Battery Storage-1,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
22 | GNRC-MA-73-2020-Battery Storage-1,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
23 | GNRC-ME-70-2020-Battery Storage-1,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
24 | GNRC-NH-74-2020-Battery Storage-1,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
25 | GNRC-RI-62-2020-Battery Storage-1,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
26 | GNRC-VT-75-2020-Battery Storage-1,13,1,1,1,0,24.9,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
27 | AID_DM_4153,9,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
28 | AID_DM_4224,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
29 | AID_DM_4358,13,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
30 | AID_DM_4355,1,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.6,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
31 | AID_DM_4281,8,1,1,1,0,16.2,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
32 | AID_DM_4295,7,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
33 | AID_DM_4530,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
34 | AID_DM_4383,13,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
35 | AID_DM_4521,12,1,1,1,0,6,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
36 | AID_DM_4532,9,1,1,1,0,16.7,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
37 | AID_DM_4548,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
38 | AID_DM_4518,8,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
39 | AID_DM_4473,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
40 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID101237,1,1,1,1,347.5,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  3 | AID101231,1,1,1,1,108,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  4 | AID12448,4,1,1,1,335.5500005,-1,20,65400,504.533199,3.460417953,9820.69,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
  5 | AID15604,10,1,1,1,622.5,-1,50,65400,644.1212706,3.460417953,8712.45,NG_Tenn Z6,250,20,3.43589,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
  6 | AID15844,2,1,1,1,261.2999942,-1,50,65400,322.9006049,3.460417953,9000,NG_Algonquin,250,20,2.93286,11,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
  7 | AID2306,12,1,1,1,240.9499969,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  8 | AID2307,12,1,1,1,241,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  9 | AID2308,12,1,1,1,264.2999942,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,11,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 10 | AID2305,12,1,1,1,108,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 11 | AID18,4,1,1,1,737.5,-1,20,65400,610.4850102,2.066293197,9846.71,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 12 | AID2207,11,1,1,1,300,-1,50,65400,275.8109111,2.107943699,7780.89,NG_Tenn Z6,250,20,2.91726,17,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 13 | AID2498,12,1,1,1,107.8458341,-1,50,65400,433.8986582,1.392957686,8994.99,NG_Algonquin,250,20,3.5801,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 14 | AID2428,9,1,1,1,487,-1,50,65400,560.0322256,2.767402848,23266.9,NG_Algonquin,250,20,2.814,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 15 | AID2626,4,1,1,1,123.2741642,-1,50,65400,314.4934136,2.170419453,7474.17,NG_Iroquois Z2,250,20,2.92715,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 16 | AID2654,5,1,1,1,237.8000031,-1,50,65400,193.4039468,3.581889662,20312,NG_Dracut,250,0,2.903,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 17 | AID2507,10,1,1,1,169.8000031,-1,50,65400,292.6285059,2.170419453,7998.15,NG_Tenn Z6,250,20,2.97717,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 18 | AID3190,9,1,1,1,762.5,-1,50,65400,368.3092888,2.430729738,8379.42,NG_Algonquin,250,20,3.35622,15,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 19 | AID3486,9,1,1,1,100.6499983,-1,50,65400,250.5850542,2.092910973,9000,NG_Algonquin,250,20,2.93605,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 20 | AID2879,10,1,1,1,217.4000003,-1,29.8,65400,474.2621707,2.249095003,21594.9,NG_Tenn Z6,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 21 | AID4276,1,1,1,1,263.5999997,-1,50,65400,289.2664859,2.079023903,9000,NG_Algonquin,250,20,2.81977,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 22 | AID4436,2,1,1,1,268.9999936,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,17,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 23 | AID4437,2,1,1,1,262.3999939,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 24 | AID4438,2,1,1,1,150,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 25 | AID4724,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 26 | AID4725,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 27 | AID4726,12,1,1,1,515,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 28 | AID4714,5,1,1,1,255.1200015,-1,50,65400,427.1714061,2.383297418,8089.74,NG_Dracut,250,20,2.99297,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 29 | AID4774,10,1,1,1,158.9000003,-1,50,65400,304.4009294,1.056287789,9210.47,NG_Tenn Z6,250,20,3.6323,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 30 | AID4855,12,1,1,1,267.6999995,-1,50,65400,332.9920184,2.399497215,8669.49,NG_Algonquin,250,20,3.41896,16,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 31 | AID4857,4,1,1,1,270.3500061,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.89212,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 32 | AID4858,4,1,1,1,359.3999939,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.96142,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 33 | AID4875,10,1,1,1,786,-1,50,65400,343.0823612,2.308101666,7643.5,NG_Tenn Z6,250,20,2.95351,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 34 | AID102657,2,1,1,1,450,-1,47.1,65400,328.6524429,3.455781792,9000,NG_Algonquin,250,20,1.412,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 35 | AID103304,4,1,1,1,772.5999756,-1,40,65400,328.6524429,3.455781792,6826.65,NG_Iroquois Z2,250,15,2.814,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 36 | AID4988,1,1,1,1,777.75,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 37 | AID4989,1,1,1,1,352.4499995,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 38 | AID5042,1,1,1,1,543,-1,20,65400,464.1696865,2.097536427,9742.65,NG_Tenn Z6,250,20,8.763,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 39 | AID5062,11,1,1,1,228.75,-1,50,65400,243.8578021,1.956385123,9000,NG_Dracut,250,20,2.99318,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 40 | AID5193,12,1,1,1,228.75,-1,50,65400,973.7491276,3.732291875,9103.42,NG_Tenn Z6,250,20,3.59008,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 41 | AID5194,12,1,1,1,558,-1,50,65400,1000.657065,3.792454901,9164.6,NG_Tenn Z6,250,20,3.61421,7,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 42 | AID5707,12,1,1,1,169.7458356,-1,50,65400,275.8109111,2.155386726,9000,NG_Tenn Z6,250,20,2.95943,8,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 43 | AID5413,10,1,1,1,256.9899966,-1,50,65400,497.8070176,2.812522441,9891.06,NG_Tenn Z6,250,20,4.11311,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 44 | AID5853,6,1,1,1,528.8241653,-1,47,65400,403.6276299,2.354377622,9000,NG_Dracut,250,20,2.98036,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 45 | AID6696,7,1,1,1,267.3000005,-1,50,65400,366.6272081,2.276858436,7035.88,NG_Dracut,250,20,2.77471,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 46 | AID6349,9,1,1,1,146.1999969,-1,50,65400,378.3996316,2.369421056,7753.2,NG_Algonquin,250,20,3.00754,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 47 | AID6850,4,1,1,1,563.5,-1,20,65400,674.3912282,2.617000635,9917.75,FO6,250,20,8.921,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 48 | AID6856,9,1,1,1,116.3199997,-1,35.5,65400,580.2129112,1.837226141,9709.63,FO6,250,20,8.734,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 49 | AID6849,7,1,1,1,560.149999,-1,25.7,65400,191.7218661,1.622035448,9850.71,FO6,250,20,8.861,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 50 | AID6855,1,1,1,1,454.4000066,-1,16.1,65400,412.0348213,1.989941081,18857.2,NG_Algonquin,250,20,9.194,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 51 | AID6843,2,1,1,1,440.25,-1,22,65400,610.4850102,2.066293197,19606.7,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 52 | AID6858,12,1,1,1,437.0999934,-1,11.4,65400,595.3484253,1.638224538,20300.8,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 53 | AID6859,1,1,1,1,557.5,-1,22.9,65400,578.5308305,2.097536427,19558.7,FO6,250,20,9.536,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 54 | AID6864,9,1,1,1,400.0499878,-1,30.5,65400,580.2129112,1.837226141,18600.6,FO6,250,20,9.068,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 55 | AID6968,2,1,1,1,409.8500061,-1,31,65400,410.3527406,2.082492994,25920.1,FO6,250,20,12.637,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 56 | AID6973,2,1,1,1,163,-1,30.5,65400,415.4000534,2.11257986,22482.8,FO6,250,20,10.961,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 57 | AID6975,3,1,1,1,170,-1,25.6,65400,492.7607755,2.296527323,23376.3,FO6,250,20,11.397,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 58 | AID6976,3,1,1,1,118.2399979,-1,14.4,65400,492.7607755,2.296527323,23823,FO6,250,20,11.615,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 59 | AID6964,2,1,1,1,0,-1,37.8,65400,410.3527406,2.082492994,25285.1,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 60 | GNRC-RI-62-2028-Gas CC-1,12,1,1,1,0,-1,20,65400,328.8558773,3.515944818,9000,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 61 | SVU000114,2,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 62 | SVU000119,3,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 63 | SVU000124,4,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Iroquois Z2,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 64 | SVU000284,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 65 | SVU000289,9,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 66 | SVU000294,1,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 67 | SVU000299,8,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 68 | SVU000304,10,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 69 | SVU000339,5,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 70 | SVU000344,7,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 71 | SVU000354,6,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 72 | SVU000484,11,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 73 | SVU000754,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 74 | SVU000864,13,1,1,1,26,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Vermont,1
 75 | AID6862,9,1,1,1,239.9499969,-1,36.2,65400,805.5721084,2.418009739,14303,FO6,250,20,12.873,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 76 | AID6965,2,1,1,1,19,-1,41.4,65400,410.3527406,2.082492994,23959.6,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 77 | AID6846,11,1,1,1,400.2000122,-1,20,65400,581.8949919,1.920527146,11000,FO6,250,20,9.9,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 78 | AID6893,11,1,1,1,2.264166703,-1,15,65400,558.3501449,3.122588481,19911.3,NG_Dracut,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 79 | AID3907,2,1,1,1,603.0640295,-1,30,65400,275.8109111,0.642102988,18530,NG_Algonquin,250,0,7.7826,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 80 | AID6994,7,1,1,1,52.00416597,-1,9.9,65400,191.7218661,1.622035448,9955.93,FO6,250,20,8.483,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 81 | AID6851,7,1,1,1,26.5,-1,19.2,65400,191.7218661,1.622035448,11374,FO6,250,20,10.237,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 82 | AID18397,8,1,1,1,65,-1,50,65400,322.9006049,3.460417953,9945.18,NG_Tenn Z6,250,20,4.17698,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 83 | AID3135,9,1,1,1,48.43000031,-1,50,65400,351.4906233,2.460816605,8715,NG_Algonquin,250,20,3.4833,6,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 84 | AID2535,6,1,1,1,12.60000038,-1,50,65400,193.4039468,3.581889662,11081,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 85 | AID6847,1,1,1,1,6.5,-1,20,65400,726.5282349,1.807139275,15820,FO6,250,20,14.238,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 86 | AID2621,11,1,1,1,74,-1,20,65400,474.2621707,2.249095003,14569,NG_Tenn Z6,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 87 | AID18756,8,1,1,1,38.96552511,-1,50,65400,322.9006049,3.460417953,7810.375,NG_Tenn Z6,250,20,3.28036,9,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 88 | AID3641,1,1,1,1,47.65999985,-1,50,65400,348.1286033,2.843765671,12657.16783,NG_Tenn Z6,250,20,5.31601,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 89 | AID2537,6,1,1,1,0,-1,50,65400,193.4039468,3.581889662,11231,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 90 | AID2777,2,1,1,1,0.870000005,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 91 | AID2769,2,1,1,1,1.409999967,-1,20,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 92 | AID2770,2,1,1,1,3.100000004,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 93 | AID6852,12,1,1,1,5.279584531,-1,20,65400,423.8083154,2.097536427,14569,FO6,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 94 | AID2773,2,1,1,1,2.519187245,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 95 | AID3522,1,1,1,1,1.289999962,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 96 | AID6867,12,1,1,1,1.289999962,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 97 | AID6868,12,1,1,1,12.09999998,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 98 | AID6969,5,1,1,1,2.519187245,-1,20,65400,395.2161557,2.051260471,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 99 | AID3523,1,1,1,1,3,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
100 | AID3033,1,1,1,1,12.09999998,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
101 | AID3249,5,1,1,1,55.20000076,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
102 | AID2782,2,1,1,1,8.220890411,-1,50,65400,334.6740991,2.338177825,7471.67,NG_Algonquin,250,20,3.1381,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
103 | AID2329,2,1,1,1,24.40999985,-1,50,65400,193.4039468,3.581889662,10913,NG_Algonquin,250,0,3.182,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
104 | AID6970,5,1,1,1,37.18000031,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
105 | AID6971,5,1,1,1,52.22999954,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
106 | AID2687,5,1,1,1,5.397408253,-1,5,65400,617.2122623,1.438077279,9482,NG_Dracut,250,0,8.534,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
107 | AID100037,2,1,1,1,0.100000001,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
108 | AID2683,1,1,1,1,9.300000191,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
109 | AID6857,10,1,1,1,81.97000122,-1,20,65400,726.5282349,1.790950185,16126,FO6,250,20,14.513,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
110 | AID2768,2,1,1,1,36.3,-1,48.8,65400,474.2621707,2.249095003,12076,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
111 | AID104996,2,1,1,1,9.300000191,-1,70,65400,0,3.576107845,9598,NG_Algonquin,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
112 | AID6854,10,1,1,1,51.80583382,-1,20,65400,726.5282349,1.790950185,17278,FO6,250,20,15.55,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
113 | AID6848,7,1,1,1,5,-1,19.2,65400,191.7218661,1.622035448,10973,FO6,250,20,9.876,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
114 | AID100126,2,1,1,1,0.159999996,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
115 | AID2685,1,1,1,1,5.699999809,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
116 | AID10,10,1,1,1,4.212434466,-1,20,65400,726.5282349,1.790950185,17234,FO6,250,20,15.511,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
117 | AID5367,2,1,1,1,81.5,-1,5,65400,538.1683887,2.127612587,15000,NG_Algonquin,250,20,13.5,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
118 | AID52,8,1,1,1,61.34691781,-1,50,65400,322.9006049,3.460417953,8757.029032,NG_Tenn Z6,250,20,3.67795,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
119 | AID6770,2,1,1,1,65.72000122,-1,30,65400,413.7179727,2.553368518,9586.15,NG_Algonquin,250,0,4.02618,16,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
120 | AID5319,12,1,1,1,48.40583229,-1,50,65400,334.6740991,2.231738843,8725.99,NG_Tenn Z6,250,20,3.66492,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
121 | AID2536,6,1,1,1,15.22999954,-1,50,65400,193.4039468,3.581889662,11123,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
122 | AID2686,5,1,1,1,87.09999847,-1,5,65400,617.2122623,1.438077279,8926,NG_Dracut,250,0,8.033,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
123 | AID5508,9,1,1,1,12.40990211,-1,50,65400,1051.10985,5.889991328,13283,NG_Algonquin,250,20,5.57886,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
124 | AID104581,1,1,1,1,2.5,-1,70,65400,0,3.581889662,10607,NG_Tenn Z6,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
125 | AID2618,11,1,1,1,0,-1,20,65400,560.0322256,2.767402848,13904.81818,FO6,250,20,12.514,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
126 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | ï»¿Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID107192,9,1,1,1,804,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  3 | AID107200,9,1,1,1,1232,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  4 | AID107201,9,1,1,1,133.3333333,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  5 | AID107205,9,1,1,1,66.66666667,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  6 | AID107206,9,1,1,1,0,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  7 | GNRC-MA-63-2020-Solar Utility-1,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
  8 | GNRC-MA-71-2020-Solar Utility-1,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
  9 | GNRC-MA-72-2020-Solar Utility-1,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 10 | GNRC-CT-61-2020-Solar Utility-1,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 11 | GNRC-CT-67-2020-Solar Utility-1,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 12 | GNRC-CT-68-2020-Solar Utility-1,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 13 | GNRC-NH-74-2020-Solar Utility-1-PTC,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 14 | GNRC-RI-62-2020-Solar Utility-1-PTC,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 15 | GNRC-VT-75-2020-Solar Utility-1-PTC,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 16 | GNRC-MA-73-2020-Solar Utility-1-PTC,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 17 | GNRC-CT-61-2020-Solar Utility-1-PTC,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 18 | GNRC-CT-67-2020-Solar Utility-1-PTC,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 19 | GNRC-CT-68-2020-Solar Utility-1-PTC,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 20 | GNRC-MA-63-2020-Solar Utility-1-PTC,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 21 | GNRC-MA-71-2020-Solar Utility-1-PTC,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 22 | GNRC-MA-72-2020-Solar Utility-1-PTC,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 23 | GNRC-MA-73-2020-Solar Utility-1,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 24 | GNRC-ME-69-2020-Solar Utility-1,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 25 | GNRC-ME-70-2020-Solar Utility-1,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 26 | GNRC-NH-74-2020-Solar Utility-1,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 27 | GNRC-RI-62-2020-Solar Utility-1,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 28 | GNRC-VT-75-2020-Solar Utility-1,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 29 | GNRC-ME-69-2020-Solar Utility-1-PTC,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 30 | GNRC-ME-70-2020-Solar Utility-1-PTC,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 31 | GNRC-CT-61-2020-Wind Offshore-1,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
 32 | GNRC-MA-63-2020-Wind Offshore-1,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
 33 | GNRC-MA-71-2020-Wind Offshore-1,1,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,Boston,1
 34 | GNRC-ME-70-2020-Wind Offshore-1,7,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MaineSouth,1
 35 | GNRC-RI-62-2020-Wind Offshore-1,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
 36 | GNRC-NH-74-2020-Wind Offshore-1,11,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,NewHampshire,1
 37 | GNRC-CT-68-2020-Wind Onshore-1,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 38 | GNRC-MA-73-2020-Wind Onshore-1,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 39 | GNRC-ME-69-2020-Wind Onshore-1,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 40 | GNRC-ME-70-2020-Wind Onshore-1,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 41 | GNRC-NH-74-2020-Wind Onshore-1,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 42 | GNRC-RI-62-2020-Wind Onshore-1,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 43 | GNRC-VT-75-2020-Wind Onshore-1,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 44 | GNRC-CT-68-2020-Wind Onshore-1-PTC,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 45 | GNRC-MA-73-2020-Wind Onshore-1-PTC,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 46 | GNRC-ME-69-2020-Wind Onshore-1-PTC,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 47 | GNRC-ME-70-2020-Wind Onshore-1-PTC,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 48 | GNRC-NH-74-2020-Wind Onshore-1-PTC,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 49 | GNRC-VT-75-2020-Wind Onshore-1-PTC,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 50 | GNRC-RI-62-2020-Wind Onshore-1-PTC,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 51 | SVU000483,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 52 | SVU000353,6,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineCentral,1
 53 | SVU000343,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 54 | SVU000338,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 55 | SVU000303,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 56 | SVU000283,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 57 | SVU000863,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 58 | SVU000753,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 59 | SVU000112,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 60 | SVU000117,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 61 | SVU000122,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 62 | SVU000297,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 63 | SVU000302,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 64 | SVU000337,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 65 | SVU000342,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 66 | SVU000352,6,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineCentral,1
 67 | SVU000482,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 68 | SVU000752,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 69 | SVU000862,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 70 | SVU000282,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 71 | SVU000287,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 72 | SVU000292,1,1,1,1,5,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 73 | AID_DM_1053,9,1,1,1,14,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 74 | AID_DM_1079,10,1,1,1,38.4,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 75 | AID_DM_1122,9,1,1,1,7,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 76 | AID_DM_1144,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 77 | AID_DM_1193,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 78 | AID_DM_1194,13,1,1,1,7,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 79 | AID_DM_1216,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 80 | AID_DM_1285,10,1,1,1,9.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 81 | AID_DM_1288,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
 82 | AID_DM_1312,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 83 | AID_DM_1341,13,1,1,1,12.4,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 84 | AID_DM_1377,12,1,1,1,16.1,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 85 | AID_DM_1393,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
 86 | AID_DM_1412,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 87 | AID_DM_1423,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 88 | AID_DM_1477,12,1,1,1,12.7,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 89 | AID_DM_1500,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 90 | AID_DM_164,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 91 | AID_DM_1709,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 92 | AID_DM_1732,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 93 | AID_DM_1746,12,1,1,1,6,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 94 | AID_DM_1771,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 95 | AID_DM_1789,8,1,1,1,5,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
 96 | AID_DM_1791,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 97 | AID_DM_1798,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 98 | AID_DM_1844,9,1,1,1,5.43,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 99 | AID_DM_191,8,1,1,1,5.49,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
100 | AID_DM_1917,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
101 | AID_DM_1983,2,1,1,1,26.4,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
102 | AID_DM_2050,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
103 | AID_DM_213,13,1,1,1,6.3,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
104 | AID_DM_2137,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
105 | AID_DM_2163,12,1,1,1,5.2,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
106 | AID_DM_2186,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
107 | AID_DM_2199,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
108 | AID_DM_2214,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
109 | AID_DM_2234,10,1,1,1,6.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
110 | AID_DM_2246,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
111 | AID_DM_2287,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
112 | AID_DM_2320,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
113 | AID_DM_2328,2,1,1,1,20,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
114 | AID_DM_2357,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
115 | AID_DM_2406,10,1,1,1,5.62,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
116 | AID_DM_242,8,1,1,1,50,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
117 | AID_DM_2444,7,1,1,1,8.42,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
118 | AID_DM_2460,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
119 | AID_DM_2471,10,1,1,1,7.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
120 | AID_DM_2487,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
121 | AID_DM_2490,10,1,1,1,12.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
122 | AID_DM_2511,10,1,1,1,8,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
123 | AID_DM_2513,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
124 | AID_DM_2514,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
125 | AID_DM_2586,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
126 | AID_DM_2591,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
127 | AID_DM_2665,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
128 | AID_DM_2726,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
129 | AID_DM_2728,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
130 | AID_DM_2756,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
131 | AID_DM_278,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
132 | AID_DM_28,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
133 | AID_DM_2820,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
134 | AID_DM_2910,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
135 | AID_DM_2950,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
136 | AID_DM_2959,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
137 | AID_DM_3064,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
138 | AID_DM_3102,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
139 | AID_DM_3176,2,1,1,1,0,-1,0,97200,0,0,0,0,0,0,ConnCentral,1
140 | AID_DM_3187,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
141 | AID_DM_3230,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
142 | AID_DM_3244,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
143 | AID_DM_339,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
144 | AID_DM_3406,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
145 | AID_DM_3500,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
146 | AID_DM_3512,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
147 | AID_DM_3673,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
148 | AID_DM_3732,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
149 | AID_DM_3759,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
150 | AID_DM_3806,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
151 | AID_DM_383,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
152 | AID_DM_3855,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
153 | AID_DM_3884,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
154 | AID_DM_3913,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
155 | AID_DM_3914,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
156 | AID_DM_3998,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
157 | AID_DM_4,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
158 | AID_DM_4003,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
159 | AID_DM_4051,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
160 | AID_DM_4058,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
161 | AID_DM_4065,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
162 | AID_DM_4097,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
163 | AID_DM_461,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
164 | AID_DM_50,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
165 | AID_DM_507,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
166 | AID_DM_552,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
167 | AID_DM_608,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
168 | AID_DM_653,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
169 | AID_DM_654,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
170 | AID_DM_667,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
171 | AID_DM_668,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
172 | AID_DM_669,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
173 | AID_DM_712,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
174 | AID_DM_72,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
175 | AID_DM_75,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
176 | AID_DM_775,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
177 | AID_DM_925,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
178 | AID_DM_935,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
179 | AID_DM_958,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
180 | AID_DM_963,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
181 | AID_DM_999,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
182 | AID101718,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
183 | AID104236,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
184 | AID104294,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
185 | AID104841,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
186 | AID104857,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
187 | AID106047,9,1,1,1,0,-1,0,97200,1765.510186,0,0,0,0,0,MassSE,1
188 | AID106710,7,1,1,1,0,-1,0,97200,1151.494991,0,0,0,0,0,MaineSouth,1
189 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p2/system/Network.csv:
--------------------------------------------------------------------------------
 1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC
 2 | Boston,z1,1,1,8,2629,Boston_to_MassCentral,35,0.0094,2629,12060,0.95,0,0,7000,0.062
 3 | ConnCentral,z2,2,1,9,997,Boston_to_MassSE,40,0.001536098,997,12060,0.95,0,0,5000,0.062
 4 | ConnNorwalk,z3,3,1,11,816,Boston_to_NewHampshire,50,0.013636364,816,12060,0.95,0,0,7000,0.062
 5 | ConnSW,z4,4,1,12,1953,Boston_to_RhodeIsland,50,0.018213737,1953,12060,0.95,0,0,5000,0.062
 6 | MaineBHE,z5,5,2,4,3650,ConnCentral_to_ConnSW,25,0.005,3650,12060,0.95,0,0,7000,0.062
 7 | MaineCentral,z6,6,2,10,1400,ConnCentral_to_MassWest,60,0.01,1400,12060,0.95,0,0,5000,0.062
 8 | MaineSouth,z7,7,2,12,393,ConnCentral_to_RhodeIsland,55,0.02,393,12060,0.95,0,0,7000,0.062
 9 | MassCentral,z8,8,3,4,1537,ConnNorwalk_to_ConnSW,15,0.005,1537,12060,0.95,0,0,5000,0.062
10 | MassSE,z9,9,4,2,1100,ConnSW_to_ConnCentral,25,0.005,1100,12060,0.95,0,0,7000,0.062
11 | MassWest,z10,10,4,3,1650,ConnSW_to_ConnNorwalk,15,0.005,1650,12060,0.95,0,0,5000,0.062
12 | NewHampshire,z11,11,5,6,1975,MaineBHE_to_MaineCentral,80,0.01,1975,12060,0.95,0,0,7000,0.062
13 | RhodeIsland,z12,12,6,5,1975,MaineCentral_to_MaineBHE,80,0.01,1975,12060,0.95,0,0,5000,0.062
14 | Vermont,z13,13,6,7,1925,MaineCentral_to_MaineSouth,70,0.01,1925,12060,0.95,0,0,7000,0.062
15 | ,,14,7,6,1925,MaineSouth_to_MaineCentral,70,0.01,1925,12060,0.95,0,0,5000,0.062
16 | ,,15,7,11,1900,MaineSouth_to_NewHampshire,75,0.03008658,1900,12060,0.95,0,0,7000,0.062
17 | ,,16,8,1,2859,MassCentral_to_Boston,35,0.0094,2859,12060,0.95,0,0,5000,0.062
18 | ,,17,8,10,1286,MassCentral_to_MassWest,50,0.01,1286,12060,0.95,0,0,7000,0.062
19 | ,,18,8,11,900,MassCentral_to_NewHampshire,45,0.0058102,900,12060,0.95,0,0,5000,0.062
20 | ,,19,8,12,1893,MassCentral_to_RhodeIsland,40,0.0272,1893,12060,0.95,0,0,7000,0.062
21 | ,,20,9,1,997,MassSE_to_Boston,40,0.001536098,997,12060,0.95,0,0,5000,0.062
22 | ,,21,9,12,9999,MassSE_to_RhodeIsland,30,0.016703297,9999,12060,0.95,0,0,7000,0.062
23 | ,,22,10,2,1400,MassWest_to_ConnCentral,60,0.01,1400,12060,0.95,0,0,5000,0.062
24 | ,,23,10,8,1407,MassWest_to_MassCentral,50,0.01,1407,12060,0.95,0,0,7000,0.062
25 | ,,24,10,13,900,MassWest_to_Vermont,40,0.027620841,900,12060,0.95,0,0,5000,0.062
26 | ,,25,11,1,1391,NewHampshire_to_Boston,50,0.013636364,1391,12060,0.95,0,0,7000,0.062
27 | ,,26,11,7,650,NewHampshire_to_MaineSouth,75,0.03008658,650,12060,0.95,0,0,5000,0.062
28 | ,,27,11,8,467,NewHampshire_to_MassCentral,45,0.0058102,467,12060,0.95,0,0,7000,0.062
29 | ,,28,11,13,800,NewHampshire_to_Vermont,60,0.033270559,800,12060,0.95,0,0,5000,0.062
30 | ,,29,12,1,453,RhodeIsland_to_Boston,50,0.018213737,453,12060,0.95,0,0,7000,0.062
31 | ,,30,12,2,664,RhodeIsland_to_ConnCentral,55,0.02,664,12060,0.95,0,0,5000,0.062
32 | ,,31,12,8,750,RhodeIsland_to_MassCentral,40,0.0272,750,12060,0.95,0,0,7000,0.062
33 | ,,32,12,9,9999,RhodeIsland_to_MassSE,30,0.016703297,9999,12060,0.95,0,0,5000,0.062
34 | ,,33,13,10,467,Vermont_to_MassWest,40,0.027620841,467,12060,0.95,0,0,7000,0.062
35 | ,,34,13,11,400,Vermont_to_NewHampshire,60,0.033270559,400,12060,0.95,0,0,5000,0.062
36 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
  1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
  2 | SVU000111,0.05,20,20,0,0,0
  3 | SVU000116,0.05,20,20,0,0,0
  4 | SVU000121,0.05,20,20,0,0,0
  5 | SVU000281,0.05,20,20,0,0,0
  6 | SVU000286,0.05,20,20,0,0,0
  7 | SVU000291,0.05,20,20,0,0,0
  8 | SVU000751,0.05,20,20,0,0,0
  9 | SVU000861,0.05,20,20,0,0,0
 10 | SVU000296,0.05,20,20,0,0,0
 11 | SVU000301,0.05,20,20,0,0,0
 12 | SVU000336,0.05,20,20,0,0,0
 13 | SVU000341,0.05,20,20,0,0,0
 14 | SVU000351,0.05,20,20,0,0,0
 15 | SVU000481,0.05,20,20,0,0,0
 16 | GNRC-CT-61-2020-Battery Storage-1,0.05,20,20,0,0,0
 17 | GNRC-CT-67-2020-Battery Storage-1,0.05,20,20,0,0,0
 18 | GNRC-CT-68-2020-Battery Storage-1,0.05,20,20,0,0,0
 19 | GNRC-MA-63-2020-Battery Storage-1,0.05,20,20,0,0,0
 20 | GNRC-MA-71-2020-Battery Storage-1,0.05,20,20,0,0,0
 21 | GNRC-MA-72-2020-Battery Storage-1,0.05,20,20,0,0,0
 22 | GNRC-MA-73-2020-Battery Storage-1,0.05,20,20,0,0,0
 23 | GNRC-ME-70-2020-Battery Storage-1,0.05,20,20,0,0,0
 24 | GNRC-NH-74-2020-Battery Storage-1,0.05,20,20,0,0,0
 25 | GNRC-RI-62-2020-Battery Storage-1,0.05,20,20,0,0,0
 26 | GNRC-VT-75-2020-Battery Storage-1,0.05,20,20,0,0,0
 27 | AID_DM_4153,0.05,20,20,0,0,0
 28 | AID_DM_4224,0.05,20,20,0,0,0
 29 | AID_DM_4281,0.05,20,20,0,0,0
 30 | AID_DM_4295,0.05,20,20,0,0,0
 31 | AID_DM_4355,0.05,20,20,0,0,0
 32 | AID_DM_4358,0.05,20,20,0,0,0
 33 | AID_DM_4548,0.05,20,20,0,0,0
 34 | AID_DM_4383,0.05,20,20,0,0,0
 35 | AID_DM_4473,0.05,20,20,0,0,0
 36 | AID_DM_4518,0.05,20,20,0,0,0
 37 | AID_DM_4521,0.05,20,20,0,0,0
 38 | AID_DM_4530,0.05,20,20,0,0,0
 39 | AID_DM_4532,0.05,20,20,0,0,0
 40 | AID101237,0.05,20,20,0,0,0
 41 | AID101231,0.05,20,20,0,0,0
 42 | AID12448,0.05,20,20,0,0,0
 43 | AID15604,0.05,20,20,0,0,0
 44 | AID15844,0.05,20,20,0,0,0
 45 | AID2306,0.05,20,20,0,0,0
 46 | AID2307,0.05,20,20,0,0,0
 47 | AID2308,0.05,20,20,0,0,0
 48 | AID2305,0.05,20,20,0,0,0
 49 | AID18,0.05,20,20,0,0,0
 50 | AID2207,0.05,20,20,0,0,0
 51 | AID2498,0.05,20,20,0,0,0
 52 | AID2428,0.05,20,20,0,0,0
 53 | AID2626,0.05,20,20,0,0,0
 54 | AID2654,0.05,20,20,0,0,0
 55 | AID2507,0.05,20,20,0,0,0
 56 | AID3190,0.05,20,20,0,0,0
 57 | AID3486,0.05,20,20,0,0,0
 58 | AID2879,0.05,20,20,0,0,0
 59 | AID4276,0.05,20,20,0,0,0
 60 | AID4436,0.05,20,20,0,0,0
 61 | AID4437,0.05,20,20,0,0,0
 62 | AID4438,0.05,20,20,0,0,0
 63 | AID4724,0.05,20,20,0,0,0
 64 | AID4725,0.05,20,20,0,0,0
 65 | AID4726,0.05,20,20,0,0,0
 66 | AID4714,0.05,20,20,0,0,0
 67 | AID4774,0.05,20,20,0,0,0
 68 | AID4855,0.05,20,20,0,0,0
 69 | AID4857,0.05,20,20,0,0,0
 70 | AID4858,0.05,20,20,0,0,0
 71 | AID4875,0.05,20,20,0,0,0
 72 | AID102657,0.05,20,20,0,0,0
 73 | AID103304,0.05,20,20,0,0,0
 74 | AID4988,0.05,20,20,0,0,0
 75 | AID4989,0.05,20,20,0,0,0
 76 | AID5042,0.05,20,20,0,0,0
 77 | AID5062,0.05,20,20,0,0,0
 78 | AID5193,0.05,20,20,0,0,0
 79 | AID5194,0.05,20,20,0,0,0
 80 | AID5707,0.05,20,20,0,0,0
 81 | AID5413,0.05,20,20,0,0,0
 82 | AID5853,0.05,20,20,0,0,0
 83 | AID6696,0.05,20,20,0,0,0
 84 | AID6349,0.05,20,20,0,0,0
 85 | AID6850,0.05,20,20,0,0,0
 86 | AID6856,0.05,20,20,0,0,0
 87 | AID6849,0.05,20,20,0,0,0
 88 | AID6855,0.05,20,20,0,0,0
 89 | AID6843,0.05,20,20,0,0,0
 90 | AID6858,0.05,20,20,0,0,0
 91 | AID6859,0.05,20,20,0,0,0
 92 | AID6864,0.05,20,20,0,0,0
 93 | AID6968,0.05,20,20,0,0,0
 94 | AID6973,0.05,20,20,0,0,0
 95 | AID6975,0.05,20,20,0,0,0
 96 | AID6976,0.05,20,20,0,0,0
 97 | AID6964,0.05,20,20,0,0,0
 98 | GNRC-RI-62-2028-Gas CC-1,0.05,20,20,0,0,0
 99 | SVU000114,0.05,20,20,0,0,0
100 | SVU000119,0.05,20,20,0,0,0
101 | SVU000124,0.05,20,20,0,0,0
102 | SVU000284,0.05,20,20,0,0,0
103 | SVU000289,0.05,20,20,0,0,0
104 | SVU000294,0.05,20,20,0,0,0
105 | SVU000299,0.05,20,20,0,0,0
106 | SVU000304,0.05,20,20,0,0,0
107 | SVU000339,0.05,20,20,0,0,0
108 | SVU000344,0.05,20,20,0,0,0
109 | SVU000354,0.05,20,20,0,0,0
110 | SVU000484,0.05,20,20,0,0,0
111 | SVU000754,0.05,20,20,0,0,0
112 | SVU000864,0.05,20,20,0,0,0
113 | AID6862,0.05,20,20,0,0,0
114 | AID6965,0.05,20,20,0,0,0
115 | AID6846,0.05,20,20,0,0,0
116 | AID6893,0.05,20,20,0,0,0
117 | AID3907,0.05,20,20,0,0,0
118 | AID6994,0.05,20,20,0,0,0
119 | AID6851,0.05,20,20,0,0,0
120 | AID18397,0.05,20,20,0,0,0
121 | AID3135,0.05,20,20,0,0,0
122 | AID2535,0.05,20,20,0,0,0
123 | AID6847,0.05,20,20,0,0,0
124 | AID2621,0.05,20,20,0,0,0
125 | AID18756,0.05,20,20,0,0,0
126 | AID3641,0.05,20,20,0,0,0
127 | AID2537,0.05,20,20,0,0,0
128 | AID2777,0.05,20,20,0,0,0
129 | AID2769,0.05,20,20,0,0,0
130 | AID2770,0.05,20,20,0,0,0
131 | AID6852,0.05,20,20,0,0,0
132 | AID2773,0.05,20,20,0,0,0
133 | AID3522,0.05,20,20,0,0,0
134 | AID6867,0.05,20,20,0,0,0
135 | AID6868,0.05,20,20,0,0,0
136 | AID6969,0.05,20,20,0,0,0
137 | AID3523,0.05,20,20,0,0,0
138 | AID3033,0.05,20,20,0,0,0
139 | AID3249,0.05,20,20,0,0,0
140 | AID2782,0.05,20,20,0,0,0
141 | AID2329,0.05,20,20,0,0,0
142 | AID6970,0.05,20,20,0,0,0
143 | AID6971,0.05,20,20,0,0,0
144 | AID2687,0.05,20,20,0,0,0
145 | AID100037,0.05,20,20,0,0,0
146 | AID2683,0.05,20,20,0,0,0
147 | AID6857,0.05,20,20,0,0,0
148 | AID2768,0.05,20,20,0,0,0
149 | AID104996,0.05,20,20,0,0,0
150 | AID6854,0.05,20,20,0,0,0
151 | AID6848,0.05,20,20,0,0,0
152 | AID100126,0.05,20,20,0,0,0
153 | AID2685,0.05,20,20,0,0,0
154 | AID10,0.05,20,20,0,0,0
155 | AID5367,0.05,20,20,0,0,0
156 | AID52,0.05,20,20,0,0,0
157 | AID6770,0.05,20,20,0,0,0
158 | AID5319,0.05,20,20,0,0,0
159 | AID2536,0.05,20,20,0,0,0
160 | AID2686,0.05,20,20,0,0,0
161 | AID5508,0.05,20,20,0,0,0
162 | AID104581,0.05,20,20,0,0,0
163 | AID2618,0.05,20,20,0,0,0
164 | GNRC-CT-68-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
165 | GNRC-MA-63-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
166 | GNRC-MA-71-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
167 | GNRC-MA-72-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
168 | GNRC-ME-69-2020-Solar Utility-1,0.05,20,20,0,0,0
169 | GNRC-ME-70-2020-Solar Utility-1,0.05,20,20,0,0,0
170 | GNRC-NH-74-2020-Solar Utility-1,0.05,20,20,0,0,0
171 | GNRC-RI-62-2020-Solar Utility-1,0.05,20,20,0,0,0
172 | GNRC-VT-75-2020-Solar Utility-1,0.05,20,20,0,0,0
173 | GNRC-CT-61-2020-Solar Utility-1,0.05,20,20,0,0,0
174 | GNRC-CT-67-2020-Solar Utility-1,0.05,20,20,0,0,0
175 | GNRC-MA-73-2020-Solar Utility-1,0.05,20,20,0,0,0
176 | GNRC-VT-75-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
177 | GNRC-CT-68-2020-Solar Utility-1,0.05,20,20,0,0,0
178 | GNRC-MA-63-2020-Solar Utility-1,0.05,20,20,0,0,0
179 | GNRC-MA-71-2020-Solar Utility-1,0.05,20,20,0,0,0
180 | GNRC-MA-72-2020-Solar Utility-1,0.05,20,20,0,0,0
181 | GNRC-NH-74-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
182 | GNRC-RI-62-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
183 | GNRC-CT-67-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
184 | GNRC-CT-61-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
185 | GNRC-MA-73-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
186 | GNRC-ME-70-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
187 | GNRC-ME-69-2020-Solar Utility-1-PTC,0.05,20,20,0,0,0
188 | SVU000352,0.05,20,20,0,0,0
189 | SVU000282,0.05,20,20,0,0,0
190 | SVU000287,0.05,20,20,0,0,0
191 | SVU000122,0.05,20,20,0,0,0
192 | SVU000117,0.05,20,20,0,0,0
193 | SVU000112,0.05,20,20,0,0,0
194 | SVU000292,0.05,20,20,0,0,0
195 | SVU000297,0.05,20,20,0,0,0
196 | SVU000302,0.05,20,20,0,0,0
197 | SVU000337,0.05,20,20,0,0,0
198 | SVU000342,0.05,20,20,0,0,0
199 | SVU000482,0.05,20,20,0,0,0
200 | AID_DM_1144,0.05,20,20,0,0,0
201 | AID_DM_1122,0.05,20,20,0,0,0
202 | AID_DM_1053,0.05,20,20,0,0,0
203 | AID_DM_1193,0.05,20,20,0,0,0
204 | AID_DM_1194,0.05,20,20,0,0,0
205 | AID_DM_1216,0.05,20,20,0,0,0
206 | AID_DM_1079,0.05,20,20,0,0,0
207 | AID_DM_1285,0.05,20,20,0,0,0
208 | AID_DM_1288,0.05,20,20,0,0,0
209 | AID_DM_1377,0.05,20,20,0,0,0
210 | AID_DM_1341,0.05,20,20,0,0,0
211 | AID_DM_1312,0.05,20,20,0,0,0
212 | AID_DM_1412,0.05,20,20,0,0,0
213 | AID_DM_1393,0.05,20,20,0,0,0
214 | AID_DM_1423,0.05,20,20,0,0,0
215 | AID_DM_1477,0.05,20,20,0,0,0
216 | AID_DM_1500,0.05,20,20,0,0,0
217 | AID_DM_1746,0.05,20,20,0,0,0
218 | AID_DM_1771,0.05,20,20,0,0,0
219 | AID_DM_1709,0.05,20,20,0,0,0
220 | AID_DM_1732,0.05,20,20,0,0,0
221 | AID_DM_1789,0.05,20,20,0,0,0
222 | AID_DM_1791,0.05,20,20,0,0,0
223 | AID_DM_1798,0.05,20,20,0,0,0
224 | AID_DM_1844,0.05,20,20,0,0,0
225 | AID_DM_164,0.05,20,20,0,0,0
226 | AID_DM_1917,0.05,20,20,0,0,0
227 | AID_DM_1983,0.05,20,20,0,0,0
228 | AID_DM_191,0.05,20,20,0,0,0
229 | AID_DM_2050,0.05,20,20,0,0,0
230 | AID_DM_213,0.05,20,20,0,0,0
231 | AID_DM_2137,0.05,20,20,0,0,0
232 | AID_DM_2186,0.05,20,20,0,0,0
233 | AID_DM_2163,0.05,20,20,0,0,0
234 | AID_DM_2199,0.05,20,20,0,0,0
235 | AID_DM_2246,0.05,20,20,0,0,0
236 | AID_DM_2234,0.05,20,20,0,0,0
237 | AID_DM_2214,0.05,20,20,0,0,0
238 | AID_DM_2320,0.05,20,20,0,0,0
239 | AID_DM_2287,0.05,20,20,0,0,0
240 | AID_DM_2357,0.05,20,20,0,0,0
241 | AID_DM_242,0.05,20,20,0,0,0
242 | AID_DM_2444,0.05,20,20,0,0,0
243 | AID_DM_2328,0.05,20,20,0,0,0
244 | AID_DM_2406,0.05,20,20,0,0,0
245 | AID_DM_2460,0.05,20,20,0,0,0
246 | AID_DM_2471,0.05,20,20,0,0,0
247 | AID_DM_2487,0.05,20,20,0,0,0
248 | AID_DM_2490,0.05,20,20,0,0,0
249 | AID_DM_278,0.05,20,20,0,0,0
250 | AID_DM_28,0.05,20,20,0,0,0
251 | AID_DM_339,0.05,20,20,0,0,0
252 | AID_DM_383,0.05,20,20,0,0,0
253 | AID_DM_4,0.05,20,20,0,0,0
254 | AID_DM_461,0.05,20,20,0,0,0
255 | AID_DM_507,0.05,20,20,0,0,0
256 | AID_DM_608,0.05,20,20,0,0,0
257 | AID_DM_50,0.05,20,20,0,0,0
258 | AID_DM_552,0.05,20,20,0,0,0
259 | AID_DM_653,0.05,20,20,0,0,0
260 | AID_DM_654,0.05,20,20,0,0,0
261 | AID_DM_669,0.05,20,20,0,0,0
262 | AID_DM_667,0.05,20,20,0,0,0
263 | AID_DM_668,0.05,20,20,0,0,0
264 | AID_DM_72,0.05,20,20,0,0,0
265 | AID_DM_775,0.05,20,20,0,0,0
266 | AID_DM_925,0.05,20,20,0,0,0
267 | AID_DM_712,0.05,20,20,0,0,0
268 | AID_DM_75,0.05,20,20,0,0,0
269 | AID_DM_935,0.05,20,20,0,0,0
270 | AID_DM_958,0.05,20,20,0,0,0
271 | AID_DM_963,0.05,20,20,0,0,0
272 | AID_DM_999,0.05,20,20,0,0,0
273 | SVU000862,0.05,20,20,0,0,0
274 | SVU000752,0.05,20,20,0,0,0
275 | AID107200,0.05,20,20,0,0,0
276 | AID107192,0.05,20,20,0,0,0
277 | AID107201,0.05,20,20,0,0,0
278 | AID107206,0.05,20,20,0,0,0
279 | AID107205,0.05,20,20,0,0,0
280 | GNRC-CT-61-2020-Wind Offshore-1,0.05,20,20,0,0,0
281 | GNRC-MA-63-2020-Wind Offshore-1,0.05,20,20,0,0,0
282 | GNRC-MA-71-2020-Wind Offshore-1,0.05,20,20,0,0,0
283 | GNRC-ME-70-2020-Wind Offshore-1,0.05,20,20,0,0,0
284 | GNRC-NH-74-2020-Wind Offshore-1,0.05,20,20,0,0,0
285 | GNRC-RI-62-2020-Wind Offshore-1,0.05,20,20,0,0,0
286 | GNRC-CT-68-2020-Wind Onshore-1,0.05,20,20,0,0,0
287 | GNRC-MA-73-2020-Wind Onshore-1,0.05,20,20,0,0,0
288 | GNRC-ME-69-2020-Wind Onshore-1,0.05,20,20,0,0,0
289 | GNRC-ME-70-2020-Wind Onshore-1,0.05,20,20,0,0,0
290 | GNRC-NH-74-2020-Wind Onshore-1,0.05,20,20,0,0,0
291 | GNRC-NH-74-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
292 | GNRC-RI-62-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
293 | GNRC-VT-75-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
294 | GNRC-RI-62-2020-Wind Onshore-1,0.05,20,20,0,0,0
295 | GNRC-VT-75-2020-Wind Onshore-1,0.05,20,20,0,0,0
296 | GNRC-CT-68-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
297 | GNRC-MA-73-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
298 | GNRC-ME-69-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
299 | GNRC-ME-70-2020-Wind Onshore-1-PTC,0.05,20,20,0,0,0
300 | SVU000753,0.05,20,20,0,0,0
301 | SVU000863,0.05,20,20,0,0,0
302 | SVU000483,0.05,20,20,0,0,0
303 | SVU000353,0.05,20,20,0,0,0
304 | SVU000343,0.05,20,20,0,0,0
305 | SVU000338,0.05,20,20,0,0,0
306 | SVU000303,0.05,20,20,0,0,0
307 | SVU000283,0.05,20,20,0,0,0
308 | AID104841,0.05,20,20,0,0,0
309 | AID106047,0.05,20,20,0,0,0
310 | AID_DM_2511,0.05,20,20,0,0,0
311 | AID_DM_2513,0.05,20,20,0,0,0
312 | AID_DM_2514,0.05,20,20,0,0,0
313 | AID_DM_2586,0.05,20,20,0,0,0
314 | AID_DM_2728,0.05,20,20,0,0,0
315 | AID_DM_2591,0.05,20,20,0,0,0
316 | AID_DM_2665,0.05,20,20,0,0,0
317 | AID_DM_2726,0.05,20,20,0,0,0
318 | AID_DM_2756,0.05,20,20,0,0,0
319 | AID_DM_2910,0.05,20,20,0,0,0
320 | AID_DM_2950,0.05,20,20,0,0,0
321 | AID_DM_2959,0.05,20,20,0,0,0
322 | AID_DM_2820,0.05,20,20,0,0,0
323 | AID_DM_3064,0.05,20,20,0,0,0
324 | AID_DM_3102,0.05,20,20,0,0,0
325 | AID_DM_3187,0.05,20,20,0,0,0
326 | AID_DM_3230,0.05,20,20,0,0,0
327 | AID_DM_3244,0.05,20,20,0,0,0
328 | AID_DM_3176,0.05,20,20,0,0,0
329 | AID_DM_3406,0.05,20,20,0,0,0
330 | AID_DM_3500,0.05,20,20,0,0,0
331 | AID_DM_3512,0.05,20,20,0,0,0
332 | AID_DM_3673,0.05,20,20,0,0,0
333 | AID_DM_3759,0.05,20,20,0,0,0
334 | AID_DM_3732,0.05,20,20,0,0,0
335 | AID_DM_3806,0.05,20,20,0,0,0
336 | AID_DM_3884,0.05,20,20,0,0,0
337 | AID_DM_3855,0.05,20,20,0,0,0
338 | AID_DM_3913,0.05,20,20,0,0,0
339 | AID_DM_3914,0.05,20,20,0,0,0
340 | AID_DM_4003,0.05,20,20,0,0,0
341 | AID_DM_3998,0.05,20,20,0,0,0
342 | AID_DM_4051,0.05,20,20,0,0,0
343 | AID_DM_4065,0.05,20,20,0,0,0
344 | AID_DM_4058,0.05,20,20,0,0,0
345 | AID_DM_4097,0.05,20,20,0,0,0
346 | AID104236,0.05,20,20,0,0,0
347 | AID104294,0.05,20,20,0,0,0
348 | AID101718,0.05,20,20,0,0,0
349 | AID104857,0.05,20,20,0,0,0
350 | AID106710,0.05,20,20,0,0,0
351 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
 1 | ï»¿Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
 2 | SVU000296,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
 3 | SVU000301,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
 4 | SVU000336,5,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineBHE,0
 5 | SVU000341,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
 6 | SVU000351,6,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineCentral,0
 7 | SVU000481,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
 8 | SVU000286,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
 9 | SVU000281,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
10 | SVU000751,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
11 | SVU000861,13,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
12 | SVU000121,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
13 | SVU000116,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
14 | SVU000111,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
15 | SVU000291,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
16 | GNRC-CT-61-2020-Battery Storage-1,2,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnCentral,0
17 | GNRC-CT-67-2020-Battery Storage-1,3,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnNorwalk,0
18 | GNRC-CT-68-2020-Battery Storage-1,4,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,ConnSW,0
19 | GNRC-MA-63-2020-Battery Storage-1,9,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
20 | GNRC-MA-71-2020-Battery Storage-1,1,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
21 | GNRC-MA-72-2020-Battery Storage-1,8,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
22 | GNRC-MA-73-2020-Battery Storage-1,10,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MassWest,0
23 | GNRC-ME-70-2020-Battery Storage-1,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
24 | GNRC-NH-74-2020-Battery Storage-1,11,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,NewHampshire,0
25 | GNRC-RI-62-2020-Battery Storage-1,12,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
26 | GNRC-VT-75-2020-Battery Storage-1,13,1,1,1,0,24.9,-1,-1,0,0,19584,22494,0,0,4.579178283,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
27 | AID_DM_4153,9,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
28 | AID_DM_4224,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
29 | AID_DM_4358,13,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
30 | AID_DM_4355,1,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.6,0,0,0.92,0.92,1,10,0,0,0,0,Boston,0
31 | AID_DM_4281,8,1,1,1,0,16.2,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
32 | AID_DM_4295,7,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
33 | AID_DM_4530,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
34 | AID_DM_4383,13,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,4.8,0,0,0.92,0.92,1,10,0,0,0,0,Vermont,0
35 | AID_DM_4521,12,1,1,1,0,6,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,RhodeIsland,0
36 | AID_DM_4532,9,1,1,1,0,16.7,-1,-1,0,0,19584,22494,0,0,4.64,0,0,0.92,0.92,1,10,0,0,0,0,MassSE,0
37 | AID_DM_4548,7,1,1,1,0,5,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
38 | AID_DM_4518,8,1,1,1,0,10,-1,-1,0,0,19584,22494,0,0,0,0,0,0.92,0.92,1,10,0,0,0,0,MassCentral,0
39 | AID_DM_4473,7,1,1,1,0,0,-1,-1,0,0,19584,22494,0,0,4.664,0,0,0.92,0.92,1,10,0,0,0,0,MaineSouth,0
40 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID101237,1,1,1,1,347.5,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  3 | AID101231,1,1,1,1,108,-1,50,65400,328.6524429,3.455781792,7177.03,NG_Algonquin,250,20,1.415,13,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
  4 | AID12448,4,1,1,1,335.5500005,-1,20,65400,504.533199,3.460417953,9820.69,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
  5 | AID15604,10,1,1,1,622.5,-1,50,65400,644.1212706,3.460417953,8712.45,NG_Tenn Z6,250,20,3.43589,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
  6 | AID15844,2,1,1,1,261.2999942,-1,50,65400,322.9006049,3.460417953,9000,NG_Algonquin,250,20,2.93286,11,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
  7 | AID2306,12,1,1,1,240.9499969,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  8 | AID2307,12,1,1,1,241,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
  9 | AID2308,12,1,1,1,264.2999942,-1,50,65400,275.8109111,2.107943699,8658.45,NG_Tenn Z6,250,20,2.9946,11,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 10 | AID2305,12,1,1,1,108,-1,50,65400,243.8578021,2.04779138,8122.75,NG_Algonquin,250,20,3.12312,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 11 | AID18,4,1,1,1,737.5,-1,20,65400,610.4850102,2.066293197,9846.71,NG_Iroquois Z2,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 12 | AID2207,11,1,1,1,300,-1,50,65400,275.8109111,2.107943699,7780.89,NG_Tenn Z6,250,20,2.91726,17,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 13 | AID2498,12,1,1,1,107.8458341,-1,50,65400,433.8986582,1.392957686,8994.99,NG_Algonquin,250,20,3.5801,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 14 | AID2428,9,1,1,1,487,-1,50,65400,560.0322256,2.767402848,23266.9,NG_Algonquin,250,20,2.814,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 15 | AID2626,4,1,1,1,123.2741642,-1,50,65400,314.4934136,2.170419453,7474.17,NG_Iroquois Z2,250,20,2.92715,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 16 | AID2654,5,1,1,1,237.8000031,-1,50,65400,193.4039468,3.581889662,20312,NG_Dracut,250,0,2.903,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 17 | AID2507,10,1,1,1,169.8000031,-1,50,65400,292.6285059,2.170419453,7998.15,NG_Tenn Z6,250,20,2.97717,11,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 18 | AID3190,9,1,1,1,762.5,-1,50,65400,368.3092888,2.430729738,8379.42,NG_Algonquin,250,20,3.35622,15,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 19 | AID3486,9,1,1,1,100.6499983,-1,50,65400,250.5850542,2.092910973,9000,NG_Algonquin,250,20,2.93605,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 20 | AID2879,10,1,1,1,217.4000003,-1,29.8,65400,474.2621707,2.249095003,21594.9,NG_Tenn Z6,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 21 | AID4276,1,1,1,1,263.5999997,-1,50,65400,289.2664859,2.079023903,9000,NG_Algonquin,250,20,2.81977,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 22 | AID4436,2,1,1,1,268.9999936,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,17,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 23 | AID4437,2,1,1,1,262.3999939,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 24 | AID4438,2,1,1,1,150,-1,50,65400,343.0823612,2.308101666,7808.58,NG_Algonquin,250,20,3.03282,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 25 | AID4724,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 26 | AID4725,12,1,1,1,150,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 27 | AID4726,12,1,1,1,515,-1,50,65400,361.5820367,2.445773172,8420.95,NG_Algonquin,250,20,3.31731,6,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 28 | AID4714,5,1,1,1,255.1200015,-1,50,65400,427.1714061,2.383297418,8089.74,NG_Dracut,250,20,2.99297,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 29 | AID4774,10,1,1,1,158.9000003,-1,50,65400,304.4009294,1.056287789,9210.47,NG_Tenn Z6,250,20,3.6323,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 30 | AID4855,12,1,1,1,267.6999995,-1,50,65400,332.9920184,2.399497215,8669.49,NG_Algonquin,250,20,3.41896,16,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 31 | AID4857,4,1,1,1,270.3500061,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.89212,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 32 | AID4858,4,1,1,1,359.3999939,-1,60,65400,201.8122089,4.527109802,7440.09,NG_Iroquois Z2,250,20,2.96142,18,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 33 | AID4875,10,1,1,1,786,-1,50,65400,343.0823612,2.308101666,7643.5,NG_Tenn Z6,250,20,2.95351,18,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 34 | AID102657,2,1,1,1,450,-1,47.1,65400,328.6524429,3.455781792,9000,NG_Algonquin,250,20,1.412,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 35 | AID103304,4,1,1,1,772.5999756,-1,40,65400,328.6524429,3.455781792,6826.65,NG_Iroquois Z2,250,15,2.814,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 36 | AID4988,1,1,1,1,777.75,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 37 | AID4989,1,1,1,1,352.4499995,-1,50,65400,190.0397854,4.527109802,9000,NG_ISNE_LNG,250,20,3.04319,48,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 38 | AID5042,1,1,1,1,543,-1,20,65400,464.1696865,2.097536427,9742.65,NG_Tenn Z6,250,20,8.763,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 39 | AID5062,11,1,1,1,228.75,-1,50,65400,243.8578021,1.956385123,9000,NG_Dracut,250,20,2.99318,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 40 | AID5193,12,1,1,1,228.75,-1,50,65400,973.7491276,3.732291875,9103.42,NG_Tenn Z6,250,20,3.59008,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 41 | AID5194,12,1,1,1,558,-1,50,65400,1000.657065,3.792454901,9164.6,NG_Tenn Z6,250,20,3.61421,7,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 42 | AID5707,12,1,1,1,169.7458356,-1,50,65400,275.8109111,2.155386726,9000,NG_Tenn Z6,250,20,2.95943,8,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 43 | AID5413,10,1,1,1,256.9899966,-1,50,65400,497.8070176,2.812522441,9891.06,NG_Tenn Z6,250,20,4.11311,13,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 44 | AID5853,6,1,1,1,528.8241653,-1,47,65400,403.6276299,2.354377622,9000,NG_Dracut,250,20,2.98036,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 45 | AID6696,7,1,1,1,267.3000005,-1,50,65400,366.6272081,2.276858436,7035.88,NG_Dracut,250,20,2.77471,12,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 46 | AID6349,9,1,1,1,146.1999969,-1,50,65400,378.3996316,2.369421056,7753.2,NG_Algonquin,250,20,3.00754,16,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 47 | AID6850,4,1,1,1,563.5,-1,20,65400,674.3912282,2.617000635,9917.75,FO6,250,20,8.921,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 48 | AID6856,9,1,1,1,116.3199997,-1,35.5,65400,580.2129112,1.837226141,9709.63,FO6,250,20,8.734,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 49 | AID6849,7,1,1,1,560.149999,-1,25.7,65400,191.7218661,1.622035448,9850.71,FO6,250,20,8.861,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 50 | AID6855,1,1,1,1,454.4000066,-1,16.1,65400,412.0348213,1.989941081,18857.2,NG_Algonquin,250,20,9.194,20,8,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 51 | AID6843,2,1,1,1,440.25,-1,22,65400,610.4850102,2.066293197,19606.7,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 52 | AID6858,12,1,1,1,437.0999934,-1,11.4,65400,595.3484253,1.638224538,20300.8,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 53 | AID6859,1,1,1,1,557.5,-1,22.9,65400,578.5308305,2.097536427,19558.7,FO6,250,20,9.536,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 54 | AID6864,9,1,1,1,400.0499878,-1,30.5,65400,580.2129112,1.837226141,18600.6,FO6,250,20,9.068,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 55 | AID6968,2,1,1,1,409.8500061,-1,31,65400,410.3527406,2.082492994,25920.1,FO6,250,20,12.637,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 56 | AID6973,2,1,1,1,163,-1,30.5,65400,415.4000534,2.11257986,22482.8,FO6,250,20,10.961,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 57 | AID6975,3,1,1,1,170,-1,25.6,65400,492.7607755,2.296527323,23376.3,FO6,250,20,11.397,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 58 | AID6976,3,1,1,1,118.2399979,-1,14.4,65400,492.7607755,2.296527323,23823,FO6,250,20,11.615,20,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 59 | AID6964,2,1,1,1,0,-1,37.8,65400,410.3527406,2.082492994,25285.1,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 60 | GNRC-RI-62-2028-Gas CC-1,12,1,1,1,0,-1,20,65400,328.8558773,3.515944818,9000,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 61 | SVU000114,2,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 62 | SVU000119,3,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnNorwalk,1
 63 | SVU000124,4,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Iroquois Z2,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnSW,1
 64 | SVU000284,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 65 | SVU000289,9,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 66 | SVU000294,1,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 67 | SVU000299,8,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 68 | SVU000304,10,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
 69 | SVU000339,5,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 70 | SVU000344,7,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 71 | SVU000354,6,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Dracut,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 72 | SVU000484,11,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 73 | SVU000754,12,1,1,1,0,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Algonquin,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 74 | SVU000864,13,1,1,1,26,-1,33,65400,328.8558773,3.515944818,6922.5,NG_Tenn Z6,250,15,1.407,10,4,0.64,0.64,0.468,0.25,0.5,0,0,Vermont,1
 75 | AID6862,9,1,1,1,239.9499969,-1,36.2,65400,805.5721084,2.418009739,14303,FO6,250,20,12.873,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 76 | AID6965,2,1,1,1,19,-1,41.4,65400,410.3527406,2.082492994,23959.6,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 77 | AID6846,11,1,1,1,400.2000122,-1,20,65400,581.8949919,1.920527146,11000,FO6,250,20,9.9,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 78 | AID6893,11,1,1,1,2.264166703,-1,15,65400,558.3501449,3.122588481,19911.3,NG_Dracut,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 79 | AID3907,2,1,1,1,603.0640295,-1,30,65400,275.8109111,0.642102988,18530,NG_Algonquin,250,0,7.7826,16,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 80 | AID6994,7,1,1,1,52.00416597,-1,9.9,65400,191.7218661,1.622035448,9955.93,FO6,250,20,8.483,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 81 | AID6851,7,1,1,1,26.5,-1,19.2,65400,191.7218661,1.622035448,11374,FO6,250,20,10.237,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
 82 | AID18397,8,1,1,1,65,-1,50,65400,322.9006049,3.460417953,9945.18,NG_Tenn Z6,250,20,4.17698,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 83 | AID3135,9,1,1,1,48.43000031,-1,50,65400,351.4906233,2.460816605,8715,NG_Algonquin,250,20,3.4833,6,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
 84 | AID2535,6,1,1,1,12.60000038,-1,50,65400,193.4039468,3.581889662,11081,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 85 | AID6847,1,1,1,1,6.5,-1,20,65400,726.5282349,1.807139275,15820,FO6,250,20,14.238,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 86 | AID2621,11,1,1,1,74,-1,20,65400,474.2621707,2.249095003,14569,NG_Tenn Z6,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
 87 | AID18756,8,1,1,1,38.96552511,-1,50,65400,322.9006049,3.460417953,7810.375,NG_Tenn Z6,250,20,3.28036,9,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
 88 | AID3641,1,1,1,1,47.65999985,-1,50,65400,348.1286033,2.843765671,12657.16783,NG_Tenn Z6,250,20,5.31601,14,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 89 | AID2537,6,1,1,1,0,-1,50,65400,193.4039468,3.581889662,11231,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
 90 | AID2777,2,1,1,1,0.870000005,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 91 | AID2769,2,1,1,1,1.409999967,-1,20,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 92 | AID2770,2,1,1,1,3.100000004,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 93 | AID6852,12,1,1,1,5.279584531,-1,20,65400,423.8083154,2.097536427,14569,FO6,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 94 | AID2773,2,1,1,1,2.519187245,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,20,13.112,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
 95 | AID3522,1,1,1,1,1.289999962,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
 96 | AID6867,12,1,1,1,1.289999962,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 97 | AID6868,12,1,1,1,12.09999998,-1,5,65400,363.2630467,1.959854214,13905,FO6,250,0,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
 98 | AID6969,5,1,1,1,2.519187245,-1,20,65400,395.2161557,2.051260471,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
 99 | AID3523,1,1,1,1,3,-1,5,65400,474.2621707,2.249095003,14569,NG_Algonquin,250,0,13.112,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
100 | AID3033,1,1,1,1,12.09999998,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
101 | AID3249,5,1,1,1,55.20000076,-1,20,65400,560.0322256,2.767402848,13905,FO6,250,20,12.515,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
102 | AID2782,2,1,1,1,8.220890411,-1,50,65400,334.6740991,2.338177825,7471.67,NG_Algonquin,250,20,3.1381,14,4,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
103 | AID2329,2,1,1,1,24.40999985,-1,50,65400,193.4039468,3.581889662,10913,NG_Algonquin,250,0,3.182,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
104 | AID6970,5,1,1,1,37.18000031,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
105 | AID6971,5,1,1,1,52.22999954,-1,20,65400,395.2161557,2.051260471,12135,FO6,250,20,10.922,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
106 | AID2687,5,1,1,1,5.397408253,-1,5,65400,617.2122623,1.438077279,9482,NG_Dracut,250,0,8.534,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
107 | AID100037,2,1,1,1,0.100000001,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
108 | AID2683,1,1,1,1,9.300000191,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
109 | AID6857,10,1,1,1,81.97000122,-1,20,65400,726.5282349,1.790950185,16126,FO6,250,20,14.513,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
110 | AID2768,2,1,1,1,36.3,-1,48.8,65400,474.2621707,2.249095003,12076,NG_Algonquin,250,20,3.36,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
111 | AID104996,2,1,1,1,9.300000191,-1,70,65400,0,3.576107845,9598,NG_Algonquin,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
112 | AID6854,10,1,1,1,51.80583382,-1,20,65400,726.5282349,1.790950185,17278,FO6,250,20,15.55,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
113 | AID6848,7,1,1,1,5,-1,19.2,65400,191.7218661,1.622035448,10973,FO6,250,20,9.876,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineSouth,1
114 | AID100126,2,1,1,1,0.159999996,-1,70,65400,193.4039468,3.581889662,10000,NG_Algonquin,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
115 | AID2685,1,1,1,1,5.699999809,-1,20,65400,560.0322256,2.767402848,5234,FO6,250,20,4.711,20,4,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
116 | AID10,10,1,1,1,4.212434466,-1,20,65400,726.5282349,1.790950185,17234,FO6,250,20,15.511,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MassWest,1
117 | AID5367,2,1,1,1,81.5,-1,5,65400,538.1683887,2.127612587,15000,NG_Algonquin,250,20,13.5,20,8,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
118 | AID52,8,1,1,1,61.34691781,-1,50,65400,322.9006049,3.460417953,8757.029032,NG_Tenn Z6,250,20,3.67795,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassCentral,1
119 | AID6770,2,1,1,1,65.72000122,-1,30,65400,413.7179727,2.553368518,9586.15,NG_Algonquin,250,0,4.02618,16,1,0.64,0.64,0.468,0.25,0.5,0,0,ConnCentral,1
120 | AID5319,12,1,1,1,48.40583229,-1,50,65400,334.6740991,2.231738843,8725.99,NG_Tenn Z6,250,20,3.66492,14,4,0.64,0.64,0.468,0.25,0.5,0,0,RhodeIsland,1
121 | AID2536,6,1,1,1,15.22999954,-1,50,65400,193.4039468,3.581889662,11123,NG_Dracut,250,0,0.795,2,2,0.64,0.64,0.468,0.25,0.5,0,0,MaineCentral,1
122 | AID2686,5,1,1,1,87.09999847,-1,5,65400,617.2122623,1.438077279,8926,NG_Dracut,250,0,8.033,20,4,0.64,0.64,0.468,0.25,0.5,0,0,MaineBHE,1
123 | AID5508,9,1,1,1,12.40990211,-1,50,65400,1051.10985,5.889991328,13283,NG_Algonquin,250,20,5.57886,14,4,0.64,0.64,0.468,0.25,0.5,0,0,MassSE,1
124 | AID104581,1,1,1,1,2.5,-1,70,65400,0,3.581889662,10607,NG_Tenn Z6,250,0,1.407,10,1,0.64,0.64,0.468,0.25,0.5,0,0,Boston,1
125 | AID2618,11,1,1,1,0,-1,20,65400,560.0322256,2.767402848,13904.81818,FO6,250,20,12.514,20,4,0.64,0.64,0.468,0.25,0.5,0,0,NewHampshire,1
126 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | ï»¿Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
  2 | AID107192,9,1,1,1,804,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  3 | AID107200,9,1,1,1,1232,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  4 | AID107201,9,1,1,1,133.3333333,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  5 | AID107205,9,1,1,1,66.66666667,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  6 | AID107206,9,1,1,1,0,-1,0,97200,1894.844126,0,0,0,0,0,MassSE,1
  7 | GNRC-MA-63-2020-Solar Utility-1,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
  8 | GNRC-MA-71-2020-Solar Utility-1,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
  9 | GNRC-MA-72-2020-Solar Utility-1,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 10 | GNRC-CT-61-2020-Solar Utility-1,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 11 | GNRC-CT-67-2020-Solar Utility-1,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 12 | GNRC-CT-68-2020-Solar Utility-1,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 13 | GNRC-NH-74-2020-Solar Utility-1-PTC,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 14 | GNRC-RI-62-2020-Solar Utility-1-PTC,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 15 | GNRC-VT-75-2020-Solar Utility-1-PTC,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 16 | GNRC-MA-73-2020-Solar Utility-1-PTC,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 17 | GNRC-CT-61-2020-Solar Utility-1-PTC,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 18 | GNRC-CT-67-2020-Solar Utility-1-PTC,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 19 | GNRC-CT-68-2020-Solar Utility-1-PTC,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 20 | GNRC-MA-63-2020-Solar Utility-1-PTC,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 21 | GNRC-MA-71-2020-Solar Utility-1-PTC,1,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 22 | GNRC-MA-72-2020-Solar Utility-1-PTC,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 23 | GNRC-MA-73-2020-Solar Utility-1,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 24 | GNRC-ME-69-2020-Solar Utility-1,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 25 | GNRC-ME-70-2020-Solar Utility-1,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 26 | GNRC-NH-74-2020-Solar Utility-1,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 27 | GNRC-RI-62-2020-Solar Utility-1,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 28 | GNRC-VT-75-2020-Solar Utility-1,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 29 | GNRC-ME-69-2020-Solar Utility-1-PTC,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 30 | GNRC-ME-70-2020-Solar Utility-1-PTC,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 31 | GNRC-CT-61-2020-Wind Offshore-1,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
 32 | GNRC-MA-63-2020-Wind Offshore-1,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
 33 | GNRC-MA-71-2020-Wind Offshore-1,1,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,Boston,1
 34 | GNRC-ME-70-2020-Wind Offshore-1,7,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MaineSouth,1
 35 | GNRC-RI-62-2020-Wind Offshore-1,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
 36 | GNRC-NH-74-2020-Wind Offshore-1,11,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,NewHampshire,1
 37 | GNRC-CT-68-2020-Wind Onshore-1,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 38 | GNRC-MA-73-2020-Wind Onshore-1,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 39 | GNRC-ME-69-2020-Wind Onshore-1,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 40 | GNRC-ME-70-2020-Wind Onshore-1,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 41 | GNRC-NH-74-2020-Wind Onshore-1,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 42 | GNRC-RI-62-2020-Wind Onshore-1,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 43 | GNRC-VT-75-2020-Wind Onshore-1,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 44 | GNRC-CT-68-2020-Wind Onshore-1-PTC,4,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,ConnSW,1
 45 | GNRC-MA-73-2020-Wind Onshore-1-PTC,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 46 | GNRC-ME-69-2020-Wind Onshore-1-PTC,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 47 | GNRC-ME-70-2020-Wind Onshore-1-PTC,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 48 | GNRC-NH-74-2020-Wind Onshore-1-PTC,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 49 | GNRC-VT-75-2020-Wind Onshore-1-PTC,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 50 | GNRC-RI-62-2020-Wind Onshore-1-PTC,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 51 | SVU000483,11,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,NewHampshire,1
 52 | SVU000353,6,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineCentral,1
 53 | SVU000343,7,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineSouth,1
 54 | SVU000338,5,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MaineBHE,1
 55 | SVU000303,10,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,MassWest,1
 56 | SVU000283,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 57 | SVU000863,13,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,Vermont,1
 58 | SVU000753,12,1,1,1,0,-1,0,97200,1062.273041,0,0,0,0,0,RhodeIsland,1
 59 | SVU000112,2,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnCentral,1
 60 | SVU000117,3,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnNorwalk,1
 61 | SVU000122,4,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,ConnSW,1
 62 | SVU000297,8,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassCentral,1
 63 | SVU000302,10,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassWest,1
 64 | SVU000337,5,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineBHE,1
 65 | SVU000342,7,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineSouth,1
 66 | SVU000352,6,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MaineCentral,1
 67 | SVU000482,11,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,NewHampshire,1
 68 | SVU000752,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 69 | SVU000862,13,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,Vermont,1
 70 | SVU000282,12,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,RhodeIsland,1
 71 | SVU000287,9,1,1,1,0,-1,0,97200,493.2843513,0,0,0,0,0,MassSE,1
 72 | SVU000292,1,1,1,1,5,-1,0,97200,493.2843513,0,0,0,0,0,Boston,1
 73 | AID_DM_1053,9,1,1,1,14,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 74 | AID_DM_1079,10,1,1,1,38.4,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 75 | AID_DM_1122,9,1,1,1,7,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 76 | AID_DM_1144,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 77 | AID_DM_1193,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 78 | AID_DM_1194,13,1,1,1,7,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 79 | AID_DM_1216,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 80 | AID_DM_1285,10,1,1,1,9.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 81 | AID_DM_1288,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
 82 | AID_DM_1312,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 83 | AID_DM_1341,13,1,1,1,12.4,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 84 | AID_DM_1377,12,1,1,1,16.1,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 85 | AID_DM_1393,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
 86 | AID_DM_1412,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 87 | AID_DM_1423,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 88 | AID_DM_1477,12,1,1,1,12.7,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 89 | AID_DM_1500,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 90 | AID_DM_164,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 91 | AID_DM_1709,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
 92 | AID_DM_1732,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 93 | AID_DM_1746,12,1,1,1,6,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 94 | AID_DM_1771,1,1,1,1,5,-1,0,97200,493.52,0,0,0,0,0,Boston,1
 95 | AID_DM_1789,8,1,1,1,5,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
 96 | AID_DM_1791,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
 97 | AID_DM_1798,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
 98 | AID_DM_1844,9,1,1,1,5.43,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
 99 | AID_DM_191,8,1,1,1,5.49,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
100 | AID_DM_1917,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
101 | AID_DM_1983,2,1,1,1,26.4,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
102 | AID_DM_2050,2,1,1,1,5,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
103 | AID_DM_213,13,1,1,1,6.3,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
104 | AID_DM_2137,12,1,1,1,10,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
105 | AID_DM_2163,12,1,1,1,5.2,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
106 | AID_DM_2186,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
107 | AID_DM_2199,13,1,1,1,5,-1,0,97200,492.922,0,0,0,0,0,Vermont,1
108 | AID_DM_2214,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
109 | AID_DM_2234,10,1,1,1,6.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
110 | AID_DM_2246,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
111 | AID_DM_2287,10,1,1,1,5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
112 | AID_DM_2320,10,1,1,1,20,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
113 | AID_DM_2328,2,1,1,1,20,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
114 | AID_DM_2357,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
115 | AID_DM_2406,10,1,1,1,5.62,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
116 | AID_DM_242,8,1,1,1,50,-1,0,97200,494.0418182,0,0,0,0,0,MassCentral,1
117 | AID_DM_2444,7,1,1,1,8.42,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
118 | AID_DM_2460,12,1,1,1,5,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
119 | AID_DM_2471,10,1,1,1,7.2,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
120 | AID_DM_2487,7,1,1,1,5,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
121 | AID_DM_2490,10,1,1,1,12.5,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
122 | AID_DM_2511,10,1,1,1,8,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
123 | AID_DM_2513,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
124 | AID_DM_2514,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
125 | AID_DM_2586,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
126 | AID_DM_2591,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
127 | AID_DM_2665,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
128 | AID_DM_2726,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
129 | AID_DM_2728,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
130 | AID_DM_2756,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
131 | AID_DM_278,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
132 | AID_DM_28,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
133 | AID_DM_2820,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
134 | AID_DM_2910,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
135 | AID_DM_2950,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
136 | AID_DM_2959,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
137 | AID_DM_3064,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
138 | AID_DM_3102,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
139 | AID_DM_3176,2,1,1,1,0,-1,0,97200,0,0,0,0,0,0,ConnCentral,1
140 | AID_DM_3187,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
141 | AID_DM_3230,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
142 | AID_DM_3244,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
143 | AID_DM_339,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
144 | AID_DM_3406,10,1,1,1,0,-1,0,97200,840.144,0,0,0,0,0,MassWest,1
145 | AID_DM_3500,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
146 | AID_DM_3512,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
147 | AID_DM_3673,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
148 | AID_DM_3732,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
149 | AID_DM_3759,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
150 | AID_DM_3806,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
151 | AID_DM_383,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
152 | AID_DM_3855,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
153 | AID_DM_3884,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
154 | AID_DM_3913,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
155 | AID_DM_3914,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
156 | AID_DM_3998,13,1,1,1,0,-1,0,97200,783.38,0,0,0,0,0,Vermont,1
157 | AID_DM_4,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
158 | AID_DM_4003,11,1,1,1,0,-1,0,97200,873.04,0,0,0,0,0,NewHampshire,1
159 | AID_DM_4051,9,1,1,1,0,-1,0,97200,1062.23,0,0,0,0,0,MassSE,1
160 | AID_DM_4058,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
161 | AID_DM_4065,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
162 | AID_DM_4097,7,1,1,1,0,-1,0,97200,869.8163158,0,0,0,0,0,MaineSouth,1
163 | AID_DM_461,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
164 | AID_DM_50,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
165 | AID_DM_507,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
166 | AID_DM_552,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
167 | AID_DM_608,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
168 | AID_DM_653,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
169 | AID_DM_654,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
170 | AID_DM_667,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
171 | AID_DM_668,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
172 | AID_DM_669,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
173 | AID_DM_712,1,1,1,1,0,-1,0,97200,493.52,0,0,0,0,0,Boston,1
174 | AID_DM_72,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
175 | AID_DM_75,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
176 | AID_DM_775,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
177 | AID_DM_925,9,1,1,1,0,-1,0,97200,491.7385714,0,0,0,0,0,MassSE,1
178 | AID_DM_935,10,1,1,1,0,-1,0,97200,492.77,0,0,0,0,0,MassWest,1
179 | AID_DM_958,12,1,1,1,0,-1,0,97200,498.9841667,0,0,0,0,0,RhodeIsland,1
180 | AID_DM_963,2,1,1,1,0,-1,0,97200,495.4490909,0,0,0,0,0,ConnCentral,1
181 | AID_DM_999,7,1,1,1,0,-1,0,97200,496.257,0,0,0,0,0,MaineSouth,1
182 | AID101718,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
183 | AID104236,12,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,RhodeIsland,1
184 | AID104294,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
185 | AID104841,2,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,ConnCentral,1
186 | AID104857,9,1,1,1,0,-1,0,97200,1626.832216,0,0,0,0,0,MassSE,1
187 | AID106047,9,1,1,1,0,-1,0,97200,1765.510186,0,0,0,0,0,MassSE,1
188 | AID106710,7,1,1,1,0,-1,0,97200,1151.494991,0,0,0,0,0,MaineSouth,1
189 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/inputs/inputs_p3/system/Network.csv:
--------------------------------------------------------------------------------
 1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_1,CapRes_Excl_1,Line_Max_Flow_Possible_MW,WACC
 2 | Boston,z1,1,1,8,2629,Boston_to_MassCentral,35,0.0094,2629,12060,0.95,0,0,7000,0.062
 3 | ConnCentral,z2,2,1,9,997,Boston_to_MassSE,40,0.001536098,997,12060,0.95,0,0,5000,0.062
 4 | ConnNorwalk,z3,3,1,11,816,Boston_to_NewHampshire,50,0.013636364,816,12060,0.95,0,0,7000,0.062
 5 | ConnSW,z4,4,1,12,1953,Boston_to_RhodeIsland,50,0.018213737,1953,12060,0.95,0,0,5000,0.062
 6 | MaineBHE,z5,5,2,4,3650,ConnCentral_to_ConnSW,25,0.005,3650,12060,0.95,0,0,7000,0.062
 7 | MaineCentral,z6,6,2,10,1400,ConnCentral_to_MassWest,60,0.01,1400,12060,0.95,0,0,5000,0.062
 8 | MaineSouth,z7,7,2,12,393,ConnCentral_to_RhodeIsland,55,0.02,393,12060,0.95,0,0,7000,0.062
 9 | MassCentral,z8,8,3,4,1537,ConnNorwalk_to_ConnSW,15,0.005,1537,12060,0.95,0,0,5000,0.062
10 | MassSE,z9,9,4,2,1100,ConnSW_to_ConnCentral,25,0.005,1100,12060,0.95,0,0,7000,0.062
11 | MassWest,z10,10,4,3,1650,ConnSW_to_ConnNorwalk,15,0.005,1650,12060,0.95,0,0,5000,0.062
12 | NewHampshire,z11,11,5,6,1975,MaineBHE_to_MaineCentral,80,0.01,1975,12060,0.95,0,0,7000,0.062
13 | RhodeIsland,z12,12,6,5,1975,MaineCentral_to_MaineBHE,80,0.01,1975,12060,0.95,0,0,5000,0.062
14 | Vermont,z13,13,6,7,1925,MaineCentral_to_MaineSouth,70,0.01,1925,12060,0.95,0,0,7000,0.062
15 | ,,14,7,6,1925,MaineSouth_to_MaineCentral,70,0.01,1925,12060,0.95,0,0,5000,0.062
16 | ,,15,7,11,1900,MaineSouth_to_NewHampshire,75,0.03008658,1900,12060,0.95,0,0,7000,0.062
17 | ,,16,8,1,2859,MassCentral_to_Boston,35,0.0094,2859,12060,0.95,0,0,5000,0.062
18 | ,,17,8,10,1286,MassCentral_to_MassWest,50,0.01,1286,12060,0.95,0,0,7000,0.062
19 | ,,18,8,11,900,MassCentral_to_NewHampshire,45,0.0058102,900,12060,0.95,0,0,5000,0.062
20 | ,,19,8,12,1893,MassCentral_to_RhodeIsland,40,0.0272,1893,12060,0.95,0,0,7000,0.062
21 | ,,20,9,1,997,MassSE_to_Boston,40,0.001536098,997,12060,0.95,0,0,5000,0.062
22 | ,,21,9,12,9999,MassSE_to_RhodeIsland,30,0.016703297,9999,12060,0.95,0,0,7000,0.062
23 | ,,22,10,2,1400,MassWest_to_ConnCentral,60,0.01,1400,12060,0.95,0,0,5000,0.062
24 | ,,23,10,8,1407,MassWest_to_MassCentral,50,0.01,1407,12060,0.95,0,0,7000,0.062
25 | ,,24,10,13,900,MassWest_to_Vermont,40,0.027620841,900,12060,0.95,0,0,5000,0.062
26 | ,,25,11,1,1391,NewHampshire_to_Boston,50,0.013636364,1391,12060,0.95,0,0,7000,0.062
27 | ,,26,11,7,650,NewHampshire_to_MaineSouth,75,0.03008658,650,12060,0.95,0,0,5000,0.062
28 | ,,27,11,8,467,NewHampshire_to_MassCentral,45,0.0058102,467,12060,0.95,0,0,7000,0.062
29 | ,,28,11,13,800,NewHampshire_to_Vermont,60,0.033270559,800,12060,0.95,0,0,5000,0.062
30 | ,,29,12,1,453,RhodeIsland_to_Boston,50,0.018213737,453,12060,0.95,0,0,7000,0.062
31 | ,,30,12,2,664,RhodeIsland_to_ConnCentral,55,0.02,664,12060,0.95,0,0,5000,0.062
32 | ,,31,12,8,750,RhodeIsland_to_MassCentral,40,0.0272,750,12060,0.95,0,0,7000,0.062
33 | ,,32,12,9,9999,RhodeIsland_to_MassSE,30,0.016703297,9999,12060,0.95,0,0,5000,0.062
34 | ,,33,13,10,467,Vermont_to_MassWest,40,0.027620841,467,12060,0.95,0,0,7000,0.062
35 | ,,34,13,11,400,Vermont_to_NewHampshire,60,0.033270559,400,12060,0.95,0,0,5000,0.062
36 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/clp_settings.yml:
--------------------------------------------------------------------------------
 1 | # Clp Solver parameters https://github.com/jump-dev/Clp.jl
 2 | # Common solver settings
 3 | Feasib_Tol: 1e-5              # Primal/Dual feasibility tolerance
 4 | TimeLimit: -1.0               # Terminate after this many seconds have passed. A negative value means no time limit
 5 | Pre_Solve: 0                  # Set to 1 to disable presolve
 6 | Method: 5                     # Solution method: dual simplex (0), primal simplex (1), sprint (2), barrier with crossover (3), barrier without crossover (4), automatic (5)
 7 | 
 8 | #Clp-specific solver settings
 9 | DualObjectiveLimit: 1e308     # When using dual simplex (where the objective is monotonically changing), terminate when the objective exceeds this limit
10 | MaximumIterations: 2147483647 # Terminate after performing this number of simplex iterations
11 | LogLevel: 1                   # Set to 1, 2, 3, or 4 for increasing output. Set to 0 to disable output
12 | InfeasibleReturn: 0           # Set to 1 to return as soon as the problem is found to be infeasible (by default, an infeasibility proof is computed as well)
13 | Scaling: 3                    # 0 -off, 1 equilibrium, 2 geometric, 3 auto, 4 dynamic(later)
14 | Perturbation: 100             # switch on perturbation (50), automatic (100), don't try perturbing (102)


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/cplex_settings.yml:
--------------------------------------------------------------------------------
 1 | # CPLEX Solver Parameters
 2 | Feasib_Tol: 1.0e-05 # Constraint (primal) feasibility tolerances.
 3 | Optimal_Tol: 1e-5 # Dual feasibility tolerances.
 4 | Pre_Solve: 1 # Controls presolve level.
 5 | TimeLimit: 110000 # Limits total time solver.
 6 | MIPGap: 1e-3 # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
 7 | Method: 2 # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | BarConvTol: 1.0e-08 # Barrier convergence tolerance (determines when barrier terminates).
 9 | NumericFocus: 0 # Numerical precision emphasis.
10 | SolutionType: 2 # Solution type for LP or QP.
11 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/genx_settings.yml:
--------------------------------------------------------------------------------
 1 | NetworkExpansion: 0 # Transmission network expansionl; 0 = not active; 1 = active systemwide
 2 | Trans_Loss_Segments: 1 # Number of segments used in piecewise linear approximation of transmission losses; 1 = linear, >2 = piecewise quadratic
 3 | EnergyShareRequirement: 0 # Minimum qualifying renewables penetration; 0 = not active; 1 = active systemwide
 4 | CapacityReserveMargin: 0 # Number of capacity reserve margin constraints; 0 = not active; 1 = active systemwide
 5 | CO2Cap: 0 # CO2 emissions cap; 0 = not active (no CO2 emission limit); 1 = mass-based emission limit constraint; 2 = demand + rate-based emission limit constraint; 3 = generation + rate-based emission limit constraint
 6 | StorageLosses: 1 # Energy Share Requirement and CO2 constraints account for energy lost; 0 = not active (DO NOT account for energy lost); 1 = active systemwide (DO account for energy lost)
 7 | MinCapReq: 0  # Activate minimum technology carveout constraints; 0 = not active; 1 = active
 8 | MaxCapReq: 0  # Activate maximum technology carveout constraints; 0 = not active; 1 = active
 9 | ParameterScale: 1 # Turn on parameter scaling wherein demand, capacity and power variables are defined in GW rather than MW. 0 = not active; 1 = active systemwide
10 | UCommit: 2 # Unit committment of thermal power plants; 0 = not active; 1 = active using integer clestering; 2 = active using linearized clustering
11 | TimeDomainReduction: 1 # Time domain reduce (i.e. cluster) inputs based on Demand_data.csv, Generators_variability.csv, and Fuels_data.csv; 0 = not active (use input data as provided); 0 = active (cluster input data, or use data that has already been clustered)
12 | MultiStage: 1 # 0 = Single-stage GenX, 1 = Multi-stage GenX
13 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/gurobi_settings.yml:
--------------------------------------------------------------------------------
 1 | # Gurobi Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05           # Constraint (primal) feasibility tolerances.
 4 | Optimal_Tol: 1e-5             # Dual feasibility tolerances.
 5 | TimeLimit: 110000             # Limits total time solver.
 6 | Pre_Solve: 1                  # Controls presolve level.
 7 | Method: 4                     # Algorithm used to solve continuous models (including MIP root relaxation).
 8 | 
 9 | #Gurobi-specific solver settings
10 | MIPGap: 1e-3                  # Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
11 | BarConvTol: 1.0e-08           # Barrier convergence tolerance (determines when barrier terminates).
12 | NumericFocus: 0               # Numerical precision emphasis.
13 | Crossover: -1                 # Barrier crossver strategy.
14 | PreDual: 0                    # Decides whether presolve should pass the primal or dual linear programming problem to the LP optimization algorithm.
15 | AggFill: 10                   # Allowed fill during presolve aggregation.
16 | OutputFlag: 0                 # Controls Gurobi output.s
17 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-07        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23              # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: "on"          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: "simplex"            #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "off"
12 | 


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/multi_stage_settings.yml:
--------------------------------------------------------------------------------
1 | NumStages: 3 # Number of model investment planning stages
2 | StageLengths: [10,10,10] # Length of each model stage (years)
3 | WACC: 0.045 # Weighted average cost of capital
4 | ConvergenceTolerance: 0.01 # Relative optimality gap used for convergence
5 | Myopic: 1 # If using multi-stage GenX, 1 = myopic, 0 = dual dynamic programming
6 | WriteIntermittentOutputs: 0 # If 1, write intermediate outputs to disk


--------------------------------------------------------------------------------
/example_systems/CaseStudy_w_multistage/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
 1 | # ----------------------------------------------------------------------------
 2 | # TIME DOMAIN REDUCTION SETTINGS FOR GENX
 3 | # ----------------------------------------------------------------------------
 4 | 
 5 | # Min/Max number of representative periods (clusters) across the year(s).
 6 | # GenX will pick a final cluster count between these two.
 7 | MinPeriods: 4
 8 | MaxPeriods: 6
 9 | 
10 | # The length (in hours) of each representative period. For example, 168 for a week.
11 | TimestepsPerRepPeriod: 168
12 | 
13 | # When set to 1, GenX clusters successively from MinPeriods up to MaxPeriods,
14 | # stopping early if it meets the Threshold criterion. 
15 | # Set to 0 if you just want to fix a single cluster count (Min=Max).
16 | IterativelyAddPeriods: 1
17 | 
18 | # The method for clustering. Common options: "kmeans" or "kmedoids".
19 | ClusterMethod: "kmeans"
20 | 
21 | # Scaling method for normalizing input data prior to clustering. 
22 | # "S" is the most common (standardize each column).
23 | ScalingMethod: "S"
24 | 
25 | # For each cluster attempt, how many times the algorithm is repeated from random seeds
26 | # to find a potentially better global optimum for the partitioning?
27 | nReps: 100
28 | 
29 | # If "UseExtremePeriods: 1," you can optionally specify one or more extremes.
30 | # Typically these are the highest/lowest demand or wind/solar resource periods.
31 | # The snippet below shows an example that ensures peak demand and wind-lull weeks are included.
32 | UseExtremePeriods: 1
33 | ExtremePeriods:
34 |   Demand:
35 |     System: 1        # 1 means "capture the top demand week(s)"
36 |   Wind:
37 |     System: 1        # 1 means "capture the worst (lowest wind) week(s)"
38 | 
39 | # Weight the demand signals more or less in the clustering objective.
40 | # If set to 1, it means default weighting. 
41 | DemandWeight: 1
42 | 
43 | # Whether to cluster across all multi-stage input data simultaneously (1),
44 | # or do TDR separately for each stage (0).
45 | MultiStageConcatenate: 1
46 | 
47 | # If set to 1, TDR also clusters multiple fuel price time series. 
48 | # e.g., if your fuels have piecewise or monthly variation.
49 | ClusterFuelPrices: 1
50 | 
51 | # If GenX sees that the difference in "distance" between consecutive cluster counts 
52 | # is below this threshold, it stops iterating. 
53 | # Typically 0.05 means "stop if going from (k) to (k+1) clusters yields <5% improvement in cluster fit."
54 | Threshold: 0.05
55 | 


--------------------------------------------------------------------------------
/precompile/case/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,0.05,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,0.05,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,0.05,0,0,0.025
5 | 


--------------------------------------------------------------------------------
/precompile/case/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,MA_PV,5000
3 | 2,CT_Wind,10000
4 | 3,All_Batteries,6000
5 | 


--------------------------------------------------------------------------------
/precompile/case/resources/Electrolyzer.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Cap_Size,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Hydrogen_MWh_Per_Tonne,Electrolyzer_Min_kt,Hydrogen_Price_Per_Tonne,region,cluster
2 | MA_electrolyzer,1,1,0,0,-1,-1,125000,15000,0,1,1,1,0,55,1000,1000,MA,0
3 | CT_electrolyzer,2,1,0,0,-1,-1,125000,15000,0,1,1,1,0,55,1000,1000,CT,0
4 | ME_electrolyzer,3,1,0,0,-1,-1,125000,15000,0,1,1,1,0,55,1000,1000,ME,0


--------------------------------------------------------------------------------
/precompile/case/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,MinCapTag_1,MinCapTag_2,MinCapTag_3,Resource_Type,ESR_1,ESR_2,region,cluster
2 | MA_battery,1,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,MA,0
3 | CT_battery,2,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,CT,0
4 | ME_battery,3,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,ME,0


--------------------------------------------------------------------------------
/precompile/case/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,0,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,0,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,1,natural_gas_fired_combined_cycle,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,0,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,1,natural_gas_fired_combined_cycle,ME,1


--------------------------------------------------------------------------------
/precompile/case/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | MA_solar_pv,1,1,1,0,0,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,MA,1
3 | CT_onshore_wind,2,1,1,0,0,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,CT,1
4 | CT_solar_pv,2,1,1,0,0,-1,0,85300,18760,0,9.16,1,solar_photovoltaic,CT,1
5 | ME_onshore_wind,3,1,1,0,0,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,ME,1


--------------------------------------------------------------------------------
/precompile/case/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | MA_solar_pv,1,0,0
3 | CT_onshore_wind,0,1,0
4 | MA_battery,0,0,1
5 | CT_battery,0,0,1
6 | ME_battery,0,0,1


--------------------------------------------------------------------------------
/precompile/case/settings/genx_settings.yml:
--------------------------------------------------------------------------------
1 | NetworkExpansion: 1
2 | Trans_Loss_Segments: 1
3 | CO2Cap: 2
4 | StorageLosses: 1
5 | MinCapReq: 1 
6 | ParameterScale: 1
7 | WriteShadowPrices: 1
8 | UCommit: 2
9 | OverwriteResults: 1


--------------------------------------------------------------------------------
/precompile/case/settings/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-05    # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | TimeLimit: 1.0e23      # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
5 | Pre_Solve: on          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
6 | Method: ipm            # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
7 | ipm_optimality_tolerance: 1e-04
8 | 


--------------------------------------------------------------------------------
/precompile/case/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
 1 | TimestepsPerRepPeriod: 24
 2 | ClusterMethod: 'kmeans'
 3 | ScalingMethod: "S"
 4 | MaxPeriods: 5
 5 | MinPeriods: 5
 6 | IterativelyAddPeriods: 1
 7 | IterateMethod: "cluster"
 8 | Threshold: 0.05
 9 | nReps: 100
10 | DemandWeight: 1
11 | WeightTotal: 8760
12 | ClusterFuelPrices: 1
13 | UseExtremePeriods: 1
14 | MultiStageConcatenate: 0
15 | ExtremePeriods:
16 |    Demand:
17 |       Zone:
18 |          Absolute:
19 |             Max: 0
20 |             Min: 0
21 |          Integral:
22 |             Max: 0
23 |             Min: 0
24 |       System:
25 |          Absolute:
26 |             Max: 1
27 |             Min: 0
28 |          Integral:
29 |             Max: 0
30 |             Min: 0
31 |    PV:
32 |       Zone:
33 |          Absolute:
34 |             Max: 0
35 |             Min: 0
36 |          Integral:
37 |             Max: 0
38 |             Min: 1
39 |       System:
40 |          Absolute:
41 |             Max: 0
42 |             Min: 0
43 |          Integral:
44 |             Max: 0
45 |             Min: 0
46 |    Wind:
47 |       Zone:
48 |          Absolute:
49 |             Max: 0
50 |             Min: 0
51 |          Integral:
52 |             Max: 0
53 |             Min: 1
54 |       System:
55 |          Absolute:
56 |             Max: 0
57 |             Min: 0
58 |          Integral:
59 |             Max: 0
60 |             Min: 0
61 | 


--------------------------------------------------------------------------------
/precompile/case/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
  2 | 50000,1,1.0,1.0,2000,5,24,24.0,1,7822.0,2234.0,1066.0
  3 | ,2,0.9,0.04,1800,,,24.0,2,7494.0,2140.0,1021.0
  4 | ,3,0.55,0.024,1100,,,8664.0,3,7343.0,2097.0,1001.0
  5 | ,4,0.2,0.003,400,,,24.0,4,7289.0,2082.0,994.0
  6 | ,,,,,,,24.0,5,7482.0,2137.0,1020.0
  7 | ,,,,,,,,6,8142.0,2325.0,1110.0
  8 | ,,,,,,,,7,9388.0,2681.0,1280.0
  9 | ,,,,,,,,8,10233.0,2922.0,1395.0
 10 | ,,,,,,,,9,10494.0,2997.0,1431.0
 11 | ,,,,,,,,10,10665.0,3046.0,1454.0
 12 | ,,,,,,,,11,10780.0,3079.0,1469.0
 13 | ,,,,,,,,12,10817.0,3089.0,1474.0
 14 | ,,,,,,,,13,10743.0,3068.0,1464.0
 15 | ,,,,,,,,14,10657.0,3044.0,1453.0
 16 | ,,,,,,,,15,10516.0,3003.0,1434.0
 17 | ,,,,,,,,16,10468.0,2990.0,1427.0
 18 | ,,,,,,,,17,10788.0,3081.0,1471.0
 19 | ,,,,,,,,18,11254.0,3214.0,1535.0
 20 | ,,,,,,,,19,11088.0,3167.0,1512.0
 21 | ,,,,,,,,20,10715.0,3060.0,1461.0
 22 | ,,,,,,,,21,10312.0,2945.0,1406.0
 23 | ,,,,,,,,22,9767.0,2790.0,1332.0
 24 | ,,,,,,,,23,9041.0,2582.0,1232.0
 25 | ,,,,,,,,24,8305.0,2372.0,1132.0
 26 | ,,,,,,,,25,10503.0,3000.0,1432.0
 27 | ,,,,,,,,26,9889.0,2825.0,1348.0
 28 | ,,,,,,,,27,9493.0,2711.0,1294.0
 29 | ,,,,,,,,28,9245.0,2640.0,1261.0
 30 | ,,,,,,,,29,9268.0,2647.0,1263.0
 31 | ,,,,,,,,30,9643.0,2754.0,1315.0
 32 | ,,,,,,,,31,10684.0,3051.0,1457.0
 33 | ,,,,,,,,32,12036.0,3437.0,1641.0
 34 | ,,,,,,,,33,13120.0,3747.0,1789.0
 35 | ,,,,,,,,34,14080.0,4021.0,1919.0
 36 | ,,,,,,,,35,14910.0,4258.0,2033.0
 37 | ,,,,,,,,36,15478.0,4421.0,2110.0
 38 | ,,,,,,,,37,15870.0,4533.0,2164.0
 39 | ,,,,,,,,38,16225.0,4633.0,2212.0
 40 | ,,,,,,,,39,16448.0,4698.0,2242.0
 41 | ,,,,,,,,40,16617.0,4746.0,2266.0
 42 | ,,,,,,,,41,16717.0,4774.0,2279.0
 43 | ,,,,,,,,42,16579.0,4735.0,2261.0
 44 | ,,,,,,,,43,16199.0,4626.0,2209.0
 45 | ,,,,,,,,44,15701.0,4484.0,2140.0
 46 | ,,,,,,,,45,15416.0,4403.0,2102.0
 47 | ,,,,,,,,46,14854.0,4243.0,2025.0
 48 | ,,,,,,,,47,13581.0,3878.0,1852.0
 49 | ,,,,,,,,48,12317.0,3518.0,1679.0
 50 | ,,,,,,,,49,6825.0,1949.0,930.0
 51 | ,,,,,,,,50,6525.0,1863.0,889.0
 52 | ,,,,,,,,51,6366.0,1818.0,868.0
 53 | ,,,,,,,,52,6353.0,1814.0,866.0
 54 | ,,,,,,,,53,6544.0,1868.0,892.0
 55 | ,,,,,,,,54,7251.0,2071.0,989.0
 56 | ,,,,,,,,55,8516.0,2432.0,1161.0
 57 | ,,,,,,,,56,9268.0,2647.0,1263.0
 58 | ,,,,,,,,57,9477.0,2706.0,1292.0
 59 | ,,,,,,,,58,9630.0,2750.0,1312.0
 60 | ,,,,,,,,59,9780.0,2793.0,1333.0
 61 | ,,,,,,,,60,9832.0,2808.0,1340.0
 62 | ,,,,,,,,61,9815.0,2803.0,1338.0
 63 | ,,,,,,,,62,9821.0,2805.0,1339.0
 64 | ,,,,,,,,63,9773.0,2791.0,1332.0
 65 | ,,,,,,,,64,9871.0,2819.0,1346.0
 66 | ,,,,,,,,65,10449.0,2985.0,1424.0
 67 | ,,,,,,,,66,11079.0,3165.0,1510.0
 68 | ,,,,,,,,67,10981.0,3136.0,1497.0
 69 | ,,,,,,,,68,10679.0,3050.0,1456.0
 70 | ,,,,,,,,69,10229.0,2921.0,1394.0
 71 | ,,,,,,,,70,9529.0,2721.0,1299.0
 72 | ,,,,,,,,71,8609.0,2459.0,1174.0
 73 | ,,,,,,,,72,7809.0,2230.0,1065.0
 74 | ,,,,,,,,73,7508.0,2144.0,1024.0
 75 | ,,,,,,,,74,7225.0,2063.0,985.0
 76 | ,,,,,,,,75,7088.0,2024.0,966.0
 77 | ,,,,,,,,76,7040.0,2010.0,959.0
 78 | ,,,,,,,,77,7101.0,2028.0,968.0
 79 | ,,,,,,,,78,7334.0,2094.0,999.0
 80 | ,,,,,,,,79,7705.0,2200.0,1050.0
 81 | ,,,,,,,,80,8157.0,2329.0,1112.0
 82 | ,,,,,,,,81,8671.0,2476.0,1182.0
 83 | ,,,,,,,,82,8939.0,2553.0,1219.0
 84 | ,,,,,,,,83,9005.0,2572.0,1227.0
 85 | ,,,,,,,,84,8996.0,2569.0,1226.0
 86 | ,,,,,,,,85,8922.0,2548.0,1216.0
 87 | ,,,,,,,,86,8825.0,2520.0,1203.0
 88 | ,,,,,,,,87,8781.0,2508.0,1197.0
 89 | ,,,,,,,,88,8986.0,2566.0,1225.0
 90 | ,,,,,,,,89,9858.0,2815.0,1344.0
 91 | ,,,,,,,,90,10631.0,3036.0,1449.0
 92 | ,,,,,,,,91,10584.0,3022.0,1443.0
 93 | ,,,,,,,,92,10304.0,2943.0,1405.0
 94 | ,,,,,,,,93,9937.0,2838.0,1355.0
 95 | ,,,,,,,,94,9289.0,2653.0,1267.0
 96 | ,,,,,,,,95,8529.0,2436.0,1163.0
 97 | ,,,,,,,,96,7851.0,2242.0,1070.0
 98 | ,,,,,,,,97,7899.0,2256.0,1077.0
 99 | ,,,,,,,,98,7613.0,2174.0,1038.0
100 | ,,,,,,,,99,7477.0,2135.0,1020.0
101 | ,,,,,,,,100,7470.0,2134.0,1018.0
102 | ,,,,,,,,101,7699.0,2199.0,1050.0
103 | ,,,,,,,,102,8428.0,2407.0,1149.0
104 | ,,,,,,,,103,9761.0,2787.0,1331.0
105 | ,,,,,,,,104,10471.0,2991.0,1428.0
106 | ,,,,,,,,105,10643.0,3040.0,1451.0
107 | ,,,,,,,,106,10719.0,3061.0,1461.0
108 | ,,,,,,,,107,10802.0,3085.0,1473.0
109 | ,,,,,,,,108,10835.0,3095.0,1477.0
110 | ,,,,,,,,109,10820.0,3090.0,1475.0
111 | ,,,,,,,,110,10811.0,3087.0,1474.0
112 | ,,,,,,,,111,10750.0,3070.0,1465.0
113 | ,,,,,,,,112,10888.0,3110.0,1484.0
114 | ,,,,,,,,113,11635.0,3323.0,1586.0
115 | ,,,,,,,,114,12129.0,3464.0,1654.0
116 | ,,,,,,,,115,12036.0,3437.0,1641.0
117 | ,,,,,,,,116,11714.0,3346.0,1597.0
118 | ,,,,,,,,117,11207.0,3201.0,1528.0
119 | ,,,,,,,,118,10396.0,2969.0,1418.0
120 | ,,,,,,,,119,9383.0,2680.0,1279.0
121 | ,,,,,,,,120,8476.0,2420.0,1156.0
122 | 


--------------------------------------------------------------------------------
/precompile/case/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,CT_NG,ME_NG,MA_NG,None
  2 | 0,0.05306,0.05306,0.05306,0.0
  3 | 1,5.45,5.45,5.28,0.0
  4 | 2,5.45,5.45,5.28,0.0
  5 | 3,5.45,5.45,5.28,0.0
  6 | 4,5.45,5.45,5.28,0.0
  7 | 5,5.45,5.45,5.28,0.0
  8 | 6,5.45,5.45,5.28,0.0
  9 | 7,5.45,5.45,5.28,0.0
 10 | 8,5.45,5.45,5.28,0.0
 11 | 9,5.45,5.45,5.28,0.0
 12 | 10,5.45,5.45,5.28,0.0
 13 | 11,5.45,5.45,5.28,0.0
 14 | 12,5.45,5.45,5.28,0.0
 15 | 13,5.45,5.45,5.28,0.0
 16 | 14,5.45,5.45,5.28,0.0
 17 | 15,5.45,5.45,5.28,0.0
 18 | 16,5.45,5.45,5.28,0.0
 19 | 17,5.45,5.45,5.28,0.0
 20 | 18,5.45,5.45,5.28,0.0
 21 | 19,5.45,5.45,5.28,0.0
 22 | 20,5.45,5.45,5.28,0.0
 23 | 21,5.45,5.45,5.28,0.0
 24 | 22,5.45,5.45,5.28,0.0
 25 | 23,5.45,5.45,5.28,0.0
 26 | 24,5.45,5.45,5.28,0.0
 27 | 25,1.89,1.89,2.34,0.0
 28 | 26,1.89,1.89,2.34,0.0
 29 | 27,1.89,1.89,2.34,0.0
 30 | 28,1.89,1.89,2.34,0.0
 31 | 29,1.89,1.89,2.34,0.0
 32 | 30,1.89,1.89,2.34,0.0
 33 | 31,1.89,1.89,2.34,0.0
 34 | 32,1.89,1.89,2.34,0.0
 35 | 33,1.89,1.89,2.34,0.0
 36 | 34,1.89,1.89,2.34,0.0
 37 | 35,1.89,1.89,2.34,0.0
 38 | 36,1.89,1.89,2.34,0.0
 39 | 37,1.89,1.89,2.34,0.0
 40 | 38,1.89,1.89,2.34,0.0
 41 | 39,1.89,1.89,2.34,0.0
 42 | 40,1.89,1.89,2.34,0.0
 43 | 41,1.89,1.89,2.34,0.0
 44 | 42,1.89,1.89,2.34,0.0
 45 | 43,1.89,1.89,2.34,0.0
 46 | 44,1.89,1.89,2.34,0.0
 47 | 45,1.89,1.89,2.34,0.0
 48 | 46,1.89,1.89,2.34,0.0
 49 | 47,1.89,1.89,2.34,0.0
 50 | 48,1.89,1.89,2.34,0.0
 51 | 49,2.78,2.78,2.74,0.0
 52 | 50,2.78,2.78,2.74,0.0
 53 | 51,2.78,2.78,2.74,0.0
 54 | 52,2.78,2.78,2.74,0.0
 55 | 53,2.78,2.78,2.74,0.0
 56 | 54,2.78,2.78,2.74,0.0
 57 | 55,2.78,2.78,2.74,0.0
 58 | 56,2.78,2.78,2.74,0.0
 59 | 57,2.78,2.78,2.74,0.0
 60 | 58,2.78,2.78,2.74,0.0
 61 | 59,2.78,2.78,2.74,0.0
 62 | 60,2.78,2.78,2.74,0.0
 63 | 61,2.78,2.78,2.74,0.0
 64 | 62,2.78,2.78,2.74,0.0
 65 | 63,2.78,2.78,2.74,0.0
 66 | 64,2.78,2.78,2.74,0.0
 67 | 65,2.78,2.78,2.74,0.0
 68 | 66,2.78,2.78,2.74,0.0
 69 | 67,2.78,2.78,2.74,0.0
 70 | 68,2.78,2.78,2.74,0.0
 71 | 69,2.78,2.78,2.74,0.0
 72 | 70,2.78,2.78,2.74,0.0
 73 | 71,2.78,2.78,2.74,0.0
 74 | 72,2.78,2.78,2.74,0.0
 75 | 73,2.78,2.78,2.74,0.0
 76 | 74,2.78,2.78,2.74,0.0
 77 | 75,2.78,2.78,2.74,0.0
 78 | 76,2.78,2.78,2.74,0.0
 79 | 77,2.78,2.78,2.74,0.0
 80 | 78,2.78,2.78,2.74,0.0
 81 | 79,2.78,2.78,2.74,0.0
 82 | 80,2.78,2.78,2.74,0.0
 83 | 81,2.78,2.78,2.74,0.0
 84 | 82,2.78,2.78,2.74,0.0
 85 | 83,2.78,2.78,2.74,0.0
 86 | 84,2.78,2.78,2.74,0.0
 87 | 85,2.78,2.78,2.74,0.0
 88 | 86,2.78,2.78,2.74,0.0
 89 | 87,2.78,2.78,2.74,0.0
 90 | 88,2.78,2.78,2.74,0.0
 91 | 89,2.78,2.78,2.74,0.0
 92 | 90,2.78,2.78,2.74,0.0
 93 | 91,2.78,2.78,2.74,0.0
 94 | 92,2.78,2.78,2.74,0.0
 95 | 93,2.78,2.78,2.74,0.0
 96 | 94,2.78,2.78,2.74,0.0
 97 | 95,2.78,2.78,2.74,0.0
 98 | 96,2.78,2.78,2.74,0.0
 99 | 97,2.78,2.78,2.74,0.0
100 | 98,2.78,2.78,2.74,0.0
101 | 99,2.78,2.78,2.74,0.0
102 | 100,2.78,2.78,2.74,0.0
103 | 101,2.78,2.78,2.74,0.0
104 | 102,2.78,2.78,2.74,0.0
105 | 103,2.78,2.78,2.74,0.0
106 | 104,2.78,2.78,2.74,0.0
107 | 105,2.78,2.78,2.74,0.0
108 | 106,2.78,2.78,2.74,0.0
109 | 107,2.78,2.78,2.74,0.0
110 | 108,2.78,2.78,2.74,0.0
111 | 109,2.78,2.78,2.74,0.0
112 | 110,2.78,2.78,2.74,0.0
113 | 111,2.78,2.78,2.74,0.0
114 | 112,2.78,2.78,2.74,0.0
115 | 113,2.78,2.78,2.74,0.0
116 | 114,2.78,2.78,2.74,0.0
117 | 115,2.78,2.78,2.74,0.0
118 | 116,2.78,2.78,2.74,0.0
119 | 117,2.78,2.78,2.74,0.0
120 | 118,2.78,2.78,2.74,0.0
121 | 119,2.78,2.78,2.74,0.0
122 | 120,2.78,2.78,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/precompile/case/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,MA_natural_gas_combined_cycle,MA_solar_pv,CT_natural_gas_combined_cycle,CT_onshore_wind,CT_solar_pv,ME_natural_gas_combined_cycle,ME_onshore_wind,MA_battery,CT_battery,ME_battery
  2 | 1,1.0,0.0,1.0,0.705949306,0.0,1.0,0.780201435,1.0,1.0,1.0
  3 | 2,1.0,0.0,1.0,0.834924579,0.0,1.0,0.786337197,1.0,1.0,1.0
  4 | 3,1.0,0.0,1.0,0.832703173,0.0,1.0,0.797727823,1.0,1.0,1.0
  5 | 4,1.0,0.0,1.0,0.727586865,0.0,1.0,0.823553085,1.0,1.0,1.0
  6 | 5,1.0,0.0,1.0,0.626110256,0.0,1.0,0.758514643,1.0,1.0,1.0
  7 | 6,1.0,0.0,1.0,0.721315265,0.0,1.0,0.721159458,1.0,1.0,1.0
  8 | 7,1.0,0.0,1.0,0.785158873,0.0,1.0,0.718788862,1.0,1.0,1.0
  9 | 8,1.0,0.0,1.0,0.59819752,0.0,1.0,0.807962596,1.0,1.0,1.0
 10 | 9,1.0,0.0,1.0,0.567111433,0.0,1.0,0.934006155,1.0,1.0,1.0
 11 | 10,1.0,0.003,1.0,0.326491237,0.0064,1.0,0.948075294,1.0,1.0,1.0
 12 | 11,1.0,0.0852,1.0,0.390583217,0.116,1.0,0.981830955,1.0,1.0,1.0
 13 | 12,1.0,0.1324,1.0,0.287067473,0.0999,1.0,0.98286736,1.0,1.0,1.0
 14 | 13,1.0,0.1041,1.0,0.229321212,0.1202,1.0,0.940139234,1.0,1.0,1.0
 15 | 14,1.0,0.1276,1.0,0.154025629,0.192,1.0,0.877916396,1.0,1.0,1.0
 16 | 15,1.0,0.1108,1.0,0.115687042,0.1404,1.0,0.879350662,1.0,1.0,1.0
 17 | 16,1.0,0.0825,1.0,0.054644316,0.0697,1.0,0.896614492,1.0,1.0,1.0
 18 | 17,1.0,0.0043,1.0,0.088804618,0.0,1.0,0.837487161,1.0,1.0,1.0
 19 | 18,1.0,0.0,1.0,0.72049433,0.0,1.0,0.721934199,1.0,1.0,1.0
 20 | 19,1.0,0.0,1.0,0.834395289,0.0,1.0,0.659873962,1.0,1.0,1.0
 21 | 20,1.0,0.0,1.0,0.950648248,0.0,1.0,0.497243434,1.0,1.0,1.0
 22 | 21,1.0,0.0,1.0,0.999782085,0.0,1.0,0.501666129,1.0,1.0,1.0
 23 | 22,1.0,0.0,1.0,1.0,0.0,1.0,0.587158203,1.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0,0.0,1.0,0.723627448,1.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0,0.0,1.0,0.83999908,1.0,1.0,1.0
 26 | 25,1.0,0.0,1.0,0.46454832,0.0,1.0,0.091273665,1.0,1.0,1.0
 27 | 26,1.0,0.0,1.0,0.619871557,0.0,1.0,0.153806269,1.0,1.0,1.0
 28 | 27,1.0,0.0,1.0,0.782924116,0.0,1.0,0.185553581,1.0,1.0,1.0
 29 | 28,1.0,0.0,1.0,0.544351637,0.0,1.0,0.213648766,1.0,1.0,1.0
 30 | 29,1.0,0.0,1.0,0.388339579,0.0,1.0,0.246533602,1.0,1.0,1.0
 31 | 30,1.0,0.0259,1.0,0.188761607,0.0003,1.0,0.20844081,1.0,1.0,1.0
 32 | 31,1.0,0.096,1.0,0.056012779,0.0996,1.0,0.15391171,1.0,1.0,1.0
 33 | 32,1.0,0.2133,1.0,0.011642265,0.2184,1.0,0.141758978,1.0,1.0,1.0
 34 | 33,1.0,0.3624,1.0,0.005336904,0.3801,1.0,0.141372338,1.0,1.0,1.0
 35 | 34,1.0,0.4795,1.0,0.036412083,0.497,1.0,0.176750541,1.0,1.0,1.0
 36 | 35,1.0,0.5633,1.0,0.113800742,0.566,1.0,0.240983516,1.0,1.0,1.0
 37 | 36,1.0,0.5708,1.0,0.309363514,0.5632,1.0,0.291923583,1.0,1.0,1.0
 38 | 37,1.0,0.534,1.0,0.537328064,0.5305,1.0,0.310834885,1.0,1.0,1.0
 39 | 38,1.0,0.5641,1.0,0.75558275,0.5783,1.0,0.32536751,1.0,1.0,1.0
 40 | 39,1.0,0.5537,1.0,0.804839015,0.5735,1.0,0.281852484,1.0,1.0,1.0
 41 | 40,1.0,0.457,1.0,0.814335048,0.4853,1.0,0.264059514,1.0,1.0,1.0
 42 | 41,1.0,0.3439,1.0,0.82010901,0.4051,1.0,0.214059621,1.0,1.0,1.0
 43 | 42,1.0,0.1642,1.0,0.700861871,0.2135,1.0,0.283645898,1.0,1.0,1.0
 44 | 43,1.0,0.0638,1.0,0.377394527,0.0909,1.0,0.375071973,1.0,1.0,1.0
 45 | 44,1.0,0.0,1.0,0.301600695,0.0,1.0,0.475409746,1.0,1.0,1.0
 46 | 45,1.0,0.0,1.0,0.539320409,0.0,1.0,0.512138724,1.0,1.0,1.0
 47 | 46,1.0,0.0,1.0,0.604777336,0.0,1.0,0.561678171,1.0,1.0,1.0
 48 | 47,1.0,0.0,1.0,0.605847716,0.0,1.0,0.698435903,1.0,1.0,1.0
 49 | 48,1.0,0.0,1.0,0.867583036,0.0,1.0,0.629852653,1.0,1.0,1.0
 50 | 49,1.0,0.0,1.0,0.566133976,0.0,1.0,0.767054141,1.0,1.0,1.0
 51 | 50,1.0,0.0,1.0,0.705252767,0.0,1.0,0.732545972,1.0,1.0,1.0
 52 | 51,1.0,0.0,1.0,0.513045669,0.0,1.0,0.767071962,1.0,1.0,1.0
 53 | 52,1.0,0.0,1.0,0.510314405,0.0,1.0,0.481121004,1.0,1.0,1.0
 54 | 53,1.0,0.0,1.0,0.729553521,0.0,1.0,0.413037866,1.0,1.0,1.0
 55 | 54,1.0,0.0,1.0,0.761322439,0.0,1.0,0.607999206,1.0,1.0,1.0
 56 | 55,1.0,0.0,1.0,0.493663102,0.0,1.0,0.52047503,1.0,1.0,1.0
 57 | 56,1.0,0.0002,1.0,0.36528033,0.0,1.0,0.459775805,1.0,1.0,1.0
 58 | 57,1.0,0.2048,1.0,0.331763327,0.2009,1.0,0.419153154,1.0,1.0,1.0
 59 | 58,1.0,0.3617,1.0,0.315054476,0.3846,1.0,0.349077016,1.0,1.0,1.0
 60 | 59,1.0,0.4551,1.0,0.36612308,0.4206,1.0,0.233005673,1.0,1.0,1.0
 61 | 60,1.0,0.4406,1.0,0.407980204,0.4248,1.0,0.175957173,1.0,1.0,1.0
 62 | 61,1.0,0.3895,1.0,0.788694203,0.4079,1.0,0.30339554,1.0,1.0,1.0
 63 | 62,1.0,0.3436,1.0,0.471933067,0.3871,1.0,0.439860284,1.0,1.0,1.0
 64 | 63,1.0,0.2994,1.0,0.671246827,0.3139,1.0,0.449415863,1.0,1.0,1.0
 65 | 64,1.0,0.1652,1.0,0.435648322,0.2324,1.0,0.542967975,1.0,1.0,1.0
 66 | 65,1.0,0.012,1.0,0.209347382,0.0679,1.0,0.240013599,1.0,1.0,1.0
 67 | 66,1.0,0.0,1.0,0.228019759,0.0,1.0,0.114786729,1.0,1.0,1.0
 68 | 67,1.0,0.0,1.0,0.536509931,0.0,1.0,0.591418445,1.0,1.0,1.0
 69 | 68,1.0,0.0,1.0,0.538068175,0.0,1.0,0.592992246,1.0,1.0,1.0
 70 | 69,1.0,0.0,1.0,0.230950385,0.0,1.0,0.078851521,1.0,1.0,1.0
 71 | 70,1.0,0.0,1.0,0.169289395,0.0,1.0,0.0990365,1.0,1.0,1.0
 72 | 71,1.0,0.0,1.0,0.201660678,0.0,1.0,0.135033727,1.0,1.0,1.0
 73 | 72,1.0,0.0,1.0,0.138939247,0.0,1.0,0.119213603,1.0,1.0,1.0
 74 | 73,1.0,0.0,1.0,0.007332826,0.0,1.0,0.000770831,1.0,1.0,1.0
 75 | 74,1.0,0.0,1.0,0.009890662,0.0,1.0,0.000897505,1.0,1.0,1.0
 76 | 75,1.0,0.0,1.0,0.010256416,0.0,1.0,0.000182501,1.0,1.0,1.0
 77 | 76,1.0,0.0,1.0,0.00962998,0.0,1.0,0.000173381,1.0,1.0,1.0
 78 | 77,1.0,0.0,1.0,0.006760235,0.0,1.0,0.000792753,1.0,1.0,1.0
 79 | 78,1.0,0.0,1.0,0.008187366,0.0,1.0,0.001113133,1.0,1.0,1.0
 80 | 79,1.0,0.0,1.0,0.006208578,0.0,1.0,0.000379189,1.0,1.0,1.0
 81 | 80,1.0,0.0732,1.0,0.000949961,0.0626,1.0,0.000776284,1.0,1.0,1.0
 82 | 81,1.0,0.3249,1.0,0.00813111,0.3298,1.0,0.002293999,1.0,1.0,1.0
 83 | 82,1.0,0.5055,1.0,0.023034059,0.5071,1.0,0.001693855,1.0,1.0,1.0
 84 | 83,1.0,0.6259,1.0,0.036741018,0.6188,1.0,0.003433702,1.0,1.0,1.0
 85 | 84,1.0,0.6462,1.0,0.018753242,0.6542,1.0,0.000721696,1.0,1.0,1.0
 86 | 85,1.0,0.6498,1.0,0.014817446,0.6549,1.0,0.001589493,1.0,1.0,1.0
 87 | 86,1.0,0.6233,1.0,0.001068622,0.6278,1.0,0.000175662,1.0,1.0,1.0
 88 | 87,1.0,0.4959,1.0,0.000394323,0.4984,1.0,9.61e-5,1.0,1.0,1.0
 89 | 88,1.0,0.2951,1.0,0.000163447,0.3003,1.0,0.000151504,1.0,1.0,1.0
 90 | 89,1.0,0.0327,1.0,1.68e-5,0.0558,1.0,2.09e-5,1.0,1.0,1.0
 91 | 90,1.0,0.0,1.0,5.27e-5,0.0,1.0,4.39e-6,1.0,1.0,1.0
 92 | 91,1.0,0.0,1.0,0.001216543,0.0,1.0,3.11e-5,1.0,1.0,1.0
 93 | 92,1.0,0.0,1.0,0.002289178,0.0,1.0,0.001215237,1.0,1.0,1.0
 94 | 93,1.0,0.0,1.0,0.004496836,0.0,1.0,0.001903116,1.0,1.0,1.0
 95 | 94,1.0,0.0,1.0,0.014883439,0.0,1.0,0.001491165,1.0,1.0,1.0
 96 | 95,1.0,0.0,1.0,0.026143538,0.0,1.0,0.001652725,1.0,1.0,1.0
 97 | 96,1.0,0.0,1.0,0.039016221,0.0,1.0,0.001880916,1.0,1.0,1.0
 98 | 97,1.0,0.0,1.0,1.83e-5,0.0,1.0,0.03362409,1.0,1.0,1.0
 99 | 98,1.0,0.0,1.0,0.0,0.0,1.0,0.021175332,1.0,1.0,1.0
100 | 99,1.0,0.0,1.0,0.0,0.0,1.0,0.00341103,1.0,1.0,1.0
101 | 100,1.0,0.0,1.0,0.0,0.0,1.0,0.002389108,1.0,1.0,1.0
102 | 101,1.0,0.0,1.0,0.0,0.0,1.0,0.003944313,1.0,1.0,1.0
103 | 102,1.0,0.0,1.0,0.0,0.0,1.0,0.003100403,1.0,1.0,1.0
104 | 103,1.0,0.0,1.0,0.000799759,0.0,1.0,0.003511916,1.0,1.0,1.0
105 | 104,1.0,0.0,1.0,0.00032822,0.0,1.0,0.001128754,1.0,1.0,1.0
106 | 105,1.0,0.1029,1.0,0.0,0.0745,1.0,0.000772598,1.0,1.0,1.0
107 | 106,1.0,0.2427,1.0,0.0,0.2522,1.0,0.000660239,1.0,1.0,1.0
108 | 107,1.0,0.3353,1.0,5.05e-6,0.3334,1.0,0.000466652,1.0,1.0,1.0
109 | 108,1.0,0.3693,1.0,0.0,0.3485,1.0,4.58e-5,1.0,1.0,1.0
110 | 109,1.0,0.321,1.0,0.0,0.3388,1.0,1.65e-5,1.0,1.0,1.0
111 | 110,1.0,0.2798,1.0,0.0,0.3379,1.0,1.49e-6,1.0,1.0,1.0
112 | 111,1.0,0.2887,1.0,6.15e-5,0.3133,1.0,0.0,1.0,1.0,1.0
113 | 112,1.0,0.1717,1.0,0.000322065,0.1924,1.0,0.000578687,1.0,1.0,1.0
114 | 113,1.0,0.0,1.0,0.000258478,0.0,1.0,4.49e-7,1.0,1.0,1.0
115 | 114,1.0,0.0,1.0,0.000254347,0.0,1.0,4.73e-6,1.0,1.0,1.0
116 | 115,1.0,0.0,1.0,0.00095264,0.0,1.0,0.000105247,1.0,1.0,1.0
117 | 116,1.0,0.0,1.0,0.001598039,0.0,1.0,0.0005258,1.0,1.0,1.0
118 | 117,1.0,0.0,1.0,0.002736128,0.0,1.0,0.001642361,1.0,1.0,1.0
119 | 118,1.0,0.0,1.0,0.004819703,0.0,1.0,0.001275363,1.0,1.0,1.0
120 | 119,1.0,0.0,1.0,0.002815315,0.0,1.0,0.001441495,1.0,1.0,1.0
121 | 120,1.0,0.0,1.0,0.001111662,0.0,1.0,0.002369676,1.0,1.0,1.0
122 | 


--------------------------------------------------------------------------------
/precompile/case/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0
4 | ME,z3,,,,,,,,,,,


--------------------------------------------------------------------------------
/precompile/case/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/precompile/case/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,317,3
  3 | 2,317,3
  4 | 3,317,3
  5 | 4,317,3
  6 | 5,317,3
  7 | 6,317,3
  8 | 7,317,3
  9 | 8,317,3
 10 | 9,317,3
 11 | 10,317,3
 12 | 11,317,3
 13 | 12,317,3
 14 | 13,317,3
 15 | 14,317,3
 16 | 15,317,3
 17 | 16,317,3
 18 | 17,317,3
 19 | 18,317,3
 20 | 19,317,3
 21 | 20,317,3
 22 | 21,317,3
 23 | 22,317,3
 24 | 23,317,3
 25 | 24,317,3
 26 | 25,317,3
 27 | 26,317,3
 28 | 27,27,1
 29 | 28,317,3
 30 | 29,317,3
 31 | 30,317,3
 32 | 31,317,3
 33 | 32,317,3
 34 | 33,317,3
 35 | 34,317,3
 36 | 35,317,3
 37 | 36,317,3
 38 | 37,317,3
 39 | 38,317,3
 40 | 39,317,3
 41 | 40,317,3
 42 | 41,317,3
 43 | 42,317,3
 44 | 43,317,3
 45 | 44,317,3
 46 | 45,317,3
 47 | 46,317,3
 48 | 47,317,3
 49 | 48,317,3
 50 | 49,317,3
 51 | 50,317,3
 52 | 51,317,3
 53 | 52,317,3
 54 | 53,317,3
 55 | 54,317,3
 56 | 55,317,3
 57 | 56,317,3
 58 | 57,317,3
 59 | 58,317,3
 60 | 59,317,3
 61 | 60,317,3
 62 | 61,317,3
 63 | 62,317,3
 64 | 63,317,3
 65 | 64,317,3
 66 | 65,317,3
 67 | 66,317,3
 68 | 67,317,3
 69 | 68,317,3
 70 | 69,317,3
 71 | 70,317,3
 72 | 71,317,3
 73 | 72,317,3
 74 | 73,317,3
 75 | 74,317,3
 76 | 75,317,3
 77 | 76,317,3
 78 | 77,317,3
 79 | 78,317,3
 80 | 79,317,3
 81 | 80,317,3
 82 | 81,317,3
 83 | 82,317,3
 84 | 83,317,3
 85 | 84,317,3
 86 | 85,317,3
 87 | 86,317,3
 88 | 87,317,3
 89 | 88,317,3
 90 | 89,317,3
 91 | 90,317,3
 92 | 91,317,3
 93 | 92,317,3
 94 | 93,317,3
 95 | 94,317,3
 96 | 95,317,3
 97 | 96,317,3
 98 | 97,317,3
 99 | 98,317,3
100 | 99,317,3
101 | 100,317,3
102 | 101,317,3
103 | 102,317,3
104 | 103,317,3
105 | 104,317,3
106 | 105,317,3
107 | 106,317,3
108 | 107,317,3
109 | 108,317,3
110 | 109,317,3
111 | 110,317,3
112 | 111,317,3
113 | 112,317,3
114 | 113,317,3
115 | 114,317,3
116 | 115,317,3
117 | 116,317,3
118 | 117,317,3
119 | 118,317,3
120 | 119,317,3
121 | 120,317,3
122 | 121,317,3
123 | 122,317,3
124 | 123,317,3
125 | 124,317,3
126 | 125,317,3
127 | 126,317,3
128 | 127,317,3
129 | 128,317,3
130 | 129,317,3
131 | 130,317,3
132 | 131,317,3
133 | 132,317,3
134 | 133,317,3
135 | 134,317,3
136 | 135,317,3
137 | 136,317,3
138 | 137,317,3
139 | 138,317,3
140 | 139,317,3
141 | 140,317,3
142 | 141,317,3
143 | 142,317,3
144 | 143,317,3
145 | 144,317,3
146 | 145,317,3
147 | 146,317,3
148 | 147,317,3
149 | 148,317,3
150 | 149,317,3
151 | 150,317,3
152 | 151,317,3
153 | 152,317,3
154 | 153,317,3
155 | 154,317,3
156 | 155,317,3
157 | 156,317,3
158 | 157,317,3
159 | 158,317,3
160 | 159,317,3
161 | 160,317,3
162 | 161,317,3
163 | 162,317,3
164 | 163,317,3
165 | 164,317,3
166 | 165,317,3
167 | 166,317,3
168 | 167,317,3
169 | 168,317,3
170 | 169,317,3
171 | 170,317,3
172 | 171,317,3
173 | 172,317,3
174 | 173,317,3
175 | 174,317,3
176 | 175,317,3
177 | 176,317,3
178 | 177,317,3
179 | 178,317,3
180 | 179,317,3
181 | 180,317,3
182 | 181,317,3
183 | 182,317,3
184 | 183,317,3
185 | 184,317,3
186 | 185,317,3
187 | 186,317,3
188 | 187,317,3
189 | 188,317,3
190 | 189,317,3
191 | 190,317,3
192 | 191,317,3
193 | 192,317,3
194 | 193,317,3
195 | 194,317,3
196 | 195,317,3
197 | 196,317,3
198 | 197,317,3
199 | 198,198,2
200 | 199,317,3
201 | 200,317,3
202 | 201,317,3
203 | 202,317,3
204 | 203,317,3
205 | 204,317,3
206 | 205,317,3
207 | 206,317,3
208 | 207,317,3
209 | 208,317,3
210 | 209,317,3
211 | 210,317,3
212 | 211,317,3
213 | 212,317,3
214 | 213,317,3
215 | 214,317,3
216 | 215,317,3
217 | 216,317,3
218 | 217,317,3
219 | 218,317,3
220 | 219,317,3
221 | 220,317,3
222 | 221,317,3
223 | 222,317,3
224 | 223,317,3
225 | 224,317,3
226 | 225,317,3
227 | 226,317,3
228 | 227,317,3
229 | 228,317,3
230 | 229,317,3
231 | 230,317,3
232 | 231,317,3
233 | 232,317,3
234 | 233,317,3
235 | 234,317,3
236 | 235,317,3
237 | 236,317,3
238 | 237,317,3
239 | 238,317,3
240 | 239,317,3
241 | 240,317,3
242 | 241,317,3
243 | 242,317,3
244 | 243,317,3
245 | 244,317,3
246 | 245,317,3
247 | 246,317,3
248 | 247,317,3
249 | 248,317,3
250 | 249,317,3
251 | 250,317,3
252 | 251,317,3
253 | 252,317,3
254 | 253,317,3
255 | 254,317,3
256 | 255,317,3
257 | 256,317,3
258 | 257,317,3
259 | 258,317,3
260 | 259,317,3
261 | 260,317,3
262 | 261,317,3
263 | 262,317,3
264 | 263,317,3
265 | 264,317,3
266 | 265,317,3
267 | 266,317,3
268 | 267,317,3
269 | 268,317,3
270 | 269,317,3
271 | 270,317,3
272 | 271,317,3
273 | 272,317,3
274 | 273,317,3
275 | 274,317,3
276 | 275,317,3
277 | 276,317,3
278 | 277,317,3
279 | 278,317,3
280 | 279,317,3
281 | 280,317,3
282 | 281,317,3
283 | 282,317,3
284 | 283,317,3
285 | 284,317,3
286 | 285,317,3
287 | 286,317,3
288 | 287,317,3
289 | 288,317,3
290 | 289,317,3
291 | 290,317,3
292 | 291,317,3
293 | 292,317,3
294 | 293,317,3
295 | 294,317,3
296 | 295,317,3
297 | 296,317,3
298 | 297,317,3
299 | 298,317,3
300 | 299,317,3
301 | 300,317,3
302 | 301,317,3
303 | 302,317,3
304 | 303,317,3
305 | 304,317,3
306 | 305,317,3
307 | 306,317,3
308 | 307,317,3
309 | 308,317,3
310 | 309,317,3
311 | 310,317,3
312 | 311,317,3
313 | 312,317,3
314 | 313,317,3
315 | 314,317,3
316 | 315,317,3
317 | 316,317,3
318 | 317,317,3
319 | 318,317,3
320 | 319,317,3
321 | 320,317,3
322 | 321,317,3
323 | 322,322,4
324 | 323,317,3
325 | 324,317,3
326 | 325,317,3
327 | 326,317,3
328 | 327,317,3
329 | 328,317,3
330 | 329,317,3
331 | 330,317,3
332 | 331,331,5
333 | 332,317,3
334 | 333,317,3
335 | 334,317,3
336 | 335,317,3
337 | 336,317,3
338 | 337,317,3
339 | 338,317,3
340 | 339,317,3
341 | 340,317,3
342 | 341,317,3
343 | 342,317,3
344 | 343,317,3
345 | 344,317,3
346 | 345,317,3
347 | 346,317,3
348 | 347,317,3
349 | 348,317,3
350 | 349,317,3
351 | 350,317,3
352 | 351,317,3
353 | 352,317,3
354 | 353,317,3
355 | 354,317,3
356 | 355,317,3
357 | 356,317,3
358 | 357,317,3
359 | 358,317,3
360 | 359,317,3
361 | 360,317,3
362 | 361,317,3
363 | 362,317,3
364 | 363,317,3
365 | 364,317,3
366 | 365,317,3
367 | 


--------------------------------------------------------------------------------
/src/GenX.jl:
--------------------------------------------------------------------------------
 1 | module GenX
 2 | 
 3 | #export package_activate
 4 | export configure_settings
 5 | export configure_solver
 6 | export load_inputs
 7 | export load_dataframe
 8 | export generate_model
 9 | export solve_model
10 | export write_outputs
11 | export cluster_inputs
12 | export mga
13 | export morris
14 | export choose_output_dir
15 | 
16 | # Multi-stage methods
17 | export run_ddp
18 | export configure_multi_stage_inputs
19 | export load_inputs_multi_stage
20 | export compute_cumulative_min_retirements!
21 | export write_multi_stage_outputs
22 | export run_genx_case!
23 | export run_timedomainreduction!
24 | 
25 | using JuMP # used for mathematical programming
26 | using DataFrames #This package allows put together data into a matrix
27 | using CSV
28 | using StatsBase
29 | using LinearAlgebra
30 | using YAML
31 | using Dates
32 | using Clustering
33 | using Distances
34 | using Combinatorics
35 | using Random
36 | using RecursiveArrayTools
37 | using Statistics
38 | using HiGHS
39 | using Logging
40 | 
41 | using PrecompileTools: @compile_workload
42 | 
43 | # Global scaling factor used when ParameterScale is on to shift values from MW to GW
44 | # DO NOT CHANGE THIS (Unless you do so very carefully)
45 | # To translate MW to GW, divide by ModelScalingFactor
46 | # To translate $ to $M, multiply by ModelScalingFactor^2
47 | # To translate $/MWh to $M/GWh, multiply by ModelScalingFactor
48 | const ModelScalingFactor = 1e+3
49 | 
50 | """
51 | An abstract type that should be subtyped for users creating GenX resources.
52 | """
53 | abstract type AbstractResource end
54 | 
55 | # thanks, ChatGPT
56 | function include_all_in_folder(folder)
57 |     base_path = joinpath(@__DIR__, folder)
58 |     for (root, dirs, files) in Base.Filesystem.walkdir(base_path)
59 |         for file in files
60 |             if endswith(file, ".jl")
61 |                 include(joinpath(root, file))
62 |             end
63 |         end
64 |     end
65 | end
66 | 
67 | include_all_in_folder("case_runners")
68 | include_all_in_folder("configure_settings")
69 | include_all_in_folder("configure_solver")
70 | include_all_in_folder("load_inputs")
71 | include_all_in_folder("model")
72 | include_all_in_folder("write_outputs")
73 | 
74 | include("time_domain_reduction/time_domain_reduction.jl")
75 | include("time_domain_reduction/precluster.jl")
76 | include("time_domain_reduction/full_time_series_reconstruction.jl")
77 | 
78 | include_all_in_folder("multi_stage")
79 | include_all_in_folder("additional_tools")
80 | 
81 | include("startup/genx_startup.jl")
82 | 
83 | end
84 | 


--------------------------------------------------------------------------------
/src/additional_tools/method_of_morris.jl:
--------------------------------------------------------------------------------
  1 | const SEED = 1234
  2 | 
  3 | @doc raw"""
  4 | 	morris(EP::Model, path::AbstractString, setup::Dict, inputs::Dict, outpath::AbstractString, OPTIMIZER)
  5 | 
  6 | We apply the Method of Morris developed by [Morris, M., 1991](https://www.jstor.org/stable/1269043) in order to identify the input parameters that produce the largest change on total system cost. Method of Morris falls under the simplest class of one-factor-at-a-time (OAT) screening techniques. It assumes l levels per input factor and generates a set of trajectories through the input space. As such, the Method of Morris generates a grid of uncertain model input parameters, $x_i, i=1, ..., k$,, where the range $[x_i^{-}, x_i^{+}$ of each uncertain input parameter i is split into l intervals of equal length. Each trajectory starts at different realizations of input parameters chosen at random and are built by successively selecting one of the inputs randomly and moving it to an adjacent level. These trajectories are used to estimate the mean and the standard deviation of each input parameter on total system cost. A high estimated mean indicates that the input parameter is important; a high estimated standard deviation indicates important interactions between that input parameter and other inputs.
  7 | """
  8 | struct MatSpread{T1, T2}
  9 |     mat::T1
 10 |     spread::T2
 11 | end
 12 | 
 13 | struct MorrisResult{T1, T2}
 14 |     means::T1
 15 |     means_star::T1
 16 |     variances::T1
 17 |     elementary_effects::T2
 18 | end
 19 | 
 20 | function generate_design_matrix(p_range, p_steps, rng; len_design_mat, groups)
 21 |     ps = [range(p_range[i][1], stop = p_range[i][2], length = p_steps[i])
 22 |           for i in 1:length(p_range)]
 23 |     indices = [rand(rng, 1:i) for i in p_steps]
 24 |     all_idxs_original = Vector{typeof(indices)}(undef, len_design_mat)
 25 | 
 26 |     for i in 1:len_design_mat
 27 |         j = rand(rng, 1:length(p_range))
 28 |         indices[j] += (rand(rng) < 0.5 ? -1 : 1)
 29 |         if indices[j] > p_steps[j]
 30 |             indices[j] -= 2
 31 |         elseif indices[j] < 1.0
 32 |             indices[j] += 2
 33 |         end
 34 |         all_idxs_original[i] = copy(indices)
 35 |     end
 36 | 
 37 |     df_all_idx_original = DataFrame(all_idxs_original, :auto)
 38 |     println(df_all_idx_original)
 39 |     all_idxs = similar(df_all_idx_original)
 40 |     for g in unique(groups)
 41 |         temp = findall(x -> x == g, groups)
 42 |         for k in temp
 43 |             all_idxs[k, :] = df_all_idx_original[temp[1], :]
 44 |         end
 45 |     end
 46 |     println(all_idxs)
 47 | 
 48 |     B = Array{Array{Float64}}(undef, len_design_mat)
 49 |     for j in 1:len_design_mat
 50 |         cur_p = [ps[u][(all_idxs[:, j][u])] for u in 1:length(p_range)]
 51 |         B[j] = cur_p
 52 |     end
 53 |     reduce(hcat, B)
 54 | end
 55 | 
 56 | function calculate_spread(matrix)
 57 |     spread = 0.0
 58 |     for i in 2:size(matrix, 2)
 59 |         spread += sqrt(sum(abs2.(matrix[:, i] - matrix[:, i - 1])))
 60 |     end
 61 |     spread
 62 | end
 63 | 
 64 | function sample_matrices(p_range,
 65 |         p_steps,
 66 |         rng;
 67 |         num_trajectory,
 68 |         total_num_trajectory,
 69 |         len_design_mat,
 70 |         groups)
 71 |     matrix_array = []
 72 |     println(num_trajectory)
 73 |     println(total_num_trajectory)
 74 |     if total_num_trajectory < num_trajectory
 75 |         error("total_num_trajectory should be greater than num_trajectory preferably atleast 3-4 times higher")
 76 |     end
 77 |     for i in 1:total_num_trajectory
 78 |         mat = generate_design_matrix(p_range, p_steps, rng; len_design_mat, groups)
 79 |         spread = calculate_spread(mat)
 80 |         push!(matrix_array, MatSpread(mat, spread))
 81 |     end
 82 |     sort!(matrix_array, by = x -> x.spread, rev = true)
 83 |     matrices = [i.mat for i in matrix_array[1:num_trajectory]]
 84 |     reduce(hcat, matrices)
 85 | end
 86 | 
 87 | function my_gsa(f,
 88 |         p_steps,
 89 |         num_trajectory,
 90 |         total_num_trajectory,
 91 |         p_range::AbstractVector,
 92 |         len_design_mat,
 93 |         groups,
 94 |         random)
 95 |     rng = Random.default_rng()
 96 |     if !random
 97 |         Random.seed!(SEED)
 98 |     end
 99 |     design_matrices_original = sample_matrices(p_range, p_steps, rng; num_trajectory,
100 |         total_num_trajectory, len_design_mat, groups)
101 |     println(design_matrices_original)
102 |     L = DataFrame(design_matrices_original, :auto)
103 |     println(L)
104 | 
105 |     distinct_trajectories = Array{Int64}(undef, num_trajectory)
106 |     design_matrices = Matrix(DataFrame(unique(last,
107 |         pairs(eachcol(L[!, 1:len_design_mat])))))
108 |     distinct_trajectories[1] = length(design_matrices[1, :])
109 |     if num_trajectory > 1
110 |         for i in 2:num_trajectory
111 |             design_matrices = hcat(design_matrices,
112 |                 Matrix(DataFrame(unique(last,
113 |                     pairs(eachcol(L[!,
114 |                         ((i - 1) * len_design_mat + 1):(i * len_design_mat)]))))))
115 |             distinct_trajectories[i] = length(Matrix(DataFrame(unique(last,
116 |                 pairs(eachcol(L[!, ((i - 1) * len_design_mat + 1):(i * len_design_mat)])))))[
117 |                 1,
118 |                 :])
119 |         end
120 |     end
121 |     println(distinct_trajectories)
122 |     println(design_matrices)
123 | 
124 |     multioutput = false
125 |     desol = false
126 |     local y_size
127 | 
128 |     _y = [f(design_matrices[:, i]) for i in 1:size(design_matrices, 2)]
129 |     multioutput = !(eltype(_y) <: Number)
130 |     if eltype(_y) <: RecursiveArrayTools.AbstractVectorOfArray
131 |         y_size = size(_y[1])
132 |         _y = vec.(_y)
133 |         desol = true
134 |     end
135 |     all_y = multioutput ? reduce(hcat, _y) : _y
136 |     println(all_y)
137 |     effects = []
138 |     while (length(effects) < length(groups))
139 |         push!(effects, Vector{Float64}[])
140 |     end
141 |     for i in 1:num_trajectory
142 |         len_design_mat = distinct_trajectories[i]
143 |         y1 = multioutput ? all_y[:, (i - 1) * len_design_mat + 1] :
144 |              all_y[(i - 1) * len_design_mat + 1]
145 |         for j in ((i - 1) * len_design_mat + 1):((i * len_design_mat) - 1)
146 |             y2 = y1
147 |             del = design_matrices[:, j + 1] - design_matrices[:, j]
148 |             change_index = 0
149 |             for k in 1:length(del)
150 |                 if abs(del[k]) > 0
151 |                     change_index = k
152 |                     break
153 |                 end
154 |             end
155 |             del = sum(del)
156 |             y1 = multioutput ? all_y[:, j + 1] : all_y[j + 1]
157 |             effect = @. (y1 - y2) / (del)
158 |             elem_effect = typeof(y1) <: Number ? effect : mean(effect, dims = 2)
159 |             temp_g_index = findall(x -> x == groups[change_index], groups)
160 |             for g in temp_g_index
161 |                 println(effects)
162 |                 println(elem_effect)
163 |                 push!(effects[g], elem_effect)
164 |             end
165 |         end
166 |     end
167 |     means = eltype(effects[1])[]
168 |     means_star = eltype(effects[1])[]
169 |     variances = eltype(effects[1])[]
170 |     for k in effects
171 |         if !isempty(k)
172 |             push!(means, mean(k))
173 |             push!(means_star, mean(x -> abs.(x), k))
174 |             push!(variances, var(k))
175 |         else
176 |             push!(means, zero(effects[1][1]))
177 |             push!(means_star, zero(effects[1][1]))
178 |             push!(variances, zero(effects[1][1]))
179 |         end
180 |     end
181 |     if desol
182 |         f_shape = x -> [reshape(x[:, i], y_size) for i in 1:size(x, 2)]
183 |         means = map(f_shape, means)
184 |         means_star = map(f_shape, means_star)
185 |         variances = map(f_shape, variances)
186 |     end
187 |     MorrisResult(reduce(hcat, means),
188 |         reduce(hcat, means_star),
189 |         reduce(hcat, variances),
190 |         effects)
191 | end
192 | function morris(EP::Model,
193 |         path::AbstractString,
194 |         setup::Dict,
195 |         inputs::Dict,
196 |         outpath::AbstractString,
197 |         OPTIMIZER;
198 |         random = true)
199 | 
200 |     # Reading the input parameters
201 |     Morris_range = load_dataframe(joinpath(path, "Method_of_morris_range.csv"))
202 |     groups = Morris_range[!, :Group]
203 |     p_steps = Morris_range[!, :p_steps]
204 |     total_num_trajectory = Morris_range[!, :total_num_trajectory][1]
205 |     num_trajectory = Morris_range[!, :num_trajectory][1]
206 |     len_design_mat = Morris_range[!, :len_design_mat][1]
207 |     uncertain_columns = unique(Morris_range[!, :Parameter])
208 |     #save_parameters = zeros(length(Morris_range[!,:Parameter]))
209 |     gen = inputs["RESOURCES"]
210 | 
211 |     # Creating the range of uncertain parameters in terms of absolute values
212 |     sigma = zeros((1, 2))
213 |     for column in uncertain_columns
214 |         col_sym = Symbol(lowercase(column))
215 |         # column_f is the function to get the value "column" for each generator
216 |         column_f = isdefined(GenX, col_sym) ? getfield(GenX, col_sym) :
217 |                    r -> getproperty(r, col_sym)
218 |         sigma = [sigma;
219 |                  [column_f.(gen) .* (1 .+
220 |                    Morris_range[Morris_range[!, :Parameter] .== column, :Lower_bound] ./
221 |                    100) column_f.(gen) .*
222 |                         (1 .+
223 |                          Morris_range[Morris_range[!, :Parameter] .== column,
224 |                      :Upper_bound] ./ 100)]]
225 |     end
226 |     sigma = sigma[2:end, :]
227 | 
228 |     p_range = mapslices(x -> [x], sigma, dims = 2)[:]
229 | 
230 |     # Creating a function for iteratively solving the model with different sets of input parameters
231 |     f1 = function (sigma)
232 |         #print(sigma)
233 |         print("\n")
234 |         #save_parameters = hcat(save_parameters, sigma)
235 | 
236 |         for column in uncertain_columns
237 |             index = findall(s -> s == column, Morris_range[!, :Parameter])
238 |             attr_to_set = Symbol(lowercase(column))
239 |             gen[attr_to_set] = sigma[first(index):last(index)]
240 |         end
241 | 
242 |         EP = generate_model(setup, inputs, OPTIMIZER)
243 |         #EP, solve_time = solve_model(EP, setup)
244 |         redirect_stdout((() -> optimize!(EP)), open("/dev/null", "w"))
245 |         [objective_value(EP)]
246 |     end
247 | 
248 |     # Perform the method of morris analysis
249 |     m = my_gsa(f1,
250 |         p_steps,
251 |         num_trajectory,
252 |         total_num_trajectory,
253 |         p_range,
254 |         len_design_mat,
255 |         groups,
256 |         random)
257 |     println(m.means)
258 |     println(DataFrame(m.means', :auto))
259 |     #save the mean effect of each uncertain variable on the objective fucntion
260 |     Morris_range[!, :mean] = DataFrame(m.means', :auto)[!, :x1]
261 |     println(DataFrame(m.variances', :auto))
262 |     #save the variance of effect of each uncertain variable on the objective function
263 |     Morris_range[!, :variance] = DataFrame(m.variances', :auto)[!, :x1]
264 | 
265 |     CSV.write(joinpath(outpath, "morris.csv"), Morris_range)
266 |     return Morris_range
267 | end
268 | 


--------------------------------------------------------------------------------
/src/additional_tools/modeling_to_generate_alternatives.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	mga(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)
  3 | 
  4 | We have implemented an updated Modeling to Generate Alternatives (MGA) Algorithm proposed by [Berntsen and Trutnevyte (2017)](https://www.sciencedirect.com/science/article/pii/S0360544217304097) to generate a set of feasible, near cost-optimal technology portfolios. This algorithm was developed by [Brill Jr, E. D., 1979](https://pubsonline.informs.org/doi/abs/10.1287/mnsc.25.5.413) and introduced to energy system planning by [DeCarolia, J. F., 2011](https://www.sciencedirect.com/science/article/pii/S0140988310000721).
  5 | 
  6 | To create the MGA formulation, we replace the cost-minimizing objective function of GenX with a new objective function that creates multiple generation portfolios by zone. We further add a new budget constraint based on the optimal objective function value $f^*$ of the least-cost model and the user-specified value of slack $\delta$. After adding the slack constraint, the resulting MGA formulation is given as (`MGAAnnualGeneration = 0` in the genx_settings.yml file, or not set):
  7 | 
  8 | ```math
  9 | \begin{aligned}
 10 | 	\text{max/min} \quad
 11 | 	&\sum_{z \in \mathcal{Z}}\sum_{r \in \mathcal{R}} \beta_{z,r}^{k}P_{z,r}\\
 12 | 	\text{s.t.} \quad
 13 | 	&P_{z,r} = \sum_{y \in \mathcal{G}}C_{y,z,r}  \\
 14 | 	& f \leq f^* + \delta \\
 15 | 	&Ax = b
 16 | \end{aligned}
 17 | ```
 18 | 
 19 | where, $\beta_{z,r}$ is a random objective function coefficient betwen $[0,1]$ for MGA iteration $k$. We aggregate capacity into a new variable $P_{z,r}$ that represents total capacity from technology type $r$ in a zone $z$. 
 20 | 
 21 | If the users set `MGAAnnualGeneration = 1` in the genx_settings.yml file, the MGA formulation is given as:
 22 | ```math
 23 | \begin{aligned}
 24 | \text{max/min} \quad
 25 | 	&\sum_{z \in \mathcal{Z}}\sum_{r \in \mathcal{R}} \beta_{z,r}^{k}P_{z,r}\\
 26 | 	\text{s.t.} \quad
 27 | 	&P_{z,r} = \sum_{y \in \mathcal{G}}\sum_{t \in \mathcal{T}} \omega_{t} \Theta_{y,t,z,r}  \\
 28 | 	& f \leq f^* + \delta \\
 29 | 	&Ax = b
 30 | \end{aligned}
 31 | ```
 32 | where, $\beta_{z,r}$ is a random objective function coefficient betwen $[0,1]$ for MGA iteration $k$. $\Theta_{y,t,z,r}$ is a generation of technology $y$ in zone $z$ in time period $t$ that belongs to a resource type $r$. We aggregate $\Theta_{y,t,z,r}$ into a new variable $P_{z,r}$ that represents total generation from technology type $r$ in a zone $z$. 
 33 | 
 34 | In the second constraint in both the above formulations, $\delta$ denote the increase in budget from the least-cost solution and $f$ represents the expression for the total system cost. The constraint $Ax = b$ represents all other constraints in the power system model. We then solve the formulation with minimization and maximization objective function to explore near optimal solution space.
 35 | """
 36 | function mga(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)
 37 |     if setup["ModelingToGenerateAlternatives"] == 1
 38 |         # Start MGA Algorithm
 39 |         println("MGA Module")
 40 | 
 41 |         # Objective function value of the least cost problem
 42 |         Least_System_Cost = objective_value(EP)
 43 | 
 44 |         # Read sets
 45 |         gen = inputs["RESOURCES"]
 46 |         T = inputs["T"]     # Number of time steps (hours)
 47 |         Z = inputs["Z"]     # Number of zonests
 48 |         zones = unique(inputs["R_ZONES"])
 49 | 
 50 |         # Create a set of unique technology types
 51 |         resources_with_mga = gen[ids_with_mga(gen)]
 52 |         TechTypes = unique(resource_type_mga.(resources_with_mga))
 53 | 
 54 |         # Read slack parameter representing desired increase in budget from the least cost solution
 55 |         slack = setup["ModelingtoGenerateAlternativeSlack"]
 56 | 
 57 |         ### Constraints ###
 58 | 
 59 |         # Constraint to set budget for MGA iterations
 60 |         @constraint(EP, budget, EP[:eObj]<=Least_System_Cost * (1 + slack))
 61 |         ### End Constraints ###
 62 | 
 63 |         ### Create Results Directory for MGA iterations
 64 |         outpath_max = joinpath(path, "MGAResults_max")
 65 |         if !(isdir(outpath_max))
 66 |             mkdir(outpath_max)
 67 |         end
 68 |         outpath_min = joinpath(path, "MGAResults_min")
 69 |         if !(isdir(outpath_min))
 70 |             mkdir(outpath_min)
 71 |         end
 72 | 
 73 |         ### Begin MGA iterations for maximization and minimization objective ###
 74 |         mga_start_time = time()
 75 | 
 76 |         print("Starting the first MGA iteration")
 77 | 
 78 |         for i in 1:setup["ModelingToGenerateAlternativeIterations"]
 79 | 
 80 |             # Create random coefficients for the generators that we want to include in the MGA run for the given budget
 81 |             pRand = rand(length(TechTypes), length(zones))
 82 | 
 83 |             ### Maximization objective
 84 |             @objective(EP,
 85 |                 Max,
 86 |                 sum(pRand[tt, z] * EP[:vMGA][tt, z]
 87 |                 for tt in 1:length(TechTypes), z in 1:Z))
 88 | 
 89 |             # Solve Model Iteration
 90 |             status = optimize!(EP)
 91 | 
 92 |             # Create path for saving MGA iterations
 93 |             mgaoutpath_max = joinpath(outpath_max, string("MGA", "_", slack, "_", i))
 94 | 
 95 |             # Write results
 96 |             write_outputs(EP, mgaoutpath_max, setup, inputs)
 97 | 
 98 |             ### Minimization objective
 99 |             @objective(EP,
100 |                 Min,
101 |                 sum(pRand[tt, z] * EP[:vMGA][tt, z]
102 |                 for tt in 1:length(TechTypes), z in 1:Z))
103 | 
104 |             # Solve Model Iteration
105 |             status = optimize!(EP)
106 | 
107 |             # Create path for saving MGA iterations
108 |             mgaoutpath_min = joinpath(outpath_min, string("MGA", "_", slack, "_", i))
109 | 
110 |             # Write results
111 |             write_outputs(EP, mgaoutpath_min, setup, inputs)
112 |         end
113 | 
114 |         total_time = time() - mga_start_time
115 |         ### End MGA Iterations ###
116 |     end
117 | end
118 | 
119 | @doc raw"""
120 |     mga!(EP::Model, inputs::Dict, setup::Dict)
121 | 
122 | This function reads the input data, collect the resources with MGA flag on and creates a set of unique technology types. 
123 | The function then adds a constraint to the model to compute total capacity in each zone from a given Technology Type.
124 | 
125 | If the user set `MGAAnnualGeneration = 0` in the genx_settings.yml file, the constraint has the following form:
126 | ```math
127 | P_{z,r} = \sum_{y \in \mathcal{G}}C_{y,z,r}
128 | ```
129 | where, the aggregated capacity $P_{z,r}$ represents total capacity from technology type $r$ in a zone $z$. 
130 | 
131 | If the user set `MGAAnnualGeneration = 1` in the genx_settings.yml file, the constraint has the following form:
132 | ```math
133 | P_{z,r} = \sum_{y \in \mathcal{G}}\sum_{t \in \mathcal{T}} \omega_{t} \Theta_{y,t,z,r} 
134 | ```
135 | where $\Theta_{y,t,z,r}$ is a generation of technology $y$ in zone $z$ in time period $t$ that belongs to a resource type $r$. $\Theta_{y,t,z,r}$ is aggregated into a new variable $P_{z,r}$ that represents total generation from technology type $r$ in a zone $z$. 
136 | 
137 | # Arguments
138 | - `EP::Model`: GenX model object
139 | - `inputs::Dict`: Dictionary containing input data
140 | 
141 | # Returns
142 | - This function updates the model object `EP` with the MGA variables and constraints in-place.
143 | """
144 | function mga!(EP::Model, inputs::Dict, setup::Dict)
145 |     println("MGA Module")
146 | 
147 |     T = inputs["T"]     # Number of time steps (hours)
148 |     Z = inputs["Z"]     # Number of zones
149 |     gen = inputs["RESOURCES"]    # Resources data
150 |     # Read set of MGA variables
151 |     annual_gen = setup["MGAAnnualGeneration"] ### Choose setting in genx_settings.yaml: MGAAnnualGeneration: 1 = annual generation, otherwise, sum of capacity
152 |     # Create a set of unique technology types
153 |     resources_with_mga_on = gen[ids_with_mga(gen)]
154 |     TechTypes = unique(resource_type_mga.(resources_with_mga_on))
155 | 
156 |     function resource_in_zone_same_TechType(tt::Int64, z::Int64)
157 |         condition::BitVector = (resource_type_mga.(gen) .== TechTypes[tt]) .&
158 |                                (zone_id.(gen) .== z)
159 |         return resource_id.(gen[condition])
160 |     end
161 |     # Constraint to compute total generation in each zone from a given Technology Type
162 |     ### Variables ###
163 |     @variable(EP, vMGA[TechTypes = 1:length(TechTypes), z = 1:Z]>=0)
164 | 
165 |     ### Constraint ###
166 |     if annual_gen == 1   # annual generation
167 |         @constraint(EP, cGeneration[tt = 1:length(TechTypes), z = 1:Z],
168 |             vMGA[tt,z]==sum(EP[:vP][y, t] * inputs["omega"][t]
169 |             for y in resource_in_zone_same_TechType(tt, z), t in 1:T))
170 |     else
171 |         @constraint(EP, cCapEquiv[tt = 1:length(TechTypes), z = 1:Z],
172 |             vMGA[tt,z]==sum(EP[:eTotalCap][y]
173 |             for y in resource_in_zone_same_TechType(tt, z)))
174 |     end
175 | end
176 | 


--------------------------------------------------------------------------------
/src/case_runners/case_runner.jl:
--------------------------------------------------------------------------------
  1 | function get_settings_path(case::AbstractString)
  2 |     return joinpath(case, "settings")
  3 | end
  4 | 
  5 | function get_settings_path(case::AbstractString, filename::AbstractString)
  6 |     return joinpath(get_settings_path(case), filename)
  7 | end
  8 | 
  9 | function get_default_output_folder(case::AbstractString)
 10 |     return joinpath(case, "results")
 11 | end
 12 | 
 13 | @doc raw"""
 14 |     run_genx_case!(case::AbstractString, optimizer::Any=HiGHS.Optimizer)
 15 | 
 16 | Run a GenX case with the specified optimizer. The optimizer can be any solver supported by MathOptInterface.
 17 | 
 18 | # Arguments
 19 | - `case::AbstractString`: the path to the case folder
 20 | - `optimizer::Any`: the optimizer instance to be used in the optimization model
 21 | 
 22 | # Example
 23 | ```julia
 24 | run_genx_case!("path/to/case", HiGHS.Optimizer)
 25 | ```
 26 | 
 27 | ```julia
 28 | run_genx_case!("path/to/case", Gurobi.Optimizer)
 29 | ```
 30 | """
 31 | function run_genx_case!(case::AbstractString, optimizer::Any = HiGHS.Optimizer)
 32 |     print_genx_version() # Log the GenX version
 33 |     genx_settings = get_settings_path(case, "genx_settings.yml") # Settings YAML file path
 34 |     writeoutput_settings = get_settings_path(case, "output_settings.yml") # Write-output settings YAML file path
 35 |     mysetup = configure_settings(genx_settings, writeoutput_settings) # mysetup dictionary stores settings and GenX-specific parameters
 36 | 
 37 |     if mysetup["MultiStage"] == 0
 38 |         run_genx_case_simple!(case, mysetup, optimizer)
 39 |     else
 40 |         run_genx_case_multistage!(case, mysetup, optimizer)
 41 |     end
 42 | end
 43 | 
 44 | function time_domain_reduced_files_exist(tdrpath)
 45 |     tdr_demand = file_exists(tdrpath, ["Demand_data.csv", "Load_data.csv"])
 46 |     tdr_genvar = isfile(joinpath(tdrpath, "Generators_variability.csv"))
 47 |     tdr_fuels = isfile(joinpath(tdrpath, "Fuels_data.csv"))
 48 |     return (tdr_demand && tdr_genvar && tdr_fuels)
 49 | end
 50 | 
 51 | function run_genx_case_simple!(case::AbstractString, mysetup::Dict, optimizer::Any)
 52 |     settings_path = get_settings_path(case)
 53 | 
 54 |     ### Cluster time series inputs if necessary and if specified by the user
 55 |     if mysetup["TimeDomainReduction"] == 1
 56 |         TDRpath = joinpath(case, mysetup["TimeDomainReductionFolder"])
 57 |         system_path = joinpath(case, mysetup["SystemFolder"])
 58 |         prevent_doubled_timedomainreduction(system_path)
 59 |         if !time_domain_reduced_files_exist(TDRpath)
 60 |             println("Clustering Time Series Data (Grouped)...")
 61 |             cluster_inputs(case, settings_path, mysetup)
 62 |         else
 63 |             println("Time Series Data Already Clustered.")
 64 |         end
 65 |     end
 66 | 
 67 |     ### Configure solver
 68 |     println("Configuring Solver")
 69 |     solver_name = lowercase(get(mysetup, "Solver", ""))
 70 |     OPTIMIZER = configure_solver(settings_path, optimizer; solver_name=solver_name)
 71 | 
 72 |     #### Running a case
 73 | 
 74 |     ### Load inputs
 75 |     println("Loading Inputs")
 76 |     myinputs = load_inputs(mysetup, case)
 77 | 
 78 |     println("Generating the Optimization Model")
 79 |     time_elapsed = @elapsed EP = generate_model(mysetup, myinputs, OPTIMIZER)
 80 |     println("Time elapsed for model building is")
 81 |     println(time_elapsed)
 82 | 
 83 |     println("Solving Model")
 84 |     EP, solve_time = solve_model(EP, mysetup)
 85 |     myinputs["solve_time"] = solve_time # Store the model solve time in myinputs
 86 | 
 87 |     # Run MGA if the MGA flag is set to 1 else only save the least cost solution
 88 |     if has_values(EP)
 89 |         println("Writing Output")
 90 |         outputs_path = get_default_output_folder(case)
 91 |         elapsed_time = @elapsed outputs_path = write_outputs(EP,
 92 |             outputs_path,
 93 |             mysetup,
 94 |             myinputs)
 95 |         println("Time elapsed for writing is")
 96 |         println(elapsed_time)
 97 |         if mysetup["ModelingToGenerateAlternatives"] == 1
 98 |             println("Starting Model to Generate Alternatives (MGA) Iterations")
 99 |             mga(EP, case, mysetup, myinputs)
100 |         end
101 | 
102 |         if mysetup["MethodofMorris"] == 1
103 |             println("Starting Global sensitivity analysis with Method of Morris")
104 |             morris(EP, case, mysetup, myinputs, outputs_path, OPTIMIZER)
105 |         end
106 |     end
107 | end
108 | 
109 | function run_genx_case_multistage!(case::AbstractString, mysetup::Dict, optimizer::Any)
110 |     settings_path = get_settings_path(case)
111 |     multistage_settings = get_settings_path(case, "multi_stage_settings.yml") # Multi stage settings YAML file path
112 |     # merge default settings with those specified in the YAML file
113 |     mysetup["MultiStageSettingsDict"] = configure_settings_multistage(multistage_settings)
114 | 
115 |     ### Cluster time series inputs if necessary and if specified by the user
116 |     if mysetup["TimeDomainReduction"] == 1
117 |         tdr_settings = get_settings_path(case, "time_domain_reduction_settings.yml") # Multi stage settings YAML file path
118 |         TDRSettingsDict = YAML.load(open(tdr_settings))
119 | 
120 |         first_stage_path = joinpath(case, "inputs", "inputs_p1")
121 |         TDRpath = joinpath(first_stage_path, mysetup["TimeDomainReductionFolder"])
122 |         system_path = joinpath(first_stage_path, mysetup["SystemFolder"])
123 |         prevent_doubled_timedomainreduction(system_path)
124 |         if !time_domain_reduced_files_exist(TDRpath)
125 |             if (mysetup["MultiStage"] == 1) &&
126 |                (TDRSettingsDict["MultiStageConcatenate"] == 0)
127 |                 println("Clustering Time Series Data (Individually)...")
128 |                 for stage_id in 1:mysetup["MultiStageSettingsDict"]["NumStages"]
129 |                     cluster_inputs(case, settings_path, mysetup, stage_id)
130 |                 end
131 |             else
132 |                 println("Clustering Time Series Data (Grouped)...")
133 |                 cluster_inputs(case, settings_path, mysetup)
134 |             end
135 |         else
136 |             println("Time Series Data Already Clustered.")
137 |         end
138 |     end
139 | 
140 |     ### Configure solver
141 |     println("Configuring Solver")
142 |     solver_name = lowercase(get(mysetup, "Solver", ""))
143 |     OPTIMIZER = configure_solver(settings_path, optimizer; solver_name=solver_name)
144 | 
145 |     model_dict = Dict()
146 |     inputs_dict = Dict()
147 | 
148 |     for t in 1:mysetup["MultiStageSettingsDict"]["NumStages"]
149 | 
150 |         # Step 0) Set Model Year
151 |         mysetup["MultiStageSettingsDict"]["CurStage"] = t
152 | 
153 |         # Step 1) Load Inputs
154 |         inpath_sub = joinpath(case, "inputs", string("inputs_p", t))
155 | 
156 |         inputs_dict[t] = load_inputs(mysetup, inpath_sub)
157 |         inputs_dict[t] = configure_multi_stage_inputs(inputs_dict[t],
158 |             mysetup["MultiStageSettingsDict"],
159 |             mysetup["NetworkExpansion"])
160 | 
161 |         compute_cumulative_min_retirements!(inputs_dict, t)
162 |         # Step 2) Generate model
163 |         model_dict[t] = generate_model(mysetup, inputs_dict[t], OPTIMIZER)
164 |     end
165 | 
166 |     # check that resources do not switch from can_retire = 0 to can_retire = 1 between stages
167 |     validate_can_retire_multistage(
168 |         inputs_dict, mysetup["MultiStageSettingsDict"]["NumStages"])
169 | 
170 |     ### Solve model
171 |     println("Solving Model")
172 | 
173 |     # Prepare folder for results    
174 |     outpath = get_default_output_folder(case)
175 | 
176 |     if mysetup["OverwriteResults"] == 1
177 |         # Overwrite existing results if dir exists
178 |         # This is the default behaviour when there is no flag, to avoid breaking existing code
179 |         if !(isdir(outpath))
180 |             mkdir(outpath)
181 |         end
182 |     else
183 |         # Find closest unused ouput directory name and create it
184 |         outpath = choose_output_dir(outpath)
185 |         mkdir(outpath)
186 |     end
187 | 
188 |     # Step 3) Run DDP Algorithm
189 |     ## Solve Model
190 |     model_dict, mystats_d, inputs_dict = run_ddp(outpath, model_dict, mysetup, inputs_dict)
191 | 
192 |     # Step 4) Write final outputs from each stage
193 |     if mysetup["MultiStageSettingsDict"]["Myopic"] == 0 ||
194 |        mysetup["MultiStageSettingsDict"]["WriteIntermittentOutputs"] == 0
195 |         for p in 1:mysetup["MultiStageSettingsDict"]["NumStages"]
196 |             mysetup["MultiStageSettingsDict"]["CurStage"] = p
197 |             outpath_cur = joinpath(outpath, "results_p$p")
198 |             write_outputs(model_dict[p], outpath_cur, mysetup, inputs_dict[p])
199 |         end
200 |     end
201 | 
202 |     # Step 5) Write DDP summary outputs
203 | 
204 |     write_multi_stage_outputs(mystats_d, outpath, mysetup, inputs_dict)
205 | end
206 | 


--------------------------------------------------------------------------------
/src/configure_settings/configure_settings.jl:
--------------------------------------------------------------------------------
  1 | function default_settings()
  2 |     Dict{Any, Any}("PrintModel" => 0,
  3 |         "OverwriteResults" => 0,
  4 |         "NetworkExpansion" => 0,
  5 |         "Trans_Loss_Segments" => 1,
  6 |         "OperationalReserves" => 0,
  7 |         "EnergyShareRequirement" => 0,
  8 |         "CapacityReserveMargin" => 0,
  9 |         "CO2Cap" => 0,
 10 |         "StorageLosses" => 1,
 11 |         "LDSAdditionalConstraints" => 1,
 12 |         "VirtualChargeDischargeCost" => 1,  # $/MWh
 13 |         "MinCapReq" => 0,
 14 |         "MaxCapReq" => 0,
 15 |         "ParameterScale" => 0,
 16 |         "WriteShadowPrices" => 0,
 17 |         "UCommit" => 0,
 18 |         "TimeDomainReduction" => 0,
 19 |         "TimeDomainReductionFolder" => "TDR_results",
 20 |         "OutputFullTimeSeries" => 0,
 21 |         "OutputFullTimeSeriesFolder" => "Full_TimeSeries",
 22 |         "ModelingToGenerateAlternatives" => 0,
 23 |         "ModelingtoGenerateAlternativeSlack" => 0.1,
 24 |         "MGAAnnualGeneration" => 0,
 25 |         "MultiStage" => 0,
 26 |         "MethodofMorris" => 0,
 27 |         "IncludeLossesInESR" => 0,
 28 |         "HydrogenMinimumProduction" => 0,
 29 |         "EnableJuMPStringNames" => false,
 30 |         "HourlyMatching" => 0,
 31 |         "HydrogenHourlyMatching" => 0,
 32 |         "DC_OPF" => 0,
 33 |         "WriteOutputs" => "full",
 34 |         "ComputeConflicts" => 0,
 35 |         "StorageVirtualDischarge" => 1,
 36 |         "ResourcesFolder" => "resources",
 37 |         "ResourcePoliciesFolder" => "policy_assignments",
 38 |         "SystemFolder" => "system",
 39 |         "PoliciesFolder" => "policies",
 40 |         "ObjScale" => 1)
 41 | end
 42 | 
 43 | @doc raw"""
 44 |     configure_settings(settings_path::String, output_settings_path::String)
 45 | 
 46 | Reads in the settings from the `genx_settings.yml` and `output_settings.yml` YAML files and
 47 | merges them with the default settings. It then validates the settings and returns the
 48 | settings dictionary.
 49 | 
 50 | # Arguments
 51 | - `settings_path::String`: The path to the settings YAML file.
 52 | - `output_settings_path::String`: The path to the output settings YAML file.
 53 | 
 54 | # Returns
 55 | - `settings::Dict`: The settings dictionary.
 56 | """
 57 | function configure_settings(settings_path::String, output_settings_path::String)
 58 |     println("\nConfiguring Settings")
 59 |     model_settings = YAML.load(open(settings_path))
 60 | 
 61 |     settings = default_settings()
 62 |     merge!(settings, model_settings)
 63 | 
 64 |     output_settings = configure_writeoutput(output_settings_path, settings)
 65 |     settings["WriteOutputsSettingsDict"] = output_settings
 66 | 
 67 |     validate_settings!(settings)
 68 |     return settings
 69 | end
 70 | 
 71 | function validate_settings!(settings::Dict{Any, Any})
 72 |     # Check for any settings combinations that are not allowed.
 73 |     # If we find any then make a response and issue a note to the user.
 74 | 
 75 |     # make WriteOutputs setting lowercase and check for valid value
 76 |     settings["WriteOutputs"] = lowercase(settings["WriteOutputs"])
 77 |     @assert settings["WriteOutputs"] âˆˆ ["annual", "full"]
 78 | 
 79 |     if "OperationWrapping" in keys(settings)
 80 |         @warn """The behavior of the TimeDomainReduction and OperationWrapping
 81 |         settings have changed recently. OperationWrapping has been removed,
 82 |         and is ignored. The relevant behavior is now controlled by TimeDomainReduction.
 83 |         Please see the Methods page in the documentation.""" maxlog=1
 84 |     end
 85 | 
 86 |     if haskey(settings, "Reserves")
 87 |         Base.depwarn("""The Reserves setting has been deprecated. Please use the
 88 |         OperationalReserves setting instead.""",
 89 |             :validate_settings!, force = true)
 90 |         settings["OperationalReserves"] = settings["Reserves"]
 91 |         delete!(settings, "Reserves")
 92 |     end
 93 | 
 94 |     if settings["EnableJuMPStringNames"] == 0 && settings["ComputeConflicts"] == 1
 95 |         settings["EnableJuMPStringNames"] = 1
 96 |     end
 97 | end
 98 | 
 99 | function default_writeoutput()
100 |     Dict{String, Bool}("WriteCosts" => true,
101 |         "WriteCapacity" => true,
102 |         "WriteCapacityValue" => true,
103 |         "WriteCapacityFactor" => true,
104 |         "WriteCharge" => true,
105 |         "WriteChargingCost" => true,
106 |         "WriteCO2" => true,
107 |         "WriteCO2Cap" => true,
108 |         "WriteCommit" => true,
109 |         "WriteCurtailment" => true,
110 |         "WriteEmissions" => true,
111 |         "WriteEnergyRevenue" => true,
112 |         "WriteESRPrices" => true,
113 |         "WriteESRRevenue" => true,
114 |         "WriteFuelConsumption" => true,
115 |         "WriteFusion" => true,
116 |         "WriteHourlyMatchingPrices" => true,
117 |         "WriteHydrogenPrices" => true,
118 |         "WriteMaintenance" => true,
119 |         "WriteMaxCapReq" => true,
120 |         "WriteMinCapReq" => true,
121 |         "WriteNetRevenue" => true,
122 |         "WriteNSE" => true,
123 |         "WriteNWExpansion" => true,
124 |         "WriteOpWrapLDSdStor" => true,
125 |         "WriteOpWrapLDSStorInit" => true,
126 |         "WritePower" => true,
127 |         "WritePowerBalance" => true,
128 |         "WritePrice" => true,
129 |         "WriteReg" => true,
130 |         "WriteReliability" => true,
131 |         "WriteReserveMargin" => true,
132 |         "WriteReserveMarginRevenue" => true,
133 |         "WriteReserveMarginSlack" => true,
134 |         "WriteReserveMarginWithWeights" => true,
135 |         "WriteRsv" => true,
136 |         "WriteShutdown" => true,
137 |         "WriteStart" => true,
138 |         "WriteStatus" => true,
139 |         "WriteStorage" => true,
140 |         "WriteStorageDual" => true,
141 |         "WriteSubsidyRevenue" => true,
142 |         "WriteTimeWeights" => true,
143 |         "WriteTransmissionFlows" => true,
144 |         "WriteTransmissionLosses" => true,
145 |         "WriteVirtualDischarge" => true,
146 |         "WriteVREStor" => true,
147 |         "WriteAngles" => true)
148 | end
149 | 
150 | function configure_writeoutput(output_settings_path::String, settings::Dict)
151 |     writeoutput = default_writeoutput()
152 | 
153 |     # don't write files with hourly data if settings["WriteOutputs"] == "annual"
154 |     if settings["WriteOutputs"] == "annual"
155 |         writeoutput["WritePrice"] = false
156 |         writeoutput["WriteReliability"] = false
157 |         writeoutput["WriteStorage"] = false
158 |         writeoutput["WriteStorageDual"] = false
159 |         writeoutput["WriteTimeWeights"] = false
160 |         writeoutput["WriteCapacityValue"] = false
161 |         writeoutput["WriteReserveMargin"] = false
162 |         writeoutput["WriteReserveMarginWithWeights"] = false
163 |         writeoutput["WriteAngles"] = false
164 |         writeoutput["WriteTransmissionFlows"] = false
165 |     end
166 | 
167 |     # read in YAML file if provided
168 |     if isfile(output_settings_path)
169 |         model_writeoutput = YAML.load(open(output_settings_path))
170 |         merge!(writeoutput, model_writeoutput)
171 |     end
172 |     return writeoutput
173 | end
174 | 
175 | function default_settings_multistage()
176 |     Dict{Any, Any}("NumStages" => 3,
177 |         "StageLengths" => [10, 10, 10],
178 |         "WACC" => 0.045,
179 |         "ConvergenceTolerance" => 0.01,
180 |         "Myopic" => 1,
181 |         "WriteIntermittentOutputs" => 0)
182 | end
183 | 
184 | @doc raw"""
185 |     configure_settings_multistage(settings_path::String)
186 | 
187 | Reads in the settings from the `multi_stage_settings.yml` YAML file and
188 | merges them with the default multistage settings. It then returns the
189 | settings dictionary.
190 | 
191 | # Arguments
192 | - `settings_path::String`: The path to the multistage settings YAML file.
193 | 
194 | # Returns
195 | - `settings::Dict`: The multistage settings dictionary.
196 | """
197 | function configure_settings_multistage(settings_path::String)
198 |     println("Configuring Multistage Settings")
199 |     model_settings = isfile(settings_path) ? YAML.load(open(settings_path)) : Dict{Any, Any}()
200 | 
201 |     settings = default_settings_multistage()
202 |     merge!(settings, model_settings)
203 | 
204 |     validate_multistage_settings!(settings)
205 |     return settings
206 | end
207 | 
208 | function validate_multistage_settings!(settings::Dict{Any, Any})
209 |     # Check for any settings combinations that are not allowed.
210 |     # If we find any then make a response and issue a note to the user.
211 | 
212 |     if settings["Myopic"] == 0 && settings["WriteIntermittentOutputs"] == 1
213 |         msg = "WriteIntermittentOutputs is not supported for non-myopic multistage models." *
214 |               " Setting WriteIntermittentOutputs to 0 in the multistage settings."
215 |         @warn msg
216 |         settings["WriteIntermittentOutputs"] = 0
217 |     end
218 | end
219 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_cbc.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	configure_cbc(solver_settings_path::String)
 3 | 
 4 | Reads user-specified solver settings from cbc\_settings.yml in the directory specified by the string solver\_settings\_path.
 5 | 
 6 | Returns a `MathOptInterface.OptimizerWithAttributes` Cbc optimizer instance to be used in the `GenX.generate_model()` method.
 7 | 
 8 | The Cbc optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 9 | 
10 |  - seconds = 1e-6
11 |  - logLevel = 1e-6
12 |  - maxSolutions = -1
13 |  - maxNodes = -1
14 |  - allowableGap = -1
15 |  - ratioGap = Inf
16 |  - threads = 1
17 | 
18 | """
19 | function configure_cbc(solver_settings_path::String, optimizer::Any)
20 |     solver_settings = YAML.load(open(solver_settings_path))
21 |     solver_settings = convert(Dict{String, Any}, solver_settings)
22 | 
23 |     default_settings = Dict("TimeLimit" => 1e-6,
24 |         "logLevel" => 1e-6,
25 |         "maxSolutions" => -1,
26 |         "maxNodes" => -1,
27 |         "allowableGap" => -1,
28 |         "ratioGap" => Inf,
29 |         "threads" => 1)
30 | 
31 |     attributes = merge(default_settings, solver_settings)
32 | 
33 |     key_replacement = Dict("TimeLimit" => "seconds")
34 | 
35 |     attributes = rename_keys(attributes, key_replacement)
36 | 
37 |     attributes::Dict{String, Any}
38 |     return optimizer_with_attributes(optimizer, attributes...)
39 | end
40 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_clp.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	configure_clp(solver_settings_path::String)
 3 | 
 4 | Reads user-specified solver settings from clp\_settings.yml in the directory specified by the string solver\_settings\_path.
 5 | 
 6 | Returns a `MathOptInterface.OptimizerWithAttributes` Clp optimizer instance to be used in the `GenX.generate_model()` method.
 7 | 
 8 | The Clp optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 9 | 
10 |  - PrimalTolerance = 1e-7 (Primal feasibility tolerance)
11 |  - DualTolerance = 1e-7 (Dual feasibility tolerance)
12 |  - DualObjectiveLimit = 1e308 (When using dual simplex (where the objective is monotonically changing), terminate when the objective exceeds this limit)
13 |  - MaximumIterations = 2147483647 (Terminate after performing this number of simplex iterations)
14 |  - MaximumSeconds = -1.0	(Terminate after this many seconds have passed. A negative value means no time limit)
15 |  - LogLevel = 1 (Set to 1, 2, 3, or 4 for increasing output. Set to 0 to disable output)
16 |  - PresolveType = 0 (Set to 1 to disable presolve)
17 |  - SolveType = 5 (Solution method: dual simplex (0), primal simplex (1), sprint (2), barrier with crossover (3), barrier without crossover (4), automatic (5))
18 |  - InfeasibleReturn = 0 (Set to 1 to return as soon as the problem is found to be infeasible (by default, an infeasibility proof is computed as well))
19 |  - Scaling = 3 (0 0ff, 1 equilibrium, 2 geometric, 3 auto, 4 dynamic (later))
20 |  - Perturbation = 100 (switch on perturbation (50), automatic (100), don't try perturbing (102))
21 | 
22 | """
23 | function configure_clp(solver_settings_path::String, optimizer::Any)
24 |     solver_settings = YAML.load(open(solver_settings_path))
25 |     solver_settings = convert(Dict{String, Any}, solver_settings)
26 | 
27 |     default_settings = Dict{String, Any}("Feasib_Tol" => 1e-7,
28 |         "DualObjectiveLimit" => 1e308,
29 |         "MaximumIterations" => 2147483647,
30 |         "TimeLimit" => -1.0,
31 |         "LogLevel" => 1,
32 |         "Pre_Solve" => 0,
33 |         "Method" => 5,
34 |         "InfeasibleReturn" => 0,
35 |         "Scaling" => 3,
36 |         "Perturbation" => 100)
37 | 
38 |     attributes = merge(default_settings, solver_settings)
39 | 
40 |     key_replacement = Dict("Feasib_Tol" => "PrimalTolerance",
41 |         "TimeLimit" => "MaximumSeconds",
42 |         "Pre_Solve" => "PresolveType",
43 |         "Method" => "SolveType")
44 | 
45 |     attributes = rename_keys(attributes, key_replacement)
46 | 
47 |     # TODO this is done to preserve the behavior that Feasib_Tol was used to set both Primal and
48 |     # Dual tolerances. It should probably be fixed.
49 |     attributes["DualTolerance"] = attributes["PrimalTolerance"]
50 | 
51 |     attributes::Dict{String, Any}
52 |     return optimizer_with_attributes(optimizer, attributes...)
53 | end
54 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_cplex.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	configure_cplex(solver_settings_path::String)
  3 | 
  4 | Reads user-specified solver settings from `cplex_settings.yml` in the directory specified by the string `solver_settings_path`.
  5 | 
  6 | Returns a `MathOptInterface.OptimizerWithAttributes` CPLEX optimizer instance.
  7 | 
  8 | The optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
  9 | 
 10 | * `Feasib_Tol`,
 11 | 
 12 |   sets [CPX\_PARAM\_EPRHS](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-solution-type-lp-qp).
 13 |   Control the primal feasibility tolerance.
 14 |   Default is `1e-6`.
 15 | 
 16 | * `Optimal_Tol`,
 17 | 
 18 |    sets [`CPX_PARAM_EPOPT`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-optimality-tolerance).
 19 |    Control the optimality tolerance.
 20 |    Default is `1e-4`.
 21 | 
 22 | * `AggFill`,
 23 | 
 24 |    sets [`CPX_PARAM_AGGFILL`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-preprocessing-aggregator-fill).
 25 |    Control the allowed fill during presolve aggregation.
 26 |    Default is `10`.
 27 | 
 28 | * `PreDual`,
 29 | 
 30 |   sets [`CPX_PARAM_PREDUAL`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-presolve-dual-setting).
 31 |   Decides whether presolve should pass the primal or dual linear programming problem to the LP optimization algorithm.
 32 |   Default is `0`.
 33 | 
 34 | * `TimeLimit`,
 35 | 
 36 |   sets [`CPX_PARAM_TILIM`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-optimizer-time-limit-in-seconds).
 37 |   Limits total solver time.
 38 |   Default is `1e+75`.
 39 | 
 40 | * `MIPGap`,
 41 | 
 42 |   sets [`CPX_PARAM_EPGAP`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-relative-mip-gap-tolerance)
 43 |   Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise).
 44 |   Default is `1e-3`.
 45 | 
 46 | * `Method`,
 47 | 
 48 |   sets [`CPX_PARAM_LPMETHOD`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=optimizers-using-parallel-in-component-libraries).
 49 |   Algorithm used to solve continuous models (including MIP root relaxation)
 50 |   Default is `0`.
 51 | 
 52 | * `BarConvTol`,
 53 | 
 54 |   sets [`CPX_PARAM_BAREPCOMP`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-convergence-tolerance-lp-qp-problems).
 55 |   Barrier convergence tolerance (determines when barrier terminates).
 56 |   Default is `1e-8`.
 57 | 
 58 | * `NumericFocus`,
 59 | 
 60 |   sets [`CPX_PARAM_NUMERICALEMPHASIS`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-numerical-precision-emphasis).
 61 |   Numerical precision emphasis.
 62 |   Default is `0`.
 63 | 
 64 | * `BarObjRng`,
 65 | 
 66 |   sets [`CPX_PARAM_BAROBJRNG`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-barrier-objective-range).
 67 |   The maximum absolute value of the objective function.
 68 |   Default is `1e+75`.
 69 | 
 70 | * `SolutionType`,
 71 | 
 72 |   sets [`CPX_PARAM_SOLUTIONTYPE`](https://www.ibm.com/docs/en/cofz/12.9.0?topic=parameters-solution-type-lp-qp).
 73 |   Solution type for LP or QP.
 74 |   Default is `2`.
 75 | 
 76 | The optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 77 | 
 78 | Any other attributes in the settings file (which typically start with `CPX_PARAM_`) will also be passed to the solver.
 79 | """
 80 | function configure_cplex(solver_settings_path::String, optimizer::Any)
 81 |     solver_settings = YAML.load(open(solver_settings_path))
 82 |     solver_settings = convert(Dict{String, Any}, solver_settings)
 83 | 
 84 |     default_settings = Dict("Feasib_Tol" => 1e-6,
 85 |         "Optimal_Tol" => 1e-4,
 86 |         "AggFill" => 10,
 87 |         "PreDual" => 0,
 88 |         "TimeLimit" => 1e+75,
 89 |         "MIPGap" => 1e-3,
 90 |         "Method" => 0,
 91 |         "BarConvTol" => 1e-8,
 92 |         "NumericFocus" => 0,
 93 |         "BarObjRng" => 1e+75,
 94 |         "SolutionType" => 2)
 95 | 
 96 |     attributes = merge(default_settings, solver_settings)
 97 | 
 98 |     key_replacement = Dict("Feasib_Tol" => "CPX_PARAM_EPRHS",
 99 |         "Optimal_Tol" => "CPX_PARAM_EPOPT",
100 |         "AggFill" => "CPX_PARAM_AGGFILL",
101 |         "PreDual" => "CPX_PARAM_PREDUAL",
102 |         "TimeLimit" => "CPX_PARAM_TILIM",
103 |         "MIPGap" => "CPX_PARAM_EPGAP",
104 |         "Method" => "CPX_PARAM_LPMETHOD",
105 |         "Pre_Solve" => "CPX_PARAM_PREIND", # https://www.ibm.com/docs/en/icos/12.8.0.0?topic=parameters-presolve-switch
106 |         "BarConvTol" => "CPX_PARAM_BAREPCOMP",
107 |         "NumericFocus" => "CPX_PARAM_NUMERICALEMPHASIS",
108 |         "BarObjRng" => "CPX_PARAM_BAROBJRNG",
109 |         "SolutionType" => "CPX_PARAM_SOLUTIONTYPE")
110 |     attributes = rename_keys(attributes, key_replacement)
111 | 
112 |     attributes::Dict{String, Any}
113 |     return optimizer_with_attributes(optimizer, attributes...)
114 | end
115 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_gurobi.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	configure_gurobi(solver_settings_path::String)
 3 | 
 4 | Reads user-specified solver settings from gurobi\_settings.yml in the directory specified by the string solver\_settings\_path.
 5 | 
 6 | Returns a `MathOptInterface.OptimizerWithAttributes` Gurobi optimizer instance to be used in the `GenX.generate_model()` method.
 7 | 
 8 | The Gurobi optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 9 | 
10 |  - FeasibilityTol = 1e-6 (Constraint (primal) feasibility tolerances. See https://www.gurobi.com/documentation/8.1/refman/feasibilitytol.html)
11 |  - OptimalityTol = 1e-4 (Dual feasibility tolerances. See https://www.gurobi.com/documentation/8.1/refman/optimalitytol.html#parameter:OptimalityTol)
12 |  - Presolve = -1 (Controls presolve level. See https://www.gurobi.com/documentation/8.1/refman/presolve.html)
13 |  - AggFill = -1 (Allowed fill during presolve aggregation. See https://www.gurobi.com/documentation/8.1/refman/aggfill.html#parameter:AggFill)
14 |  - PreDual = -1 (Presolve dualization. See https://www.gurobi.com/documentation/8.1/refman/predual.html#parameter:PreDual)
15 |  - TimeLimit = Inf	(Limits total time solver. See https://www.gurobi.com/documentation/8.1/refman/timelimit.html)
16 |  - MIPGap = 1e-4 (Relative (p.u. of optimal) mixed integer optimality tolerance for MIP problems (ignored otherwise). See https://www.gurobi.com/documentation/8.1/refman/mipgap2.html)
17 |  - Crossover = -1 (Barrier crossver strategy. See https://www.gurobi.com/documentation/8.1/refman/crossover.html#parameter:Crossover)
18 |  - Method = -1	(Algorithm used to solve continuous models (including MIP root relaxation). See https://www.gurobi.com/documentation/8.1/refman/method.html)
19 |  - BarConvTol = 1e-8 (Barrier convergence tolerance (determines when barrier terminates). See https://www.gurobi.com/documentation/8.1/refman/barconvtol.html)
20 |  - NumericFocus = 0 (Numerical precision emphasis. See https://www.gurobi.com/documentation/8.1/refman/numericfocus.html)
21 | 
22 | """
23 | function configure_gurobi(solver_settings_path::String, optimizer::Any)
24 |     solver_settings = YAML.load(open(solver_settings_path))
25 |     solver_settings = convert(Dict{String, Any}, solver_settings)
26 | 
27 |     default_settings = Dict("Feasib_Tol" => 1e-6,
28 |         "Optimal_Tol" => 1e-4,
29 |         "Pre_Solve" => -1,
30 |         "AggFill" => -1,
31 |         "PreDual" => -1,
32 |         "TimeLimit" => Inf,
33 |         "MIPGap" => 1e-3,
34 |         "Crossover" => -1,
35 |         "Method" => -1,
36 |         "BarConvTol" => 1e-8,
37 |         "NumericFocus" => 0,
38 |         "OutputFlag" => 1)
39 | 
40 |     attributes = merge(default_settings, solver_settings)
41 | 
42 |     key_replacement = Dict("Feasib_Tol" => "FeasibilityTol",
43 |         "Optimal_Tol" => "OptimalityTol",
44 |         "Pre_Solve" => "Presolve")
45 | 
46 |     attributes = rename_keys(attributes, key_replacement)
47 | 
48 |     attributes::Dict{String, Any}
49 |     return optimizer_with_attributes(optimizer, attributes...)
50 | end
51 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_highs.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	configure_highs(solver_settings_path::String)
 3 | 
 4 | Reads user-specified solver settings from highs\_settings.yml in the directory specified by the string solver\_settings\_path.
 5 | 
 6 | Returns a `MathOptInterface.OptimizerWithAttributes` HiGHS optimizer instance to be used in the `GenX.generate_model()` method.
 7 | 
 8 | The HiGHS optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 9 | 	All the references are in https://github.com/jump-dev/HiGHS.jl, https://github.com/ERGO-Code/HiGHS, and https://highs.dev/
10 | 
11 | 	# HiGHS Solver Parameters
12 | 	# Common solver settings
13 | 	Feasib_Tol: 1.0e-06        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
14 | 	Optimal_Tol: 1.0e-03       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
15 | 	TimeLimit: Inf             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
16 | 	Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
17 | 	Method: ipm #choose        #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"] In order to run a case when the UCommit is set to 1, i.e. MILP instance, set the Method to choose
18 | 	
19 | 	# IPM optimality tolerance
20 | 	# [type: double, advanced: false, range: [1e-12, inf], default: 1e-08]
21 | 	ipm_optimality_tolerance: 1e-08
22 | 
23 | 	# Run the crossover routine for IPX
24 | 	# [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
25 | 	run_crossover: "off"
26 | 
27 | 	# tolerance on relative gap, |ub-lb|/|ub|, to determine whether optimality has been reached for a MIP instance
28 | 	# [type: double, advanced: false, range: [0, inf], default: 0.0001]
29 | 	mip_rel_gap: 0.0001
30 | 	
31 | 	# tolerance on absolute gap of MIP, |ub-lb|, to determine whether optimality has been reached for a MIP instance
32 | 	# [type: double, advanced: false, range: [0, inf], default: 1e-06]
33 | 	mip_abs_gap: 1e-06
34 | """
35 | function configure_highs(solver_settings_path::String, optimizer::Any)
36 |     solver_settings = YAML.load(open(solver_settings_path))
37 |     solver_settings = convert(Dict{String, Any}, solver_settings)
38 | 
39 |     default_settings = Dict{String, Any}("Feasib_Tol" => 1e-6,
40 |         "Optimal_Tol" => 1e-4,
41 |         "Pre_Solve" => "choose",
42 |         "TimeLimit" => Inf,
43 |         "Method" => "ipm",
44 |         "ipm_optimality_tolerance" => 1e-08,
45 |         "run_crossover" => "off",
46 |         "mip_rel_gap" => 0.001,
47 |         "mip_abs_gap" => 1e-06)
48 | 
49 |     attributes = merge(default_settings, solver_settings)
50 | 
51 |     key_replacement = Dict("Feasib_Tol" => "primal_feasibility_tolerance",
52 |         "Optimal_Tol" => "dual_feasibility_tolerance",
53 |         "TimeLimit" => "time_limit",
54 |         "Pre_Solve" => "presolve",
55 |         "Method" => "solver")
56 | 
57 |     attributes = rename_keys(attributes, key_replacement)
58 | 
59 |     attributes::Dict{String, Any}
60 |     return optimizer_with_attributes(optimizer, attributes...)
61 | end
62 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_scip.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	configure_scip(solver_settings_path::String)
 3 | 
 4 | Reads user-specified solver settings from scip\_settings.yml in the directory specified by the string solver\_settings\_path.
 5 | 
 6 | Returns a `MathOptInterface.OptimizerWithAttributes` SCIP optimizer instance to be used in the `GenX.generate_model()` method.
 7 | 
 8 | The SCIP optimizer instance is configured with the following default parameters if a user-specified parameter for each respective field is not provided:
 9 | 
10 |  - Dispverblevel = 0
11 |  - limitsgap = 0.05
12 | 
13 | """
14 | function configure_scip(solver_settings_path::String, optimizer::Any)
15 |     solver_settings = YAML.load(open(solver_settings_path))
16 |     solver_settings = convert(Dict{String, Any}, solver_settings)
17 | 
18 |     default_settings = Dict("Dispverblevel" => 0,
19 |         "limitsgap" => 0.05)
20 |     attributes = merge(default_settings, solver_settings)
21 | 
22 |     key_replacement = Dict("Dispverblevel" => "display_verblevel",
23 |         "limitsgap" => "limits_gap")
24 | 
25 |     attributes = rename_keys(attributes, key_replacement)
26 | 
27 |     attributes::Dict{String, Any}
28 |     return optimizer_with_attributes(optimizer, attributes...)
29 | end
30 | 


--------------------------------------------------------------------------------
/src/configure_solver/configure_solver.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     infer_solver(optimizer::Any)
 3 | Return the name (`String`) of the solver to be used in the GenX.configure\_solver method according to the solver imported by the user. 
 4 | """
 5 | function infer_solver(optimizer::Any)
 6 |     return lowercase(string(parentmodule(optimizer)))
 7 | end
 8 | 
 9 | @doc raw"""
10 | 	configure_solver(solver_settings_path::String, optimizer::Any)
11 | 
12 | This method returns a solver-specific `MathOptInterface.OptimizerWithAttributes` optimizer instance to be used in the `GenX.generate\_model()` method.
13 | 
14 | # Arguments
15 | - `solver_settings_path::String`: specifies the path to the directory that contains the settings YAML file for the specified solver.
16 | - `optimizer::Any`: the optimizer instance to be configured.
17 | Currently supported solvers include: "Gurobi", "CPLEX", "Clp", "Cbc", or "SCIP"
18 | 
19 | # Returns
20 | - `optimizer::MathOptInterface.OptimizerWithAttributes`: the configured optimizer instance.
21 | """
22 | function configure_solver(solver_settings_path::String, optimizer::Any; solver_name::String="")
23 |     if isempty(solver_name)
24 |         solver_name = infer_solver(optimizer)
25 |     end
26 |     path = joinpath(solver_settings_path, solver_name * "_settings.yml")
27 | 
28 |     configure_functions = Dict("highs" => configure_highs,
29 |         "gurobi" => configure_gurobi,
30 |         "cplex" => configure_cplex,
31 |         "clp" => configure_clp,
32 |         "cbc" => configure_cbc,
33 |         "scip" => configure_scip)
34 | 
35 |     return configure_functions[solver_name](path, optimizer)
36 | end
37 | 
38 | @doc raw"""
39 |     rename_keys(attributes:Dict, new_key_names::Dict)
40 | 
41 | Renames the keys of the `attributes` dictionary based on old->new pairs in the new_key_names dictionary.
42 | 
43 | """
44 | function rename_keys(attributes::Dict, new_key_names::Dict)
45 |     updated_attributes = typeof(attributes)()
46 |     for (old_key, value) in attributes
47 |         if ~haskey(new_key_names, old_key)
48 |             new_key = old_key
49 |         else
50 |             new_key = new_key_names[old_key]
51 |             if haskey(attributes, new_key)
52 |                 @error "Colliding keys: '$old_key' needs to be renamed to '$new_key' but '$new_key' already exists in",
53 |                 attributes
54 |             end
55 |         end
56 |         updated_attributes[new_key] = value
57 |     end
58 |     return updated_attributes
59 | end
60 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_cap_reserve_margin.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	load_cap_reserve_margin!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to planning reserve margin constraints
 5 | """
 6 | function load_cap_reserve_margin!(setup::Dict, path::AbstractString, inputs::Dict)
 7 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 8 | 
 9 |     filename = "Capacity_reserve_margin_slack.csv"
10 |     if isfile(joinpath(path, filename))
11 |         df = load_dataframe(joinpath(path, filename))
12 |         inputs["dfCapRes_slack"] = df
13 |         inputs["dfCapRes_slack"][!, :PriceCap] ./= scale_factor # Million $/GW if scaled, $/MW if not scaled
14 |     end
15 | 
16 |     filename = "Capacity_reserve_margin.csv"
17 |     df = load_dataframe(joinpath(path, filename))
18 | 
19 |     mat = extract_matrix_from_dataframe(df, "CapRes")
20 |     inputs["dfCapRes"] = mat
21 |     inputs["NCapacityReserveMargin"] = size(mat, 2)
22 | 
23 |     println(filename * " Successfully Read!")
24 | end
25 | 
26 | @doc raw"""
27 | 	load_cap_reserve_margin_trans!(setup::Dict, inputs::Dict, network_var::DataFrame)
28 | 
29 | Read input parameters related to participation of transmission imports/exports in capacity reserve margin constraint.
30 | """
31 | function load_cap_reserve_margin_trans!(setup::Dict, inputs::Dict, network_var::DataFrame)
32 |     mat = extract_matrix_from_dataframe(network_var, "DerateCapRes")
33 |     inputs["dfDerateTransCapRes"] = mat
34 | 
35 |     mat = extract_matrix_from_dataframe(network_var, "CapRes_Excl")
36 |     inputs["dfTransCapRes_excl"] = mat
37 | end
38 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_co2_cap.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_co2_cap!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to CO$_2$ emissions cap constraints
 5 | """
 6 | function load_co2_cap!(setup::Dict, path::AbstractString, inputs::Dict)
 7 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 8 | 
 9 |     filename = "CO2_cap_slack.csv"
10 |     if isfile(joinpath(path, filename))
11 |         df = load_dataframe(joinpath(path, filename))
12 |         inputs["dfCO2Cap_slack"] = df
13 |         inputs["dfCO2Cap_slack"][!, :PriceCap] ./= scale_factor # Million $/kton if scaled, $/ton if not scaled
14 |     end
15 | 
16 |     filename = "CO2_cap.csv"
17 |     df = load_dataframe(joinpath(path, filename))
18 | 
19 |     inputs["dfCO2Cap"] = df
20 |     mat = extract_matrix_from_dataframe(df, "CO_2_Cap_Zone")
21 |     inputs["dfCO2CapZones"] = mat
22 |     inputs["NCO2Cap"] = size(mat, 2)
23 | 
24 |     # Emission limits
25 |     if setup["CO2Cap"] == 1
26 |         #  CO2 emissions cap in mass
27 |         # note the default inputs is in million tons
28 |         # when scaled, the constraint unit is kton
29 |         # when not scaled, the constraint unit is ton
30 |         mat = extract_matrix_from_dataframe(df, "CO_2_Max_Mtons")
31 |         inputs["dfMaxCO2"] = mat * 1e6 / scale_factor
32 | 
33 |     elseif setup["CO2Cap"] == 2 || setup["CO2Cap"] == 3
34 |         #  CO2 emissions rate applied per MWh
35 |         mat = extract_matrix_from_dataframe(df, "CO_2_Max_tons_MWh")
36 |         # no scale_factor is needed since this is a ratio
37 |         inputs["dfMaxCO2Rate"] = mat
38 |     end
39 | 
40 |     println(filename * " Successfully Read!")
41 | end
42 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_dataframe.jl:
--------------------------------------------------------------------------------
  1 | function filenotfoundconstant()::String
  2 |     "FILENOTFOUND"
  3 | end
  4 | 
  5 | @doc raw"""
  6 |     file_exists(dir::AbstractString, basenames::Vector{String})::Bool
  7 | 
  8 | Checks that a file exists in a directory under (at least) one of a list of 'aliases'.
  9 | """
 10 | function file_exists(dir, basenames::Vector{String})::Bool
 11 |     if !isdir(dir)
 12 |         return false
 13 |     end
 14 |     best_basename = popfirst!(basenames)
 15 |     best_path = joinpath(dir, best_basename)
 16 |     if isfile(best_path)
 17 |         return true
 18 |     end
 19 | 
 20 |     FILENOTFOUND = filenotfoundconstant()
 21 | 
 22 |     for base in basenames
 23 |         target = look_for_file_with_alternate_case(dir, base)
 24 |         if target != FILENOTFOUND
 25 |             return true
 26 |         end
 27 |     end
 28 |     false
 29 | end
 30 | 
 31 | @doc raw"""
 32 |     load_dataframe(path::AbstractString)
 33 | 
 34 | Attempts to load a dataframe from a csv file with the given path.
 35 | If it's not found immediately, it will look for files with a different case (lower/upper)
 36 | in the file's basename.
 37 | """
 38 | function load_dataframe(path::AbstractString)::DataFrame
 39 |     dir, base = dirname(path), basename(path)
 40 |     load_dataframe(dir, [base])
 41 | end
 42 | 
 43 | @doc raw"""
 44 |     load_dataframe(dir::AbstractString, base::AbstractString)
 45 | 
 46 | Attempts to load a dataframe from a csv file with the given directory and file name.
 47 | If not found immediately, look for files with a different case (lower/upper)
 48 | in the file's basename.
 49 | """
 50 | function load_dataframe(dir::AbstractString, base::AbstractString)::DataFrame
 51 |     load_dataframe(dir, [base])
 52 | end
 53 | 
 54 | function load_dataframe(dir::AbstractString, basenames::Vector{String})::DataFrame
 55 |     best_basename = popfirst!(basenames)
 56 |     best_path = joinpath(dir, best_basename)
 57 |     if isfile(best_path)
 58 |         return load_dataframe_from_file(best_path)
 59 |     end
 60 | 
 61 |     FILENOTFOUND = filenotfoundconstant()
 62 | 
 63 |     for base in basenames
 64 |         target = look_for_file_with_alternate_case(dir, base)
 65 |         # admonish
 66 |         if target != FILENOTFOUND
 67 |             Base.depwarn(
 68 |                 """The filename '$target' is deprecated. '$best_basename' is preferred.""",
 69 |                 :load_dataframe,
 70 |                 force = true)
 71 |             return load_dataframe_from_file(joinpath(dir, target))
 72 |         end
 73 |     end
 74 | 
 75 |     throw_filenotfound_error(dir, best_basename)
 76 | end
 77 | 
 78 | function throw_filenotfound_error(dir, base)
 79 |     files_in_dir = readdir(dir)
 80 |     err_str = """File $base was not found in the directory, "$dir".
 81 |                  Try checking the spelling.
 82 |                  The files in the directory are $files_in_dir."""
 83 |     error(err_str)
 84 | end
 85 | 
 86 | function look_for_file_with_alternate_case(dir, base)::String
 87 |     lower_base = lowercase(base)
 88 | 
 89 |     files_in_dir = readdir(dir)
 90 |     lower_files = map(lowercase, files_in_dir)
 91 |     mapping = Dict(zip(lower_files, files_in_dir))
 92 | 
 93 |     if length(mapping) != length(files_in_dir)
 94 |         error("""Files in the directory may have names which differ only by upper/lowercase.
 95 |               This must be corrected.""")
 96 |     end
 97 | 
 98 |     FILENOTFOUND = filenotfoundconstant()
 99 |     target = get(mapping, lower_base, FILENOTFOUND)
100 | 
101 |     return target
102 | end
103 | 
104 | function csv_header(path::AbstractString)
105 |     f = open(path, "r")
106 |     header = readline(f)
107 |     close(f)
108 |     header
109 | end
110 | 
111 | function keep_duplicated_entries!(s, uniques)
112 |     for u in uniques
113 |         deleteat!(s, first(findall(x -> x == u, s)))
114 |     end
115 |     return s
116 | end
117 | 
118 | function check_for_duplicate_keys(path::AbstractString)
119 |     header = csv_header(path)
120 |     keys = split(header, ',')
121 |     uniques = unique(keys)
122 |     if length(keys) > length(uniques)
123 |         dupes = keep_duplicated_entries!(keys, uniques)
124 |         @error """Some duplicate column names detected in the header of $path: $dupes.
125 |         Duplicate column names may cause errors, as only the first is used.
126 |         """
127 |     end
128 | end
129 | 
130 | function load_dataframe_from_file(path)::DataFrame
131 |     check_for_duplicate_keys(path)
132 |     CSV.read(path, DataFrame, header = 1)
133 | end
134 | 
135 | function find_matrix_columns_in_dataframe(df::DataFrame,
136 |         columnprefix::AbstractString;
137 |         prefixseparator = '_')::Vector{Int}
138 |     all_columns = names(df)
139 | 
140 |     # 2 is the length of the '_' connector plus one for indexing
141 |     get_integer_part(c) = tryparse(Int, c[(length(columnprefix) + 2):end])
142 | 
143 |     # if prefix is "ESR", the column name should be like "ESR_1"
144 |     function is_of_this_column_type(c)
145 |         startswith(c, columnprefix) &&
146 |             length(c) >= length(columnprefix) + 2 &&
147 |             c[length(columnprefix) + 1] == prefixseparator &&
148 |             !isnothing(get_integer_part(c))
149 |     end
150 | 
151 |     columns = filter(is_of_this_column_type, all_columns)
152 |     columnnumbers = sort!(get_integer_part.(columns))
153 |     return columnnumbers
154 | end
155 | 
156 | @doc raw"""
157 |     extract_matrix_from_dataframe(df::DataFrame, columnprefix::AbstractString)
158 | 
159 | Finds all columns in the dataframe which are of the form columnprefix_[Integer],
160 | and extracts them in order into a matrix. The function also checks that there's at least
161 | one column with this prefix, and that all columns numbered from 1...N exist.
162 | 
163 | This is now acceptable:
164 | ```
165 | ESR_1, other_thing, ESR_3, ESR_2,
166 |   0.1,           1,   0.3,   0.2,
167 |   0.4,           2,   0.6,   0.5,
168 | ```
169 | """
170 | function extract_matrix_from_dataframe(df::DataFrame,
171 |         columnprefix::AbstractString;
172 |         prefixseparator = '_')
173 |     all_columns = names(df)
174 |     columnnumbers = find_matrix_columns_in_dataframe(df,
175 |         columnprefix,
176 |         prefixseparator = prefixseparator)
177 | 
178 |     if length(columnnumbers) == 0
179 |         msg = """an input dataframe with columns $all_columns was searched for
180 |         numbered columns starting with $columnprefix, but nothing was found."""
181 |         error(msg)
182 |     end
183 | 
184 |     # check that the sequence of column numbers is 1..N
185 |     if columnnumbers != collect(1:length(columnnumbers))
186 |         msg = """the columns $columns in an input file must be numbered in
187 |         a complete sequence from 1...N. It looks like some of the sequence is missing.
188 |         This error could also occur if there are two columns with the same number."""
189 |         error(msg)
190 |     end
191 | 
192 |     sorted_columns = columnprefix .* prefixseparator .* string.(columnnumbers)
193 |     Matrix(dropmissing(df[:, sorted_columns]))
194 | end
195 | 
196 | function extract_matrix_from_resources(rs::Vector{T},
197 |         columnprefix::AbstractString,
198 |         default = 0.0) where {T <: AbstractResource}
199 | 
200 |     # attributes starting with columnprefix with a numeric suffix
201 |     attributes_n = [attr
202 |                     for attr in string.(attributes(rs[1]))
203 |                     if startswith(attr, columnprefix)]
204 |     # sort the attributes by the numeric suffix
205 |     sort!(attributes_n, by = x -> parse(Int, split(x, "_")[end]))
206 | 
207 |     # extract the matrix of the attributes
208 |     value = Matrix{Float64}(undef, length(rs), length(attributes_n))
209 |     for (i, r) in enumerate(rs)
210 |         for (j, attr) in enumerate(attributes_n)
211 |             value[i, j] = get(r, Symbol(attr), default)
212 |         end
213 |     end
214 | 
215 |     return value
216 | end
217 | 
218 | """
219 |     validate_df_cols(df::DataFrame, df_name::AbstractString, required_cols::Vector{AbstractString})
220 | 
221 | Check that the dataframe has all the required columns.
222 | 
223 | # Arguments
224 | - `df::DataFrame`: the dataframe to check
225 | - `df_name::AbstractString`: the name of the dataframe, for error messages
226 | - `required_cols::Vector{AbstractString}`: the names of the required columns
227 | """
228 | function validate_df_cols(df::DataFrame, df_name::AbstractString, required_cols)
229 |     for col in required_cols
230 |         if col âˆ‰ names(df)
231 |             error("$df_name data file is missing column $col")
232 |         end
233 |     end
234 | end
235 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_demand_data.jl:
--------------------------------------------------------------------------------
  1 | function get_demand_dataframe(path)
  2 |     filename = "Demand_data.csv"
  3 |     deprecated_synonym = "Load_data.csv"
  4 |     df = load_dataframe(path, [filename, deprecated_synonym])
  5 |     # update column names
  6 |     old_columns = find_matrix_columns_in_dataframe(df,
  7 |         DEMAND_COLUMN_PREFIX_DEPRECATED()[1:(end - 1)],
  8 |         prefixseparator = 'z')
  9 |     old_column_symbols = Symbol.(DEMAND_COLUMN_PREFIX_DEPRECATED() * string(i)
 10 |     for i in old_columns)
 11 |     if length(old_column_symbols) > 0
 12 |         pref_prefix = DEMAND_COLUMN_PREFIX()
 13 |         dep_prefix = DEMAND_COLUMN_PREFIX_DEPRECATED()
 14 |         @info "$dep_prefix is deprecated. Use $pref_prefix."
 15 |         new_column_symbols = Symbol.(DEMAND_COLUMN_PREFIX() * string(i)
 16 |         for i in old_columns)
 17 |         rename!(df, Dict(old_column_symbols .=> new_column_symbols))
 18 |     end
 19 |     return df
 20 | end
 21 | 
 22 | DEMAND_COLUMN_PREFIX() = "Demand_MW_z"
 23 | DEMAND_COLUMN_PREFIX_DEPRECATED() = "Load_MW_z"
 24 | 
 25 | @doc raw"""
 26 | 	load_demand_data!(setup::Dict, path::AbstractString, inputs::Dict)
 27 | 
 28 | Read input parameters related to electricity demand (load)
 29 | """
 30 | function load_demand_data!(setup::Dict, path::AbstractString, inputs::Dict)
 31 | 
 32 |     # Load related inputs
 33 |     TDR_directory = joinpath(path, setup["TimeDomainReductionFolder"])
 34 |     # if TDR is used, my_dir = TDR_directory, else my_dir = "system"
 35 |     my_dir = get_systemfiles_path(setup, TDR_directory, path)
 36 | 
 37 |     demand_in = get_demand_dataframe(my_dir)
 38 | 
 39 |     as_vector(col::Symbol) = collect(skipmissing(demand_in[!, col]))
 40 | 
 41 |     # Number of time steps (periods)
 42 |     T = length(as_vector(:Time_Index))
 43 |     # Number of demand curtailment/lost load segments
 44 |     SEG = length(as_vector(:Demand_Segment))
 45 | 
 46 |     ## Set indices for internal use
 47 |     inputs["T"] = T
 48 |     inputs["SEG"] = SEG
 49 |     Z = inputs["Z"]   # Number of zones
 50 | 
 51 |     inputs["omega"] = zeros(Float64, T) # weights associated with operational sub-period in the model - sum of weight = 8760
 52 |     # Weights for each period - assumed same weights for each sub-period within a period
 53 |     inputs["Weights"] = as_vector(:Sub_Weights) # Weights each period
 54 | 
 55 |     # Total number of periods and subperiods
 56 |     inputs["REP_PERIOD"] = convert(Int16, as_vector(:Rep_Periods)[1])
 57 |     inputs["H"] = convert(Int64, as_vector(:Timesteps_per_Rep_Period)[1])
 58 | 
 59 |     # Creating sub-period weights from weekly weights
 60 |     for w in 1:inputs["REP_PERIOD"]
 61 |         for h in 1:inputs["H"]
 62 |             t = inputs["H"] * (w - 1) + h
 63 |             inputs["omega"][t] = inputs["Weights"][w] / inputs["H"]
 64 |         end
 65 |     end
 66 | 
 67 |     # Create time set steps indicies
 68 |     inputs["hours_per_subperiod"] = div.(T, inputs["REP_PERIOD"]) # total number of hours per subperiod
 69 |     hours_per_subperiod = inputs["hours_per_subperiod"] # set value for internal use
 70 | 
 71 |     inputs["START_SUBPERIODS"] = 1:hours_per_subperiod:T # set of indexes for all time periods that start a subperiod (e.g. sample day/week)
 72 |     inputs["INTERIOR_SUBPERIODS"] = setdiff(1:T, inputs["START_SUBPERIODS"]) # set of indexes for all time periods that do not start a subperiod
 73 | 
 74 |     # Demand in MW for each zone
 75 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 76 |     # Max value of non-served energy
 77 |     inputs["Voll"] = as_vector(:Voll) / scale_factor # convert from $/MWh $ million/GWh (assuming objective is divided by 1000)
 78 |     # Demand in MW
 79 |     inputs["pD"] = extract_matrix_from_dataframe(demand_in,
 80 |         DEMAND_COLUMN_PREFIX()[1:(end - 1)],
 81 |         prefixseparator = 'z') / scale_factor
 82 | 
 83 |     # Cost of non-served energy/demand curtailment
 84 |     # Cost of each segment reported as a fraction of value of non-served energy - scaled implicitly
 85 |     inputs["pC_D_Curtail"] = as_vector(:Cost_of_Demand_Curtailment_per_MW) *
 86 |                              inputs["Voll"][1]
 87 |     # Maximum hourly demand curtailable as % of the max demand (for each segment)
 88 |     inputs["pMax_D_Curtail"] = as_vector(:Max_Demand_Curtailment)
 89 | 
 90 |     println("Demand (load) data Successfully Read!")
 91 | end
 92 | 
 93 | # ensure that the length of demand data exactly matches
 94 | # the number of subperiods times their length
 95 | # and that the number of subperiods equals the list of provided weights
 96 | function validatetimebasis(inputs::Dict)
 97 |     println("Validating time basis")
 98 |     demand_length = size(inputs["pD"], 1)
 99 |     generators_variability_length = size(inputs["pP_Max"], 2)
100 | 
101 |     typical_fuel = first(inputs["fuels"])
102 |     fuel_costs_length = size(inputs["fuel_costs"][typical_fuel], 1)
103 | 
104 |     T = inputs["T"]
105 |     hours_per_subperiod = inputs["hours_per_subperiod"]
106 |     number_of_representative_periods = inputs["REP_PERIOD"]
107 |     expected_length_1 = hours_per_subperiod * number_of_representative_periods
108 | 
109 |     H = inputs["H"]
110 |     expected_length_2 = H * number_of_representative_periods
111 | 
112 |     check_equal = [T,
113 |         demand_length,
114 |         generators_variability_length,
115 |         fuel_costs_length,
116 |         expected_length_1,
117 |         expected_length_2]
118 | 
119 |     allequal(x) = all(y -> y == x[1], x)
120 |     ok = allequal(check_equal)
121 | 
122 |     if ~ok
123 |         error("""Critical error in time series construction:
124 |                  lengths of the various time series, and/or the expected
125 |                  total length based on the number of representative periods and their length,
126 |                  are not all equal.
127 | 
128 |                  Expected length:                    $T
129 |                      (set by the Time index in demand_data.csv [or load_data.csv])
130 |                  Demand series length:               $demand_length
131 |                      (demand_data.csv [or load_data.csv])
132 |                  Resource time profiles length:      $generators_variability_length
133 |                      (generators_variability.csv)
134 |                  Fuel costs length:                  $fuel_costs_length
135 |                      (fuels_data.csv)
136 | 
137 |                  Metrics from demand_data.csv [load_data.csv]:
138 |                  Detected time steps:            $T
139 |                  No. of representative periods:  $number_of_representative_periods
140 |                      Euclidean quotient of these:    $hours_per_subperiod
141 | 
142 |                  No. of representative periods:  $number_of_representative_periods
143 |                  Time steps per rep. period:     $H
144 |                      Product of these:               $expected_length_2
145 |               """)
146 |     end
147 | 
148 |     if "Weights" in keys(inputs)
149 |         weights = inputs["Weights"]
150 |         num_weights = length(weights)
151 |         if num_weights != number_of_representative_periods
152 |             error("""Critical error in time series construction:
153 |                   In demand_data.csv [or load_data.csv],
154 |                   the number of subperiod weights ($num_weights) does not match
155 |                   the expected number of representative periods, ($number_of_representative_periods).""")
156 |         end
157 |     end
158 | end
159 | 
160 | @doc raw"""
161 |     prevent_doubled_timedomainreduction(path::AbstractString)
162 | 
163 | This function prevents TimeDomainReduction from running on a case which
164 | already has more than one Representative Period or has more than one Sub_Weight specified.
165 | """
166 | function prevent_doubled_timedomainreduction(path::AbstractString)
167 |     demand_in = get_demand_dataframe(path)
168 |     as_vector(col::Symbol) = collect(skipmissing(demand_in[!, col]))
169 |     representative_periods = convert(Int16, as_vector(:Rep_Periods)[1])
170 |     sub_weights = as_vector(:Sub_Weights)
171 |     num_sub_weights = length(sub_weights)
172 |     if representative_periods != 1 || num_sub_weights > 1
173 |         error("""Critical error in time series construction:
174 |               Time domain reduction (clustering) is being called for,
175 |               on data which may already be clustered. In demand_data.csv [or load_data.csv],
176 |               the number of representative periods (:Rep_Period) is ($representative_periods)
177 |               and the number of subperiod weight entries (:Sub_Weights) is ($num_sub_weights).
178 |               Each of these must be 1: only a single period can have TimeDomainReduction applied.""")
179 |     end
180 | end
181 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_energy_share_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_energy_share_requirement!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to minimum energy share requirement constraints
 5 | (e.g. renewable portfolio standard or clean electricity standard policies)
 6 | """
 7 | function load_energy_share_requirement!(setup::Dict, path::AbstractString, inputs::Dict)
 8 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 9 | 
10 |     filename = "Energy_share_requirement_slack.csv"
11 |     if isfile(joinpath(path, filename))
12 |         df = load_dataframe(joinpath(path, filename))
13 |         inputs["dfESR_slack"] = df
14 |         inputs["dfESR_slack"][!, :PriceCap] ./= scale_factor # million $/GWh if scaled, $/MWh if not scaled
15 |     end
16 | 
17 |     filename = "Energy_share_requirement.csv"
18 |     df = load_dataframe(joinpath(path, filename))
19 |     mat = extract_matrix_from_dataframe(df, "ESR")
20 |     inputs["dfESR"] = mat
21 |     inputs["nESR"] = size(mat, 2)
22 | 
23 |     println(filename * " Successfully Read!")
24 | end
25 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_fuels_data.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_fuels_data!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to fuel costs and CO$_2$ content of fuels
 5 | """
 6 | function load_fuels_data!(setup::Dict, path::AbstractString, inputs::Dict)
 7 | 
 8 |     # Fuel related inputs - read in different files depending on if time domain reduction is activated or not
 9 |     TDR_directory = joinpath(path, setup["TimeDomainReductionFolder"])
10 |     # if TDR is used, my_dir = TDR_directory, else my_dir = "system"
11 |     my_dir = get_systemfiles_path(setup, TDR_directory, path)
12 | 
13 |     filename = "Fuels_data.csv"
14 |     fuels_in = load_dataframe(joinpath(my_dir, filename))
15 | 
16 |     for nonfuel in ("None",)
17 |         ensure_column!(fuels_in, nonfuel, 0.0)
18 |     end
19 | 
20 |     # Fuel costs & CO2 emissions rate for each fuel type
21 |     fuels = names(fuels_in)[2:end]
22 |     costs = Matrix(fuels_in[2:end, 2:end])
23 |     CO2_content = fuels_in[1, 2:end] # tons CO2/MMBtu
24 |     fuel_costs = Dict{AbstractString, Array{Float64}}()
25 |     fuel_CO2 = Dict{AbstractString, Float64}()
26 | 
27 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
28 | 
29 |     for i in 1:length(fuels)
30 |         # fuel cost is in $/MMBTU w/o scaling, $/Billon BTU w/ scaling
31 |         fuel_costs[fuels[i]] = costs[:, i] / scale_factor
32 |         # No need to scale fuel_CO2, fuel_CO2 is ton/MMBTU or kton/Billion BTU 
33 |         fuel_CO2[fuels[i]] = CO2_content[i]
34 |     end
35 | 
36 |     inputs["fuels"] = fuels
37 |     inputs["fuel_costs"] = fuel_costs
38 |     inputs["fuel_CO2"] = fuel_CO2
39 | 
40 |     println(filename * " Successfully Read!")
41 | 
42 |     return fuel_costs, fuel_CO2
43 | end
44 | 
45 | function ensure_column!(df::DataFrame, col::AbstractString, fill_element)
46 |     if col âˆ‰ names(df)
47 |         df[!, col] = fill(fill_element, nrow(df))
48 |     end
49 | end
50 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_generators_variability.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	load_generators_variability!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to hourly maximum capacity factors for generators, storage, and flexible demand resources
 5 | """
 6 | function load_generators_variability!(setup::Dict, path::AbstractString, inputs::Dict)
 7 | 
 8 |     # Hourly capacity factors
 9 |     TDR_directory = joinpath(path, setup["TimeDomainReductionFolder"])
10 |     # if TDR is used, my_dir = TDR_directory, else my_dir = "system"
11 |     my_dir = get_systemfiles_path(setup, TDR_directory, path)
12 | 
13 |     filename = "Generators_variability.csv"
14 |     gen_var = load_dataframe(joinpath(my_dir, filename))
15 | 
16 |     all_resources = inputs["RESOURCE_NAMES"]
17 | 
18 |     existing_variability = names(gen_var)
19 |     for r in all_resources
20 |         if r âˆ‰ existing_variability
21 |             @info "assuming availability of 1.0 for resource $r."
22 |             ensure_column!(gen_var, r, 1.0)
23 |         end
24 |     end
25 | 
26 |     # Reorder DataFrame to R_ID order
27 |     select!(gen_var, [:Time_Index; Symbol.(all_resources)])
28 | 
29 |     # Maximum power output and variability of each energy resource
30 |     inputs["pP_Max"] = transpose(Matrix{Float64}(gen_var[1:inputs["T"],
31 |         2:(inputs["G"] + 1)]))
32 | 
33 |     println(filename * " Successfully Read!")
34 | end
35 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_hydrogen_demand.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_hydrogen_demand!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to regional hydrogen demand from electrolysis
 5 | """
 6 | function load_hydrogen_demand!(setup::Dict, path::AbstractString, inputs::Dict)
 7 |     filename = "Hydrogen_demand.csv"
 8 |     df = load_dataframe(joinpath(path, filename))
 9 | 
10 |     inputs["NumberOfH2DemandReqs"] = nrow(df)
11 |     inputs["H2DemandReq"] = df[!, :Hydrogen_Demand_kt]
12 | 
13 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1 # Million $/kton if scaled, $/ton if not scaled
14 | 
15 |     if "PriceCap" in names(df)
16 |         inputs["H2DemandPriceCap"] = df[!, :PriceCap] / scale_factor
17 |     end
18 |     println(filename * " Successfully Read!")
19 | end
20 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_inputs.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	load_inputs(setup::Dict,path::AbstractString)
  3 | 
  4 | Loads various data inputs from multiple input .csv files in path directory and stores variables in a Dict (dictionary) object for use in model() function
  5 | 
  6 | inputs:
  7 | setup - dict object containing setup parameters
  8 | path - string path to working directory
  9 | 
 10 | returns: Dict (dictionary) object containing all data inputs
 11 | """
 12 | function load_inputs(setup::Dict, path::AbstractString)
 13 | 
 14 |     ## Read input files
 15 |     println("Reading Input CSV Files")
 16 |     ## input paths
 17 |     system_path = joinpath(path, setup["SystemFolder"])
 18 |     resources_path = joinpath(path, setup["ResourcesFolder"])
 19 |     policies_path = joinpath(path, setup["PoliciesFolder"])
 20 |     ## Declare Dict (dictionary) object used to store parameters
 21 |     inputs = Dict()
 22 |     # Read input data about power network topology, operating and expansion attributes
 23 |     if isfile(joinpath(system_path, "Network.csv"))
 24 |         network_var = load_network_data!(setup, system_path, inputs)
 25 |     else
 26 |         inputs["Z"] = 1
 27 |         inputs["L"] = 0
 28 |     end
 29 | 
 30 |     # Read temporal-resolved load data, and clustering information if relevant
 31 |     load_demand_data!(setup, path, inputs)
 32 |     # Read fuel cost data, including time-varying fuel costs
 33 |     load_fuels_data!(setup, path, inputs)
 34 |     # Read in generator/resource related inputs
 35 |     load_resources_data!(inputs, setup, path, resources_path)
 36 |     # Read in generator/resource availability profiles
 37 |     load_generators_variability!(setup, path, inputs)
 38 | 
 39 |     validatetimebasis(inputs)
 40 | 
 41 |     if setup["CapacityReserveMargin"] == 1
 42 |         load_cap_reserve_margin!(setup, policies_path, inputs)
 43 |         if inputs["Z"] > 1
 44 |             load_cap_reserve_margin_trans!(setup, inputs, network_var)
 45 |         end
 46 |     end
 47 | 
 48 |     # Read in general configuration parameters for operational reserves (resource-specific reserve parameters are read in load_resources_data)
 49 |     if setup["OperationalReserves"] == 1
 50 |         load_operational_reserves!(setup, system_path, inputs)
 51 |     end
 52 | 
 53 |     if setup["MinCapReq"] == 1
 54 |         load_minimum_capacity_requirement!(policies_path, inputs, setup)
 55 |     end
 56 | 
 57 |     if setup["MaxCapReq"] == 1
 58 |         load_maximum_capacity_requirement!(policies_path, inputs, setup)
 59 |     end
 60 | 
 61 |     if setup["EnergyShareRequirement"] == 1
 62 |         load_energy_share_requirement!(setup, policies_path, inputs)
 63 |     end
 64 | 
 65 |     if setup["CO2Cap"] >= 1
 66 |         load_co2_cap!(setup, policies_path, inputs)
 67 |     end
 68 | 
 69 |     if !isempty(inputs["VRE_STOR"])
 70 |         load_vre_stor_variability!(setup, path, inputs)
 71 |     end
 72 | 
 73 |     # Read in hydrogen damand data
 74 |     if setup["HydrogenMinimumProduction"] == 1
 75 |         load_hydrogen_demand!(setup, policies_path, inputs)
 76 |     end
 77 | 
 78 |     # Read in mapping of modeled periods to representative periods
 79 |     if is_period_map_necessary(inputs) && is_period_map_exist(setup, path)
 80 |         load_period_map!(setup, path, inputs)
 81 |     end
 82 | 
 83 |     # Virtual charge discharge cost
 84 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 85 |     inputs["VirtualChargeDischargeCost"] = setup["VirtualChargeDischargeCost"] /
 86 |                                            scale_factor
 87 | 
 88 |     println("CSV Files Successfully Read In From $path")
 89 | 
 90 |     return inputs
 91 | end
 92 | 
 93 | function is_period_map_necessary(inputs::Dict)
 94 |     multiple_rep_periods = inputs["REP_PERIOD"] > 1
 95 |     has_stor_lds = !isempty(inputs["STOR_LONG_DURATION"])
 96 |     has_hydro_lds = !isempty(inputs["STOR_HYDRO_LONG_DURATION"])
 97 |     has_vre_stor_lds = !isempty(inputs["VRE_STOR"]) && !isempty(inputs["VS_LDS"])
 98 |     multiple_rep_periods && (has_stor_lds || has_hydro_lds || has_vre_stor_lds)
 99 | end
100 | 
101 | function is_period_map_exist(setup::Dict, path::AbstractString)
102 |     filename = "Period_map.csv"
103 |     is_in_system_dir = isfile(joinpath(path, setup["SystemFolder"], filename))
104 |     is_in_TDR_dir = isfile(joinpath(path, setup["TimeDomainReductionFolder"], filename))
105 |     is_in_system_dir || is_in_TDR_dir
106 | end
107 | 
108 | """
109 | 	get_systemfiles_path(setup::Dict, TDR_directory::AbstractString, path::AbstractString)
110 | 
111 | Determine the directory based on the setup parameters.
112 | 
113 | This function checks if the TimeDomainReduction setup parameter is equal to 1 and if time domain reduced files exist in the data directory. 
114 | If the condition is met, it returns the path to the TDR_results data directory. Otherwise, it returns the system directory specified in the setup.
115 | 
116 | Parameters:
117 | - setup: Dict{String, Any} - The GenX settings parameters containing TimeDomainReduction and SystemFolder information.
118 | - TDR_directory: String - The data directory where files are located.
119 | - path: String - Path to the case folder.
120 | 
121 | Returns:
122 | - String: The directory path based on the setup parameters.
123 | """
124 | function get_systemfiles_path(setup::Dict,
125 |         TDR_directory::AbstractString,
126 |         path::AbstractString)
127 |     if setup["TimeDomainReduction"] == 1 && time_domain_reduced_files_exist(TDR_directory)
128 |         return TDR_directory
129 |     else
130 |         # If TDR is not used, then use the "system" directory specified in the setup
131 |         return joinpath(path, setup["SystemFolder"])
132 |     end
133 | end
134 | 
135 | abstract type AbstractLogMsg end
136 | struct ErrorMsg <: AbstractLogMsg
137 |     msg::String
138 | end
139 | struct WarnMsg <: AbstractLogMsg
140 |     msg::String
141 | end
142 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_maximum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_maximum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)
 3 | 
 4 | Read input parameters related to maximum capacity requirement constraints (e.g. technology specific deployment mandates)
 5 | """
 6 | function load_maximum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)
 7 |     filename = "Maximum_capacity_requirement.csv"
 8 |     df = load_dataframe(joinpath(path, filename))
 9 |     inputs["NumberOfMaxCapReqs"] = nrow(df)
10 |     inputs["MaxCapReq"] = df[!, :Max_MW]
11 | 
12 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
13 | 
14 |     inputs["MaxCapReq"] /= scale_factor
15 |     if "PriceCap" in names(df)
16 |         inputs["MaxCapPriceCap"] = df[!, :PriceCap] / scale_factor
17 |     end
18 |     println(filename * " Successfully Read!")
19 | end
20 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_minimum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     load_minimum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)
 3 | 
 4 | Read input parameters related to minimum capacity requirement constraints (e.g. technology specific deployment mandates)
 5 | """
 6 | function load_minimum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)
 7 |     filename = "Minimum_capacity_requirement.csv"
 8 |     df = load_dataframe(joinpath(path, filename))
 9 |     NumberOfMinCapReqs = length(df[!, :MinCapReqConstraint])
10 |     inputs["NumberOfMinCapReqs"] = NumberOfMinCapReqs
11 |     inputs["MinCapReq"] = df[!, :Min_MW]
12 |     if setup["ParameterScale"] == 1
13 |         inputs["MinCapReq"] /= ModelScalingFactor # Convert to GW
14 |     end
15 |     if "PriceCap" in names(df)
16 |         inputs["MinCapPriceCap"] = df[!, :PriceCap]
17 |         if setup["ParameterScale"] == 1
18 |             inputs["MinCapPriceCap"] /= ModelScalingFactor # Convert to million $/GW
19 |         end
20 |     end
21 |     println(filename * " Successfully Read!")
22 | end
23 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_multistage_data.jl:
--------------------------------------------------------------------------------
 1 | function load_multistage_dataframe(filepath::AbstractString, scale_factor::Float64)
 2 |     if !isfile(filepath)
 3 |         error("Multistage data file not found at $filepath")
 4 |     end
 5 | 
 6 |     multistage_in = load_dataframe(filepath)
 7 |     # rename columns lowercase for internal consistency
 8 |     rename!(multistage_in, lowercase.(names(multistage_in)))
 9 |     scale_multistage_data!(multistage_in, scale_factor)
10 | 
11 |     validate_multistage_data!(multistage_in)
12 | 
13 |     return multistage_in
14 | end
15 | 
16 | function validate_multistage_data!(multistage_df::DataFrame)
17 |     # cols that the user must provide
18 |     required_cols = ("lifetime", "capital_recovery_period")
19 |     # check that all required columns are present
20 |     for col in required_cols
21 |         if col âˆ‰ names(multistage_df)
22 |             error("Multistage data file is missing column $col")
23 |         end
24 |     end
25 | end
26 | 
27 | function scale_multistage_data!(multistage_in::DataFrame, scale_factor::Float64)
28 |     columns_to_scale = [:min_retired_cap_mw,            # to GW
29 |         :min_retired_charge_cap_mw,     # to GW
30 |         :min_retired_energy_cap_mw,     # to GW
31 |         :min_retired_cap_inverter_mw,
32 |         :min_retired_cap_solar_mw,
33 |         :min_retired_cap_wind_mw,
34 |         :min_retired_cap_elec_mw,
35 |         :min_retired_cap_charge_dc_mw,
36 |         :min_retired_cap_charge_ac_mw,
37 |         :min_retired_cap_discharge_dc_mw,
38 |         :min_retired_cap_discharge_ac_mw
39 |     ]
40 |     scale_columns!(multistage_in, columns_to_scale, scale_factor)
41 |     return nothing
42 | end
43 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_network_data.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     load_network_data!(setup::Dict, path::AbstractString, inputs_nw::Dict)
  3 | 
  4 | Function for reading input parameters related to the electricity transmission network
  5 | """
  6 | function load_network_data!(setup::Dict, path::AbstractString, inputs_nw::Dict)
  7 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
  8 | 
  9 |     filename = "Network.csv"
 10 |     network_var = load_dataframe(joinpath(path, filename))
 11 | 
 12 |     as_vector(col::Symbol) = collect(skipmissing(network_var[!, col]))
 13 |     to_floats(col::Symbol) = convert(Array{Float64}, as_vector(col))
 14 | 
 15 |     # Number of zones in the network
 16 |     Z = length(as_vector(:Network_zones))
 17 |     inputs_nw["Z"] = Z
 18 |     # Number of lines in the network
 19 |     L = length(as_vector(:Network_Lines))
 20 |     inputs_nw["L"] = L
 21 | 
 22 |     # Topology of the network source-sink matrix
 23 |     inputs_nw["pNet_Map"] = load_network_map(network_var, Z, L)
 24 | 
 25 |     # Transmission capacity of the network (in MW)
 26 |     inputs_nw["pTrans_Max"] = to_floats(:Line_Max_Flow_MW) / scale_factor  # convert to GW
 27 | 
 28 |     if setup["Trans_Loss_Segments"] == 1
 29 |         # Line percentage Loss - valid for case when modeling losses as a fixed percent of absolute value of power flows
 30 |         inputs_nw["pPercent_Loss"] = to_floats(:Line_Loss_Percentage)
 31 |     elseif setup["Trans_Loss_Segments"] >= 2
 32 |         # Transmission line voltage (in kV)
 33 |         inputs_nw["kV"] = to_floats(:Line_Voltage_kV)
 34 |         # Transmission line resistance (in Ohms) - Used when modeling quadratic transmission losses
 35 |         inputs_nw["Ohms"] = to_floats(:Line_Resistance_Ohms)
 36 |     end
 37 | 
 38 |     ## Inputs for the DC-OPF 
 39 |     if setup["DC_OPF"] == 1
 40 |         if setup["NetworkExpansion"] == 1
 41 |             @warn("Because the DC_OPF flag is active, GenX will not allow any transmission capacity expansion. Set the DC_OPF flag to 0 if you want to optimize tranmission capacity expansion.")
 42 |             setup["NetworkExpansion"] = 0
 43 |         end
 44 |         println("Reading DC-OPF values...")
 45 |         # Transmission line voltage (in kV)
 46 |         line_voltage_kV = to_floats(:Line_Voltage_kV)
 47 |         # Transmission line reactance (in Ohms)
 48 |         line_reactance_Ohms = to_floats(:Line_Reactance_Ohms)
 49 |         # Line angle limit (in radians)
 50 |         inputs_nw["Line_Angle_Limit"] = to_floats(:Angle_Limit_Rad)
 51 |         # DC-OPF coefficient for each line (in MW when not scaled, in GW when scaled) 
 52 |         # MW = (kV)^2/Ohms 
 53 |         inputs_nw["pDC_OPF_coeff"] = ((line_voltage_kV .^ 2) ./ line_reactance_Ohms) /
 54 |                                      scale_factor
 55 |     end
 56 | 
 57 |     # Maximum possible flow after reinforcement for use in linear segments of piecewise approximation
 58 |     inputs_nw["pTrans_Max_Possible"] = inputs_nw["pTrans_Max"]
 59 | 
 60 |     if setup["NetworkExpansion"] == 1
 61 |         # Read between zone network reinforcement costs per peak MW of capacity added
 62 |         inputs_nw["pC_Line_Reinforcement"] = to_floats(:Line_Reinforcement_Cost_per_MWyr) /
 63 |                                              scale_factor # convert to million $/GW/yr with objective function in millions
 64 |         # Maximum reinforcement allowed in MW
 65 |         #NOTE: values <0 indicate no expansion possible
 66 |         inputs_nw["pMax_Line_Reinforcement"] = map(x -> max(0, x),
 67 |             to_floats(:Line_Max_Reinforcement_MW)) / scale_factor # convert to GW
 68 |         inputs_nw["pTrans_Max_Possible"] += inputs_nw["pMax_Line_Reinforcement"]
 69 |     end
 70 | 
 71 |     # Multi-Stage
 72 |     if setup["MultiStage"] == 1
 73 |         # Weighted Average Cost of Capital for Transmission Expansion
 74 |         if setup["NetworkExpansion"] >= 1
 75 |             inputs_nw["transmission_WACC"] = to_floats(:WACC)
 76 |             inputs_nw["Capital_Recovery_Period_Trans"] = to_floats(:Capital_Recovery_Period)
 77 |         end
 78 | 
 79 |         # Max Flow Possible on Each Line
 80 |         inputs_nw["pLine_Max_Flow_Possible_MW"] = to_floats(:Line_Max_Flow_Possible_MW) /
 81 |                                                   scale_factor # Convert to GW
 82 |     end
 83 | 
 84 |     # Transmission line (between zone) loss coefficient (resistance/voltage^2)
 85 |     inputs_nw["pTrans_Loss_Coef"] = zeros(Float64, L)
 86 |     if setup["Trans_Loss_Segments"] == 1
 87 |         inputs_nw["pTrans_Loss_Coef"] = inputs_nw["pPercent_Loss"]
 88 |     elseif setup["Trans_Loss_Segments"] >= 2
 89 |         # If zones are connected, loss coefficient is R/V^2 where R is resistance in Ohms and V is voltage in Volts
 90 |         inputs_nw["pTrans_Loss_Coef"] = (inputs_nw["Ohms"] / 10^6) ./
 91 |                                         (inputs_nw["kV"] / 10^3)^2 * scale_factor # 1/GW ***
 92 |     end
 93 | 
 94 |     ## Sets and indices for transmission losses and expansion
 95 |     inputs_nw["TRANS_LOSS_SEGS"] = setup["Trans_Loss_Segments"] # Number of segments used in piecewise linear approximations quadratic loss functions
 96 |     inputs_nw["LOSS_LINES"] = findall(inputs_nw["pTrans_Loss_Coef"] .!= 0) # Lines for which loss coefficients apply (are non-zero);
 97 | 
 98 |     if setup["NetworkExpansion"] == 1
 99 |         # Network lines and zones that are expandable have non-negative maximum reinforcement inputs
100 |         inputs_nw["EXPANSION_LINES"] = findall(inputs_nw["pMax_Line_Reinforcement"] .>= 0)
101 |         inputs_nw["NO_EXPANSION_LINES"] = findall(inputs_nw["pMax_Line_Reinforcement"] .< 0)
102 |     end
103 | 
104 |     println(filename * " Successfully Read!")
105 | 
106 |     return network_var
107 | end
108 | 
109 | @doc raw"""
110 |     load_network_map_from_list(network_var::DataFrame, Z, L, list_columns)
111 | 
112 | Loads the network map from a list-style interface
113 | ```
114 | ..., Network_Lines, Start_Zone, End_Zone, ...
115 |                  1,           1,       2,
116 |                  2,           1,       3,
117 | ```
118 | """
119 | function load_network_map_from_list(network_var::DataFrame, Z, L, list_columns)
120 |     start_col, end_col = list_columns
121 |     mat = zeros(L, Z)
122 |     start_zones = collect(skipmissing(network_var[!, start_col]))
123 |     end_zones = collect(skipmissing(network_var[!, end_col]))
124 |     for l in 1:L
125 |         mat[l, start_zones[l]] = 1
126 |         mat[l, end_zones[l]] = -1
127 |     end
128 |     mat
129 | end
130 | 
131 | @doc raw"""
132 |     load_network_map_from_matrix(network_var::DataFrame, Z, L)
133 | 
134 | Loads the network map from a matrix-style interface
135 | ```
136 | ..., Network_Lines, z1, z2, z3, ...
137 |                  1,  1, -1,  0,
138 |                  2,  1,  0, -1,
139 | ```
140 | This is equivalent to the list-style interface where the zone zN with entry +1 is the
141 | starting zone of the line and the zone with entry -1 is the ending zone of the line.
142 | """
143 | function load_network_map_from_matrix(network_var::DataFrame, Z, L)
144 |     # Topology of the network source-sink matrix
145 |     network_map_matrix_format_deprecation_warning()
146 |     col = findall(s -> s == "z1", names(network_var))[1]
147 |     mat = Matrix{Float64}(network_var[1:L, col:(col + Z - 1)])
148 | end
149 | 
150 | function load_network_map(network_var::DataFrame, Z, L)
151 |     columns = names(network_var)
152 | 
153 |     list_columns = ["Start_Zone", "End_Zone"]
154 |     has_network_list = all([c in columns for c in list_columns])
155 | 
156 |     zones_as_strings = ["z" * string(i) for i in 1:Z]
157 |     has_network_matrix = all([c in columns for c in zones_as_strings])
158 | 
159 |     instructions = """The transmission network should be specified in the form of a matrix
160 |            (with columns z1, z2, ... zN) or in the form of lists (with Start_Zone, End_Zone),
161 |            but not both. See the documentation for examples."""
162 | 
163 |     if has_network_list && has_network_matrix
164 |         error("two types of transmission network map were provided.\n" * instructions)
165 |     elseif !(has_network_list || has_network_matrix)
166 |         error("no transmission network map was detected.\n" * instructions)
167 |     elseif has_network_list
168 |         load_network_map_from_list(network_var, Z, L, list_columns)
169 |     elseif has_network_matrix
170 |         load_network_map_from_matrix(network_var, Z, L)
171 |     end
172 | end
173 | 
174 | function network_map_matrix_format_deprecation_warning()
175 |     @warn """Specifying the network map as a matrix is deprecated as of v0.4
176 |   and will be removed in v0.5. Instead, use the more compact list-style format.
177 | 
178 |   ..., Network_Lines, Start_Zone, End_Zone, ...
179 |                    1,          1,        2,
180 |                    2,          1,        3,
181 |                    3,          2,        3,
182 |   """ maxlog=1
183 | end
184 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_operational_reserves.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	load_operational_reserves!(setup::Dict,path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to frequency regulation and operating reserve requirements
 5 | """
 6 | function load_operational_reserves!(setup::Dict, path::AbstractString, inputs::Dict)
 7 |     filename = "Operational_reserves.csv"
 8 |     deprecated_synonym = "Reserves.csv"
 9 |     res_in = load_dataframe(path, [filename, deprecated_synonym])
10 | 
11 |     gen = inputs["RESOURCES"]
12 | 
13 |     function load_field_with_deprecated_symbol(df::DataFrame, columns::Vector{Symbol})
14 |         best = popfirst!(columns)
15 |         firstrow = 1
16 |         all_columns = Symbol.(names(df))
17 |         if best in all_columns
18 |             return float(df[firstrow, best])
19 |         end
20 |         for col in columns
21 |             if col in all_columns
22 |                 Base.depwarn(
23 |                     "The column name $col in file $filename is deprecated; prefer $best",
24 |                     :load_operational_reserves,
25 |                     force = true)
26 |                 return float(df[firstrow, col])
27 |             end
28 |         end
29 |         error("None of the columns $columns were found in the file $filename")
30 |     end
31 | 
32 |     # Regulation requirement as a percent of hourly demand; here demand is the total across all model zones
33 |     inputs["pReg_Req_Demand"] = load_field_with_deprecated_symbol(res_in,
34 |         [:Reg_Req_Percent_Demand,
35 |             :Reg_Req_Percent_Load])
36 | 
37 |     # Regulation requirement as a percent of hourly wind and solar generation (summed across all model zones)
38 |     inputs["pReg_Req_VRE"] = float(res_in[1, :Reg_Req_Percent_VRE])
39 |     # Spinning up reserve requirement as a percent of hourly demand (which is summed across all zones)
40 |     inputs["pRsv_Req_Demand"] = load_field_with_deprecated_symbol(res_in,
41 |         [:Rsv_Req_Percent_Demand,
42 |             :Rsv_Req_Percent_Load])
43 |     # Spinning up reserve requirement as a percent of hourly wind and solar generation (which is summed across all zones)
44 |     inputs["pRsv_Req_VRE"] = float(res_in[1, :Rsv_Req_Percent_VRE])
45 | 
46 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
47 | 
48 |     # Penalty for not meeting hourly spinning reserve requirement
49 |     inputs["pC_Rsv_Penalty"] = float(res_in[1, :Unmet_Rsv_Penalty_Dollar_per_MW]) /
50 |                                scale_factor # convert to million $/GW with objective function in millions
51 |     inputs["pStatic_Contingency"] = float(res_in[1, :Static_Contingency_MW]) / scale_factor # convert to GW
52 | 
53 |     if setup["UCommit"] >= 1
54 |         inputs["pDynamic_Contingency"] = convert(Int8, res_in[1, :Dynamic_Contingency])
55 |         # Set BigM value used for dynamic contingencies cases to be largest possible cluster size
56 |         # Note: this BigM value is only relevant for units in the COMMIT set. See operational_reserves.jl for details on implementation of dynamic contingencies
57 |         if inputs["pDynamic_Contingency"] > 0
58 |             inputs["pContingency_BigM"] = zeros(Float64, inputs["G"])
59 |             for y in inputs["COMMIT"]
60 |                 inputs["pContingency_BigM"][y] = max_cap_mw(gen[y])
61 |                 # When Max_Cap_MW == -1, there is no limit on capacity size
62 |                 if inputs["pContingency_BigM"][y] < 0
63 |                     # NOTE: this effectively acts as a maximum cluster size when not otherwise specified, adjust accordingly
64 |                     inputs["pContingency_BigM"][y] = 5000 * cap_size(gen[y])
65 |                 end
66 |             end
67 |         end
68 |     end
69 | 
70 |     println(filename * " Successfully Read!")
71 | end
72 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_period_map.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	load_period_map!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to mapping of representative time periods to full chronological time series
 5 | """
 6 | function load_period_map!(setup::Dict, path::AbstractString, inputs::Dict)
 7 |     period_map = "Period_map.csv"
 8 |     data_directory = joinpath(path, setup["TimeDomainReductionFolder"])
 9 |     if setup["TimeDomainReduction"] == 1 && isfile(joinpath(data_directory, period_map))  # Use Time Domain Reduced data for GenX
10 |         my_dir = data_directory
11 |     else
12 |         # If TDR is not used, then use the "system" directory specified in the setup
13 |         my_dir = joinpath(path, setup["SystemFolder"])
14 |     end
15 |     file_path = joinpath(my_dir, period_map)
16 |     inputs["Period_Map"] = load_dataframe(file_path)
17 | 
18 |     println(period_map * " Successfully Read!")
19 | end
20 | 


--------------------------------------------------------------------------------
/src/load_inputs/load_vre_stor_variability.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	load_vre_stor_variability!(setup::Dict, path::AbstractString, inputs::Dict)
 3 | 
 4 | Read input parameters related to hourly maximum capacity factors for the solar PV 
 5 | 	(DC capacity factors) component and wind (AC capacity factors) component of co-located
 6 | 	generators
 7 | """
 8 | function load_vre_stor_variability!(setup::Dict, path::AbstractString, inputs::Dict)
 9 | 
10 |     # Hourly capacity factors
11 |     TDR_directory = joinpath(path, setup["TimeDomainReductionFolder"])
12 |     # if TDR is used, my_dir = TDR_directory, else my_dir = "system"
13 |     my_dir = get_systemfiles_path(setup, TDR_directory, path)
14 | 
15 |     # Resource names
16 |     all_resources = inputs["RESOURCE_NAMES"]
17 | 
18 |     # SOLAR VARIABILITY
19 |     if !isempty(inputs["VS_SOLAR"])
20 |         filename = "Vre_and_stor_solar_variability.csv"
21 |         filepath = joinpath(my_dir, filename)
22 |         load_process_variability!(filepath, all_resources, inputs, "Solar")
23 |     end
24 | 
25 |     # WIND VARIABILITY
26 |     if !isempty(inputs["VS_WIND"])
27 |         filename = "Vre_and_stor_wind_variability.csv"
28 |         filepath = joinpath(my_dir, filename)
29 |         load_process_variability!(filepath, all_resources, inputs, "Wind")
30 |     end
31 | 
32 |     return nothing
33 | end
34 | 
35 | @doc raw"""
36 |     load_process_variability!(filepath::AbstractString, all_resources::Vector{T},
37 |             inputs::Dict, maxpower_key::String) where {T <: AbstractString}
38 | 
39 | Load and process variability data for different VRE_storage components.
40 | 
41 | This function reads a CSV file specified by `filepath`, containing variability 
42 | data for different VRE_storage components. The function then sets the variability
43 | to zero for resources not in the file, selects the resources in the order of
44 | `all_resources`, and stores the maximum power output and variability of each
45 | energy resource in the `inputs` dictionary.
46 | 
47 | # Arguments
48 | - `filepath::AbstractString`: Path to the CSV file with variability data.
49 | - `all_resources::Vector{T}`: Vector containing all the energy resources.
50 | - `inputs::Dict`: Dictionary to store input data.
51 | - `maxpower_key::String`: Identifier for the key for the maximum power 
52 | output in the `inputs` dict.
53 | """
54 | function load_process_variability!(filepath::AbstractString, all_resources::Vector{T},
55 |         inputs::Dict, maxpower_key::String) where {T <: AbstractString}
56 |     vre_stor = load_dataframe(filepath)
57 | 
58 |     # Set variability to zero for resources not in the file
59 |     ensure_column_zeros!(vre_stor, all_resources)
60 | 
61 |     # select the resources in the order of all_resources
62 |     select!(vre_stor, [:Time_Index; Symbol.(all_resources)])
63 | 
64 |     # Maximum power output and variability of each energy resource
65 |     inputs["pP_Max" * "_" * maxpower_key] = transpose(Matrix{Float64}(vre_stor[
66 |         1:inputs["T"], 2:(inputs["G"] + 1)]))
67 | 
68 |     println(filepath * " Successfully Read!")
69 | end
70 | 
71 | function ensure_column_zeros!(vre_stor_df, all_resources)
72 |     existing_variability = names(vre_stor_df)
73 |     for r in all_resources
74 |         if r âˆ‰ existing_variability
75 |             ensure_column!(vre_stor_df, r, 0.0)
76 |         end
77 |     end
78 | end
79 | 


--------------------------------------------------------------------------------
/src/model/core/co2.jl:
--------------------------------------------------------------------------------
  1 | @doc raw""" 
  2 |     co2!(EP::Model, inputs::Dict)
  3 | 
  4 | This function creates expressions to account for CO2 emissions as well as captured and sequestrated 
  5 | CO2 from thermal generators. It also has the capability to model the negative CO2 emissions 
  6 | from bioenergy with carbon capture and storage. 
  7 | 
  8 | ***** Expressions *****
  9 | 
 10 | For thermal generators which combust fuels (e.g., coal, natural gas, and biomass), the net CO2 
 11 | emission to the environment is a function of fuel consumption, CO2 emission factor, CO2 capture 
 12 | fraction, and whether the feedstock is biomass. Biomass is a factor in this equation because 
 13 | biomass generators are assumed to generate zero net CO2 emissions, or negative net CO2 emissions 
 14 | in the case that the CO2 they emit is captured and sequestered underground.
 15 | 
 16 | If a user wishes to represent a generator that combusts biomass, then in the resource .csv files,
 17 | the "Biomass" column (boolean, 1 or 0), which represents if a generator $y$ uses biomass or not, should be set to 1.
 18 | The CO2 emissions from such a generator will be assumed to be zero without CCS and negative with CCS.
 19 | 
 20 | The CO2 emissions from generator $y$ at time $t$ are determined by total fuel 
 21 | consumption (MMBTU) multiplied by the CO2 content of the fuel (tCO2/MMBTU), and by 
 22 | (1 - Biomass [0 or 1] - CO2 capture fraction [a fraction, between 0 - 1]). 
 23 | The CO2 capture fraction could be differernt during the steady-state and startup events
 24 | (generally startup events have a lower CO2 capture fraction), so we use distinct CO2 capture fractions
 25 | to determine the emissions. 
 26 | In short, the CO2 emissions for a generator depend on the CO2 emission factor from fuel combustion,
 27 | the CO2 capture fraction, and whether the generator uses biomass.
 28 | 
 29 | ```math
 30 | \begin{aligned}
 31 | eEmissionsByPlant_{g,t} = (1-Biomass_y-  CO2\_Capture\_Fraction_y) * vFuel_{y,t}  * CO2_{content} + (1-Biomass_y-  CO2\_Capture\_Fraction\_Startup_y) * eStartFuel_{y,t} * CO2_{content} 
 32 | \hspace{1cm} \forall y \in G, \forall t \in T, Biomass_y \in {{0,1}}
 33 | \end{aligned}
 34 | ```
 35 | 
 36 | Where $Biomass_y$ represents a binary variable (1 or 0) that determines if the generator $y$ 
 37 | uses biomass, and $CO2\_Capture\_Fraction_y$ represents a fraction for CO2 capture rate.
 38 | 
 39 | In addition to CO2 emissions, for generators with a non-zero CO2 capture rate, we also 
 40 | determine the amount of CO2 being captured and sequestered. The CO2 emissions from 
 41 | generator $y$ at time $t$, denoted by $eEmissionsCaptureByPlant_{g,t}$, are determined by 
 42 | total fuel consumption (MMBTU) multiplied by the $CO_2$ content of the fuel (tCO2/MMBTU), 
 43 | times CO2 capture rate. 
 44 | 
 45 | ```math
 46 | \begin{aligned}
 47 | eEmissionsCaptureByPlant_{g,t} = CO2\_Capture\_Fraction_y * vFuel_{y,t}  * CO2_{content} +  CO2\_Capture\_Fraction\_Startup_y *  eStartFuel_{y,t} * CO2_{content}
 48 | \hspace{1cm} \forall y \in G, \forall t \in T
 49 | \end{aligned}
 50 | ```
 51 | 
 52 | """
 53 | function co2!(EP::Model, inputs::Dict)
 54 |     println("CO2 Module")
 55 | 
 56 |     gen = inputs["RESOURCES"]
 57 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 58 |     T = inputs["T"]     # Number of time steps (hours)
 59 |     Z = inputs["Z"]     # Number of zones
 60 |     MULTI_FUELS = inputs["MULTI_FUELS"]
 61 |     SINGLE_FUEL = inputs["SINGLE_FUEL"]
 62 |     CCS = inputs["CCS"]
 63 | 
 64 |     fuel_CO2 = inputs["fuel_CO2"] # CO2 content of fuel (t CO2/MMBTU or ktCO2/Billion BTU)
 65 |     omega = inputs["omega"]
 66 |     if !isempty(MULTI_FUELS)
 67 |         max_fuels = inputs["MAX_NUM_FUELS"]
 68 |     end
 69 | 
 70 |     ### Expressions ###
 71 |     # CO2 emissions from power plants in "Generators_data.csv"
 72 |     # If all the CO2 capture fractions from Generators_data are zeros, the CO2 emissions from thermal generators are determined by fuel consumption times CO2 content per MMBTU 
 73 | 
 74 |     if isempty(CCS)
 75 |         @expression(EP, eEmissionsByPlant[y = 1:G, t = 1:T],
 76 |             if y in SINGLE_FUEL
 77 |                 ((1 - biomass(gen[y])) * (EP[:vFuel][y, t] + EP[:vStartFuel][y, t]) *
 78 |                  fuel_CO2[fuel(gen[y])])
 79 |             else
 80 |                 sum(((1 - biomass(gen[y])) *
 81 |                      (EP[:vMulFuels][y, i, t] + EP[:vMulStartFuels][y, i, t]) *
 82 |                      fuel_CO2[fuel_cols(gen[y], tag = i)]) for i in 1:max_fuels)
 83 |             end)
 84 |     else
 85 |         @info "Using the CO2 module to determine the CO2 emissions of CCS-equipped plants"
 86 |         # CO2_Capture_Fraction refers to the CO2 capture rate of CCS equiped power plants at a steady state 
 87 |         # CO2_Capture_Fraction_Startup refers to the CO2 capture rate of CCS equiped power plants during startup events
 88 | 
 89 |         @expression(EP, eEmissionsByPlant[y = 1:G, t = 1:T],
 90 |             if y in SINGLE_FUEL
 91 |                 (1 - biomass(gen[y]) - co2_capture_fraction(gen[y])) * EP[:vFuel][y, t] *
 92 |                 fuel_CO2[fuel(gen[y])] +
 93 |                 (1 - biomass(gen[y]) - co2_capture_fraction_startup(gen[y])) *
 94 |                 EP[:eStartFuel][y, t] * fuel_CO2[fuel(gen[y])]
 95 |             else
 96 |                 sum((1 - biomass(gen[y]) - co2_capture_fraction(gen[y])) *
 97 |                     EP[:vMulFuels][y, i, t] * fuel_CO2[fuel_cols(gen[y], tag = i)]
 98 |                 for i in 1:max_fuels) +
 99 |                 sum((1 - biomass(gen[y]) - co2_capture_fraction_startup(gen[y])) *
100 |                     EP[:vMulStartFuels][y, i, t] * fuel_CO2[fuel_cols(gen[y], tag = i)]
101 |                 for i in 1:max_fuels)
102 |             end)
103 | 
104 |         # CO2 captured from power plants in "Generators_data.csv"
105 |         @expression(EP, eEmissionsCaptureByPlant[y in CCS, t = 1:T],
106 |             if y in SINGLE_FUEL
107 |                 co2_capture_fraction(gen[y]) * EP[:vFuel][y, t] * fuel_CO2[fuel(gen[y])] +
108 |                 co2_capture_fraction_startup(gen[y]) * EP[:eStartFuel][y, t] *
109 |                 fuel_CO2[fuel(gen[y])]
110 |             else
111 |                 sum(co2_capture_fraction(gen[y]) * EP[:vMulFuels][y, i, t] *
112 |                     fuel_CO2[fuel_cols(gen[y], tag = i)] for i in 1:max_fuels) +
113 |                 sum(co2_capture_fraction_startup(gen[y]) * EP[:vMulStartFuels][y, i, t] *
114 |                     fuel_CO2[fuel_cols(gen[y], tag = i)] for i in 1:max_fuels)
115 |             end)
116 | 
117 |         @expression(EP, eEmissionsCaptureByPlantYear[y in CCS],
118 |             sum(omega[t] * eEmissionsCaptureByPlant[y, t]
119 |             for t in 1:T))
120 |         # add CO2 sequestration cost to objective function
121 |         # when scale factor is on tCO2/MWh = > kt CO2/GWh
122 |         @expression(EP, ePlantCCO2Sequestration[y in CCS],
123 |             sum(omega[t] * eEmissionsCaptureByPlant[y, t] *
124 |                 ccs_disposal_cost_per_metric_ton(gen[y]) for t in 1:T))
125 | 
126 |         @expression(EP, eZonalCCO2Sequestration[z = 1:Z],
127 |             sum(ePlantCCO2Sequestration[y]
128 |             for y in intersect(resources_in_zone_by_rid(gen, z), CCS)))
129 | 
130 |         @expression(EP, eTotaleCCO2Sequestration,
131 |             sum(eZonalCCO2Sequestration[z] for z in 1:Z))
132 | 
133 |         add_to_expression!(EP[:eObj], EP[:eTotaleCCO2Sequestration])
134 |     end
135 | 
136 |     # emissions by zone
137 |     @expression(EP, eEmissionsByZone[z = 1:Z, t = 1:T],
138 |         sum(eEmissionsByPlant[y, t] for y in resources_in_zone_by_rid(gen, z)))
139 |     return EP
140 | end
141 | 


--------------------------------------------------------------------------------
/src/model/core/discharge/discharge.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	discharge!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | This module defines the power decision variable $\Theta_{y,t} \forall y \in \mathcal{G}, t \in \mathcal{T}$, representing energy injected into the grid by resource $y$ by at time period $t$.
 5 | This module additionally defines contributions to the objective function from variable costs of generation (variable O&M) from all resources $y \in \mathcal{G}$ over all time periods $t \in \mathcal{T}$:
 6 | ```math
 7 | \begin{aligned}
 8 | 	Obj_{Var\_gen} =
 9 | 	\sum_{y \in \mathcal{G} } \sum_{t \in \mathcal{T}}\omega_{t}\times(\pi^{VOM}_{y})\times \Theta_{y,t}
10 | \end{aligned}
11 | ```
12 | """
13 | function discharge!(EP::Model, inputs::Dict, setup::Dict)
14 |     println("Discharge Module")
15 | 
16 |     gen = inputs["RESOURCES"]
17 | 
18 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
19 |     T = inputs["T"]     # Number of time steps
20 |     Z = inputs["Z"]     # Number of zones
21 | 
22 |     ### Variables ###
23 | 
24 |     # Energy injected into the grid by resource "y" at hour "t"
25 |     @variable(EP, vP[y = 1:G, t = 1:T]>=0)
26 | 
27 |     ### Expressions ###
28 | 
29 |     ## Objective Function Expressions ##
30 | 
31 |     # Variable costs of "generation" for resource "y" during hour "t" = variable O&M
32 |     @expression(EP,
33 |         eCVar_out[y = 1:G, t = 1:T],
34 |         (inputs["omega"][t]*(var_om_cost_per_mwh(gen[y]) * vP[y, t])))
35 |     # Sum individual resource contributions to variable discharging costs to get total variable discharging costs
36 |     @expression(EP, eTotalCVarOutT[t = 1:T], sum(eCVar_out[y, t] for y in 1:G))
37 |     @expression(EP, eTotalCVarOut, sum(eTotalCVarOutT[t] for t in 1:T))
38 | 
39 |     # Add total variable discharging cost contribution to the objective function
40 |     add_to_expression!(EP[:eObj], eTotalCVarOut)
41 | 
42 |     # ESR Policy
43 |     if setup["EnergyShareRequirement"] >= 1
44 |         @expression(EP, eESRDischarge[ESR = 1:inputs["nESR"]],
45 |             +sum(inputs["omega"][t] * esr(gen[y], tag = ESR) * EP[:vP][y, t]
46 |             for y in ids_with_policy(gen, esr, tag = ESR), t in 1:T)
47 |             -sum(inputs["dfESR"][z, ESR] * inputs["omega"][t] * inputs["pD"][t, z]
48 |             for t in 1:T, z in findall(x -> x > 0, inputs["dfESR"][:, ESR])))
49 |         add_similar_to_expression!(EP[:eESR], eESRDischarge)
50 |     end
51 | 
52 |     # Hourly Matching Policy
53 |     if setup["HourlyMatching"] == 1
54 |         QUALIFIED_SUPPLY = inputs["QUALIFIED_SUPPLY"]   # Resources that are qualified to contribute to hourly matching constraint
55 |         @expression(EP, eHMDischarge[t = 1:T, z = 1:Z],
56 |             sum(EP[:vP][y, t]
57 |             for y in intersect(resources_in_zone_by_rid(gen, z), QUALIFIED_SUPPLY)))
58 |         add_similar_to_expression!(EP[:eHM], eHMDischarge)
59 |     end
60 | end
61 | 


--------------------------------------------------------------------------------
/src/model/core/discharge/investment_discharge.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	investment_discharge!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function defines the expressions and constraints keeping track of total available power generation/discharge capacity across all resources as well as constraints on capacity retirements.
  4 | The total capacity of each resource is defined as the sum of the existing capacity plus the newly invested capacity minus any retired capacity. Note for storage and co-located resources, additional energy and charge power capacity decisions and constraints are defined in the storage and co-located VRE and storage module respectively.
  5 | ```math
  6 | \begin{aligned}
  7 | & \Delta^{total}_{y,z} =(\overline{\Delta_{y,z}}+\Omega_{y,z}-\Delta_{y,z}) \forall y \in \mathcal{G}, z \in \mathcal{Z}
  8 | \end{aligned}
  9 | ```
 10 | One cannot retire more capacity than existing capacity.
 11 | ```math
 12 | \begin{aligned}
 13 | &\Delta_{y,z} \leq \overline{\Delta_{y,z}}
 14 | 	\hspace{4 cm}  \forall y \in \mathcal{G}, z \in \mathcal{Z}
 15 | \end{aligned}
 16 | ```
 17 | For resources where $\overline{\Omega_{y,z}}$ and $\underline{\Omega_{y,z}}$ is defined, then we impose constraints on minimum and maximum power capacity.
 18 | ```math
 19 | \begin{aligned}
 20 | & \Delta^{total}_{y,z} \leq \overline{\Omega}_{y,z}
 21 | 	\hspace{4 cm}  \forall y \in \mathcal{G}, z \in \mathcal{Z} \\
 22 | & \Delta^{total}_{y,z}  \geq \underline{\Omega}_{y,z}
 23 | 	\hspace{4 cm}  \forall y \in \mathcal{G}, z \in \mathcal{Z}
 24 | \end{aligned}
 25 | ```
 26 | In addition, this function adds investment and fixed O&M related costs related to discharge/generation capacity to the objective function:
 27 | ```math
 28 | \begin{aligned}
 29 | & 	\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z}}
 30 | 	\left( (\pi^{INVEST}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Omega_{y,z})
 31 | 	+ (\pi^{FOM}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Delta^{total}_{y,z})\right)
 32 | \end{aligned}
 33 | ```
 34 | """
 35 | function investment_discharge!(EP::Model, inputs::Dict, setup::Dict)
 36 |     println("Investment Discharge Module")
 37 |     MultiStage = setup["MultiStage"]
 38 | 
 39 |     gen = inputs["RESOURCES"]
 40 | 
 41 |     G = inputs["G"] # Number of resources (generators, storage, DR, and DERs)
 42 | 
 43 |     NEW_CAP = inputs["NEW_CAP"] # Set of all resources eligible for new capacity
 44 |     RET_CAP = inputs["RET_CAP"] # Set of all resources eligible for capacity retirements
 45 |     COMMIT = inputs["COMMIT"] # Set of all resources eligible for unit commitment
 46 |     RETROFIT_CAP = inputs["RETROFIT_CAP"]  # Set of all resources being retrofitted
 47 | 
 48 |     ### Variables ###
 49 | 
 50 |     # Retired capacity of resource "y" from existing capacity
 51 |     @variable(EP, vRETCAP[y in RET_CAP]>=0)
 52 | 
 53 |     # New installed capacity of resource "y"
 54 |     @variable(EP, vCAP[y in NEW_CAP]>=0)
 55 | 
 56 |     if MultiStage == 1
 57 |         @variable(EP, vEXISTINGCAP[y = 1:G]>=0)
 58 |     end
 59 | 
 60 |     # Being retrofitted capacity of resource y 
 61 |     @variable(EP, vRETROFITCAP[y in RETROFIT_CAP]>=0)
 62 | 
 63 |     ### Expressions ###
 64 | 
 65 |     if MultiStage == 1
 66 |         @expression(EP, eExistingCap[y in 1:G], vEXISTINGCAP[y])
 67 |     else
 68 |         @expression(EP, eExistingCap[y in 1:G], existing_cap_mw(gen[y]))
 69 |     end
 70 | 
 71 |     @expression(EP, eTotalCap[y in 1:G],
 72 |         if y in intersect(NEW_CAP, RET_CAP, RETROFIT_CAP) # Resources eligible for new capacity, retirements and being retrofitted
 73 |             if y in COMMIT
 74 |                 eExistingCap[y] +
 75 |                 cap_size(gen[y]) * (EP[:vCAP][y] - EP[:vRETCAP][y] - EP[:vRETROFITCAP][y])
 76 |             else
 77 |                 eExistingCap[y] + EP[:vCAP][y] - EP[:vRETCAP][y] - EP[:vRETROFITCAP][y]
 78 |             end
 79 |         elseif y in intersect(setdiff(RET_CAP, NEW_CAP), setdiff(RET_CAP, RETROFIT_CAP)) # Resources eligible for only capacity retirements
 80 |             if y in COMMIT
 81 |                 eExistingCap[y] - cap_size(gen[y]) * EP[:vRETCAP][y]
 82 |             else
 83 |                 eExistingCap[y] - EP[:vRETCAP][y]
 84 |             end
 85 |         elseif y in setdiff(intersect(RET_CAP, NEW_CAP), RETROFIT_CAP) # Resources eligible for retirement and new capacity
 86 |             if y in COMMIT
 87 |                 eExistingCap[y] + cap_size(gen[y]) * (EP[:vCAP][y] - EP[:vRETCAP][y])
 88 |             else
 89 |                 eExistingCap[y] + EP[:vCAP][y] - EP[:vRETCAP][y]
 90 |             end
 91 |         elseif y in setdiff(intersect(RET_CAP, RETROFIT_CAP), NEW_CAP) # Resources eligible for retirement and retrofitting
 92 |             if y in COMMIT
 93 |                 eExistingCap[y] -
 94 |                 cap_size(gen[y]) * (EP[:vRETROFITCAP][y] + EP[:vRETCAP][y])
 95 |             else
 96 |                 eExistingCap[y] - (EP[:vRETROFITCAP][y] + EP[:vRETCAP][y])
 97 |             end
 98 |         elseif y in intersect(setdiff(NEW_CAP, RET_CAP), setdiff(NEW_CAP, RETROFIT_CAP))  # Resources eligible for only new capacity
 99 |             if y in COMMIT
100 |                 eExistingCap[y] + cap_size(gen[y]) * EP[:vCAP][y]
101 |             else
102 |                 eExistingCap[y] + EP[:vCAP][y]
103 |             end
104 |         else # Resources not eligible for new capacity or retirement
105 |             eExistingCap[y]
106 |         end)
107 | 
108 |     ### Need editting ##
109 |     @expression(EP, eCFix[y in 1:G],
110 |         if y in NEW_CAP # Resources eligible for new capacity (Non-Retrofit)
111 |             if y in COMMIT
112 |                 inv_cost_per_mwyr(gen[y]) * cap_size(gen[y]) * vCAP[y] +
113 |                 fixed_om_cost_per_mwyr(gen[y]) * eTotalCap[y]
114 |             else
115 |                 inv_cost_per_mwyr(gen[y]) * vCAP[y] +
116 |                 fixed_om_cost_per_mwyr(gen[y]) * eTotalCap[y]
117 |             end
118 |         else
119 |             fixed_om_cost_per_mwyr(gen[y]) * eTotalCap[y]
120 |         end)
121 |     # Sum individual resource contributions to fixed costs to get total fixed costs
122 |     @expression(EP, eTotalCFix, sum(EP[:eCFix][y] for y in 1:G))
123 | 
124 |     # Add term to objective function expression
125 |     if MultiStage == 1
126 |         # OPEX multiplier scales fixed costs to account for multiple years between two model stages
127 |         # We divide by OPEXMULT since we are going to multiply the entire objective function by this term later,
128 |         # and we have already accounted for multiple years between stages for fixed costs.
129 |         add_to_expression!(EP[:eObj], 1 / inputs["OPEXMULT"], eTotalCFix)
130 |     else
131 |         add_to_expression!(EP[:eObj], eTotalCFix)
132 |     end
133 | 
134 |     ### Constratints ###
135 | 
136 |     if MultiStage == 1
137 |         # Existing capacity variable is equal to existing capacity specified in the input file
138 |         @constraint(EP,
139 |             cExistingCap[y in 1:G],
140 |             EP[:vEXISTINGCAP][y]==existing_cap_mw(gen[y]))
141 |     end
142 | 
143 |     ## Constraints on retirements and capacity additions
144 |     # Cannot retire more capacity than existing capacity
145 |     @constraint(EP,
146 |         cMaxRetNoCommit[y in setdiff(RET_CAP, COMMIT)],
147 |         vRETCAP[y]<=eExistingCap[y])
148 |     @constraint(EP,
149 |         cMaxRetCommit[y in intersect(RET_CAP, COMMIT)],
150 |         cap_size(gen[y]) * vRETCAP[y]<=eExistingCap[y])
151 |     @constraint(EP,
152 |         cMaxRetroNoCommit[y in setdiff(RETROFIT_CAP, COMMIT)],
153 |         vRETROFITCAP[y] + vRETCAP[y]<=eExistingCap[y])
154 |     @constraint(EP,
155 |         cMaxRetroCommit[y in intersect(RETROFIT_CAP, COMMIT)],
156 |         cap_size(gen[y]) * (vRETROFITCAP[y] + vRETCAP[y])<=eExistingCap[y])
157 | 
158 |     ## Constraints on new built capacity
159 |     # Constraint on maximum capacity (if applicable) [set input to -1 if no constraint on maximum capacity]
160 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Cap_MW is >= Max_Cap_MW and lead to infeasabilty
161 |     MAX_CAP = ids_with_positive(gen, max_cap_mw)
162 |     @constraint(EP, cMaxCap[y in MAX_CAP], eTotalCap[y]<=max_cap_mw(gen[y]))
163 | 
164 |     # Constraint on minimum capacity (if applicable) [set input to -1 if no constraint on minimum capacity]
165 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Cap_MW is <= Min_Cap_MW and lead to infeasabilty
166 |     MIN_CAP = ids_with_positive(gen, min_cap_mw)
167 |     @constraint(EP, cMinCap[y in MIN_CAP], eTotalCap[y]>=min_cap_mw(gen[y]))
168 | 
169 |     if setup["MinCapReq"] == 1
170 |         @expression(EP,
171 |             eMinCapResInvest[mincap = 1:inputs["NumberOfMinCapReqs"]],
172 |             sum(EP[:eTotalCap][y] for y in ids_with_policy(gen, min_cap, tag = mincap)))
173 |         add_similar_to_expression!(EP[:eMinCapRes], eMinCapResInvest)
174 |     end
175 | 
176 |     if setup["MaxCapReq"] == 1
177 |         @expression(EP,
178 |             eMaxCapResInvest[maxcap = 1:inputs["NumberOfMaxCapReqs"]],
179 |             sum(EP[:eTotalCap][y] for y in ids_with_policy(gen, max_cap, tag = maxcap)))
180 |         add_similar_to_expression!(EP[:eMaxCapRes], eMaxCapResInvest)
181 |     end
182 | end
183 | 


--------------------------------------------------------------------------------
/src/model/core/fuel.jl:
--------------------------------------------------------------------------------
  1 | 
  2 | @doc raw"""
  3 |     fuel!(EP::Model, inputs::Dict, setup::Dict)
  4 | 
  5 | This function creates expressions to account for total fuel consumption (e.g., coal, 
  6 | natural gas, hydrogen, etc). It also has the capability to model heat rates that are
  7 | a function of load via a piecewise-linear approximation. See also the [`thermal!`](@ref) page.
  8 | 
  9 | **Expressions**
 10 | 
 11 | Users have two options to model the fuel consumption as a function of power generation: 
 12 | (1). Use a constant heat rate, regardless of the minimum load or maximum load; and 
 13 | 
 14 | (2). Use the PiecewiseFuelUsage-related parameters to model the fuel consumption via a 
 15 | piecewise-linear approximation of the heat rate curves. By using this option, users can represent 
 16 | the fact that most generators have a decreasing heat rate as a function of load.
 17 | 
 18 | (1). Constant heat rate: 
 19 | The fuel consumption for power generation $vFuel_{y,t}$ is determined by power generation 
 20 | ($vP_{y,t}$) mutiplied by the corresponding heat rate ($Heat\_Rate_y$). 
 21 | The fuel costs for power generation and start fuel for a plant $y$ at time $t$, 
 22 | denoted by $eCFuelOut_{y,t}$ and $eFuelStart$, are determined by fuel consumption ($vFuel_{y,t}$ 
 23 | and $eStartFuel$) multiplied by the fuel costs (\$/MMBTU)
 24 | 
 25 | (2). Piecewise-linear approximation: 
 26 | With this formulation, the heat rate of generators becomes a function of load.
 27 | In reality this relationship takes a nonlinear form, but we model it
 28 | through a piecewise-linear approximation:
 29 | 
 30 | ```math
 31 | \begin{aligned}
 32 | vFuel_{y,t} >= vP_{y,t} * h_{y,x} + U_{g,t}* f_{y,x}
 33 | \hspace{1cm} \forall y \in G, \forall t \in T, \forall x \in X
 34 | \end{aligned}
 35 | ```
 36 | Where $h_{y,x}$ represents the heat rate slope for generator $y$ in segment $x$ [MMBTU/MWh],
 37 |  $f_{y,x}$ represents the heat rate intercept (MMBTU) for a generator $y$ in segment $x$ [MMBTU],
 38 | and $U_{y,t}$ represents the commitment status of a generator $y$ at time $t$. These parameters
 39 | are optional inputs to the resource .csv files. 
 40 | When Unit commitment is on, if a user provides slope and intercept, the standard heat rate 
 41 | (i.e., Heat\_Rate\_MMBTU\_per\_MWh) will not be used. When unit commitment is off, the model will 
 42 | always use the standard heat rate.
 43 | The user should determine the slope and intercept parameters based on the Cap\_Size of the plant. 
 44 | For example, when a plant is operating at the full load (i.e., power output equal to the Cap\_Size),
 45 | the fuel usage determined by the effective segment divided by Cap\_Size should be equal to the 
 46 | heat rate at full-load.
 47 | 
 48 | Since fuel consumption and fuel costs are postive, the optimization will force the fuel usage
 49 | to be equal to the highest fuel usage segment for any given value of vP.
 50 | When the power output is zero, the commitment variable $U_{g,t}$ will bring the intercept 
 51 | to be zero such that the fuel consumption is zero when thermal units are offline.
 52 | 
 53 | In order to run piecewise fuel consumption module,
 54 | the unit commitment must be turned on (UC = 1 or 2), and users should provide $PWFU_{y_0}$, $PWFU_{Slope_i}$ and 
 55 | $PWFU_{Intercept_i}$ for at least one segment ($PWFU$ refers to Piece Wise Fuel Usage) (Refer to 
 56 | the PWFU parameters in [Table 6a: Additional columns in the Thermal.csv file](@ref) for the corresponding entries against the above-mentioned ones). 
 57 | 
 58 | To enable resources to use multiple fuels during both startup and normal operational processes, three additional variables were added: 
 59 | fuel $i$ consumption by plant $y$ at time $t$ ($vMulFuel_{y,i,t}$); startup fuel consumption for single-fuel plants ($vStartFuel_{y,t}$); 
 60 | and startup fuel consumption for multi-fuel plants ($vMulStartFuel_{y,i,t}$). By making startup fuel consumption variables, the model can choose the startup fuel to meet the constraints.    
 61 |     
 62 | For plants using multiple fuels:
 63 |     
 64 | During startup, heat input from multiple startup fuels are equal to startup fuel requirements in plant $y$ at time $t$: $StartFuelMMBTUperMW$ $\times$ $Capsize$.
 65 | ```math
 66 | \begin{aligned}
 67 | \sum_{i \in \mathcal{I} } vMulStartFuels_{y, i, t}= CapSize_{y} \times StartFuelMMBTUperMW_{y} \times vSTART_{y,t}
 68 | \end{aligned}
 69 | ```
 70 | During normal operation, the sum of fuel consumptions from multiple fuels dividing by the correspnding heat rates, respectively, is equal to $vPower$ in plant $y$ at time $t$. 
 71 | ```math
 72 | \begin{aligned}
 73 | \sum_{i \in \mathcal{I} } \frac{vMulFuels_{y, i, t}} {HeatRate_{i,y} } = vPower_{y,t}
 74 | \end{aligned}
 75 | ```
 76 | There are also constraints on how much heat input each fuel can provide, which are specified by $MinCofire$ and $MaxCofire$.
 77 | ```math
 78 | \begin{aligned}
 79 | vMulFuels_{y, i, t} >= vPower_{y,t} \times MinCofire_{i}
 80 | \end{aligned}   
 81 | \begin{aligned}
 82 | vMulFuels_{y, i, t} <= vPower_{y,t} \times MaxCofire_{i}
 83 | \end{aligned}
 84 | ```
 85 | """
 86 | function fuel!(EP::Model, inputs::Dict, setup::Dict)
 87 |     println("Fuel Module")
 88 |     gen = inputs["RESOURCES"]
 89 | 
 90 |     T = inputs["T"]     # Number of time steps (hours)
 91 |     Z = inputs["Z"]     # Number of zones
 92 |     G = inputs["G"]
 93 |     THERM_COMMIT = inputs["THERM_COMMIT"]
 94 |     HAS_FUEL = inputs["HAS_FUEL"]
 95 |     MULTI_FUELS = inputs["MULTI_FUELS"]
 96 |     SINGLE_FUEL = inputs["SINGLE_FUEL"]
 97 | 
 98 |     fuels = inputs["fuels"]
 99 |     fuel_costs = inputs["fuel_costs"]
100 |     omega = inputs["omega"]
101 | 
102 |     NUM_FUEL = length(fuels)
103 | 
104 |     # create variable for fuel consumption for output
105 |     # for resources that only use a single fuel
106 |     @variable(EP, vFuel[y in SINGLE_FUEL, t = 1:T]>=0)
107 |     @variable(EP, vStartFuel[y in SINGLE_FUEL, t = 1:T]>=0)
108 | 
109 |     # for resources that use multi fuels
110 |     # vMulFuels[y, f, t]: y - resource ID; f - fuel ID; t: time
111 |     if !isempty(MULTI_FUELS)
112 |         max_fuels = inputs["MAX_NUM_FUELS"]
113 |         heat_rates = inputs["HEAT_RATES"]
114 |         min_cofire = inputs["MIN_COFIRE"]
115 |         max_cofire = inputs["MAX_COFIRE"]
116 |         min_cofire_start = inputs["MIN_COFIRE_START"]
117 |         max_cofire_start = inputs["MAX_COFIRE_START"]
118 | 
119 |         COFIRE_MAX = [findall(g -> max_cofire_cols(g, tag = i) < 1, gen[MULTI_FUELS])
120 |                       for i in 1:max_fuels]
121 |         COFIRE_MAX_START = [findall(g -> max_cofire_start_cols(g, tag = i) < 1,
122 |                                 gen[MULTI_FUELS]) for i in 1:max_fuels]
123 |         COFIRE_MIN = [findall(g -> min_cofire_cols(g, tag = i) > 0, gen[MULTI_FUELS])
124 |                       for i in 1:max_fuels]
125 |         COFIRE_MIN_START = [findall(g -> min_cofire_start_cols(g, tag = i) > 0,
126 |                                 gen[MULTI_FUELS]) for i in 1:max_fuels]
127 | 
128 |         @variable(EP, vMulFuels[y in MULTI_FUELS, i = 1:max_fuels, t = 1:T]>=0)
129 |         @variable(EP, vMulStartFuels[y in MULTI_FUELS, i = 1:max_fuels, t = 1:T]>=0)
130 |     end
131 | 
132 |     ### Expressions ####
133 |     # Fuel consumed on start-up (MMBTU or kMMBTU (scaled)) 
134 |     # if unit commitment is modelled
135 |     @expression(EP, eStartFuel[y in 1:G, t = 1:T],
136 |         if y in THERM_COMMIT
137 |             (cap_size(gen[y]) * EP[:vSTART][y, t] *
138 |              start_fuel_mmbtu_per_mw(gen[y]))
139 |         else
140 |             0
141 |         end)
142 | 
143 |     # time-series fuel consumption by plant 
144 |     @expression(EP, ePlantFuel_generation[y in 1:G, t = 1:T],
145 |         if y in SINGLE_FUEL   # for single fuel plants
146 |             EP[:vFuel][y, t]
147 |         else # for multi fuel plants
148 |             sum(EP[:vMulFuels][y, i, t] for i in 1:max_fuels)
149 |         end)
150 |     @expression(EP, ePlantFuel_start[y in 1:G, t = 1:T],
151 |         if y in SINGLE_FUEL   # for single fuel plants
152 |             EP[:vStartFuel][y, t]
153 |         else # for multi fuel plants
154 |             sum(EP[:vMulStartFuels][y, i, t] for i in 1:max_fuels)
155 |         end)
156 | 
157 |     # for multi-fuel resources
158 |     # annual fuel consumption by plant and fuel type
159 |     if !isempty(MULTI_FUELS)
160 |         @expression(EP,
161 |             ePlantFuelConsumptionYear_multi_generation[y in MULTI_FUELS, i in 1:max_fuels],
162 |             sum(omega[t] * EP[:vMulFuels][y, i, t] for t in 1:T))
163 |         @expression(EP,
164 |             ePlantFuelConsumptionYear_multi_start[y in MULTI_FUELS, i in 1:max_fuels],
165 |             sum(omega[t] * EP[:vMulStartFuels][y, i, t] for t in 1:T))
166 |         @expression(EP, ePlantFuelConsumptionYear_multi[y in MULTI_FUELS, i in 1:max_fuels],
167 |             EP[:ePlantFuelConsumptionYear_multi_generation][y,
168 |                 i]+EP[:ePlantFuelConsumptionYear_multi_start][y, i])
169 |     end
170 |     # fuel_cost is in $/MMBTU (M$/billion BTU if scaled)
171 |     # vFuel and eStartFuel is MMBTU (or billion BTU if scaled)
172 |     # eCFuel_start or eCFuel_out is $ or Million$
173 | 
174 |     # Start up fuel cost
175 |     # for multi-fuel resources
176 |     if !isempty(MULTI_FUELS)
177 |         # time-series fuel consumption costs by plant and fuel type during startup
178 |         @expression(EP, eCFuelOut_multi_start[y in MULTI_FUELS, i in 1:max_fuels, t = 1:T],
179 |             fuel_costs[fuel_cols(gen[y], tag = i)][t]*EP[:vMulStartFuels][y, i, t])
180 |         # annual plant level fuel cost by fuel type during generation
181 |         @expression(EP, ePlantCFuelOut_multi_start[y in MULTI_FUELS, i in 1:max_fuels],
182 |             sum(omega[t] * EP[:eCFuelOut_multi_start][y, i, t] for t in 1:T))
183 |     end
184 | 
185 |     @expression(EP, eCFuelStart[y = 1:G, t = 1:T],
186 |         if y in SINGLE_FUEL
187 |             (fuel_costs[fuel(gen[y])][t] * EP[:vStartFuel][y, t])
188 |         else
189 |             sum(EP[:eCFuelOut_multi_start][y, i, t] for i in 1:max_fuels)
190 |         end)
191 | 
192 |     # plant level start-up fuel cost for output
193 |     @expression(EP, ePlantCFuelStart[y = 1:G],
194 |         sum(omega[t] * EP[:eCFuelStart][y, t] for t in 1:T))
195 |     # zonal level total fuel cost for output
196 |     @expression(EP, eZonalCFuelStart[z = 1:Z],
197 |         sum(EP[:ePlantCFuelStart][y] for y in resources_in_zone_by_rid(gen, z)))
198 | 
199 |     # Fuel cost for power generation
200 |     # for multi-fuel resources
201 |     if !isempty(MULTI_FUELS)
202 |         # time-series fuel consumption costs by plant and fuel type during generation
203 |         @expression(EP, eCFuelOut_multi[y in MULTI_FUELS, i in 1:max_fuels, t = 1:T],
204 |             fuel_costs[fuel_cols(gen[y], tag = i)][t]*EP[:vMulFuels][y, i, t])
205 |         # annual plant level fuel cost by fuel type during generation
206 |         @expression(EP, ePlantCFuelOut_multi[y in MULTI_FUELS, i in 1:max_fuels],
207 |             sum(omega[t] * EP[:eCFuelOut_multi][y, i, t] for t in 1:T))
208 |     end
209 | 
210 |     @expression(EP, eCFuelOut[y = 1:G, t = 1:T],
211 |         if y in SINGLE_FUEL
212 |             (fuel_costs[fuel(gen[y])][t] * EP[:vFuel][y, t])
213 |         else
214 |             sum(EP[:eCFuelOut_multi][y, i, t] for i in 1:max_fuels)
215 |         end)
216 |     # plant level start-up fuel cost for output
217 |     @expression(EP, ePlantCFuelOut[y = 1:G],
218 |         sum(omega[t] * EP[:eCFuelOut][y, t] for t in 1:T))
219 |     # zonal level total fuel cost for output
220 |     @expression(EP, eZonalCFuelOut[z = 1:Z],
221 |         sum(EP[:ePlantCFuelOut][y] for y in resources_in_zone_by_rid(gen, z)))
222 | 
223 |     # system level total fuel cost for output
224 |     @expression(EP, eTotalCFuelOut, sum(eZonalCFuelOut[z] for z in 1:Z))
225 |     @expression(EP, eTotalCFuelStart, sum(eZonalCFuelStart[z] for z in 1:Z))
226 | 
227 |     add_to_expression!(EP[:eObj], EP[:eTotalCFuelOut] + EP[:eTotalCFuelStart])
228 | 
229 |     #fuel consumption (MMBTU or Billion BTU)
230 |     # for multi-fuel resources
231 |     if !isempty(MULTI_FUELS)
232 |         @expression(EP, eFuelConsumption_multi[f in 1:NUM_FUEL, t in 1:T],
233 |             sum((EP[:vMulFuels][y, i, t] + EP[:vMulStartFuels][y, i, t]) #i: fuel id 
234 |             for i in 1:max_fuels,
235 |             y in intersect(
236 |                 resource_id.(gen[fuel_cols.(gen, tag = i) .== string(fuels[f])]),
237 |                 MULTI_FUELS)))
238 |     end
239 | 
240 |     @expression(EP, eFuelConsumption_single[f in 1:NUM_FUEL, t in 1:T],
241 |         sum(EP[:vFuel][y, t] + EP[:eStartFuel][y, t]
242 |         for y in intersect(resources_with_fuel(gen, fuels[f]), SINGLE_FUEL)))
243 | 
244 |     @expression(EP, eFuelConsumption[f in 1:NUM_FUEL, t in 1:T],
245 |         if !isempty(MULTI_FUELS)
246 |             eFuelConsumption_multi[f, t] + eFuelConsumption_single[f, t]
247 |         else
248 |             eFuelConsumption_single[f, t]
249 |         end)
250 | 
251 |     @expression(EP, eFuelConsumptionYear[f in 1:NUM_FUEL],
252 |         sum(omega[t] * EP[:eFuelConsumption][f, t] for t in 1:T))
253 | 
254 |     ### Constraint ###
255 |     ### only apply constraint to generators with fuel type other than None
256 | 
257 |     @constraint(EP,
258 |         cFuelCalculation_single[
259 |             y in intersect(SINGLE_FUEL, setdiff(HAS_FUEL, THERM_COMMIT)),
260 |             t = 1:T],
261 |         EP[:vFuel][y, t] - EP[:vP][y, t] * heat_rate_mmbtu_per_mwh(gen[y])==0)
262 | 
263 |     if !isempty(MULTI_FUELS)
264 |         @constraint(EP,
265 |             cFuelCalculation_multi[
266 |                 y in intersect(MULTI_FUELS,
267 |                     setdiff(HAS_FUEL, THERM_COMMIT)),
268 |                 t = 1:T],
269 |             sum(EP[:vMulFuels][y, i, t] / heat_rates[i][y] for i in 1:max_fuels) -
270 |             EP[:vP][y, t]==0)
271 |     end
272 | 
273 |     if !isempty(THERM_COMMIT)
274 |         # Only apply piecewise fuel consumption to thermal generators in THERM_COMMIT_PWFU set
275 |         THERM_COMMIT_PWFU = inputs["THERM_COMMIT_PWFU"]
276 |         # segemnt for piecewise fuel usage
277 |         if !isempty(THERM_COMMIT_PWFU)
278 |             segs = 1:inputs["PWFU_Num_Segments"]
279 |             PWFU_data = inputs["PWFU_data"]
280 |             slope_cols = inputs["slope_cols"]
281 |             intercept_cols = inputs["intercept_cols"]
282 |             segment_intercept(y, seg) = PWFU_data[y, intercept_cols[seg]]
283 |             segment_slope(y, seg) = PWFU_data[y, slope_cols[seg]]
284 |             # constraint for piecewise fuel consumption
285 |             @constraint(EP,
286 |                 PiecewiseFuelUsage[y in THERM_COMMIT_PWFU, t = 1:T, seg in segs],
287 |                 EP[:vFuel][y,
288 |                     t]>=(EP[:vP][y, t] * segment_slope(y, seg) +
289 |                          EP[:vCOMMIT][y, t] * segment_intercept(y, seg)))
290 |         end
291 | 
292 |         # constraint for fuel consumption at a constant heat rate 
293 |         @constraint(EP,
294 |             FuelCalculationCommit_single[
295 |                 y in intersect(setdiff(THERM_COMMIT,
296 |                         THERM_COMMIT_PWFU),
297 |                     SINGLE_FUEL),
298 |                 t = 1:T],
299 |             EP[:vFuel][y, t] - EP[:vP][y, t] * heat_rate_mmbtu_per_mwh(gen[y])==0)
300 |         if !isempty(MULTI_FUELS)
301 |             @constraint(EP,
302 |                 FuelCalculationCommit_multi[
303 |                     y in intersect(setdiff(THERM_COMMIT,
304 |                             THERM_COMMIT_PWFU),
305 |                         MULTI_FUELS),
306 |                     t = 1:T],
307 |                 sum(EP[:vMulFuels][y, i, t] / heat_rates[i][y] for i in 1:max_fuels) -
308 |                 EP[:vP][y, t].==0)
309 |         end
310 |     end
311 | 
312 |     # constraints on start up fuel use
313 |     @constraint(EP, cStartFuel_single[y in intersect(THERM_COMMIT, SINGLE_FUEL), t = 1:T],
314 |         EP[:vStartFuel][y, t] -
315 |         (cap_size(gen[y]) * EP[:vSTART][y, t] * start_fuel_mmbtu_per_mw(gen[y])).==0)
316 |     if !isempty(MULTI_FUELS)
317 |         @constraint(EP,
318 |             cStartFuel_multi[y in intersect(THERM_COMMIT, MULTI_FUELS), t = 1:T],
319 |             sum(EP[:vMulStartFuels][y, i, t] for i in 1:max_fuels) -
320 |             (cap_size(gen[y]) * EP[:vSTART][y, t] * start_fuel_mmbtu_per_mw(gen[y])).==0)
321 |     end
322 | 
323 |     # constraints on co-fire ratio of different fuels used by one generator
324 |     # for example,
325 |     # fuel2/heat rate >= min_cofire_level * total power 
326 |     # fuel2/heat rate <= max_cofire_level * total power without retrofit
327 |     if !isempty(MULTI_FUELS)
328 |         for i in 1:max_fuels
329 |             # during power generation
330 |             # cofire constraints without the name due to the loop
331 |             @constraint(EP, [y in intersect(MULTI_FUELS, COFIRE_MIN[i]), t = 1:T],
332 |                 EP[:vMulFuels][y,
333 |                     i,
334 |                     t]>=min_cofire[i][y] * EP[:ePlantFuel_generation][y, t])
335 |             @constraint(EP, [y in intersect(MULTI_FUELS, COFIRE_MAX[i]), t = 1:T],
336 |                 EP[:vMulFuels][y,
337 |                     i,
338 |                     t]<=max_cofire[i][y] * EP[:ePlantFuel_generation][y, t])
339 |             # startup
340 |             @constraint(EP, [y in intersect(MULTI_FUELS, COFIRE_MIN_START[i]), t = 1:T],
341 |                 EP[:vMulStartFuels][y,
342 |                     i,
343 |                     t]>=min_cofire_start[i][y] * EP[:ePlantFuel_start][y, t])
344 |             @constraint(EP, [y in intersect(MULTI_FUELS, COFIRE_MAX_START[i]), t = 1:T],
345 |                 EP[:vMulStartFuels][y,
346 |                     i,
347 |                     t]<=max_cofire_start[i][y] * EP[:ePlantFuel_start][y, t])
348 |         end
349 |     end
350 | 
351 |     return EP
352 | end
353 | 
354 | function resources_with_fuel(rs::Vector{<:AbstractResource}, fuel_name::AbstractString)
355 |     condition::BitVector = fuel.(rs) .== fuel_name
356 |     return resource_id.(rs[condition])
357 | end
358 | 


--------------------------------------------------------------------------------
/src/model/core/non_served_energy.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     non_served_energy!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function defines the non-served energy/curtailed demand decision variable
  4 | $\Lambda_{s,t,z} \forall s \in \mathcal{S}, \forall t \in \mathcal{T}, z \in \mathcal{Z}$,
  5 | representing the total amount of demand curtailed in demand segment $s$ at
  6 | time period $t$ in zone $z$.
  7 | The first segment of non-served energy, $s=1$, is used to denote the cost of
  8 | involuntary demand curtailment (e.g. emergency load shedding or rolling blackouts),
  9 | specified as the value of $n_{1}^{slope}$.
 10 | Additional segments, $s \geq 2$ can be used to specify a segment-wise approximation of a
 11 | price elastic demand curve, or segments of price-responsive curtailable demands
 12 | (aka demand response).
 13 | Each segment denotes a price/cost at which the segment of demand is willing to curtail
 14 | consumption, $n_{s}^{slope}$, representing the marginal willingness to pay for electricity
 15 | of this segment of demand (or opportunity cost incurred when demand is not served) and a
 16 | maximum quantity of demand in this segment, $n_{s}^{size}$, specified as a share of demand
 17 | in each zone in each time step, $D_{t,z}.$ Note that the current implementation assumes
 18 | demand segments are an equal share of hourly demand in all zones.
 19 | This function defines contributions to the objective function from the cost of non-served
 20 | energy/curtailed demand from all demand curtailment segments $s \in \mathcal{S}$ over all
 21 | time periods $t \in \mathcal{T}$ and all zones $z \in \mathcal{Z}$:
 22 | ```math
 23 | \begin{aligned}
 24 | 	Obj_{NSE} =
 25 | 	\sum_{s \in \mathcal{S} } \sum_{t \in \mathcal{T}} \sum_{z \in \mathcal{Z}}\omega_{t} \times n_{s}^{slope} \times \Lambda_{s,t,z}
 26 | \end{aligned}
 27 | ```
 28 | Contributions to the power balance expression from non-served energy/curtailed demand
 29 | from each demand segment $s \in \mathcal{S}$ are also defined as:
 30 | ```math
 31 | \begin{aligned}
 32 | 	PowerBal_{NSE} =
 33 | 	\sum_{s \in \mathcal{S} } \Lambda_{s,t,z}
 34 | 		\hspace{4 cm}  \forall s \in \mathcal{S}, t \in \mathcal{T}
 35 | \end{aligned}
 36 | ```
 37 | **Bounds on curtailable demand**
 38 | Demand curtailed in each segment of curtailable demands $s \in \mathcal{S}$ cannot exceed
 39 | a maximum allowable share of demand:
 40 | ```math
 41 | \begin{aligned}
 42 | 	\Lambda_{s,t,z} \leq (n_{s}^{size} \times D_{t,z})
 43 | 	\hspace{4 cm}  \forall s \in \mathcal{S}, t \in \mathcal{T}, z\in \mathcal{Z}
 44 | \end{aligned}
 45 | ```
 46 | Additionally, total demand curtailed in each time step cannot exceed total demand:
 47 | ```math
 48 | \begin{aligned}
 49 | 	\sum_{s \in \mathcal{S} } \Lambda_{s,t,z} \leq D_{t,z}
 50 | 	\hspace{4 cm}  \forall t \in \mathcal{T}, z\in \mathcal{Z}
 51 | \end{aligned}
 52 | ```
 53 | """
 54 | function non_served_energy!(EP::Model, inputs::Dict, setup::Dict)
 55 |     println("Non-served Energy Module")
 56 | 
 57 |     T = inputs["T"]     # Number of time steps
 58 |     Z = inputs["Z"]     # Number of zones
 59 |     SEG = inputs["SEG"] # Number of demand curtailment segments
 60 | 
 61 |     ### Variables ###
 62 | 
 63 |     # Non-served energy/curtailed demand in the segment "s" at hour "t" in zone "z"
 64 |     @variable(EP, vNSE[s = 1:SEG, t = 1:T, z = 1:Z]>=0)
 65 | 
 66 |     ### Expressions ###
 67 | 
 68 |     ## Objective Function Expressions ##
 69 | 
 70 |     # Cost of non-served energy/curtailed demand at hour "t" in zone "z"
 71 |     @expression(EP,
 72 |         eCNSE[s = 1:SEG, t = 1:T, z = 1:Z],
 73 |         (inputs["omega"][t]*inputs["pC_D_Curtail"][s]*vNSE[s, t, z]))
 74 | 
 75 |     # Sum individual demand segment contributions to non-served energy costs to get total non-served energy costs
 76 |     # Julia is fastest when summing over one row one column at a time
 77 |     @expression(EP, eTotalCNSETS[t = 1:T, z = 1:Z], sum(eCNSE[s, t, z] for s in 1:SEG))
 78 |     @expression(EP, eTotalCNSET[t = 1:T], sum(eTotalCNSETS[t, z] for z in 1:Z))
 79 |     @expression(EP, eTotalCNSE, sum(eTotalCNSET[t] for t in 1:T))
 80 | 
 81 |     # Add total cost contribution of non-served energy/curtailed demand to the objective function
 82 |     add_to_expression!(EP[:eObj], eTotalCNSE)
 83 | 
 84 |     ## Power Balance Expressions ##
 85 |     @expression(EP, ePowerBalanceNse[t = 1:T, z = 1:Z], sum(vNSE[s, t, z] for s in 1:SEG))
 86 | 
 87 |     # Add non-served energy/curtailed demand contribution to power balance expression
 88 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceNse)
 89 | 
 90 |     # Capacity Reserves Margin policy
 91 |     if setup["CapacityReserveMargin"] > 0
 92 |         if SEG >= 2
 93 |             @expression(EP,
 94 |                 eCapResMarBalanceNSE[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
 95 |                 sum(EP[:vNSE][s, t, z]
 96 |                 for s in 2:SEG, z in findall(x -> x != 0, inputs["dfCapRes"][:, res])))
 97 |             add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceNSE)
 98 |         end
 99 |     end
100 | 
101 |     ### Constratints ###
102 | 
103 |     # Demand curtailed in each segment of curtailable demands cannot exceed maximum allowable share of demand
104 |     @constraint(EP,
105 |         cNSEPerSeg[s = 1:SEG, t = 1:T, z = 1:Z],
106 |         vNSE[s, t, z]<=inputs["pMax_D_Curtail"][s] * inputs["pD"][t, z])
107 | 
108 |     # Total demand curtailed in each time step (hourly) cannot exceed total demand
109 |     @constraint(EP,
110 |         cMaxNSE[t = 1:T, z = 1:Z],
111 |         sum(vNSE[s, t, z] for s in 1:SEG)<=inputs["pD"][t, z])
112 | end
113 | 


--------------------------------------------------------------------------------
/src/model/core/operational_reserves.jl:
--------------------------------------------------------------------------------
  1 | ##########################################################################################################################################
  2 | # The operational_reserves.jl module contains functions to creates decision variables related to frequency regulation and reserves provision
  3 | # and constraints setting overall system requirements for regulation and operating reserves.
  4 | ##########################################################################################################################################
  5 | 
  6 | @doc raw"""
  7 | 	operational_reserves!(EP::Model, inputs::Dict, setup::Dict)
  8 | 
  9 | This function sets up reserve decisions and constraints, using the operational_reserves_core()` and operational_reserves_contingency()` functions.
 10 | """
 11 | function operational_reserves!(EP::Model, inputs::Dict, setup::Dict)
 12 |     UCommit = setup["UCommit"]
 13 | 
 14 |     if inputs["pStatic_Contingency"] > 0 ||
 15 |        (UCommit >= 1 && inputs["pDynamic_Contingency"] >= 1)
 16 |         operational_reserves_contingency!(EP, inputs, setup)
 17 |     end
 18 | 
 19 |     operational_reserves_core!(EP, inputs, setup)
 20 | end
 21 | 
 22 | @doc raw"""
 23 | 	operational_reserves_contingency!(EP::Model, inputs::Dict, setup::Dict)
 24 | 
 25 | This function establishes several different versions of contingency reserve requirement expression, $CONTINGENCY$ used in the operational_reserves_core() function below.
 26 | 
 27 | Contingency operational reserves represent requirements for upward ramping capability within a specified time frame to compensated for forced outages or unplanned failures of generators or transmission lines (e.g. N-1 contingencies).
 28 | 
 29 | There are three options for the $Contingency$ expression, depending on user settings:
 30 | 	1. a static contingency, in which the contingency requirement is set based on a fixed value (in MW) specified in the '''Operational_reserves.csv''' input file;
 31 | 	2. a dynamic contingency based on installed capacity decisions, in which the largest 'installed' generator is used to determine the contingency requirement for all time periods; and
 32 | 	3. dynamic unit commitment based contingency, in which the largest 'committed' generator in any time period is used to determine the contingency requirement in that time period.
 33 | 
 34 | Note that the two dynamic contigencies are only available if unit commitment is being modeled.
 35 | 
 36 | **Static contingency**
 37 | Option 1 (static contingency) is expressed by the following constraint:
 38 | ```math
 39 | \begin{aligned}
 40 | 	Contingency = \epsilon^{contingency}
 41 | \end{aligned}
 42 | ```
 43 | where $\epsilon^{contingency}$ is static contingency requirement in MWs.
 44 | 
 45 | **Dynamic capacity-based contingency**
 46 | Option 2 (dynamic capacity-based contingency) is expressed by the following constraints:
 47 | ```math
 48 | \begin{aligned}
 49 | 	& Contingency \geq \Omega^{size}_{y,z} \times \alpha^{Contingency,Aux}_{y,z} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 50 | 	& \alpha^{Contingency,Aux}_{y,z} \leq \Delta^{\text{total}}_{y,z} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 51 | 	& \Delta^{\text{total}}_{y,z} \leq M_y \times \alpha^{Contingency,Aux}_{y,z} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 52 | \end{aligned}
 53 | ```
 54 | 
 55 | where $M_y$ is a `big M' constant equal to the largest possible capacity that can be installed for generation cluster $y$, and $\alpha^{Contingency,Aux}_{y,z} \in [0,1]$ is a binary auxiliary variable that is forced by the second and third equations above to be 1 if the total installed capacity $\Delta^{\text{total}}_{y,z} > 0$ for any generator $y \in \mathcal{UC}$ and zone $z$, and can be 0 otherwise. Note that if the user specifies contingency option 2, and is also using the linear relaxation of unit commitment constraints, the capacity size parameter for units in the set $\mathcal{UC}$ must still be set to a discrete unit size for this contingency to work as intended.
 56 | 
 57 | **Dynamic commitment-based contingency**
 58 | Option 3 (dynamic commitment-based contingency) is expressed by the following set of constraints:
 59 | ```math
 60 | \begin{aligned}
 61 | 	& Contingency \geq \Omega^{size}_{y,z} \times Contingency\_Aux_{y,z,t} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 62 | 	& Contingency\_Aux_{y,z,t} \leq \nu_{y,z,t} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 63 |     & \nu_{y,z,t} \leq M_y \times Contingency\_Aux_{y,z,t} & \forall y \in \mathcal{UC}, z \in \mathcal{Z}\\
 64 | \end{aligned}
 65 | ```
 66 | 
 67 | where $M_y$ is a `big M' constant equal to the largest possible capacity that can be installed for generation cluster $y$, and $Contingency\_Aux_{y,z,t} \in [0,1]$ is a binary auxiliary variable that is forced by the second and third equations above to be 1 if the commitment state for that generation cluster $\nu_{y,z,t} > 0$ for any generator $y \in \mathcal{UC}$ and zone $z$ and time period $t$, and can be 0 otherwise. Note that this dynamic commitment-based contingency can only be specified if discrete unit commitment decisions are used (e.g. it will not work if relaxed unit commitment is used).
 68 | """
 69 | function operational_reserves_contingency!(EP::Model, inputs::Dict, setup::Dict)
 70 |     println("Operational Reserves Contingency Module")
 71 | 
 72 |     gen = inputs["RESOURCES"]
 73 | 
 74 |     T = inputs["T"]     # Number of time steps (hours)
 75 |     UCommit = setup["UCommit"]
 76 |     COMMIT = inputs["COMMIT"]
 77 | 
 78 |     if UCommit >= 1
 79 |         pDynamic_Contingency = inputs["pDynamic_Contingency"]
 80 |     end
 81 | 
 82 |     ### Variables ###
 83 | 
 84 |     # NOTE: If Dynamic_Contingency == 0, then contingency is a fixed parameter equal the value specified in Operational_reserves.csv via pStatic_Contingency.
 85 |     if UCommit == 1 && pDynamic_Contingency == 1
 86 |         # Contingency = largest installed thermal unit
 87 |         @variable(EP, vLARGEST_CONTINGENCY>=0)
 88 |         # Auxiliary variable that is 0 if vCAP = 0, 1 otherwise
 89 |         @variable(EP, vCONTINGENCY_AUX[y in COMMIT], Bin)
 90 |     elseif UCommit == 1 && pDynamic_Contingency == 2
 91 |         # Contingency = largest committed thermal unit in each time period
 92 |         @variable(EP, vLARGEST_CONTINGENCY[t = 1:T]>=0)
 93 |         # Auxiliary variable that is 0 if vCOMMIT = 0, 1 otherwise
 94 |         @variable(EP, vCONTINGENCY_AUX[y in COMMIT, t = 1:T], Bin)
 95 |     end
 96 | 
 97 |     ### Expressions ###
 98 |     if UCommit == 1 && pDynamic_Contingency == 1
 99 |         # Largest contingency defined as largest installed generator
100 |         println("Dynamic Contingency Type 1: Modeling the largest contingency as the largest installed generator")
101 |         @expression(EP, eContingencyReq[t = 1:T], vLARGEST_CONTINGENCY)
102 |     elseif UCommit == 1 && pDynamic_Contingency == 2
103 |         # Largest contingency defined for each hour as largest committed generator
104 |         println("Dynamic Contingency Type 2: Modeling the largest contingency as the largest largest committed generator")
105 |         @expression(EP, eContingencyReq[t = 1:T], vLARGEST_CONTINGENCY[t])
106 |     else
107 |         # Largest contingency defined fixed as user-specifed static contingency in MW
108 |         println("Static Contingency: Modeling the largest contingency as user-specifed static contingency")
109 |         @expression(EP, eContingencyReq[t = 1:T], inputs["pStatic_Contingency"])
110 |     end
111 | 
112 |     ### Constraints ###
113 | 
114 |     # Dynamic contingency related constraints
115 |     # option 1: ensures vLARGEST_CONTINGENCY is greater than the capacity of the largest installed generator
116 |     if UCommit == 1 && pDynamic_Contingency == 1
117 |         @constraint(EP,
118 |             cContingency[y in COMMIT],
119 |             vLARGEST_CONTINGENCY>=cap_size(gen[y]) * vCONTINGENCY_AUX[y])
120 |         # Ensure vCONTINGENCY_AUX = 0 if total capacity = 0
121 |         @constraint(EP, cContAux1[y in COMMIT], vCONTINGENCY_AUX[y]<=EP[:eTotalCap][y])
122 |         # Ensure vCONTINGENCY_AUX = 1 if total capacity > 0
123 |         @constraint(EP,
124 |             cContAux2[y in COMMIT],
125 |             EP[:eTotalCap][y]<=inputs["pContingency_BigM"][y] * vCONTINGENCY_AUX[y])
126 | 
127 |         # option 2: ensures vLARGEST_CONTINGENCY is greater than the capacity of the largest commited generator in each hour
128 |     elseif UCommit == 1 && pDynamic_Contingency == 2
129 |         @constraint(EP,
130 |             cContingency[y in COMMIT, t = 1:T],
131 |             vLARGEST_CONTINGENCY[t]>=cap_size(gen[y]) * vCONTINGENCY_AUX[y, t])
132 |         # Ensure vCONTINGENCY_AUX = 0 if vCOMMIT = 0
133 |         @constraint(EP,
134 |             cContAux[y in COMMIT, t = 1:T],
135 |             vCONTINGENCY_AUX[y, t]<=EP[:vCOMMIT][y, t])
136 |         # Ensure vCONTINGENCY_AUX = 1 if vCOMMIT > 0
137 |         @constraint(EP,
138 |             cContAux2[y in COMMIT, t = 1:T],
139 |             EP[:vCOMMIT][y, t]<=inputs["pContingency_BigM"][y] * vCONTINGENCY_AUX[y, t])
140 |     end
141 | end
142 | 
143 | @doc raw"""
144 | 	operational_reserves_core!(EP::Model, inputs::Dict, setup::Dict)
145 | 
146 | This function creates decision variables related to frequency regulation and reserves provision and constraints setting overall system requirements for regulation and operating reserves.
147 | 
148 | **Regulation and reserves decisions**
149 | $f_{y,t,z} \geq 0$ is the contribution of generation or storage resource $y \in Y$ in time $t \in T$ and zone $z \in Z$ to frequency regulation
150 | 
151 | $r_{y,t,z} \geq 0$ is the contribution of generation or storage resource $y \in Y$ in time $t \in T$ and zone $z \in Z$ to operating reserves up
152 | 
153 | We assume frequency regulation is symmetric (provided in equal quantity towards both upwards and downwards regulation). To reduce computational complexity, operating reserves are only modeled in the upwards direction, as downwards reserves requirements are rarely binding in practice.
154 | 
155 | Storage resources ($y \in \mathcal{O}$) have two pairs of auxilary variables to reflect contributions to regulation and reserves when charging and discharging, where the primary variables ($f_{y,z,t}$ and $r_{y,z,t}$) becomes equal to sum of these auxilary variables.
156 | 
157 | Co-located VRE-STOR resources are described further in the reserves function for colocated VRE and storage resources (```vre_stor_operational_reserves!()```).
158 | 
159 | **Unmet operating reserves**
160 | 
161 | $unmet\_rsv_{t} \geq 0$ denotes any shortfall in provision of operating reserves during each time period $t \in T$
162 | 
163 | There is a penalty $C^{rsv}$ added to the objective function to penalize reserve shortfalls, equal to:
164 | 
165 | ```math
166 | \begin{aligned}
167 | 	C^{rvs} = \sum_{t \in T} \omega_t \times unmet\_rsv_{t}
168 | \end{aligned}
169 | ```
170 | 
171 | **Frequency regulation requirements**
172 | 
173 | Total requirements for frequency regulation (aka primary reserves) in each time step $t$ are specified as fractions of hourly demand (to reflect demand forecast errors) and variable renewable avaialblity in the time step (to reflect wind and solar forecast errors).
174 | 
175 | ```math
176 | \begin{aligned}
177 | & \sum_{y \in Y, z \in Z} f_{y,t,z} \geq \epsilon^{demand}_{reg} \times \sum_{z \in Z} \mathcal{D}_{z,t} + \epsilon^{vre}_{reg} \times (\sum_{z \in Z} \rho^{max}_{y,z,t} \times \Delta^{\text{total}}_{y,z} \\
178 | & + \sum_{z \in Z} \rho^{max,pv}_{y,z,t} \times \Delta^{\text{total,pv}}_{y,z} + \sum_{z \in Z} \rho^{max,wind}_{y,z,t} \times \Delta^{\text{total,wind}}_{y,z}) \quad \forall t \in T
179 | \end{aligned}
180 | ```
181 | where $\mathcal{D}_{z,t}$ is the forecasted electricity demand in zone $z$ at time $t$ (before any demand flexibility);
182 | $\rho^{max}_{y,z,t}$ is the forecasted capacity factor for standalone variable renewable resources $y \in VRE$ and zone $z$ in time step $t$;
183 | $\rho^{max,pv}_{y,z,t}$ is the forecasted capacity factor for co-located solar PV resources $y \in \mathcal{VS}^{pv}$ and zone $z$ in time step $t$;
184 | $\rho^{max,wind}_{y,z,t}$ is the forecasted capacity factor for co-located wind resources $y \in \mathcal{VS}^{pv}$ and zone $z$ in time step $t$;
185 | $\Delta^{\text{total,pv}}_{y,z}$ is the total installed capacity of co-located solar PV resources $y \in \mathcal{VS}^{pv}$ and zone $z$;
186 | $\Delta^{\text{total,wind}}_{y,z}$ is the total installed capacity of co-located wind resources $y \in \mathcal{VS}^{wind}$ and zone $z$;
187 | and $\epsilon^{demand}_{reg}$ and $\epsilon^{vre}_{reg}$ are parameters specifying the required frequency regulation as a fraction of forecasted demand and variable renewable generation.
188 | 
189 | **Operating reserve requirements**
190 | 
191 | Total requirements for operating reserves in the upward direction (aka spinning reserves or contingency reserces or secondary reserves) in each time step $t$ are specified as fractions of time step's demand (to reflect demand forecast errors) and variable renewable avaialblity in the time step (to reflect wind and solar forecast errors) plus the largest planning contingency (e.g. potential forced generation outage).
192 | 
193 | ```math
194 | \begin{aligned}
195 | 	& \sum_{y \in Y, z \in Z} r_{y,z,t} + r^{unmet}_{t} \geq \epsilon^{demand}_{rsv} \times \sum_{z \in Z} \mathcal{D}_{z,t} + \epsilon^{vre}_{rsv} \times (\sum_{z \in Z} \rho^{max}_{y,z,t} \times \Delta^{\text{total}}_{y,z} \\
196 | 	& + \sum_{z \in Z} \rho^{max,pv}_{y,z,t} \times \Delta^{\text{total,pv}}_{y,z} + \sum_{z \in Z} \rho^{max,wind}_{y,z,t} \times \Delta^{\text{total,wind}}_{y,z}) + Contingency \quad \forall t \in T
197 | \end{aligned}
198 | ```
199 | 
200 | where $\mathcal{D}_{z,t}$ is the forecasted electricity demand in zone $z$ at time $t$ (before any demand flexibility);
201 | $\rho^{max}_{y,z,t}$ is the forecasted capacity factor for standalone variable renewable resources $y \in VRE$ and zone $z$ in time step $t$;
202 | $\rho^{max,pv}_{y,z,t}$ is the forecasted capacity factor for co-located solar PV resources $y \in \mathcal{VS}^{pv}$ and zone $z$ in time step $t$;
203 | $\rho^{max,wind}_{y,z,t}$ is the forecasted capacity factor for co-located wind resources $y \in \mathcal{VS}^{wind}$ and zone $z$ in time step $t$;
204 | $\Delta^{\text{total}}_{y,z}$ is the total installed capacity of standalone variable renewable resources $y \in VRE$ and zone $z$;
205 | $\Delta^{\text{total,pv}}_{y,z}$ is the total installed capacity of co-located solar PV resources $y \in \mathcal{VS}^{pv}$ and zone $z$;
206 | $\Delta^{\text{total,wind}}_{y,z}$ is the total installed capacity of co-located wind resources $y \in \mathcal{VS}^{wind}$ and zone $z$;
207 | and $\epsilon^{demand}_{rsv}$ and $\epsilon^{vre}_{rsv}$ are parameters specifying the required contingency reserves as a fraction of forecasted demand and variable renewable generation. $Contingency$ is an expression defined in the operational\_reserves\_contingency!() function meant to represent the largest `N-1` contingency (unplanned generator outage) that the system operator must carry operating reserves to cover and depends on how the user wishes to specify contingency requirements.
208 | """
209 | function operational_reserves_core!(EP::Model, inputs::Dict, setup::Dict)
210 | 
211 |     # DEV NOTE: After simplifying reserve changes are integrated/confirmed, should we revise such that reserves can be modeled without UC constraints on?
212 |     # Is there a use case for economic dispatch constraints with reserves?
213 | 
214 |     println("Operational Reserves Core Module")
215 | 
216 |     gen = inputs["RESOURCES"]
217 |     UCommit = setup["UCommit"]
218 | 
219 |     T = inputs["T"]     # Number of time steps (hours)
220 | 
221 |     REG = inputs["REG"]
222 |     RSV = inputs["RSV"]
223 |     STOR_ALL = inputs["STOR_ALL"]
224 | 
225 |     pDemand = inputs["pD"]
226 |     pP_Max(y, t) = inputs["pP_Max"][y, t]
227 | 
228 |     systemwide_hourly_demand = sum(pDemand, dims = 2)
229 |     function must_run_vre_generation(t)
230 |         sum(
231 |             pP_Max(y, t) * EP[:eTotalCap][y]
232 |             for y in intersect(inputs["VRE"], inputs["MUST_RUN"]);
233 |             init = 0)
234 |     end
235 | 
236 |     ### Variables ###
237 | 
238 |     ## Integer Unit Commitment configuration for variables
239 | 
240 |     ## Decision variables for operational reserves
241 |     @variable(EP, vREG[y in REG, t = 1:T]>=0) # Contribution to regulation (primary reserves), assumed to be symmetric (up & down directions equal)
242 |     @variable(EP, vRSV[y in RSV, t = 1:T]>=0) # Contribution to operating reserves (secondary reserves or contingency reserves); only model upward reserve requirements
243 | 
244 |     # Storage techs have two pairs of auxilary variables to reflect contributions to regulation and reserves
245 |     # when charging and discharging (primary variable becomes equal to sum of these auxilary variables)
246 |     @variable(EP, vREG_discharge[y in intersect(STOR_ALL, REG), t = 1:T]>=0) # Contribution to regulation (primary reserves) (mirrored variable used for storage devices)
247 |     @variable(EP, vRSV_discharge[y in intersect(STOR_ALL, RSV), t = 1:T]>=0) # Contribution to operating reserves (secondary reserves) (mirrored variable used for storage devices)
248 |     @variable(EP, vREG_charge[y in intersect(STOR_ALL, REG), t = 1:T]>=0) # Contribution to regulation (primary reserves) (mirrored variable used for storage devices)
249 |     @variable(EP, vRSV_charge[y in intersect(STOR_ALL, RSV), t = 1:T]>=0) # Contribution to operating reserves (secondary reserves) (mirrored variable used for storage devices)
250 | 
251 |     @variable(EP, vUNMET_RSV[t = 1:T]>=0) # Unmet operating reserves penalty/cost
252 | 
253 |     ### Expressions ###
254 |     ## Total system reserve expressions
255 |     # Regulation requirements as a percentage of demand and scheduled variable renewable energy production in each hour
256 |     # Reg up and down requirements are symmetric
257 |     @expression(EP,
258 |         eRegReq[t = 1:T],
259 |         inputs["pReg_Req_Demand"] *
260 |         systemwide_hourly_demand[t]+
261 |         inputs["pReg_Req_VRE"] * must_run_vre_generation(t))
262 |     # Operating reserve up / contingency reserve requirements as Ëša percentage of demand and scheduled variable renewable energy production in each hour
263 |     # and the largest single contingency (generator or transmission line outage)
264 |     @expression(EP,
265 |         eRsvReq[t = 1:T],
266 |         inputs["pRsv_Req_Demand"] *
267 |         systemwide_hourly_demand[t]+
268 |         inputs["pRsv_Req_VRE"] * must_run_vre_generation(t))
269 | 
270 |     # N-1 contingency requirement is considered only if Unit Commitment is being modeled
271 |     if UCommit >= 1 &&
272 |        (inputs["pDynamic_Contingency"] >= 1 || inputs["pStatic_Contingency"] > 0)
273 |         add_similar_to_expression!(EP[:eRsvReq], EP[:eContingencyReq])
274 |     end
275 | 
276 |     ## Objective Function Expressions ##
277 | 
278 |     # Penalty for unmet operating reserves
279 |     @expression(EP,
280 |         eCRsvPen[t = 1:T],
281 |         inputs["omega"][t]*inputs["pC_Rsv_Penalty"]*vUNMET_RSV[t])
282 |     @expression(EP,
283 |         eTotalCRsvPen,
284 |         sum(eCRsvPen[t] for t in 1:T)+
285 |         sum(reg_cost(gen[y]) * vRSV[y, t] for y in RSV, t in 1:T)+
286 |         sum(rsv_cost(gen[y]) * vREG[y, t] for y in REG, t in 1:T))
287 |     add_to_expression!(EP[:eObj], eTotalCRsvPen)
288 | end
289 | 
290 | function operational_reserves_constraints!(EP, inputs)
291 |     T = inputs["T"]     # Number of time steps (hours)
292 | 
293 |     REG = inputs["REG"]
294 |     RSV = inputs["RSV"]
295 |     vREG = EP[:vREG]
296 |     vRSV = EP[:vRSV]
297 |     vUNMET_RSV = EP[:vUNMET_RSV]
298 |     eRegulationRequirement = EP[:eRegReq]
299 |     eReserveRequirement = EP[:eRsvReq]
300 | 
301 |     ## Total system reserve constraints
302 |     # Regulation requirements as a percentage of demand and scheduled
303 |     # variable renewable energy production in each hour.
304 |     # Note: frequency regulation up and down requirements are symmetric and all resources
305 |     # contributing to regulation are assumed to contribute equal capacity to both up
306 |     # and down directions
307 |     if !isempty(REG)
308 |         @constraint(EP,
309 |             cReg[t = 1:T],
310 |             sum(vREG[y, t] for y in REG)>=eRegulationRequirement[t])
311 |     end
312 |     if !isempty(RSV)
313 |         @constraint(EP,
314 |             cRsvReq[t = 1:T],
315 |             sum(vRSV[y, t] for y in RSV) + vUNMET_RSV[t]>=eReserveRequirement[t])
316 |     end
317 | end
318 | 


--------------------------------------------------------------------------------
/src/model/core/transmission/dcopf_transmission.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     dcopf_transmission!(EP::Model, inputs::Dict, setup::Dict)
 3 | The addtional constraints imposed upon the line flows in the case of DC-OPF are as follows:
 4 | For the definition of the line flows, in terms of the voltage phase angles:
 5 | ```math
 6 | \begin{aligned}
 7 |         & \Phi_{l,t}=\mathcal{B}_{l} \times (\sum_{z\in \mathcal{Z}}{(\varphi^{map}_{l,z} \times \theta_{z,t})}) \quad \forall l \in \mathcal{L}, \; \forall t  \in \mathcal{T}\\
 8 | \end{aligned}
 9 | ```
10 | For imposing the constraint of maximum allowed voltage phase angle difference across lines:
11 | ```math
12 | \begin{aligned}
13 |     & \sum_{z\in \mathcal{Z}}{(\varphi^{map}_{l,z} \times \theta_{z,t})} \leq \Delta \theta^{\max}_{l} \quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
14 | 	& \sum_{z\in \mathcal{Z}}{(\varphi^{map}_{l,z} \times \theta_{z,t})} \geq -\Delta \theta^{\max}_{l} \quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
15 | \end{aligned}
16 | ```
17 | Finally, we enforce the reference voltage phase angle constraint (for the slack bus/reference bus):
18 | ```math
19 | \begin{aligned}
20 | \theta_{1,t} = 0 \quad \forall t  \in \mathcal{T}
21 | \end{aligned}
22 | ```
23 | 
24 | """
25 | function dcopf_transmission!(EP::Model, inputs::Dict, setup::Dict)
26 |     println("DC-OPF Module")
27 | 
28 |     T = inputs["T"]     # Number of time steps (hours)
29 |     Z = inputs["Z"]     # Number of zones
30 |     L = inputs["L"]     # Number of transmission lines
31 | 
32 |     ### DC-OPF variables ###
33 | 
34 |     # Voltage angle variables of each zone "z" at hour "t" 
35 |     @variable(EP, vANGLE[z = 1:Z, t = 1:T])
36 | 
37 |     ### DC-OPF constraints ###
38 | 
39 |     # Power flow constraint:: vFLOW = DC_OPF_coeff * (vANGLE[START_ZONE] - vANGLE[END_ZONE])
40 |     @constraint(EP,
41 |         cPOWER_FLOW_OPF[l = 1:L, t = 1:T],
42 |         EP[:vFLOW][l,
43 |             t]==inputs["pDC_OPF_coeff"][l] *
44 |                 sum(inputs["pNet_Map"][l, z] * vANGLE[z, t] for z in 1:Z))
45 | 
46 |     # Bus angle limits (except slack bus)
47 |     @constraints(EP,
48 |         begin
49 |             cANGLE_ub[l = 1:L, t = 1:T],
50 |             sum(inputs["pNet_Map"][l, z] * vANGLE[z, t] for z in 1:Z) <=
51 |             inputs["Line_Angle_Limit"][l]
52 |             cANGLE_lb[l = 1:L, t = 1:T],
53 |             sum(inputs["pNet_Map"][l, z] * vANGLE[z, t] for z in 1:Z) >=
54 |             -inputs["Line_Angle_Limit"][l]
55 |         end)
56 | 
57 |     # Slack Bus angle limit
58 |     @constraint(EP, cANGLE_SLACK[t = 1:T], vANGLE[1, t]==0)
59 | end
60 | 


--------------------------------------------------------------------------------
/src/model/core/transmission/investment_transmission.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     investment_transmission!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function model transmission expansion and adds transmission reinforcement or construction costs to the objective function. Transmission reinforcement costs are equal to the sum across all lines of the product between the transmission reinforcement/construction cost, $\pi^{TCAP}_{l}$, times the additional transmission capacity variable, $\bigtriangleup\varphi^{cap}_{l}$.
  4 | ```math
  5 | \begin{aligned}
  6 |     & \sum_{l \in \mathcal{L}}\left(\pi^{TCAP}_{l} \times \bigtriangleup\varphi^{cap}_{l}\right)
  7 | \end{aligned}
  8 | ```
  9 | Note that fixed O\&M and replacement capital costs (depreciation) for existing transmission capacity is treated as a sunk cost and not included explicitly in the GenX objective function.
 10 | 
 11 | **Accounting for Transmission Between Zones**
 12 | 
 13 | Available transmission capacity between zones is set equal to the existing line's maximum power transfer capacity, $\overline{\varphi^{cap}_{l}}$, plus any transmission capacity added on that line (for lines eligible for expansion in the set $\mathcal{E}$). 
 14 | ```math
 15 | \begin{aligned}
 16 |     &\varphi^{cap}_{l} = \overline{\varphi^{cap}_{l}} , &\quad \forall l \in (\mathcal{L} \setminus \mathcal{E} ),\forall t  \in \mathcal{T}\\
 17 |     % trasmission expansion
 18 |     &\varphi^{cap}_{l} = \overline{\varphi^{cap}_{l}} + \bigtriangleup\varphi^{cap}_{l} , &\quad \forall l \in \mathcal{E},\forall t  \in \mathcal{T}        
 19 | \end{aligned}
 20 | ```
 21 | The additional transmission capacity, $\bigtriangleup\varphi^{cap}_{l} $, is constrained by a maximum allowed reinforcement, $\overline{\bigtriangleup\varphi^{cap}_{l}}$, for each line $l \in \mathcal{E}$.
 22 | ```math
 23 | \begin{aligned}
 24 |     & \bigtriangleup\varphi^{cap}_{l}  \leq \overline{\bigtriangleup\varphi^{cap}_{l}}, &\quad \forall l \in \mathcal{E}
 25 | \end{aligned}
 26 | ```
 27 | """
 28 | function investment_transmission!(EP::Model, inputs::Dict, setup::Dict)
 29 |     println("Investment Transmission Module")
 30 | 
 31 |     L = inputs["L"]     # Number of transmission lines
 32 |     NetworkExpansion = setup["NetworkExpansion"]
 33 |     MultiStage = setup["MultiStage"]
 34 | 
 35 |     if NetworkExpansion == 1
 36 |         # Network lines and zones that are expandable have non-negative maximum reinforcement inputs
 37 |         EXPANSION_LINES = inputs["EXPANSION_LINES"]
 38 |     end
 39 | 
 40 |     ### Variables ###
 41 | 
 42 |     if MultiStage == 1
 43 |         @variable(EP, vTRANSMAX[l = 1:L]>=0)
 44 |     end
 45 | 
 46 |     if NetworkExpansion == 1
 47 |         # Transmission network capacity reinforcements per line
 48 |         @variable(EP, vNEW_TRANS_CAP[l in EXPANSION_LINES]>=0)
 49 |     end
 50 | 
 51 |     ### Expressions ###
 52 | 
 53 |     if MultiStage == 1
 54 |         @expression(EP, eTransMax[l = 1:L], vTRANSMAX[l])
 55 |     else
 56 |         @expression(EP, eTransMax[l = 1:L], inputs["pTrans_Max"][l])
 57 |     end
 58 | 
 59 |     ## Transmission power flow and loss related expressions:
 60 |     # Total availabile maximum transmission capacity is the sum of existing maximum transmission capacity plus new transmission capacity
 61 |     if NetworkExpansion == 1
 62 |         @expression(EP, eAvail_Trans_Cap[l = 1:L],
 63 |             if l in EXPANSION_LINES
 64 |                 eTransMax[l] + vNEW_TRANS_CAP[l]
 65 |             else
 66 |                 eTransMax[l]
 67 |             end)
 68 |     else
 69 |         @expression(EP, eAvail_Trans_Cap[l = 1:L], eTransMax[l])
 70 |     end
 71 | 
 72 |     ## Objective Function Expressions ##
 73 | 
 74 |     if NetworkExpansion == 1
 75 |         @expression(EP,
 76 |             eTotalCNetworkExp,
 77 |             sum(vNEW_TRANS_CAP[l] * inputs["pC_Line_Reinforcement"][l]
 78 |             for l in EXPANSION_LINES))
 79 | 
 80 |         if MultiStage == 1
 81 |             # OPEX multiplier to count multiple years between two model stages
 82 |             # We divide by OPEXMULT since we are going to multiply the entire objective function by this term later,
 83 |             # and we have already accounted for multiple years between stages for fixed costs.
 84 |             add_to_expression!(EP[:eObj], (1 / inputs["OPEXMULT"]), eTotalCNetworkExp)
 85 |         else
 86 |             add_to_expression!(EP[:eObj], eTotalCNetworkExp)
 87 |         end
 88 |     end
 89 | 
 90 |     ## End Objective Function Expressions ##
 91 | 
 92 |     ### Constraints ###
 93 | 
 94 |     if MultiStage == 1
 95 |         # Linking constraint for existing transmission capacity
 96 |         @constraint(EP, cExistingTransCap[l = 1:L], vTRANSMAX[l]==inputs["pTrans_Max"][l])
 97 |     end
 98 | 
 99 |     # If network expansion is used:
100 |     if NetworkExpansion == 1
101 |         # Transmission network related power flow and capacity constraints
102 |         if MultiStage == 1
103 |             # Constrain maximum possible flow for lines eligible for expansion regardless of previous expansions
104 |             @constraint(EP,
105 |                 cMaxFlowPossible[l in EXPANSION_LINES],
106 |                 eAvail_Trans_Cap[l]<=inputs["pTrans_Max_Possible"][l])
107 |         end
108 |         # Constrain maximum single-stage line capacity reinforcement for lines eligible for expansion
109 |         @constraint(EP,
110 |             cMaxLineReinforcement[l in EXPANSION_LINES],
111 |             vNEW_TRANS_CAP[l]<=inputs["pMax_Line_Reinforcement"][l])
112 |     end
113 |     #END network expansion contraints
114 | 
115 | end
116 | 


--------------------------------------------------------------------------------
/src/model/core/transmission/transmission.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	transmission!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function establishes decisions, expressions, and constraints related to transmission power flows between model zones and associated transmission losses (if modeled).
  4 | 
  5 | Power flow and transmission loss terms are also added to the power balance constraint for each zone:
  6 | ```math
  7 | \begin{aligned}
  8 | &	- \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \Phi_{l,t})} - \frac{1}{2} \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \beta_{l,t}(\cdot))}
  9 | \end{aligned}
 10 | ```
 11 | Power flows, $\Phi_{l,t}$, on each line $l$ into or out of a zone (defined by the network map $\varphi^{map}_{l,z}$), are considered in the demand balance equation for each zone. By definition, power flows leaving their reference zone are positive, thus the minus sign is used for this term. Losses due to power flows increase demand, and one-half of losses across a line linking two zones are attributed to each connected zone. The losses function $\beta_{l,t}(\cdot)$ will depend on the configuration used to model losses (see below).
 12 | **Accounting for Transmission Between Zones**
 13 | Power flow, $\Phi_{l,t}$, on each line (or more likely a `path' aggregating flows across multiple parallel lines) is constrained to be less than or equal to the line's power transfer capacity, $\varphi^{cap}_{l}$, plus any transmission capacity added on that line (for lines eligible for expansion in the set $\mathcal{E}$). The additional transmission capacity, $\bigtriangleup\varphi^{cap}_{l} $, is constrained by a maximum allowed reinforcement, $\overline{\bigtriangleup\varphi^{cap}_{l}}$, for each line $l \in \mathcal{E}$.
 14 | ```math
 15 | \begin{aligned}
 16 | 	% trasmission constraints
 17 | 	&-\varphi^{cap}_{l} \leq  \Phi_{l,t} \leq \varphi^{cap}_{l} , &\quad \forall l \in \mathcal{L},\forall t  \in \mathcal{T}\\
 18 | \end{aligned}
 19 | ```
 20 | **Accounting for Transmission Losses**
 21 | Transmission losses due to power flows can be accounted for in three different ways. The first option is to neglect losses entirely, setting the value of the losses function to zero for all lines at all hours. The second option is to assume that losses are a fixed percentage, $\varphi^{loss}_{l}$, of the magnitude of power flow on each line, $\mid \Phi_{l,t} \mid$ (e.g., losses are a linear function of power flows). Finally, the third option is to calculate losses, $\ell_{l,t}$, by approximating a quadratic-loss function of power flow across the line using a piecewise-linear function with total number of segments equal to the size of the set $\mathcal{M}$.
 22 | ```math
 23 | \begin{aligned}
 24 | %configurable losses formulation
 25 | 	& \beta_{l,t}(\cdot) = \begin{cases} 0 & \text{if~} \text{losses.~0} \\ \\ \varphi^{loss}_{l}\times \mid \Phi_{l,t} \mid & \text{if~} \text{losses.~1} \\ \\ \ell_{l,t} &\text{if~} \text{losses.~2} \end{cases}, &\quad \forall l \in \mathcal{L},\forall t  \in \mathcal{T}
 26 | \end{aligned}
 27 | ```
 28 | For the second option, an absolute value approximation is utilized to calculate the magnitude of the power flow on each line (reflecting the fact that negative power flows for a line linking nodes $i$ and $j$ represents flows from node $j$ to $i$ and causes the same magnitude of losses as an equal power flow from $i$ to $j$). This absolute value function is linearized such that the flow in the line must be equal to the subtraction of the auxiliary variable for flow in the positive direction, $\Phi^{+}_{l,t}$, and the auxiliary variable for flow in the negative direction, $\Phi^{-}_{l,t}$, of the line. Then, the magnitude of the flow is calculated as the sum of the two auxiliary variables. The sum of positive and negative directional flows are also constrained by the line flow capacity.
 29 | ```math
 30 | \begin{aligned}
 31 | % trasmission losses simple
 32 | 	&\Phi_{l,t} =  \Phi^{+}_{l,t}  - \Phi^{-}_{l,t}, &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 33 | 	&\mid \Phi_{l,t} \mid =  \Phi^{+}_{l,t}  + \Phi^{-}_{l,t}, &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 34 | 	&\Phi^{+}_{l,t}  + \Phi^{-}_{l,t} \leq \varphi^{cap}_{l}, &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
 35 | \end{aligned}
 36 | ```
 37 | If discrete unit commitment decisions are modeled, ``phantom losses'' can be observed wherein the auxiliary variables for flows in both directions ($\Phi^{+}_{l,t}$ and $\Phi^{-}_{l,t}$) are both increased to produce increased losses so as to avoid cycling a thermal generator and incurring start-up costs or opportunity costs related to minimum down times. This unrealistic behavior can be eliminated via inclusion of additional constraints and a set of auxiliary binary variables, $ON^{+}_{l,t} \in {0,1} \forall l \in \mathcal{L}$. Then the following additional constraints are created:
 38 | ```math
 39 | \begin{aligned}
 40 | 	\Phi^{+}_{l,t} \leq TransON^{+}_{l,t},  &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 41 | 	\Phi^{-}_{l,t} \leq \varphi^{cap}_{l} -TransON^{+}_{l,t}, &\quad  \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
 42 | \end{aligned}
 43 | ```
 44 | where $TransON^{+}_{l,t}$ is a continuous variable, representing the product of the binary variable $ON^{+}_{l,t}$ and the expression, $\varphi^{cap}_{l}$. This product cannot be defined explicitly, since it will lead to a bilinear expression involving two variables. Instead, we enforce this definition via the Glover's Linearization as shown below (also referred McCormick Envelopes constraints for bilinear expressions, which is exact when one of the variables is binary).
 45 | ```math
 46 | \begin{aligned}
 47 | 	TransON^{+}_{l,t} \leq  (\overline{varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) \times TransON^{+}_{l,t},  &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
 48 | 	TransON^{+}_{l,t} \leq  \varphi^{cap}_{l},  &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
 49 | 	TransON^{+}_{l,t} \geq \varphi^{cap}_{l} - (\overline{\varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) \times(1- TransON^{+}_{l,t}),  &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
 50 | \end{aligned}
 51 | ```
 52 | These constraints permit only the positive or negative auxiliary flow variables to be non-zero at a given time period, not both.
 53 | For the third option, losses are calculated as a piecewise-linear approximation of a quadratic function of power flows. In order to do this, we represent the absolute value of the line flow variable by the sum of positive stepwise flow variables $(\mathcal{S}^{+}_{m,l,t}, \mathcal{S}^{-}_{m,l,t})$, associated with each partition of line losses computed using the corresponding linear expressions. This can be understood as a segmentwise linear fitting (or first order approximation) of the quadratic losses function. The first constraint below computes the losses a the accumulated sum of losses for each linear stepwise segment of the approximated quadratic function, including both positive domain and negative domain segments. A second constraint ensures that the stepwise variables do not exceed the maximum size per segment. The slope and maximum size for each segment are calculated as per the method in \cite{Zhang2013}.
 54 | ```math
 55 | \begin{aligned}
 56 | 	& \ell_{l,t} = \frac{\varphi^{ohm}_{l}}{(\varphi^{volt}_{l})^2}\bigg( \sum_{m \in \mathcal{M}}( S^{+}_{m,l}\times \mathcal{S}^{+}_{m,l,t} + S^{-}_{m,l}\times \mathcal{S}^{-}_{m,l,t}) \bigg), &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
 57 | 	& \text{\quad Where:} \\
 58 | 	& \quad S^{+}_{m,l} = \frac{2+4 \times \sqrt{2}\times (m-1)}{1+\sqrt{2} \times (2 \times M-1)} (\overline{\varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) &\quad \forall m \in [1 \colon M], l \in \mathcal{L}  \\
 59 | 	& \quad S^{-}_{m,l} = \frac{2+4 \times \sqrt{2}\times (m-1)}{1+\sqrt{2} \times (2 \times M-1)} (\overline{\varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) &\quad \forall m \in [1 \colon M], l \in \mathcal{L}\\
 60 | 	& \\
 61 | 	& \mathcal{S}^{+}_{m,l,t}, \mathcal{S}^{-}_{m,l,t} <= \overline{\mathcal{S}_{m,l}} &\quad \forall m \in [1:M], l \in \mathcal{L}, t \in \mathcal{T} \\
 62 | 	& \text{\quad Where:} \\
 63 | 	& \quad \overline{S_{l,z}} =  \begin{cases} \frac{(1+\sqrt{2})}{1+\sqrt{2} \times (2 \times M-1)}  (\overline{\varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) & \text{if~} m = 1 \\
 64 | 	\frac{2 \times \sqrt{2} }{1+\sqrt{2} \times (2 \times M-1)} (\overline{\varphi^{cap}_{l}} + \overline{\bigtriangleup\varphi^{cap}_{l}}) & \text{if~} m > 1 \end{cases}
 65 | \end{aligned}
 66 | ```
 67 | Next, a constraint ensures that the sum of auxiliary segment variables ($m \geq 1$) minus the "zero" segment (which allows values to go into the negative domain) from both positive and negative domains must total the actual power flow across the line, and a constraint ensures that the sum of negative and positive flows do not exceed the flow capacity of the line.
 68 | ```math
 69 | \begin{aligned}
 70 | 	&\sum_{m \in [1:M]} (\mathcal{S}^{+}_{m,l,t}) - \mathcal{S}^{+}_{0,l,t} =  \Phi_{l,t}, &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 71 | 	&\sum_{m \in [1:M]} (\mathcal{S}^{-}_{m,l,t}) - \mathcal{S}^{-}_{0,l,t}  =  - \Phi_{l,t}
 72 | \end{aligned}
 73 | ```
 74 | As with losses option 2, this segment-wise approximation of a quadratic loss function also permits 'phantom losses' to avoid cycling thermal units when discrete unit commitment decisions are modeled. In this case, the additional constraints below are also added to ensure that auxiliary segments variables do not exceed maximum value per segment and that they are filled in order; i.e., one segment cannot be non-zero unless prior segment is at its maximum value. Binary constraints deal with absolute value of power flow on each line. If the flow is positive, $\mathcal{S}^{+}_{0,l,t}$ must be zero; if flow is negative, $\mathcal{S}^{+}_{0,l,t}$ must be positive and takes on value of the full negative flow, forcing all $\mathcal{S}^{+}_{m,l,t}$ other segments ($m \geq 1$) to be zero. Conversely, if the flow is negative, $\mathcal{S}^{-}_{0,l,t}$ must be zero; if flow is positive, $\mathcal{S}^{-}_{0,l,t}$ must be positive and takes on value of the full positive flow, forcing all $\mathcal{S}^{-}_{m,l,t}$ other segments ($m \geq 1$) to be zero. Requiring segments to fill in sequential order and binary variables to ensure variables reflect the actual direction of power flows are both necessary to eliminate ``phantom losses'' from the solution. These constraints and binary decisions are ommited if the model is fully linear.
 75 | ```math
 76 | \begin{aligned}
 77 | 	&\mathcal{S}^{+}_{m,l,t} <=    \overline{\mathcal{S}_{m,l}} \times ON^{+}_{m,l,t}, &\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 78 | 	&\mathcal{S}^{-}_{m,l,t} <=    \overline{\mathcal{S}_{m,l}} \times ON^{-}_{m,l,t},  &\quad \forall m \in[1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 79 | 	&\mathcal{S}^{+}_{m,l,t} \geq ON^{+}_{m+1,l,t} \times \overline{\mathcal{S}_{m,l}}, &\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 80 | 	&\mathcal{S}^{-}_{m,l,t} \geq ON^{-}_{m+1,l,t} \times \overline{\mathcal{S}_{m,l}} , &\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 81 | 	&\mathcal{S}^{+}_{0,l,t} \leq \varphi^{max}_{l} \times (1- ON^{+}_{1,l,t}), &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
 82 | 	&\mathcal{S}^{-}_{0,l,t} \leq \varphi^{max}_{l} \times (1- ON^{-}_{1,l,t}), &\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
 83 | \end{aligned}
 84 | ```
 85 | """
 86 | function transmission!(EP::Model, inputs::Dict, setup::Dict)
 87 |     println("Transmission Module")
 88 |     T = inputs["T"]     # Number of time steps (hours)
 89 |     Z = inputs["Z"]     # Number of zones
 90 |     L = inputs["L"]     # Number of transmission lines
 91 | 
 92 |     UCommit = setup["UCommit"]
 93 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
 94 |     EnergyShareRequirement = setup["EnergyShareRequirement"]
 95 |     IncludeLossesInESR = setup["IncludeLossesInESR"]
 96 | 
 97 |     ## sets and indices for transmission losses
 98 |     TRANS_LOSS_SEGS = inputs["TRANS_LOSS_SEGS"] # Number of segments used in piecewise linear approximations quadratic loss functions - can only take values of TRANS_LOSS_SEGS =1, 2
 99 |     LOSS_LINES = inputs["LOSS_LINES"] # Lines for which loss coefficients apply (are non-zero);
100 | 
101 |     ### Variables ###
102 | 
103 |     # Power flow on each transmission line "l" at hour "t"
104 |     @variable(EP, vFLOW[l = 1:L, t = 1:T])
105 | 
106 |     if (TRANS_LOSS_SEGS == 1)  #loss is a constant times absolute value of power flow
107 |         # Positive and negative flow variables
108 |         @variable(EP, vTAUX_NEG[l in LOSS_LINES, t = 1:T]>=0)
109 |         @variable(EP, vTAUX_POS[l in LOSS_LINES, t = 1:T]>=0)
110 | 
111 |         if UCommit == 1
112 |             # Single binary variable to ensure positive or negative flows only
113 |             @variable(EP, vTAUX_POS_ON[l in LOSS_LINES, t = 1:T], Bin)
114 |             # Continuous variable representing product of binary variable (vTAUX_POS_ON) and avail transmission capacity
115 |             @variable(EP, vPROD_TRANSCAP_ON[l in LOSS_LINES, t = 1:T]>=0)
116 |         end
117 |     else # TRANS_LOSS_SEGS>1
118 |         # Auxiliary variables for linear piecewise interpolation of quadratic losses
119 |         @variable(EP, vTAUX_NEG[l in LOSS_LINES, s = 0:TRANS_LOSS_SEGS, t = 1:T]>=0)
120 |         @variable(EP, vTAUX_POS[l in LOSS_LINES, s = 0:TRANS_LOSS_SEGS, t = 1:T]>=0)
121 |         if UCommit == 1
122 |             # Binary auxilary variables for each segment >1 to ensure segments fill in order
123 |             @variable(EP,
124 |                 vTAUX_POS_ON[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
125 |                 Bin)
126 |             @variable(EP,
127 |                 vTAUX_NEG_ON[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
128 |                 Bin)
129 |         end
130 |     end
131 | 
132 |     # Transmission losses on each transmission line "l" at hour "t"
133 |     @variable(EP, vTLOSS[l in LOSS_LINES, t = 1:T]>=0)
134 | 
135 |     ### Expressions ###
136 | 
137 |     ## Transmission power flow and loss related expressions:
138 | 
139 |     # Net power flow outgoing from zone "z" at hour "t" in MW
140 |     @expression(EP,
141 |         eNet_Export_Flows[z = 1:Z, t = 1:T],
142 |         sum(inputs["pNet_Map"][l, z] * vFLOW[l, t] for l in 1:L))
143 | 
144 |     # Losses from power flows into or out of zone "z" in MW
145 |     @expression(EP,
146 |         eLosses_By_Zone[z = 1:Z, t = 1:T],
147 |         sum(abs(inputs["pNet_Map"][l, z]) * (1 / 2) * vTLOSS[l, t] for l in LOSS_LINES))
148 | 
149 |     ## Power Balance Expressions ##
150 | 
151 |     @expression(EP, ePowerBalanceNetExportFlows[t = 1:T, z = 1:Z],
152 |         -eNet_Export_Flows[z, t])
153 |     @expression(EP, ePowerBalanceLossesByZone[t = 1:T, z = 1:Z],
154 |         -eLosses_By_Zone[z, t])
155 | 
156 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceLossesByZone)
157 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceNetExportFlows)
158 | 
159 |     # Capacity Reserves Margin policy
160 |     if CapacityReserveMargin > 0
161 |         if Z > 1
162 |             @expression(EP,
163 |                 eCapResMarBalanceTrans[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
164 |                 sum(inputs["dfTransCapRes_excl"][l, res] *
165 |                     inputs["dfDerateTransCapRes"][l, res] * EP[:vFLOW][l, t] for l in 1:L))
166 |             add_similar_to_expression!(EP[:eCapResMarBalance], -eCapResMarBalanceTrans)
167 |         end
168 |     end
169 | 
170 |     ### Constraints ###
171 | 
172 |     ## Power flow and transmission (between zone) loss related constraints
173 | 
174 |     # Maximum power flows, power flow on each transmission line cannot exceed maximum capacity of the line at any hour "t"
175 |     @constraints(EP,
176 |         begin
177 |             cMaxFlow_out[l = 1:L, t = 1:T], vFLOW[l, t] <= EP[:eAvail_Trans_Cap][l]
178 |             cMaxFlow_in[l = 1:L, t = 1:T], vFLOW[l, t] >= -EP[:eAvail_Trans_Cap][l]
179 |         end)
180 | 
181 |     # Transmission loss related constraints - linear losses as a function of absolute value
182 |     if TRANS_LOSS_SEGS == 1
183 |         @constraints(EP,
184 |             begin
185 |                 # Losses are alpha times absolute values
186 |                 cTLoss[l in LOSS_LINES, t = 1:T],
187 |                 vTLOSS[l, t] ==
188 |                 inputs["pPercent_Loss"][l] * (vTAUX_POS[l, t] + vTAUX_NEG[l, t])
189 | 
190 |                 # Power flow is sum of positive and negative components
191 |                 cTAuxSum[l in LOSS_LINES, t = 1:T],
192 |                 vTAUX_POS[l, t] - vTAUX_NEG[l, t] == vFLOW[l, t]
193 | 
194 |                 # Sum of auxiliary flow variables in either direction cannot exceed maximum line flow capacity
195 |                 cTAuxLimit[l in LOSS_LINES, t = 1:T],
196 |                 vTAUX_POS[l, t] + vTAUX_NEG[l, t] <= EP[:eAvail_Trans_Cap][l]
197 |             end)
198 | 
199 |         if UCommit == 1
200 |             # Constraints to limit phantom losses that can occur to avoid discrete cycling costs/opportunity costs due to min down
201 |             @constraints(EP,
202 |                 begin
203 |                     cTAuxPosUB[l in LOSS_LINES, t = 1:T],
204 |                     vTAUX_POS[l, t] <= vPROD_TRANSCAP_ON[l, t]
205 | 
206 |                     # Either negative or positive flows are activated, not both
207 |                     cTAuxNegUB[l in LOSS_LINES, t = 1:T],
208 |                     vTAUX_NEG[l, t] <= EP[:eAvail_Trans_Cap][l] - vPROD_TRANSCAP_ON[l, t]
209 | 
210 |                     # McCormick representation of product of continuous and binary variable
211 |                     # (in this case, of: vPROD_TRANSCAP_ON[l,t] = EP[:eAvail_Trans_Cap][l] * vTAUX_POS_ON[l,t])
212 |                     # McCormick constraint 1
213 |                     [l in LOSS_LINES, t = 1:T],
214 |                     vPROD_TRANSCAP_ON[l, t] <=
215 |                     inputs["pTrans_Max_Possible"][l] * vTAUX_POS_ON[l, t]
216 | 
217 |                     # McCormick constraint 2
218 |                     [l in LOSS_LINES, t = 1:T],
219 |                     vPROD_TRANSCAP_ON[l, t] <= EP[:eAvail_Trans_Cap][l]
220 | 
221 |                     # McCormick constraint 3
222 |                     [l in LOSS_LINES, t = 1:T],
223 |                     vPROD_TRANSCAP_ON[l, t] >=
224 |                     EP[:eAvail_Trans_Cap][l] -
225 |                     (1 - vTAUX_POS_ON[l, t]) * inputs["pTrans_Max_Possible"][l]
226 |                 end)
227 |         end
228 |     end # End if(TRANS_LOSS_SEGS == 1) block
229 | 
230 |     # When number of segments is greater than 1
231 |     if (TRANS_LOSS_SEGS > 1)
232 |         ## between zone transmission loss constraints
233 |         # Losses are expressed as a piecewise approximation of a quadratic function of power flows across each line
234 |         # Eq 1: Total losses are function of loss coefficient times the sum of auxilary segment variables across all segments of piecewise approximation
235 |         # (Includes both positive domain and negative domain segments)
236 |         @constraint(EP,
237 |             cTLoss[l in LOSS_LINES, t = 1:T],
238 |             vTLOSS[l,
239 |                 t]==
240 |             (inputs["pTrans_Loss_Coef"][l] *
241 |              sum((2 * s - 1) * (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
242 |                  vTAUX_POS[l, s, t] for s in 1:TRANS_LOSS_SEGS)) +
243 |             (inputs["pTrans_Loss_Coef"][l] *
244 |              sum((2 * s - 1) * (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
245 |                  vTAUX_NEG[l, s, t] for s in 1:TRANS_LOSS_SEGS)))
246 |         # Eq 2: Sum of auxilary segment variables (s >= 1) minus the "zero" segment (which allows values to go negative)
247 |         # from both positive and negative domains must total the actual power flow across the line
248 |         @constraints(EP,
249 |             begin
250 |                 cTAuxSumPos[l in LOSS_LINES, t = 1:T],
251 |                 sum(vTAUX_POS[l, s, t] for s in 1:TRANS_LOSS_SEGS) - vTAUX_POS[l, 0, t] ==
252 |                 vFLOW[l, t]
253 |                 cTAuxSumNeg[l in LOSS_LINES, t = 1:T],
254 |                 sum(vTAUX_NEG[l, s, t] for s in 1:TRANS_LOSS_SEGS) - vTAUX_NEG[l, 0, t] ==
255 |                 -vFLOW[l, t]
256 |             end)
257 |         if UCommit == 0 || UCommit == 2
258 |             # Eq 3: Each auxilary segment variables (s >= 1) must be less than the maximum power flow in the zone / number of segments
259 |             @constraints(EP,
260 |                 begin
261 |                     cTAuxMaxPos[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
262 |                     vTAUX_POS[l, s, t] <=
263 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS)
264 |                     cTAuxMaxNeg[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
265 |                     vTAUX_NEG[l, s, t] <=
266 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS)
267 |                 end)
268 |         else # Constraints that can be ommitted if problem is convex (i.e. if not using MILP unit commitment constraints)
269 |             # Eqs 3-4: Ensure that auxilary segment variables do not exceed maximum value per segment and that they
270 |             # "fill" in order: i.e. one segment cannot be non-zero unless prior segment is at it's maximum value
271 |             # (These constraints are necessary to prevents phantom losses in MILP problems)
272 |             @constraints(EP,
273 |                 begin
274 |                     cTAuxOrderPos1[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
275 |                     vTAUX_POS[l, s, t] <=
276 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
277 |                     vTAUX_POS_ON[l, s, t]
278 |                     cTAuxOrderNeg1[l in LOSS_LINES, s = 1:TRANS_LOSS_SEGS, t = 1:T],
279 |                     vTAUX_NEG[l, s, t] <=
280 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
281 |                     vTAUX_NEG_ON[l, s, t]
282 |                     cTAuxOrderPos2[l in LOSS_LINES, s = 1:(TRANS_LOSS_SEGS - 1), t = 1:T],
283 |                     vTAUX_POS[l, s, t] >=
284 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
285 |                     vTAUX_POS_ON[l, s + 1, t]
286 |                     cTAuxOrderNeg2[l in LOSS_LINES, s = 1:(TRANS_LOSS_SEGS - 1), t = 1:T],
287 |                     vTAUX_NEG[l, s, t] >=
288 |                     (inputs["pTrans_Max_Possible"][l] / TRANS_LOSS_SEGS) *
289 |                     vTAUX_NEG_ON[l, s + 1, t]
290 |                 end)
291 | 
292 |             # Eq 5: Binary constraints to deal with absolute value of vFLOW.
293 |             @constraints(EP,
294 |                 begin
295 |                     # If flow is positive, vTAUX_POS segment 0 must be zero; If flow is negative, vTAUX_POS segment 0 must be positive
296 |                     # (and takes on value of the full negative flow), forcing all vTAUX_POS other segments (s>=1) to be zero
297 |                     cTAuxSegmentZeroPos[l in LOSS_LINES, t = 1:T],
298 |                     vTAUX_POS[l, 0, t] <=
299 |                     inputs["pTrans_Max_Possible"][l] * (1 - vTAUX_POS_ON[l, 1, t])
300 | 
301 |                     # If flow is negative, vTAUX_NEG segment 0 must be zero; If flow is positive, vTAUX_NEG segment 0 must be positive
302 |                     # (and takes on value of the full positive flow), forcing all other vTAUX_NEG segments (s>=1) to be zero
303 |                     cTAuxSegmentZeroNeg[l in LOSS_LINES, t = 1:T],
304 |                     vTAUX_NEG[l, 0, t] <=
305 |                     inputs["pTrans_Max_Possible"][l] * (1 - vTAUX_NEG_ON[l, 1, t])
306 |                 end)
307 |         end
308 |     end # End if(TRANS_LOSS_SEGS > 0) block
309 | 
310 |     # ESR Lossses
311 |     if EnergyShareRequirement >= 1 && IncludeLossesInESR == 1
312 |         @expression(EP, eESRTran[ESR = 1:inputs["nESR"]],
313 |             sum(inputs["dfESR"][z, ESR] *
314 |                 sum(inputs["omega"][t] * EP[:eLosses_By_Zone][z, t] for t in 1:T)
315 |             for z in findall(x -> x > 0, inputs["dfESR"][:, ESR])))
316 |         add_similar_to_expression!(EP[:eESR], -eESRTran)
317 |     end
318 | end
319 | 


--------------------------------------------------------------------------------
/src/model/core/ucommit.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	ucommit!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | This function creates decision variables and cost expressions associated with thermal plant unit commitment or start-up and shut-down decisions (cycling on/off)
 5 | 
 6 | **Unit commitment decision variables:**
 7 | 
 8 | This function defines the following decision variables:
 9 | 
10 | $\nu_{y,t,z}$ designates the commitment state of generator cluster $y$ in zone $z$ at time $t$;
11 | $\chi_{y,t,z}$ represents number of startup decisions in cluster $y$ in zone $z$ at time $t$;
12 | $\zeta_{y,t,z}$ represents number of shutdown decisions in cluster $y$ in zone $z$ at time $t$.
13 | 
14 | **Cost expressions:**
15 | 
16 | The total cost of start-ups across all generators subject to unit commitment ($y \in UC$) and all time periods, t is expressed as:
17 | ```math
18 | \begin{aligned}
19 | 	C^{start} = \sum_{y \in UC, t \in T} \omega_t \times start\_cost_{y,t} \times \chi_{y,t}
20 | \end{aligned}
21 | ```
22 | 
23 | The sum of start-up costs is added to the objective function.
24 | """
25 | function ucommit!(EP::Model, inputs::Dict, setup::Dict)
26 |     println("Unit Commitment Module")
27 | 
28 |     T = inputs["T"]     # Number of time steps (hours)
29 |     COMMIT = inputs["COMMIT"] # For not, thermal resources are the only ones eligible for Unit Committment
30 | 
31 |     ### Variables ###
32 | 
33 |     ## Decision variables for unit commitment
34 |     # commitment state variable
35 |     @variable(EP, vCOMMIT[y in COMMIT, t = 1:T]>=0)
36 |     # startup event variable
37 |     @variable(EP, vSTART[y in COMMIT, t = 1:T]>=0)
38 |     # shutdown event variable
39 |     @variable(EP, vSHUT[y in COMMIT, t = 1:T]>=0)
40 | 
41 |     ### Expressions ###
42 | 
43 |     ## Objective Function Expressions ##
44 | 
45 |     # Startup costs of "generation" for resource "y" during hour "t"
46 |     @expression(EP,
47 |         eCStart[y in COMMIT, t = 1:T],
48 |         (inputs["omega"][t]*inputs["C_Start"][y, t]*vSTART[y, t]))
49 | 
50 |     # Julia is fastest when summing over one row one column at a time
51 |     @expression(EP, eTotalCStartT[t = 1:T], sum(eCStart[y, t] for y in COMMIT))
52 |     @expression(EP, eTotalCStart, sum(eTotalCStartT[t] for t in 1:T))
53 | 
54 |     add_to_expression!(EP[:eObj], eTotalCStart)
55 | 
56 |     ### Constratints ###
57 |     ## Declaration of integer/binary variables
58 |     if setup["UCommit"] == 1 # Integer UC constraints
59 |         for y in COMMIT
60 |             set_integer.(vCOMMIT[y, :])
61 |             set_integer.(vSTART[y, :])
62 |             set_integer.(vSHUT[y, :])
63 |             if y in inputs["RET_CAP"]
64 |                 set_integer(EP[:vRETCAP][y])
65 |             end
66 |             if y in inputs["NEW_CAP"]
67 |                 set_integer(EP[:vCAP][y])
68 |             end
69 |             if y in inputs["RETROFIT_CAP"]
70 |                 set_integer(EP[:vRETROFITCAP][y])
71 |             end
72 |         end
73 |     end #END unit commitment configuration
74 |     return EP
75 | end
76 | 


--------------------------------------------------------------------------------
/src/model/expression_manipulation.jl:
--------------------------------------------------------------------------------
  1 | ###### ###### ###### ###### ###### ######
  2 | # Create dense arrays of expressions filled with zeros to be added to later
  3 | ###### ###### ###### ###### ###### ######
  4 | 
  5 | # Single element version
  6 | function create_empty_expression!(EP::Model, exprname::Symbol)
  7 |     EP[exprname] = AffExpr(0.0)
  8 |     return nothing
  9 | end
 10 | 
 11 | # Vector version, to avoid needing to wrap the dimension in a tuple or array
 12 | function create_empty_expression!(EP::Model, exprname::Symbol, dim1::Int64)
 13 |     temp = Array{AffExpr}(undef, dim1)
 14 |     fill_with_zeros!(temp)
 15 |     EP[exprname] = temp
 16 |     return nothing
 17 | end
 18 | 
 19 | @doc raw"""
 20 |     create_empty_expression!(EP::Model, exprname::Symbol, dims::NTuple{N, Int64}) where N
 21 | 
 22 | Create an dense array filled with zeros which can be altered later.
 23 | Other approaches to creating zero-filled arrays will often return an array of floats, not expressions.
 24 | This can lead to errors later if a method can only operate on expressions.
 25 |     
 26 | We don't currently have a method to do this with non-contiguous indexing.
 27 | """
 28 | function create_empty_expression!(EP::Model,
 29 |         exprname::Symbol,
 30 |         dims::NTuple{N, Int64}) where {N}
 31 |     temp = Array{AffExpr}(undef, dims)
 32 |     fill_with_zeros!(temp)
 33 |     EP[exprname] = temp
 34 |     return nothing
 35 | end
 36 | 
 37 | # Version with the dimensions wrapped in an array. This requires slightly more memory than using tuples
 38 | function create_empty_expression!(EP::Model, exprname::Symbol, dims::Vector{Int64})
 39 |     temp = Array{AffExpr}(undef, dims...)
 40 |     fill_with_zeros!(temp)
 41 |     EP[exprname] = temp
 42 |     return nothing
 43 | end
 44 | 
 45 | ###### ###### ###### ###### ###### ######
 46 | # Fill dense arrays of expressions with zeros or a constant
 47 | ###### ###### ###### ###### ###### ######
 48 | 
 49 | @doc raw"""
 50 |     fill_with_zeros!(arr::AbstractArray{GenericAffExpr{C,T}, dims}) where {C,T,dims}
 51 | 
 52 | Fill an array of expressions with zeros in-place.
 53 | """
 54 | function fill_with_zeros!(arr::AbstractArray{GenericAffExpr{C, T}, dims}) where {C, T, dims}
 55 |     for i::Int64 in eachindex(IndexLinear(), arr)::Base.OneTo{Int64}
 56 |         arr[i] = AffExpr(0.0)
 57 |     end
 58 |     return nothing
 59 | end
 60 | 
 61 | @doc raw"""
 62 |     fill_with_const!(arr::AbstractArray{GenericAffExpr{C,T}, dims}, con::Real) where {C,T,dims}
 63 | 
 64 | Fill an array of expressions with the specified constant, in-place.
 65 | 
 66 | In the future we could expand this to non AffExpr, using GenericAffExpr
 67 | e.g. if we wanted to use Float32 instead of Float64
 68 | """
 69 | function fill_with_const!(arr::AbstractArray{GenericAffExpr{C, T}, dims},
 70 |         con::Real) where {C, T, dims}
 71 |     for i in eachindex(arr)
 72 |         arr[i] = AffExpr(con)
 73 |     end
 74 |     return nothing
 75 | end
 76 | 
 77 | ###### ###### ###### ###### ###### ######
 78 | # Create an expression from some first-dimension indices of a 2D variable array,
 79 | # where all of the 2nd-dimension indices are kept
 80 | ###### ###### ###### ###### ###### ######
 81 | #
 82 | function extract_time_series_to_expression(var::Matrix{VariableRef},
 83 |         set::AbstractVector{Int})
 84 |     TIME_DIM = 2
 85 |     time_range = 1:size(var)[TIME_DIM]
 86 | 
 87 |     aff_exprs_data = AffExpr.(0, var[set, :] .=> 1)
 88 |     new_axes = (set, time_range)
 89 |     expr = JuMP.Containers.DenseAxisArray(aff_exprs_data, new_axes...)
 90 |     return expr
 91 | end
 92 | 
 93 | function extract_time_series_to_expression(
 94 |         var::JuMP.Containers.DenseAxisArray{
 95 |             VariableRef,
 96 |             2,
 97 |             Tuple{X, Base.OneTo{Int64}},
 98 |             Y
 99 |         },
100 |         set::AbstractVector{Int}) where {X, Y}
101 |     TIME_DIM = 2
102 |     time_range = var.axes[TIME_DIM]
103 | 
104 |     aff_exprs = AffExpr.(0, var[set, :] .=> 1)
105 |     new_axes = (set, time_range)
106 |     expr = JuMP.Containers.DenseAxisArray(aff_exprs.data, new_axes...)
107 |     return expr
108 | end
109 | 
110 | ###### ###### ###### ###### ###### ######
111 | # Element-wise addition of one expression into another
112 | # Both arrays must have the same dimensions
113 | ###### ###### ###### ###### ###### ######
114 | 
115 | # Version for single element
116 | function add_similar_to_expression!(expr1::GenericAffExpr{C, T}, expr2::V) where {C, T, V}
117 |     add_to_expression!(expr1, expr2)
118 |     return nothing
119 | end
120 | 
121 | @doc raw"""
122 |     add_similar_to_expression!(expr1::AbstractArray{GenericAffExpr{C,T}, dim1}, expr2::AbstractArray{V, dim2}) where {C,T,V,dim1,dim2}
123 | 
124 | Add an array of some type `V` to an array of expressions, in-place. 
125 | This will work on JuMP DenseContainers which do not have linear indexing from 1:length(arr).
126 | However, the accessed parts of both arrays must have the same dimensions.
127 | """
128 | function add_similar_to_expression!(expr1::AbstractArray{GenericAffExpr{C, T}, dim1},
129 |         expr2::AbstractArray{V, dim2}) where {C, T, V, dim1, dim2}
130 |     # This is defined for Arrays of different dimensions
131 |     # despite the fact it will definitely throw an error
132 |     # because the error will tell the user / developer
133 |     # the dimensions of both arrays
134 |     check_sizes_match(expr1, expr2)
135 |     for i in eachindex(expr1)
136 |         add_to_expression!(expr1[i], expr2[i])
137 |     end
138 |     return nothing
139 | end
140 | 
141 | # If the expressions are vectors of numbers, use the += operator
142 | function add_similar_to_expression!(arr1::AbstractArray{T, dims},
143 |         arr2::AbstractArray{T, dims}) where {T <: Number, dims}
144 |     for i in eachindex(arr1)
145 |         arr1[i] += arr2[i]
146 |     end
147 |     return nothing
148 | end
149 | 
150 | ###### ###### ###### ###### ###### ######
151 | # Element-wise addition of one term into an expression
152 | # Both arrays must have the same dimensions
153 | ###### ###### ###### ###### ###### ######
154 | 
155 | # Version for single element
156 | function add_term_to_expression!(expr1::GenericAffExpr{C, T}, expr2::V) where {C, T, V}
157 |     add_to_expression!(expr1, expr2)
158 |     return nothing
159 | end
160 | 
161 | @doc raw"""
162 |     add_term_to_expression!(expr1::AbstractArray{GenericAffExpr{C,T}, dims}, expr2::V) where {C,T,V,dims}
163 | 
164 | Add an entry of type `V` to an array of expressions, in-place. 
165 | This will work on JuMP DenseContainers which do not have linear indexing from 1:length(arr).
166 | """
167 | function add_term_to_expression!(expr1::AbstractArray{GenericAffExpr{C, T}, dims},
168 |         expr2::V) where {C, T, V, dims}
169 |     for i in eachindex(expr1)
170 |         add_to_expression!(expr1[i], expr2)
171 |     end
172 |     return nothing
173 | end
174 | 
175 | ###### ###### ###### ###### ###### ######
176 | # Check that two arrays have the same dimensions
177 | ###### ###### ###### ###### ###### ######
178 | 
179 | @doc raw"""
180 |     check_sizes_match(expr1::AbstractArray{C, dim1}, expr2::AbstractArray{T, dim2}) where {C,T,dim1, dim2}
181 | 
182 | Check that two arrays have the same dimensions. 
183 | If not, return an error message which includes the dimensions of both arrays.
184 | """
185 | function check_sizes_match(expr1::AbstractArray{C, dim1},
186 |         expr2::AbstractArray{T, dim2}) where {C, T, dim1, dim2}
187 |     # After testing, this appears to be just as fast as a method for Array{GenericAffExpr{C,T}, dims} or Array{AffExpr, dims}
188 |     if size(expr1) != size(expr2)
189 |         error("
190 |             Both expressions must have the same dimensions
191 |             Attempted to add each term of $(size(expr1))-sized expression to $(size(expr2))-sized expression")
192 |     end
193 | end
194 | 
195 | @doc raw"""
196 |     check_addable_to_expr(C::DataType, T::DataType)
197 | 
198 | Check that two datatype can be added using add_to_expression!(). Raises an error if not.
199 | 
200 | This needs some work to make it more flexible. Right now it's challenging to use with GenericAffExpr{C,T}
201 | as the method only works on the constituent types making up the GenericAffExpr, not the resulting expression type.
202 | Also, the default MethodError from add_to_expression! is sometime more informative than the error message here.
203 | """
204 | function check_addable_to_expr(C::DataType, T::DataType)
205 |     if !(hasmethod(add_to_expression!, (C, T)))
206 |         error("No method found for add_to_expression! with types $(C) and $(T)")
207 |     end
208 | end
209 | 
210 | ###### ###### ###### ###### ###### ######
211 | # Sum an array of expressions into a single expression
212 | ###### ###### ###### ###### ###### ######
213 | 
214 | @doc raw"""
215 |     sum_expression(expr::AbstractArray{C, dims}) where {C,dims} :: C
216 | 
217 | Sum an array of expressions into a single expression and return the result.
218 | We're using errors from add_to_expression!() to check that the types are compatible.
219 | """
220 | function sum_expression(expr::AbstractArray{C, dims})::AffExpr where {C, dims}
221 |     # check_addable_to_expr(C,C)
222 |     total = AffExpr(0.0)
223 |     for i in eachindex(expr)
224 |         add_to_expression!(total, expr[i])
225 |     end
226 |     return total
227 | end
228 | 


--------------------------------------------------------------------------------
/src/model/generate_model.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	generate_model(setup::Dict,inputs::Dict,OPTIMIZER::MOI.OptimizerWithAttributes,modeloutput = nothing)
  3 | 
  4 | This function sets up and solves a constrained optimization model of electricity system capacity expansion and operation problem and extracts solution variables for later processing.
  5 | 
  6 | In addition to calling a number of other modules to create constraints for specific resources, policies, and transmission assets, this function initializes two key expressions that are successively expanded in each of the resource-specific modules: (1) the objective function; and (2) the zonal power balance expression. These two expressions are the only expressions which link together individual modules (e.g. resources, transmission assets, policies), which otherwise are self-contained in defining relevant variables, expressions, and constraints.
  7 | 
  8 | **Objective Function**
  9 | 
 10 | The objective function of GenX minimizes total annual electricity system costs over the following six components shown in the equation below:
 11 | 
 12 | ```math
 13 | \begin{aligned}
 14 | 	&\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z}}
 15 | 	\left( (\pi^{INVEST}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Omega_{y,z})
 16 | 	+ (\pi^{FOM}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Delta^{total}_{y,z})\right) + \notag \\
 17 | 	&\sum_{y \in \mathcal{O} } \sum_{z \in \mathcal{Z}}
 18 | 	\left( (\pi^{INVEST,energy}_{y,z} \times    \Omega^{energy}_{y,z})
 19 | 	+ (\pi^{FOM,energy}_{y,z} \times  \Delta^{total,energy}_{y,z})\right) + \notag \\
 20 | 	&\sum_{y \in \mathcal{O}^{asym} } \sum_{z \in \mathcal{Z}}
 21 | 	\left( (\pi^{INVEST,charge}_{y,z} \times    \Omega^{charge}_{y,z})
 22 | 	+ (\pi^{FOM,charge}_{y,z} \times  \Delta^{total,charge}_{y,z})\right) + \notag \\
 23 | 	& \sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times(\pi^{VOM}_{y,z} + \pi^{FUEL}_{y,z})\times \Theta_{y,z,t}\right) + \sum_{y \in \mathcal{O \cup DF} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,charge}_{y,z} \times \Pi_{y,z,t}\right) +\notag \\
 24 | 	&\sum_{s \in \mathcal{S} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}}\left(\omega_{t} \times n_{s}^{slope} \times \Lambda_{s,z,t}\right) + \sum_{t \in \mathcal{T} } \left(\omega_{t} \times \pi^{unmet}_{rsv} \times r^{unmet}_{t}\right) \notag \\
 25 | 	&\sum_{y \in \mathcal{H} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}}\left(\omega_{t} \times \pi^{START}_{y,z} \times \chi_{s,z,t}\right) + \notag \\
 26 | 	& \sum_{l \in \mathcal{L}}\left(\pi^{TCAP}_{l} \times \bigtriangleup\varphi^{max}_{l}\right)
 27 | \end{aligned}
 28 | ```
 29 | 
 30 | The first summation represents the fixed costs of generation/discharge over all zones and technologies, which refects the sum of the annualized capital cost, $\pi^{INVEST}_{y,z}$, times the total new capacity added (if any),  plus the Fixed O&M cost, $\pi^{FOM}_{y,z}$, times the net installed generation capacity, $\overline{\Omega}^{size}_{y,z} \times \Delta^{total}_{y,z}$ (e.g., existing capacity less retirements plus additions).
 31 | 
 32 | The second summation corresponds to the fixed cost of installed energy storage capacity and is summed over only the storage resources. This term includes the sum of the annualized energy capital cost, $\pi^{INVEST,energy}_{y,z}$, times the total new energy capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, energy}_{y,z}$, times the net installed energy storage capacity, $\Delta^{total}_{y,z}$ (e.g., existing capacity less retirements plus additions).
 33 | 
 34 | The third summation corresponds to the fixed cost of installed charging power capacity and is summed over only over storage resources with independent/asymmetric charge and discharge power components ($\mathcal{O}^{asym}$). This term includes the sum of the annualized charging power capital cost, $\pi^{INVEST,charge}_{y,z}$, times the total new charging power capacity added (if any), plus the Fixed O&M cost, $\pi^{FOM, energy}_{y,z}$, times the net installed charging power capacity, $\Delta^{total}_{y,z}$ (e.g., existing capacity less retirements plus additions).
 35 | 
 36 | The fourth and fifth summations corresponds to the operational cost across all zones, technologies, and time steps. The fourth summation represents the sum of fuel cost, $\pi^{FUEL}_{y,z}$ (if any), plus variable O&M cost, $\pi^{VOM}_{y,z}$ times the energy generation/discharge by generation or storage resources (or demand satisfied via flexible demand resources, $y\in\mathcal{DF}$) in time step $t$, $\Theta_{y,z,t}$, and the weight of each time step $t$, $\omega_t$, where $\omega_t$ is equal to 1 when modeling grid operations over the entire year (8760 hours), but otherwise is equal to the number of hours in the year represented by the representative time step, $t$ such that the sum of $\omega_t \forall t \in T = 8760$, approximating annual operating costs. The fifth summation represents the variable charging O&M cost, $\pi^{VOM,charge}_{y,z}$ times the energy withdrawn for charging by storage resources (or demand deferred by flexible demand resources) in time step $t$ , $\Pi_{y,z,t}$ and the annual weight of time step $t$,$\omega_t$.
 37 | 
 38 | The sixth summation represents the total cost of unserved demand across all segments $s$ of a segment-wise price-elastic demand curve, equal to the marginal value of consumption (or cost of non-served energy), $n_{s}^{slope}$, times the
 39 | amount of non-served energy, $\Lambda_{y,z,t}$, for each segment on each zone during each time step (weighted by $\omega_t$).
 40 | 
 41 | The seventh summation represents the total cost of not meeting hourly operating reserve requirements, where $\pi^{unmet}_{rsv}$ is the cost penalty per unit of non-served reserve requirement, and $r^{unmet}_t$ is the amount of non-served reserve requirement in each time step (weighted by $\omega_t$).
 42 | 
 43 | The eighth summation corresponds to the startup costs incurred by technologies to which unit commitment decisions apply (e.g. $y \in \mathcal{UC}$), equal to the cost of start-up, $\pi^{START}_{y,z}$, times the number of startup events, $\chi_{y,z,t}$, for the cluster of units in each zone and time step (weighted by $\omega_t$).
 44 | 
 45 | The last term corresponds to the transmission reinforcement or construction costs, for each transmission line in the model. Transmission reinforcement costs are equal to the sum across all lines of the product between the transmission reinforcement/construction cost, $\pi^{TCAP}_{l}$, times the additional transmission capacity variable, $\bigtriangleup\varphi^{max}_{l}$. Note that fixed O\&M and replacement capital costs (depreciation) for existing transmission capacity is treated as a sunk cost and not included explicitly in the GenX objective function.
 46 | 
 47 | In summary, the objective function can be understood as the minimization of costs associated with five sets of different decisions: (1) where and how to invest on capacity, (2) how to dispatch or operate that capacity, (3) which consumer demand segments to serve or curtail, (4) how to cycle and commit thermal units subject to unit commitment decisions, (5) and where and how to invest in additional transmission network capacity to increase power transfer capacity between zones. Note however that each of these components are considered jointly and the optimization is performed over the whole problem at once as a monolithic co-optimization problem.
 48 | 
 49 | **Power Balance**
 50 | 
 51 | The power balance constraint of the model ensures that electricity demand is met at every time step in each zone. As shown in the constraint, electricity demand, $D_{t,z}$, at each time step and for each zone must be strictly equal to the sum of generation, $\Theta_{y,z,t}$, from thermal technologies ($\mathcal{H}$), curtailable VRE ($\mathcal{VRE}$), must-run resources ($\mathcal{MR}$), and hydro resources ($\mathcal{W}$). At the same time, energy storage devices ($\mathcal{O}$) can discharge energy, $\Theta_{y,z,t}$ to help satisfy demand, while when these devices are charging, $\Pi_{y,z,t}$, they increase demand. For the case of flexible demand resources ($\mathcal{DF}$), delaying demand (equivalent to charging virtual storage), $\Pi_{y,z,t}$, decreases demand while satisfying delayed demand (equivalent to discharging virtual demand), $\Theta_{y,z,t}$, increases demand. Price-responsive demand curtailment, $\Lambda_{s,z,t}$, also reduces demand. Finally, power flows, $\Phi_{l,t}$, on each line $l$ into or out of a zone (defined by the network map $\varphi^{map}_{l,z}$), are considered in the demand balance equation for each zone. By definition, power flows leaving their reference zone are positive, thus the minus sign in the below constraint. At the same time losses due to power flows increase demand, and one-half of losses across a line linking two zones are attributed to each connected zone. The losses function $\beta_{l,t}(\cdot)$ will depend on the configuration used to model losses (see Transmission section).
 52 | 
 53 | ```math
 54 | \begin{aligned}
 55 | 	& \sum_{y\in \mathcal{H}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{VRE}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{MR}}{\Theta_{y,z,t}} + \sum_{y\in \mathcal{O}}{(\Theta_{y,z,t}-\Pi_{y,z,t})} + \notag\\
 56 | 	& \sum_{y\in \mathcal{DF}}{(-\Theta_{y,z,t}+\Pi_{y,z,t})} +\sum_{y\in \mathcal{W}}{\Theta_{y,z,t}}+ \notag\\
 57 | 	&+ \sum_{s\in \mathcal{S}}{\Lambda_{s,z,t}}  - \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \Phi_{l,t})} -\frac{1}{2} \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \beta_{l,t}(\cdot))} = D_{z,t}
 58 | 	\forall z\in \mathcal{Z},  t \in \mathcal{T}
 59 | \end{aligned}
 60 | ```
 61 | 
 62 | # Arguments
 63 | - `setup::Dict`: Dictionary containing the settings for the model.
 64 | - `inputs::Dict`: Dictionary containing the inputs for the model.
 65 | - `OPTIMIZER::MOI.OptimizerWithAttributes`: The optimizer to use for solving the model.
 66 | 
 67 | # Returns
 68 | - `Model`: The model object containing the entire optimization problem model to be solved by solve_model.jl
 69 | """
 70 | function generate_model(setup::Dict, inputs::Dict, OPTIMIZER::MOI.OptimizerWithAttributes)
 71 |     T = inputs["T"]     # Number of time steps (hours)
 72 |     Z = inputs["Z"]     # Number of zones
 73 | 
 74 |     ## Start pre-solve timer
 75 |     presolver_start_time = time()
 76 | 
 77 |     # Generate Energy Portfolio (EP) Model
 78 |     EP = Model(OPTIMIZER)
 79 |     set_string_names_on_creation(EP, Bool(setup["EnableJuMPStringNames"]))
 80 | 
 81 |     # Initialize Power Balance Expression
 82 |     # Expression for "baseline" power balance constraint
 83 |     create_empty_expression!(EP, :ePowerBalance, (T, Z))
 84 | 
 85 |     # Initialize Objective Function Expression
 86 |     EP[:eObj] = AffExpr(0.0)
 87 | 
 88 |     create_empty_expression!(EP, :eGenerationByZone, (Z, T))
 89 | 
 90 |     # Energy losses related to technologies
 91 |     create_empty_expression!(EP, :eELOSSByZone, Z)
 92 | 
 93 |     # Initialize Capacity Reserve Margin Expression
 94 |     if setup["CapacityReserveMargin"] > 0
 95 |         create_empty_expression!(EP,
 96 |             :eCapResMarBalance,
 97 |             (inputs["NCapacityReserveMargin"], T))
 98 |     end
 99 | 
100 |     # Energy Share Requirement
101 |     if setup["EnergyShareRequirement"] >= 1
102 |         create_empty_expression!(EP, :eESR, inputs["nESR"])
103 |     end
104 | 
105 |     # Hourly Matching Requirement
106 |     if setup["HourlyMatching"] == 1
107 |         create_empty_expression!(EP, :eHM, (T, Z))
108 |     end
109 | 
110 |     if setup["MinCapReq"] == 1
111 |         create_empty_expression!(EP, :eMinCapRes, inputs["NumberOfMinCapReqs"])
112 |     end
113 | 
114 |     if setup["MaxCapReq"] == 1
115 |         create_empty_expression!(EP, :eMaxCapRes, inputs["NumberOfMaxCapReqs"])
116 |     end
117 | 
118 |     if setup["HydrogenMinimumProduction"] > 0
119 |         create_empty_expression!(EP, :eH2DemandRes, inputs["NumberOfH2DemandReqs"])
120 |     end
121 | 
122 |     # Infrastructure
123 |     discharge!(EP, inputs, setup)
124 | 
125 |     non_served_energy!(EP, inputs, setup)
126 | 
127 |     investment_discharge!(EP, inputs, setup)
128 | 
129 |     if setup["UCommit"] > 0
130 |         ucommit!(EP, inputs, setup)
131 |     end
132 | 
133 |     fuel!(EP, inputs, setup)
134 | 
135 |     co2!(EP, inputs)
136 | 
137 |     if setup["OperationalReserves"] > 0
138 |         operational_reserves!(EP, inputs, setup)
139 |     end
140 | 
141 |     if Z > 1
142 |         investment_transmission!(EP, inputs, setup)
143 |         transmission!(EP, inputs, setup)
144 |     end
145 | 
146 |     if Z > 1 && setup["DC_OPF"] != 0
147 |         dcopf_transmission!(EP, inputs, setup)
148 |     end
149 | 
150 |     # Technologies
151 |     # Model constraints, variables, expression related to dispatchable renewable resources
152 | 
153 |     if !isempty(inputs["VRE"])
154 |         curtailable_variable_renewable!(EP, inputs, setup)
155 |     end
156 | 
157 |     # Model constraints, variables, expression related to non-dispatchable renewable resources
158 |     if !isempty(inputs["MUST_RUN"])
159 |         must_run!(EP, inputs, setup)
160 |     end
161 | 
162 |     # Model constraints, variables, expression related to energy storage modeling
163 |     if !isempty(inputs["STOR_ALL"])
164 |         storage!(EP, inputs, setup)
165 |     end
166 | 
167 |     # Model constraints, variables, expression related to reservoir hydropower resources
168 |     if !isempty(inputs["HYDRO_RES"])
169 |         hydro_res!(EP, inputs, setup)
170 |     end
171 | 
172 |     # Model constraints, variables, expression related to reservoir hydropower resources with long duration storage
173 |     if inputs["REP_PERIOD"] > 1 && !isempty(inputs["STOR_HYDRO_LONG_DURATION"])
174 |         hydro_inter_period_linkage!(EP, inputs, setup)
175 |     end
176 | 
177 |     # Model constraints, variables, expression related to demand flexibility resources
178 |     if !isempty(inputs["FLEX"])
179 |         flexible_demand!(EP, inputs, setup)
180 |     end
181 | 
182 |     # Model constraints, variables, expression related to thermal resource technologies
183 |     if !isempty(inputs["THERM_ALL"])
184 |         thermal!(EP, inputs, setup)
185 |     end
186 | 
187 |     # Model constraints, variables, expression related to retrofit technologies
188 |     if !isempty(inputs["RETROFIT_OPTIONS"])
189 |         EP = retrofit(EP, inputs)
190 |     end
191 | 
192 |     # Model constraints, variables, expressions related to the co-located VRE-storage resources
193 |     if !isempty(inputs["VRE_STOR"])
194 |         vre_stor!(EP, inputs, setup)
195 |     end
196 | 
197 |     # Model constraints, variables, expressions related to telectrolyzers
198 |     if !isempty(inputs["ELECTROLYZER"]) ||
199 |        (!isempty(inputs["VRE_STOR"]) && !isempty(inputs["VS_ELEC"]))
200 |         electrolyzer!(EP, inputs, setup)
201 |     end
202 |     # Policies
203 | 
204 |     if setup["OperationalReserves"] > 0
205 |         operational_reserves_constraints!(EP, inputs)
206 |     end
207 | 
208 |     # CO2 emissions limits
209 |     if setup["CO2Cap"] > 0
210 |         co2_cap!(EP, inputs, setup)
211 |     end
212 | 
213 |     # Endogenous Retirements
214 |     if setup["MultiStage"] > 0
215 |         endogenous_retirement!(EP, inputs, setup)
216 |     end
217 | 
218 |     # Energy Share Requirement
219 |     if setup["EnergyShareRequirement"] >= 1
220 |         energy_share_requirement!(EP, inputs, setup)
221 |     end
222 | 
223 |     # Energy Share Requirement
224 |     if setup["HourlyMatching"] == 1
225 |         hourly_matching!(EP, inputs)
226 |     end
227 | 
228 |     #Capacity Reserve Margin
229 |     if setup["CapacityReserveMargin"] > 0
230 |         cap_reserve_margin!(EP, inputs, setup)
231 |     end
232 | 
233 |     if (setup["MinCapReq"] == 1)
234 |         minimum_capacity_requirement!(EP, inputs, setup)
235 |     end
236 | 
237 |     if setup["MaxCapReq"] == 1
238 |         maximum_capacity_requirement!(EP, inputs, setup)
239 |     end
240 | 
241 |     # Hydrogen demand limits
242 |     if setup["HydrogenMinimumProduction"] > 0
243 |         hydrogen_demand!(EP, inputs, setup)
244 |     end
245 | 
246 |     if setup["ModelingToGenerateAlternatives"] == 1
247 |         mga!(EP, inputs, setup)
248 |     end
249 | 
250 |     ## Define the objective function
251 |     @objective(EP, Min, setup["ObjScale"]*EP[:eObj])
252 | 
253 |     ## Power balance constraints
254 |     # demand = generation + storage discharge - storage charge - demand deferral + deferred demand satisfaction - demand curtailment (NSE)
255 |     #          + incoming power flows - outgoing power flows - flow losses - charge of heat storage + generation from NACC
256 |     @constraint(EP,
257 |         cPowerBalance[t = 1:T, z = 1:Z],
258 |         EP[:ePowerBalance][t, z]==inputs["pD"][t, z])
259 | 
260 |     ## Record pre-solver time
261 |     presolver_time = time() - presolver_start_time
262 |     if setup["PrintModel"] == 1
263 |         filepath = joinpath(pwd(), "YourModel.lp")
264 |         JuMP.write_to_file(EP, filepath)
265 |         println("Model Printed")
266 |     end
267 | 
268 |     return EP
269 | end
270 | 


--------------------------------------------------------------------------------
/src/model/policies/cap_reserve_margin.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	cap_reserve_margin!(EP::Model, inputs::Dict, setup::Dict)
 3 | Instead of modeling capacity reserve margin requirement (a.k.a. capacity market or resource adequacy requirement) using an annual constraint,
 4 | we model each requirement with hourly constraint by simulating the activation of the capacity obligation.
 5 | We define capacity reserve margin constraint for subsets of zones,
 6 | $z \in \mathcal{Z}^{CRM}_{p}$, and each subset stands for a
 7 | locational deliverability area (LDA) or a reserve sharing group.
 8 | For thermal resources, the available capacity is the total capacity in the LDA derated by
 9 | the outage rate, $\epsilon_{y,z,p}^{CRM}$.
10 | For variable renewable energy ($y \in \mathcal{VRE}$), the available capacity is the
11 | maximum discharge potential in time step $t$ derated by the derating factor.
12 | For standalone storage and co-located VRE and storage resources
13 | ($y \in \mathcal{O} \cup \mathcal{VS}$) the available capacity is the net injection
14 | into the transmission network plus the net virtual injection corresponding to charge held
15 | in reserve, derated by the derating factor.
16 | For information on how each component contributes to the capacity reserve margin formulation for co-located VRE and storage resources, see ```vre_stor_capres!()```.
17 | For flexible demand resources ($y \in \mathcal{DF}$), the available capacity is the net
18 | injection into the transmission network in time step $t$ derated by the derating factor,
19 | also stored in the parameter, $\epsilon_{y,z,p}^{CRM}$.
20 | If the imported capacity is eligible to provide capacity to the CRM constraint,
21 | the inbound powerflow on all lines $\mathcal{L}_{p}^{in}$ in time step $t$ will be derated
22 | to form the available capacity from outside of the LDA.
23 | The reverse is true as well: the outbound derated powerflow on all lines
24 | $\mathcal{L}_{p}^{out}$ in time step $t$ is taken out from the total available capacity.
25 | The derating factor should be equal to the expected availability of the resource during
26 | periods when the capacity reserve constraint is binding (e.g. accounting for forced outages
27 | during supply constrained periods) and is similar to derating factors used in the capacity
28 | markets.
29 | On top of the flexible demand resources, demand curtailment can also provide capacity
30 | (i.e., demand response or load management).
31 | We allow all segments of voluntary demand curtailment, $s \geq 2 \in S$,
32 | to contribute to capacity requirements.
33 | The first segment $s = 1 \in S$ corresponds to involuntary demand curtailment or
34 | emergency load shedding at the price cap or value of lost demand, and thus does not contribute to reserve requirements.
35 | Note that the time step-weighted sum of the shadow prices of this constraint corresponds
36 | to the capacity market payments reported by ISOs with mandate capacity market mechanism.
37 | ```math
38 | \begin{aligned}
39 | 	& \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \Big( \sum_{y \in \mathcal{H}} \epsilon_{y,z,p}^{CRM} \times \Delta^{\text{total}}_{y,z} + \sum_{y \in \mathcal{VRE}} \epsilon_{y,z,p}^{CRM} \times \rho^{max}_{y,z,t} \\
40 | 	& + \sum_{y \in \mathcal{O}} \epsilon_{y,z,p}^{CRM} \times \left(\Theta_{y,z,t} + \Theta^{CRM}_{o,z,t} - \Pi^{CRM}_{o,z,t} - \Pi_{y,z,t} \right) + \sum_{y \in \mathcal{DF}} \epsilon_{y,z,p}^{CRM} \times \left(\Pi_{y,z,t} - \Theta_{y,z,t} \right) \\
41 | 	& + \sum_{y \in \mathcal{VS}^{pv}} (\epsilon_{y,z,p}^{CRM} \times \eta^{inverter}_{y,z} \times \rho^{max,pv}_{y,z,t} \times \Delta^{total,pv}_{y,z}) \\
42 | 	& + \sum_{y \in \mathcal{VS}^{wind}} (\epsilon_{y,z,p}^{CRM} \times \rho^{max,wind}_{y,z,t} \times \Delta^{total,wind}_{y,z}) \\
43 |     & + \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,dis}} (\epsilon_{y,z,p}^{CRM} \times \eta^{inverter}_{y,z} \times (\Theta^{dc}_{y,z,t} + \Theta^{CRM,dc}_{y,z,t})) \\
44 |     & + \sum_{y \in \mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,dis}} (\epsilon_{y,z,p}^{CRM} \times (\Theta^{ac}_{y,z,t} + \Theta^{CRM,ac}_{y,z,t})) \\
45 |     & - \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}} (\epsilon_{y,z,p}^{CRM} \times \frac{\Pi^{dc}_{y,z,t} + \Pi^{CRM,dc}_{y,z,t}}{\eta^{inverter}_{y,z}}) \\
46 |     & - \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}} (\epsilon_{y,z,p}^{CRM} \times (\Pi^{ac}_{y,z,t} + \Pi^{CRM,ac}_{y,z,t})) \\
47 | 	& + \sum_{l \in \mathcal{L}_{p}^{in}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t} -  \sum_{l \in \mathcal{L}_{p}^{out}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t}
48 |    	+  \sum_{s \geq 2} \Lambda_{s,t,z}  \Big) \\
49 |    	& \geq \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \left( \left(1 + RM_{z,p}^{CRM} \right) \times D_{z,t} \right)  \hspace{1 cm}  \forall t \in \mathcal{T}, \forall p\in \mathcal{P}^{CRM}
50 | \end{aligned}
51 | ```
52 | Note that multiple capacity reserve margin requirements can be specified covering different
53 | individual zones or aggregations of zones, where the total number of constraints
54 | is specified by the GenX settings parameter ```CapacityReserveMargin```
55 | (where this parameter should be an integer value > 0).
56 | The expressions establishing the capacity reserve margin contributions of each technology
57 | class are included in their respective technology modules.
58 | """
59 | function cap_reserve_margin!(EP::Model, inputs::Dict, setup::Dict)
60 |     # capacity reserve margin constraint
61 |     T = inputs["T"]
62 |     NCRM = inputs["NCapacityReserveMargin"]
63 |     println("Capacity Reserve Margin Policies Module")
64 | 
65 |     # if input files are present, add capacity reserve margin slack variables
66 |     if haskey(inputs, "dfCapRes_slack")
67 |         @variable(EP, vCapResSlack[res = 1:NCRM, t = 1:T]>=0)
68 |         add_similar_to_expression!(EP[:eCapResMarBalance], vCapResSlack)
69 | 
70 |         @expression(EP,
71 |             eCapResSlack_Year[res = 1:NCRM],
72 |             sum(EP[:vCapResSlack][res, t] * inputs["omega"][t] for t in 1:T))
73 |         @expression(EP,
74 |             eCCapResSlack[res = 1:NCRM],
75 |             inputs["dfCapRes_slack"][res, :PriceCap]*EP[:eCapResSlack_Year][res])
76 |         @expression(EP, eCTotalCapResSlack, sum(EP[:eCCapResSlack][res] for res in 1:NCRM))
77 |         add_to_expression!(EP[:eObj], eCTotalCapResSlack)
78 |     end
79 | 
80 |     @constraint(EP,
81 |         cCapacityResMargin[res = 1:NCRM, t = 1:T],
82 |         EP[:eCapResMarBalance][res,
83 |             t]
84 |         >=sum(inputs["pD"][t, z] * (1 + inputs["dfCapRes"][z, res])
85 |         for z in findall(x -> x != 0, inputs["dfCapRes"][:, res])))
86 | end
87 | 


--------------------------------------------------------------------------------
/src/model/policies/co2_cap.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	co2_cap!(EP::Model, inputs::Dict, setup::Dict)
  3 | 
  4 | This policy constraints mimics the CO$_2$ emissions cap and permit trading systems,
  5 | allowing for emissions trading across each zone for which the cap applies.
  6 | The constraint $p \in \mathcal{P}^{CO_2}$ can be flexibly defined for mass-based or rate-based emission limits for one or more model zones,
  7 | where zones can trade CO$_2$ emissions permits and earn revenue based on their CO$_2$ allowance.
  8 | Note that if the model is fully linear (e.g. no unit commitment or linearized unit commitment),
  9 | the dual variable of the emissions constraints can be interpreted as the marginal CO$_2$ price per tonne associated with the emissions target.
 10 | Alternatively, for integer model formulations, the marginal CO$_2$ price can be obtained after solving the model with fixed integer/binary variables.
 11 | 
 12 | The CO$_2$ emissions limit can be defined in one of the following ways:
 13 | a) a mass-based limit defined in terms of annual CO$_2$ emissions budget (in million tonnes of CO2),
 14 | b) a demand-side rate-based limit defined in terms of tonnes CO$_2$ per MWh of fulfilled demand and
 15 | c) a generation-side rate-based limit defined in terms of tonnes CO$_2$ per MWh of generation.
 16 | 
 17 | **Mass-based emissions constraint**
 18 | 
 19 | Mass-based emission limits are implemented in the following expression.
 20 | For each constraint, $p \in \mathcal{P}^{CO_2}_{mass}$, we define a set of zones $z \in \mathcal{Z}^{CO_2}_{p,mass}$ that can trade CO$_2$ allowance.
 21 | Input data for each constraint  $p \in \mathcal{P}^{CO_2}_{mass}$ requires the CO$_2$ allowance/ budget for each model zone,
 22 | $\epsilon^{CO_{2}}_{z,p, mass}$, to be provided in terms of million metric tonnes.
 23 | For every generator $y$, the parameter $\epsilon_{y,z}^{CO_2}$ reflects the specific $CO_2$ emission intensity in tCO$_2$/MWh associated with its operation.
 24 | The resulting constraint is given as:
 25 | 
 26 | ```math
 27 | \begin{aligned}
 28 |     \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,z,t} \right)
 29 |    & \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \epsilon^{CO_{2}}_{z,p, mass} \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{mass}
 30 | \end{aligned}
 31 | ```
 32 | 
 33 | In the above constraint, we include both power discharge and charge term for each resource to account for the potential for CO$_2$ emissions (or removal when considering negative emissions technologies) associated with each step.
 34 | Note that if a limit is applied to each zone separately, then the set $\mathcal{Z}^{CO_2}_{p,mass}$ will contain only one zone with no possibility of trading.
 35 | If a system-wide emission limit constraint is applied, then $\mathcal{Z}^{CO_2}_{p,mass}$ will be equivalent to a set of all zones.
 36 | 
 37 | **Demand-side rate-based emissions constraint**
 38 | 
 39 | We modify the right hand side of the above mass-based constraint, $p \in \mathcal{P}^{CO_2}_{demand}$,
 40 | to set emissions target based on a CO$_2$ emission rate limit in tCO$_2$/MWh $\times$ the total demand served (fulfilled) in each zone.
 41 | In the following constraint, total demand served takes into account non-served energy and storage related losses.
 42 | Here, $\epsilon_{z,p,demand}^{maxCO_2}$ denotes the emission limit in terms on tCO$_2$/MWh.
 43 | 
 44 | ```math
 45 | \begin{aligned}
 46 |     \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right)
 47 |     \leq & \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{t \in \mathcal{T}}
 48 |     \left(\epsilon_{z,p,demand}^{CO_2} \times  \omega_{t} \times D_{z,t} \right) \\
 49 |     + & \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{y \in \mathcal{O} \cup \mathcal{VS}^{stor}} \sum_{t \in \mathcal{T}}
 50 |     \left(\epsilon_{z,p,demand}^{CO_2} \times \omega_{t} \times \left(\Pi_{y,t,z} - \Theta_{y,t,z} \right) \right) \\
 51 |     - & \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{s \in \mathcal{S} } \sum_{t \in \mathcal{T}}  \left(\epsilon_{z,p,demand}^{CO_2} \times \omega_{t} \times \Lambda_{s,z,t}\right) \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{demand}
 52 | \end{aligned}
 53 | ```
 54 | 
 55 | **Generator-side emissions rate-based constraint**
 56 | 
 57 | Similarly, a generation based emission constraint is defined by setting the emission limit based on the total generation times the carbon emission rate limit in tCO$_2$/MWh of the region. The resulting constraint is given as:
 58 | 
 59 | ```math
 60 | \begin{aligned}
 61 | \sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} & \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right) \\
 62 |     \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} & \left(\epsilon_{z,p,gen}^{CO_2} \times  \omega_{t} \times \Theta_{y,t,z} \right)  \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{gen}
 63 | \end{aligned}
 64 | ```
 65 | 
 66 | Note that the generator-side rate-based constraint can be used to represent a fee-rebate (``feebate'') system: the dirty generators that emit above the bar ($\epsilon_{z,p,gen}^{maxCO_2}$) have to buy emission allowances from the emission regulator in the region $z$ where they are located; in the same vein, the clean generators get rebates from the emission regulator at an emission allowance price being the dual variable of the emissions rate constraint.
 67 | """
 68 | function co2_cap!(EP::Model, inputs::Dict, setup::Dict)
 69 |     println("CO2 Policies Module")
 70 | 
 71 |     SEG = inputs["SEG"]  # Number of lines
 72 |     T = inputs["T"]     # Number of time steps (hours)
 73 | 
 74 |     ### Variable ###
 75 |     # if input files are present, add CO2 cap slack variables
 76 |     if haskey(inputs, "dfCO2Cap_slack")
 77 |         @variable(EP, vCO2Cap_slack[cap = 1:inputs["NCO2Cap"]]>=0)
 78 | 
 79 |         @expression(EP, eCCO2Cap_slack[cap = 1:inputs["NCO2Cap"]],
 80 |             inputs["dfCO2Cap_slack"][cap, :PriceCap]*EP[:vCO2Cap_slack][cap])
 81 |         @expression(EP, eCTotalCO2CapSlack,
 82 |             sum(EP[:eCCO2Cap_slack][cap] for cap in 1:inputs["NCO2Cap"]))
 83 | 
 84 |         add_to_expression!(EP[:eObj], eCTotalCO2CapSlack)
 85 |     else
 86 |         @variable(EP, vCO2Cap_slack[cap = 1:inputs["NCO2Cap"]]==0)
 87 |     end
 88 | 
 89 |     ### Constraints ###
 90 | 
 91 |     ## Mass-based: Emissions constraint in absolute emissions limit (tons)
 92 |     if setup["CO2Cap"] == 1
 93 |         @constraint(EP, cCO2Emissions_systemwide[cap = 1:inputs["NCO2Cap"]],
 94 |             sum(inputs["omega"][t] * EP[:eEmissionsByZone][z, t]
 95 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap]), t in 1:T) -
 96 |             vCO2Cap_slack[cap]<=
 97 |             sum(inputs["dfMaxCO2"][z, cap]
 98 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])))
 99 | 
100 |         ## (fulfilled) demand + Rate-based: Emissions constraint in terms of rate (tons/MWh)
101 |     elseif setup["CO2Cap"] == 2 ##This part moved to non_served_energy.jl
102 |         @constraint(EP, cCO2Emissions_systemwide[cap = 1:inputs["NCO2Cap"]],
103 |             sum(inputs["omega"][t] * EP[:eEmissionsByZone][z, t]
104 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap]), t in 1:T) -
105 |             vCO2Cap_slack[cap]<=
106 |             sum(inputs["dfMaxCO2Rate"][z, cap] * sum(inputs["omega"][t] *
107 |                     (inputs["pD"][t, z] - sum(EP[:vNSE][s, t, z] for s in 1:SEG))
108 |                 for t in 1:T)
109 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])) +
110 |             sum(inputs["dfMaxCO2Rate"][z, cap] * setup["StorageLosses"] *
111 |                 EP[:eELOSSByZone][z]
112 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])))
113 | 
114 |         ## Generation + Rate-based: Emissions constraint in terms of rate (tons/MWh)
115 |     elseif (setup["CO2Cap"] == 3)
116 |         @constraint(EP, cCO2Emissions_systemwide[cap = 1:inputs["NCO2Cap"]],
117 |             sum(inputs["omega"][t] * EP[:eEmissionsByZone][z, t]
118 |             for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap]), t in 1:T) -
119 |             vCO2Cap_slack[cap]<=
120 |             sum(inputs["dfMaxCO2Rate"][z, cap] * inputs["omega"][t] *
121 |                 EP[:eGenerationByZone][z, t]
122 |             for t in 1:T, z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])))
123 |     end
124 | end
125 | 


--------------------------------------------------------------------------------
/src/model/policies/energy_share_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	energy_share_requirement!(EP::Model, inputs::Dict, setup::Dict)
 3 | This function establishes constraints that can be flexibily applied to define alternative forms of policies that require generation of a minimum quantity of megawatt-hours from a set of qualifying resources, such as renewable portfolio standard (RPS) or clean electricity standard (CES) policies prevalent in different jurisdictions.
 4 | These policies usually require that the annual MWh generation from a subset of qualifying generators has to be higher than a pre-specified percentage of demand from qualifying zones.
 5 | The implementation allows for user to define one or multiple RPS/CES style minimum energy share constraints,
 6 | where each constraint can cover different combination of model zones to mimic real-world policy implementation (e.g. multiple state policies, multiple RPS tiers or overlapping RPS and CES policies).
 7 | Including an energy share requirement constraint is specified by the user by the value of the GenX settings parameter ```EnergyShareRequirement``` (this value should either 0 or 1).
 8 | For each constraint $p \in \mathcal{P}^{ESR}$, we define a subset of zones $z \in \mathcal{Z}^{ESR}_{p} \subset \mathcal{Z}$ that are eligible for trading renewable/clean energy credits to meet the corresponding renewable/clean energy requirement.
 9 | For each energy share requirement constraint $p \in \mathcal{P}^{ESR}$,
10 | we specify the share of total demand in each eligible model zone,
11 | $z \in \mathcal{Z}^{ESR}_{p}$, that must be served by qualifying resources,
12 | $\mathcal{G}_{p}^{ESR} \subset \mathcal{G}$:
13 | ```math
14 | \begin{aligned}
15 | &\sum_{z \in \mathcal{Z}_{p}^{ESR}} \sum_{y \in \mathcal{G}_{p}^{ESR}} \sum_{t \in \mathcal{T}} (\omega_{t} \times  \Theta_{y,z,t}) \geq  \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} (\mu_{p,z}^{ESR} \times \omega_{t} \times D_{z,t}) + \\
16 | &\sum_{y \in \mathcal{VS}^{stor}} \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} \left(\mu_{p,z}^{ESR} \times \omega_{t} \times (\frac{\Pi^{dc}_{y,z,t}}{\eta_{y,z}^{inverter}} + \Pi^{ac}_{y,z,t} - \eta_{y,z}^{inverter} \times \Theta^{dc}_{y,z,t} - \Theta^{ac}_{y,z,t}) \right) + \\
17 | &\sum_{y \in \mathcal{O}} \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} \left(\mu_{p,z}^{ESR} \times \omega_{t} \times (\Pi_{y,z,t} - \Theta_{y,z,t}) \right) \hspace{1 cm}  \forall p \in \mathcal{P}^{ESR} \\
18 | \end{aligned}
19 | ```
20 | The final two terms in the summation above adds roundtrip storage losses to the total demand to which the energy share obligation applies.
21 | This term is included in the constraint if the GenX setup parameter ```StorageLosses=1```.
22 | If ```StorageLosses=0```, this term is removed from the constraint.
23 | In practice, most existing renewable portfolio standard policies do not account for storage losses when determining energy share requirements.
24 | However, with 100% RPS or CES policies enacted in several jurisdictions, policy makers may wish to include storage losses in the minimum energy share, as otherwise there will be a difference between total generation and total demand that will permit continued use of non-qualifying resources (e.g. emitting generators).
25 | """
26 | function energy_share_requirement!(EP::Model, inputs::Dict, setup::Dict)
27 |     println("Energy Share Requirement Policies Module")
28 | 
29 |     # if input files are present, add energy share requirement slack variables
30 |     if haskey(inputs, "dfESR_slack")
31 |         @variable(EP, vESR_slack[ESR = 1:inputs["nESR"]]>=0)
32 |         add_similar_to_expression!(EP[:eESR], vESR_slack)
33 | 
34 |         @expression(EP,
35 |             eCESRSlack[ESR = 1:inputs["nESR"]],
36 |             inputs["dfESR_slack"][ESR, :PriceCap]*EP[:vESR_slack][ESR])
37 |         @expression(EP,
38 |             eCTotalESRSlack,
39 |             sum(EP[:eCESRSlack][ESR] for ESR in 1:inputs["nESR"]))
40 | 
41 |         add_to_expression!(EP[:eObj], eCTotalESRSlack)
42 |     end
43 | 
44 |     ## Energy Share Requirements (minimum energy share from qualifying renewable resources) constraint
45 |     @constraint(EP, cESRShare[ESR = 1:inputs["nESR"]], EP[:eESR][ESR]>=0)
46 | end
47 | 


--------------------------------------------------------------------------------
/src/model/policies/hourly_matching.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	hourly_matching!(EP::Model, inputs::Dict)
 3 | 
 4 | This module defines the hourly matching policy constraint. 
 5 | This constraint can be enabled by setting `HourlyMatching==1` in `genx_settings.yml`) requires generation from qualified resources ($y \in \mathcal{Qualified}$, indicated by `Qualified_Supply==1` in the `Resource_hourly_matching.csv` files) to be >= hourly consumption from electrolyzers in the zone and any charging by qualified storage within the zone used to help increase electrolyzer utilization:
 6 | 
 7 | ```math
 8 | \begin{aligned}
 9 | 	\sum_{y \in \{z \cap \mathcal{Qualified}\}} \Theta_{y,t} \geq \sum_{y \in \{z \cap \mathcal{EL}\}} \Pi_{y,t} + \sum_{y \in \{z \cap \mathcal{Qualified} \cap \mathcal{STOR}\}}  \Pi_{y,t}
10 | 	\hspace{1cm} \forall z \in \mathcal{Z}, \forall t \in \mathcal{T},
11 | \end{aligned}
12 | ```
13 | 
14 | # Arguments
15 | - `EP::Model`: The optimization model object.
16 | - `inputs::Dict`: A dictionary containing input data.
17 | 
18 | """
19 | function hourly_matching!(EP::Model, inputs::Dict)
20 |     println("Hourly Matching Policies Module")
21 |     T = inputs["T"]
22 |     Z = inputs["Z"]
23 | 
24 |     @constraint(EP, cHourlyMatching[t = 1:T, z = 1:Z], EP[:eHM][t, z]>=0)
25 | end
26 | 


--------------------------------------------------------------------------------
/src/model/policies/hydrogen_demand.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	hydrogen_demand!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | This policy constraints add hydrogen prodcution demand requirement for electrolyzers.
 5 | 
 6 | The hydrogen demand requirement can be defined as a zonal limit defined in terms of annual hydrogen production (in 1,000 tonnes of hydrogen).
 7 | 
 8 | **Minimum annual hydrogen production**
 9 | 
10 | **Zonal limit**
11 | The sum of annual hydrogen production by each electrolyzer $y \in \mathcal{EL}$ must exceed a minimum quantity specified in inputs in "Hydrogen_demand.csv":
12 | 
13 | ```math
14 | \begin{aligned}
15 | 	\sum_{t \in T} (\omega_{t} \times \Pi_{y,t} / \eta^{electrolyzer}_y) \geq \mathcal{Min\_kt}_z \times 10^3
16 | 	\hspace{1cm} \forall y \in \mathcal{EL}
17 | \end{aligned}
18 | ```
19 | 
20 | where $\eta^{electrolyzer}_y$ is the efficiency of the electrolyzer $y$ in megawatt-hours (MWh) of electricity per metric tonne of hydrogen produced and $\mathcal{Min\_kt}_z$ is the minimum annual quantity of hydrogen that must be produced in region $z$ in kilotonnes.
21 | 
22 | """
23 | function hydrogen_demand!(EP::Model, inputs::Dict, setup::Dict)
24 |     println("Hydrogen Demand Module")
25 |     kt_to_t = 10^3
26 |     NumberOfH2DemandReqs = inputs["NumberOfH2DemandReqs"]
27 | 
28 |     ## Zonal level limit constraint
29 |     if haskey(inputs, "H2DemandPriceCap")
30 |         @variable(EP, vH2Demand_slack[h2demand = 1:NumberOfH2DemandReqs]>=0)
31 |         add_similar_to_expression!(EP[:eH2DemandRes], vH2Demand_slack)
32 | 
33 |         @expression(EP,
34 |             eCH2Demand_slack[h2demand = 1:NumberOfH2DemandReqs],
35 |             inputs["H2DemandPriceCap"][h2demand]*EP[:vH2Demand_slack][h2demand])
36 |         @expression(EP,
37 |             eTotalCH2DemandSlack,
38 |             sum(EP[:eCH2Demand_slack][h2demand] for h2demand in 1:NumberOfH2DemandReqs))
39 | 
40 |         add_to_expression!(EP[:eObj], eTotalCH2DemandSlack)
41 |     end
42 | 
43 |     @constraint(EP,
44 |         cZoneH2DemandReq[h2demand = 1:NumberOfH2DemandReqs],
45 |         EP[:eH2DemandRes][h2demand]>=inputs["H2DemandReq"][h2demand] * kt_to_t)
46 | end
47 | 


--------------------------------------------------------------------------------
/src/model/policies/maximum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	maximum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)
 3 | The maximum capacity requirement constraint allows for modeling maximum deployment of a certain technology or set of eligible technologies across the eligible model zones and can be used to mimic policies supporting specific technology build out (i.e. capacity deployment targets/mandates for storage, offshore wind, solar etc.). The default unit of the constraint is in MW. For each requirement $p \in \mathcal{P}^{MaxCapReq}$, we model the policy with the following constraint.
 4 | ```math
 5 | \begin{aligned}
 6 | \sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z} } \left( \epsilon_{y,z,p}^{MaxCapReq} \times \Delta^{\text{total}}_{y,z} \right) \leq REQ_{p}^{MaxCapReq} \hspace{1 cm}  \forall p \in \mathcal{P}^{MaxCapReq}
 7 | \end{aligned}
 8 | ```
 9 | Note that $\epsilon_{y,z,p}^{MaxCapReq}$ is the eligiblity of a generator of technology $y$ in zone $z$ of requirement $p$ and will be equal to $1$ for eligible generators and will be zero for ineligible resources. The dual value of each maximum capacity constraint can be interpreted as the required payment (e.g. subsidy) per MW per year required to ensure adequate revenue for the qualifying resources.
10 | """
11 | function maximum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)
12 |     println("Maximum Capacity Requirement Module")
13 |     NumberOfMaxCapReqs = inputs["NumberOfMaxCapReqs"]
14 | 
15 |     # if input files are present, add maximum capacity requirement slack variables
16 |     if haskey(inputs, "MaxCapPriceCap")
17 |         @variable(EP, vMaxCap_slack[maxcap = 1:NumberOfMaxCapReqs]>=0)
18 |         add_similar_to_expression!(EP[:eMaxCapRes], -vMaxCap_slack)
19 | 
20 |         @expression(EP,
21 |             eCMaxCap_slack[maxcap = 1:NumberOfMaxCapReqs],
22 |             inputs["MaxCapPriceCap"][maxcap]*EP[:vMaxCap_slack][maxcap])
23 |         @expression(EP,
24 |             eTotalCMaxCapSlack,
25 |             sum(EP[:eCMaxCap_slack][maxcap] for maxcap in 1:NumberOfMaxCapReqs))
26 | 
27 |         add_to_expression!(EP[:eObj], eTotalCMaxCapSlack)
28 |     end
29 | 
30 |     @constraint(EP,
31 |         cZoneMaxCapReq[maxcap = 1:NumberOfMaxCapReqs],
32 |         EP[:eMaxCapRes][maxcap]<=inputs["MaxCapReq"][maxcap])
33 | end
34 | 


--------------------------------------------------------------------------------
/src/model/policies/minimum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	minimum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)
 3 | The minimum capacity requirement constraint allows for modeling minimum deployment of a certain technology or set of eligible technologies across the eligible model zones and can be used to mimic policies supporting specific technology build out (i.e. capacity deployment targets/mandates for storage, offshore wind, solar etc.). The default unit of the constraint is in MW. For each requirement $p \in \mathcal{P}^{MinCapReq}$, we model the policy with the following constraint.
 4 | ```math
 5 | \begin{aligned}
 6 | \sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z} } \left( \epsilon_{y,z,p}^{MinCapReq} \times \Delta^{\text{total}}_{y,z} \right) \geq REQ_{p}^{MinCapReq} \hspace{1 cm}  \forall p \in \mathcal{P}^{MinCapReq}
 7 | \end{aligned}
 8 | ```
 9 | Note that $\epsilon_{y,z,p}^{MinCapReq}$ is the eligiblity of a generator of technology $y$ in zone $z$ of requirement $p$ and will be equal to $1$ for eligible generators and will be zero for ineligible resources. The dual value of each minimum capacity constraint can be interpreted as the required payment (e.g. subsidy) per MW per year required to ensure adequate revenue for the qualifying resources.
10 | 
11 | Also note that co-located VRE and storage resources, there are three different components 
12 | 	that minimum capacity requirements can be created for. The capacity of solar PV (in AC terms 
13 | 	since the capacity is multiplied by the inverter efficiency), the capacity of wind, and the discharge 
14 | 	capacity of storage (power to energy ratio times the energy capacity) can all have minimum capacity 
15 | 	requirements.
16 | """
17 | function minimum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)
18 |     println("Minimum Capacity Requirement Module")
19 |     NumberOfMinCapReqs = inputs["NumberOfMinCapReqs"]
20 | 
21 |     # if input files are present, add minimum capacity requirement slack variables
22 |     if haskey(inputs, "MinCapPriceCap")
23 |         @variable(EP, vMinCap_slack[mincap = 1:NumberOfMinCapReqs]>=0)
24 |         add_similar_to_expression!(EP[:eMinCapRes], vMinCap_slack)
25 | 
26 |         @expression(EP,
27 |             eCMinCap_slack[mincap = 1:NumberOfMinCapReqs],
28 |             inputs["MinCapPriceCap"][mincap]*EP[:vMinCap_slack][mincap])
29 |         @expression(EP,
30 |             eTotalCMinCapSlack,
31 |             sum(EP[:eCMinCap_slack][mincap] for mincap in 1:NumberOfMinCapReqs))
32 | 
33 |         add_to_expression!(EP[:eObj], eTotalCMinCapSlack)
34 |     end
35 | 
36 |     @constraint(EP,
37 |         cZoneMinCapReq[mincap = 1:NumberOfMinCapReqs],
38 |         EP[:eMinCapRes][mincap]>=inputs["MinCapReq"][mincap])
39 | end
40 | 


--------------------------------------------------------------------------------
/src/model/resources/curtailable_variable_renewable/curtailable_variable_renewable.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	curtailable_variable_renewable!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function defines the constraints for operation of variable renewable energy (VRE) resources whose output can be curtailed (``y \in \mathcal{VRE}``), such as utility-scale solar PV or wind power resources or run-of-river hydro resources that can spill water.
  4 | The operational constraints for VRE resources are a function of each technology's time-dependent hourly capacity factor (or availability factor, ``\rho^{max}_{y,z,t}``), in per unit terms, and the total available capacity (``\Delta^{total}_{y,z}``).
  5 | 
  6 | **Power output in each time step**
  7 | For each VRE technology type ``y`` and model zone ``z``, the model allows for incorporating multiple bins with different parameters for resource quality (``\rho^{max}_{y,z,t}``), maximum availability (``\overline{\Omega_{y,z}}``) and investment cost (``\Pi^{INVEST}_{y,z}``, for example, due to interconnection cost differences). We define variables related to installed capacity (``\Delta_{y,z}``) and retired capacity (``\Delta_{y,z}``) for all resource bins for a particular VRE resource type ``y`` and zone ``z`` (``\overline{\mathcal{VRE}}^{y,z}``). However, the variable corresponding to power output in each timestep is only defined for the first bin. Parameter ``VREIndex_{y,z}``, is used to keep track of the first bin, where ``VREIndex_{y,z}=1`` for the first bin and ``VREIndex_{y,z}=0`` for the remaining bins. This approach allows for modeling many different bins per VRE technology type and zone while significantly reducing the number of operational variable (related to power output for each time step from each bin) added to the model with every additional bin. Thus, the maximum power output for each VRE resource type in each zone is given by the following equation:
  8 | ```math
  9 | \begin{aligned}
 10 | 	\Theta_{y,z,t} \leq \sum_{(x,z)\in \overline{\mathcal{VRE}}^{x,z}}{\rho^{max}_{x,z,t} \times \Delta^{total}_{x,z}}  \hspace{2 cm}  \forall y,z \in \{(y,z)|VREIndex_{y,z}=1, z \in \mathcal{Z}\},t \in \mathcal{T}
 11 | \end{aligned}
 12 | ```
 13 | The above constraint is defined as an inequality instead of an equality to allow for VRE power output to be curtailed if desired. This adds the possibility of introducing VRE curtailment as an extra degree of freedom to guarantee that generation exactly meets demand in each time step.
 14 | Note that if ```OperationalReserves=1``` indicating that frequency regulation and operating reserves are modeled, then this function calls ```curtailable_variable_renewable_operational_reserves!()```, which replaces the above constraints with a formulation inclusive of reserve provision.
 15 | """
 16 | function curtailable_variable_renewable!(EP::Model, inputs::Dict, setup::Dict)
 17 |     ## Controllable variable renewable generators
 18 |     ### Option of modeling VRE generators with multiple availability profiles and capacity limits -  Num_VRE_Bins in Vre.csv  >1
 19 |     ## Default value of Num_VRE_Bins ==1
 20 |     println("Dispatchable Resources Module")
 21 | 
 22 |     gen = inputs["RESOURCES"]
 23 | 
 24 |     OperationalReserves = setup["OperationalReserves"]
 25 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
 26 | 
 27 |     T = inputs["T"]     # Number of time steps (hours)
 28 |     Z = inputs["Z"]     # Number of zones
 29 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 30 | 
 31 |     VRE = inputs["VRE"]
 32 | 
 33 |     VRE_POWER_OUT = intersect(VRE, ids_with_positive(gen, num_vre_bins))
 34 |     VRE_NO_POWER_OUT = setdiff(VRE, VRE_POWER_OUT)
 35 | 
 36 |     ### Expressions ###
 37 | 
 38 |     ## Power Balance Expressions ##
 39 | 
 40 |     @expression(EP, ePowerBalanceDisp[t = 1:T, z = 1:Z],
 41 |         sum(EP[:vP][y, t] for y in intersect(VRE, resources_in_zone_by_rid(gen, z))))
 42 |     add_similar_to_expression!(EP[:ePowerBalance], EP[:ePowerBalanceDisp])
 43 | 
 44 |     # Capacity Reserves Margin policy
 45 |     if CapacityReserveMargin > 0
 46 |         @expression(EP,
 47 |             eCapResMarBalanceVRE[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
 48 |             sum(derating_factor(gen[y], tag = res) * EP[:eTotalCap][y] *
 49 |                 inputs["pP_Max"][y, t] for y in VRE))
 50 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceVRE)
 51 |     end
 52 | 
 53 |     ### Constraints ###
 54 |     if OperationalReserves == 1
 55 |         # Constraints on power output and contribution to regulation and reserves
 56 |         curtailable_variable_renewable_operational_reserves!(EP, inputs)
 57 |         remove_operational_reserves_for_binned_vre_resources!(EP, inputs)
 58 |     else
 59 |         # For resource for which we are modeling hourly power output
 60 |         for y in VRE_POWER_OUT
 61 |             # Define the set of generator indices corresponding to the different sites (or bins) of a particular VRE technology (E.g. wind or solar) in a particular zone.
 62 |             # For example the wind resource in a particular region could be include three types of bins corresponding to different sites with unique interconnection, hourly capacity factor and maximim available capacity limits.
 63 |             VRE_BINS = intersect(resource_id.(gen[resource_id.(gen) .>= y]),
 64 |                 resource_id.(gen[resource_id.(gen) .<= y + num_vre_bins(gen[y]) - 1]))
 65 | 
 66 |             # Maximum power generated per hour by renewable generators must be less than
 67 |             # sum of product of hourly capacity factor for each bin times its the bin installed capacity
 68 |             # Note: inequality constraint allows curtailment of output below maximum level.
 69 |             @constraint(EP,
 70 |                 [t = 1:T],
 71 |                 EP[:vP][y,t]<=sum(inputs["pP_Max"][yy, t] * EP[:eTotalCap][yy]
 72 |                 for yy in VRE_BINS))
 73 |         end
 74 |     end
 75 | 
 76 |     # Set power variables for all bins that are not being modeled for hourly output to be zero
 77 |     for y in VRE_NO_POWER_OUT
 78 |         fix.(EP[:vP][y, :], 0.0, force = true)
 79 |     end
 80 |     ##CO2 Polcy Module VRE Generation by zone
 81 |     @expression(EP, eGenerationByVRE[z = 1:Z, t = 1:T], # the unit is GW
 82 |         sum(EP[:vP][y, t]
 83 |         for y in intersect(inputs["VRE"], resources_in_zone_by_rid(gen, z))))
 84 |     add_similar_to_expression!(EP[:eGenerationByZone], eGenerationByVRE)
 85 | end
 86 | 
 87 | @doc raw"""
 88 | 	curtailable_variable_renewable_operational_reserves!(EP::Model, inputs::Dict)
 89 | When modeling operating reserves, this function is called by ```curtailable_variable_renewable()```, which modifies the constraint for maximum power output in each time step from VRE resources to account for procuring some of the available capacity for frequency regulation ($f_{y,z,t}$) and upward operating (spinning) reserves ($r_{y,z,t}$).
 90 | ```math
 91 | \begin{aligned}
 92 | 	\Theta_{y,z,t} + f_{y,z,t} + r_{y,z,t} \leq \sum_{(x,z)\in \overline{\mathcal{VRE}}^{x,z}}{\rho^{max}_{x,z,t}\times \Delta^{total}_{x,z}}  \hspace{0.1 cm}   \forall y,z \in \{(y,z)|VREIndex_{y,z}=1, z \in \mathcal{Z}\},t \in \mathcal{T}
 93 | \end{aligned}
 94 | ```
 95 | The amount of downward frequency regulation reserves also cannot exceed the current power output.
 96 | ```math
 97 | \begin{aligned}
 98 | 	f_{y,z,t} \leq \Theta_{y,z,t}
 99 | 	\forall y,z \in \{(y,z)|VREIndex_{y,z}=1, z \in \mathcal{Z}\},t \in \mathcal{T}
100 | \end{aligned}
101 | ```
102 | The amount of frequency regulation and operating reserves procured in each time step is bounded by the user-specified fraction ($\upsilon^{reg}_{y,z}$,$\upsilon^{rsv}_{y,z}$) of available capacity in each period for each reserve type, reflecting the maximum ramp rate for the VRE resource in whatever time interval defines the requisite response time for the regulation or reserve products (e.g., 5 mins or 15 mins or 30 mins). These response times differ by system operator and reserve product, and so the user should define these parameters in a self-consistent way for whatever system context they are modeling.
103 | ```math
104 | \begin{aligned}
105 | 	r_{y,z,t} \leq \upsilon^{rsv}_{y,z} \sum_{(x,z)\in \overline{\mathcal{VRE}}^{x,z}}{\rho^{max}_{x,z,t}\times \Delta^{total}_{x,z}}  \hspace{1 cm}   \forall y,z \in \{(y,z)|VREIndex_{y,z}=1, z \in \mathcal{Z}\},t \in \mathcal{T} \\
106 | 	f_{y,z,t} \leq \upsilon^{reg}_{y,z} \sum_{(x,z)\in \overline{\mathcal{VRE}}^{x,z}}{\rho^{max}_{x,z,t}\times \Delta^{total}_{x,z}}  \hspace{1 cm}   \forall y,z \in \{(y,z)|VREIndex_{y,z}=1, z \in \mathcal{Z}\},t \in \mathcal{T}
107 | \end{aligned}
108 | ```
109 | """
110 | function curtailable_variable_renewable_operational_reserves!(EP::Model, inputs::Dict)
111 |     gen = inputs["RESOURCES"]
112 |     T = inputs["T"]
113 | 
114 |     VRE = inputs["VRE"]
115 |     VRE_POWER_OUT = intersect(VRE, ids_with_positive(gen, num_vre_bins))
116 |     REG = intersect(VRE_POWER_OUT, inputs["REG"])
117 |     RSV = intersect(VRE_POWER_OUT, inputs["RSV"])
118 | 
119 |     eTotalCap = EP[:eTotalCap]
120 |     vP = EP[:vP]
121 |     vREG = EP[:vREG]
122 |     vRSV = EP[:vRSV]
123 |     hourly_capacity_factor(y, t) = inputs["pP_Max"][y, t]
124 | 
125 |     hourly_capacity(y, t) = hourly_capacity_factor(y, t) * eTotalCap[y]
126 |     resources_in_bin(y) = UnitRange(y, y + num_vre_bins(gen[y]) - 1)
127 |     hourly_bin_capacity(y, t) = sum(hourly_capacity(yy, t) for yy in resources_in_bin(y))
128 | 
129 |     @constraint(EP,
130 |         [y in REG, t in 1:T],
131 |         vREG[y, t]<=reg_max(gen[y]) * hourly_bin_capacity(y, t))
132 |     @constraint(EP,
133 |         [y in RSV, t in 1:T],
134 |         vRSV[y, t]<=rsv_max(gen[y]) * hourly_bin_capacity(y, t))
135 | 
136 |     expr = extract_time_series_to_expression(vP, VRE_POWER_OUT)
137 |     add_similar_to_expression!(expr[REG, :], -vREG[REG, :])
138 |     @constraint(EP, [y in VRE_POWER_OUT, t in 1:T], expr[y, t]>=0)
139 | 
140 |     expr = extract_time_series_to_expression(vP, VRE_POWER_OUT)
141 |     add_similar_to_expression!(expr[REG, :], +vREG[REG, :])
142 |     add_similar_to_expression!(expr[RSV, :], +vRSV[RSV, :])
143 |     @constraint(EP, [y in VRE_POWER_OUT, t in 1:T], expr[y, t]<=hourly_bin_capacity(y, t))
144 | end
145 | 
146 | function remove_operational_reserves_for_binned_vre_resources!(EP::Model, inputs::Dict)
147 |     gen = inputs["RESOURCES"]
148 | 
149 |     VRE = inputs["VRE"]
150 |     VRE_POWER_OUT = intersect(VRE, ids_with_positive(gen, num_vre_bins))
151 |     REG = inputs["REG"]
152 |     RSV = inputs["RSV"]
153 | 
154 |     VRE_NO_POWER_OUT = setdiff(VRE, VRE_POWER_OUT)
155 | 
156 |     for y in intersect(VRE_NO_POWER_OUT, REG)
157 |         fix.(EP[:vREG][y, :], 0.0, force = true)
158 |     end
159 |     for y in intersect(VRE_NO_POWER_OUT, RSV)
160 |         fix.(EP[:vRSV][y, :], 0.0, force = true)
161 |     end
162 | end
163 | 


--------------------------------------------------------------------------------
/src/model/resources/flexible_demand/flexible_demand.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     flexible_demand!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function defines the operating constraints for flexible demand resources. As implemented, flexible demand resources (``y \in \mathcal{DF}``) are characterized by: a) maximum deferrable demand as a fraction of available capacity in a particular time step $t$, $\rho^{max}_{y,z,t}$, b) the maximum time this demand can be advanced and delayed, defined by parameters, $\tau^{advance}_{y,z}$ and $\tau^{delay}_{y,z}$, respectively and c) the energy losses associated with shifting demand, $\eta_{y,z}^{dflex}$.
  4 | 
  5 | **Tracking total deferred demand**
  6 | The operational constraints governing flexible demand resources are as follows.
  7 | The first two constraints model keep track of inventory of deferred demand in each time step.  Specifically, the amount of deferred demand remaining to be served ($\Gamma_{y,z,t}$) depends on the amount in the previous time step minus the served demand during time step $t$ ($\Theta_{y,z,t}$) while accounting for energy losses associated with demand flexibility, plus the demand that has been deferred during the current time step ($\Pi_{y,z,t}$). Note that variable $\Gamma_{y,z,t} \in \mathbb{R}$, $\forall y \in \mathcal{DF}, t  \in \mathcal{T}$. Similar to hydro inventory or storage state of charge constraints, for the first time step of the year (or each representative period), we define the deferred demand level based on level of deferred demand in the last time step of the year (or each representative period).
  8 | ```math
  9 | \begin{aligned}
 10 | \Gamma_{y,z,t} = \Gamma_{y,z,t-1} -\eta_{y,z}^{dflex}\Theta_{y,z,t} +\Pi_{y,z,t} \hspace{4 cm}  \forall y \in \mathcal{DF}, z \in \mathcal{Z}, t \in \mathcal{T}^{interior} \\
 11 | \Gamma_{y,z,t} = \Gamma_{y,z,t +\tau^{period}-1} -\eta_{y,z}^{dflex}\Theta_{y,z,t} +\Pi_{y,z,t} \hspace{4 cm}  \forall y \in \mathcal{DF}, z \in \mathcal{Z}, t \in \mathcal{T}^{start}
 12 | \end{aligned}
 13 | ```
 14 | **Bounds on available demand flexibility**
 15 | At any given time step, the amount of demand that can be shifted or deferred cannot exceed the maximum deferrable demand, defined by product of the availability factor ($\rho^{max}_{y,t}$) times the available capacity($\Delta^{total}_{y,z}$).
 16 | ```math
 17 | \begin{aligned}
 18 | \Pi_{y,t} \leq \rho^{max}_{y,z,t}\Delta_{y,z} \hspace{4 cm}  \forall y \in \mathcal{DF}, z \in \mathcal{Z}, t \in \mathcal{T}
 19 | \end{aligned}
 20 | ```
 21 | At any given time step, the amount of demand that can be met cannot exceed the capacity of the FLEX resources.
 22 | ```math
 23 | \begin{aligned}
 24 | \eta_{y,z}^{dflex}\Theta_{y,z,t} \leq \Delta_{y,z} \hspace{4 cm}  \forall y \in \mathcal{DF}, z \in \mathcal{Z}, t \in \mathcal{T}
 25 | \end{aligned}
 26 | ```
 27 | **Maximum time delay and advancements**
 28 | Delayed demand must then be served within a fixed number of time steps. This is done by enforcing the sum of demand satisfied ($\Theta_{y,z,t}$) in the following $\tau^{delay}_{y,z}$ time steps (e.g., t + 1 to t + $\tau^{delay}_{y,z}$) to be greater than or equal to the level of energy deferred during time step $t$.
 29 | ```math
 30 | \begin{aligned}
 31 | \sum_{e=t+1}^{t+\tau^{delay}_{y,z}}{\Theta_{y,z,e}} \geq \Gamma_{y,z,t}
 32 |     \hspace{4 cm}  \forall y \in \mathcal{DF},z \in \mathcal{Z}, t \in \mathcal{T}
 33 | \end{aligned}
 34 | ```
 35 | A similar constraints maximum time steps of demand advancement. This is done by enforcing the sum of demand deferred ($\Pi_{y,t}$) in the following $\tau^{advance}_{y}$ time steps (e.g., t + 1 to t + $\tau^{advance}_{y}$) to be greater than or equal to the total level of energy deferred during time $t$ (-$\Gamma_{y,t}$). The negative sign is included to account for the established sign convention that treat demand deferred in advance of the actual demand is defined to be negative.
 36 | ```math
 37 | \begin{aligned}
 38 | \sum_{e=t+1}^{t+\tau^{advance}_{y,z}}{\Pi_{y,z,e}} \geq -\Gamma_{y,z,t}
 39 |     \hspace{4 cm}  \forall y \in \mathcal{DF}, z \in \mathcal{Z}, t \in \mathcal{T}
 40 | \end{aligned}
 41 | ```
 42 | If $t$ is first time step of the year (or the first time step of the representative period), then the above two constraints are implemented to look back over the last n time steps, starting with the last time step of the year (or the last time step of the representative period). This time-wrapping implementation is similar to the time-wrapping implementations used for defining the storage balance constraints for hydropower reservoir resources and energy storage resources.
 43 | """
 44 | function flexible_demand!(EP::Model, inputs::Dict, setup::Dict)
 45 |     ## Flexible demand resources available during all hours and can be either delayed or advanced (virtual storage-shiftable demand) - DR ==1
 46 | 
 47 |     println("Flexible Demand Resources Module")
 48 | 
 49 |     T = inputs["T"]     # Number of time steps (hours)
 50 |     Z = inputs["Z"]     # Number of zones
 51 |     FLEX = inputs["FLEX"] # Set of flexible demand resources
 52 | 
 53 |     gen = inputs["RESOURCES"]
 54 | 
 55 |     hours_per_subperiod = inputs["hours_per_subperiod"] # Total number of hours per subperiod
 56 | 
 57 |     ### Variables ###
 58 | 
 59 |     # Variable tracking total advanced (negative) or deferred (positive) demand for demand flex resource y in period t
 60 |     @variable(EP, vS_FLEX[y in FLEX, t = 1:T])
 61 | 
 62 |     # Variable tracking demand deferred by demand flex resource y in period t
 63 |     @variable(EP, vCHARGE_FLEX[y in FLEX, t = 1:T]>=0)
 64 | 
 65 |     ### Expressions ###
 66 | 
 67 |     ## Power Balance Expressions ##
 68 |     @expression(EP, ePowerBalanceDemandFlex[t = 1:T, z = 1:Z],
 69 |         sum(-EP[:vP][y, t] + EP[:vCHARGE_FLEX][y, t]
 70 |         for y in intersect(FLEX, resources_in_zone_by_rid(gen, z))))
 71 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceDemandFlex)
 72 | 
 73 |     # Capacity Reserves Margin policy
 74 |     if setup["CapacityReserveMargin"] > 0
 75 |         @expression(EP,
 76 |             eCapResMarBalanceFlex[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
 77 |             sum(derating_factor(gen[y], tag = res) *
 78 |                 (EP[:vCHARGE_FLEX][y, t] - EP[:vP][y, t]) for y in FLEX))
 79 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceFlex)
 80 |     end
 81 | 
 82 |     ## Objective Function Expressions ##
 83 | 
 84 |     # Variable costs of "charging" for technologies "y" during hour "t" in zone "z"
 85 |     @expression(EP,
 86 |         eCVarFlex_in[y in FLEX, t = 1:T],
 87 |         inputs["omega"][t]*var_om_cost_per_mwh_in(gen[y])*vCHARGE_FLEX[y, t])
 88 | 
 89 |     # Sum individual resource contributions to variable charging costs to get total variable charging costs
 90 |     @expression(EP, eTotalCVarFlexInT[t = 1:T], sum(eCVarFlex_in[y, t] for y in FLEX))
 91 |     @expression(EP, eTotalCVarFlexIn, sum(eTotalCVarFlexInT[t] for t in 1:T))
 92 |     add_to_expression!(EP[:eObj], eTotalCVarFlexIn)
 93 | 
 94 |     ### Constraints ###
 95 | 
 96 |     ## Flexible demand is available only during specified hours with time delay or time advance (virtual storage-shiftable demand)
 97 |     for z in 1:Z
 98 |         # NOTE: Flexible demand operates by zone since capacity is now related to zone demand
 99 |         FLEX_Z = intersect(FLEX, resources_in_zone_by_rid(gen, z))
100 | 
101 |         @constraints(EP,
102 |             begin
103 |                 # State of "charge" constraint (equals previous state + charge - discharge)
104 |                 # NOTE: no maximum energy "stored" or deferred for later hours
105 |                 # NOTE: Flexible_Demand_Energy_Eff corresponds to energy loss due to time shifting
106 |                 [y in FLEX_Z, t in 1:T],
107 |                 EP[:vS_FLEX][y, t] ==
108 |                 EP[:vS_FLEX][y, hoursbefore(hours_per_subperiod, t, 1)] -
109 |                 flexible_demand_energy_eff(gen[y]) * EP[:vP][y, t] +
110 |                 EP[:vCHARGE_FLEX][y, t]
111 | 
112 |                 # Maximum charging rate
113 |                 [y in FLEX_Z, t = 1:T],
114 |                 EP[:vCHARGE_FLEX][y, t] <= inputs["pP_Max"][y, t] * EP[:eTotalCap][y]
115 |                 # Maximum discharging rate
116 |                 [y in FLEX_Z, t = 1:T],
117 |                 flexible_demand_energy_eff(gen[y]) * EP[:vP][y, t] <= EP[:eTotalCap][y]
118 |             end)
119 |         for y in FLEX_Z
120 | 
121 |             # Require deferred demands to be satisfied within the specified time delay
122 |             max_flex_demand_delay = Int(floor(max_flexible_demand_delay(gen[y])))
123 | 
124 |             # Require advanced demands to be satisfied within the specified time period
125 |             max_flex_demand_advance = Int(floor(max_flexible_demand_advance(gen[y])))
126 | 
127 |             @constraint(EP, [t in 1:T],
128 |                 # cFlexibleDemandDelay: Constraints looks forward over next n hours, where n = max_flexible_demand_delay
129 |                 sum(EP[:vP][y, e]
130 |                 for e in hoursafter(hours_per_subperiod, t, 1:max_flex_demand_delay))>=EP[:vS_FLEX][y,t])
131 | 
132 |             @constraint(EP, [t in 1:T],
133 |                 # cFlexibleDemandAdvance: Constraint looks forward over next n hours, where n = max_flexible_demand_advance
134 |                 sum(EP[:vCHARGE_FLEX][y, e]
135 |                 for e in hoursafter(hours_per_subperiod, t, 1:max_flex_demand_advance))>=-EP[:vS_FLEX][y,t])
136 |         end
137 |     end
138 | 
139 |     return EP
140 | end
141 | 


--------------------------------------------------------------------------------
/src/model/resources/fusion/fusion.jl:
--------------------------------------------------------------------------------
  1 | #################################################################
  2 | # Names for keys in an inputs (or future outputs) dictionary
  3 | #################################################################
  4 | 
  5 | const FUSION_PULSE_START = "FusionPulseStartVariables"
  6 | const FUSION_PULSE_UNDERWAY = "FusionPulseUnderwayVariables"
  7 | 
  8 | const FUSION_PARASITIC_POWER = "FusionParasiticPowerExpressions"
  9 | const FUSION_PULSE_START_POWER = "FusionPulseStartPowerExpressions"
 10 | 
 11 | const FUSION_COMPONENT_ZONE = "FusionComponentZones"
 12 | 
 13 | #####################################################################
 14 | # Individual fusion reactor component variable and expressions names
 15 | #####################################################################
 16 | 
 17 | function fusion_pulse_start_name(resource_component::AbstractString)
 18 |     Symbol("vFusionPulseStart_" * resource_component)
 19 | end
 20 | 
 21 | function fusion_pulse_underway_name(resource_component::AbstractString)
 22 |     Symbol("vFusionPulseUnderway_" * resource_component)
 23 | end
 24 | 
 25 | function fusion_parasitic_active_name(resource_component::AbstractString)
 26 |     Symbol("eFusionParasiticActive_" * resource_component)
 27 | end
 28 | 
 29 | function fusion_parasitic_passive_name(resource_component::AbstractString)
 30 |     Symbol("eFusionParasiticPassive_" * resource_component)
 31 | end
 32 | 
 33 | function fusion_parasitic_start_energy_name(resource_component::AbstractString)
 34 |     Symbol("eFusionParasiticStartEnergy_" * resource_component)
 35 | end
 36 | 
 37 | function fusion_pulse_start_power_name(resource_component::AbstractString)
 38 |     Symbol("eFusionParasiticPulseStartPower_" * resource_component)
 39 | end
 40 | 
 41 | function fusion_parasitic_total_name(resource_component::AbstractString)
 42 |     Symbol("eFusionParasiticTotal_" * resource_component)
 43 | end
 44 | 
 45 | #############################################################################
 46 | # Set and get these variables, expressions from the inputs (or outputs) dict
 47 | #############################################################################
 48 | 
 49 | @doc raw"""
 50 |     ensure_fusion_expression_records!(dict::Dict)
 51 | 
 52 |     dict: a dictionary of model data
 53 | 
 54 |     This should be called by each method that adds fusion formulations,
 55 |     to ensure that certain entries in the model data dict exist.
 56 | """
 57 | function ensure_fusion_expression_records!(dict::Dict)
 58 |     for var in (FUSION_PARASITIC_POWER, FUSION_PULSE_START_POWER)
 59 |         if var âˆ‰ keys(dict)
 60 |             dict[var] = Set{Symbol}()
 61 |         end
 62 |     end
 63 |     var = FUSION_COMPONENT_ZONE
 64 |     if var âˆ‰ keys(dict)
 65 |         dict[var] = Dict{Int, Set{AbstractString}}()
 66 |     end
 67 | end
 68 | 
 69 | @doc raw"""
 70 |     ensure_fusion_pulse_variable_records!(dict::Dict)
 71 | 
 72 |     dict: a dictionary of model data
 73 | 
 74 |     This should be called by each method that adds fusion formulations,
 75 |     to ensure that certain entries in the model data dict exist.
 76 | """
 77 | function ensure_fusion_pulse_variable_records!(dict::Dict)
 78 |     for var in (FUSION_PULSE_START, FUSION_PULSE_UNDERWAY)
 79 |         if var âˆ‰ keys(dict)
 80 |             dict[var] = Set{Symbol}()
 81 |         end
 82 |     end
 83 | end
 84 | 
 85 | @doc raw"""
 86 |     fusion_parasitic_power_expressions(dict::Dict)
 87 | 
 88 |     dict: a dictionary of model data
 89 | 
 90 |     get listings of parasitic power expressions.
 91 |     This is available only after a `fusion_formulation_*!` has been called.
 92 | """
 93 | function fusion_parasitic_power_expressions(dict::Dict)::Set{Symbol}
 94 |     dict[FUSION_PARASITIC_POWER]
 95 | end
 96 | 
 97 | @doc raw"""
 98 |     fusion_parasitic_power_expressions(inputs::Dict, zone::Int)
 99 | 
100 |     inputs: model inputs
101 | 
102 |     get listings of parasitic power expressions in a zone.
103 |     This is available only after a `fusion_formulation_*!` has been called.
104 | """
105 | function fusion_parasitic_power_expressions(inputs::Dict, zone::Int)::Set{Symbol}
106 |     fusion_in_zone = inputs[FUSION_COMPONENT_ZONE][zone]
107 |     exprs = fusion_parasitic_total_name.(fusion_in_zone)
108 |     return Set(exprs)
109 | end
110 | 
111 | @doc raw"""
112 |     fusion_pulse_start_expressions(dict::Dict)
113 | 
114 |     dict: a dictionary of model data
115 | 
116 |     get listings of pulse start expressions
117 |     This is available only after a `fusion_formulation_*!` has been called.
118 | """
119 | function fusion_pulse_start_expressions(dict::Dict)::Set{Symbol}
120 |     dict[FUSION_PULSE_START]
121 | end
122 | 
123 | function add_fusion_component_to_zone_listing(
124 |         inputs::Dict, r_id::Int, resource_component::AbstractString)
125 |     zone = inputs["R_ZONES"][r_id]
126 |     d = inputs[FUSION_COMPONENT_ZONE]
127 |     new_set = Set([resource_component])
128 |     if zone in keys(d)
129 |         union!(d[zone], new_set)
130 |     else
131 |         d[zone] = new_set
132 |     end
133 | end
134 | 
135 | @doc raw"""
136 |     has_fusion(dict::Dict)::Bool
137 | 
138 |     dict: a dictionary of model data
139 | 
140 |     Checks whether the dictionary contains listings of fusion-related expressions.
141 |     This is true only after a `fusion_formulation_*!` has been called.
142 | """
143 | function has_fusion(dict::Dict)::Bool
144 |     FUSION_PARASITIC_POWER in keys(dict)
145 | end
146 | 
147 | #######################################
148 | # Define a data structure for a reactor
149 | #######################################
150 | 
151 | # Base.@kwdef could be used if we enforce Julia >= 1.9
152 | # That would replace need for the keyword-argument constructor below
153 | Base.@kwdef struct FusionReactorData
154 |     component_size::Float64
155 |     parasitic_passive_fraction::Float64
156 |     parasitic_active_fraction::Float64
157 |     parasitic_start_energy_fraction::Float64
158 |     pulse_start_power_fraction::Float64
159 |     maintenance_remaining_parasitic_power_fraction::Float64
160 |     eff_down::Float64
161 |     dwell_time::Float64
162 |     max_pulse_length::Int
163 |     max_starts::Int
164 |     max_fpy_per_year::Float64
165 | end
166 | 
167 | #######################################
168 | # Find fusion resources
169 | #######################################
170 | 
171 | fusion(r) = get(r, :fusion, default_zero)
172 | 
173 | #######################################
174 | # Create from a Therm resource
175 | #######################################
176 | 
177 | function FusionReactorData(gen::Vector{<:AbstractResource}, y::Int)::FusionReactorData
178 |     FusionReactorData(gen[y])
179 | end
180 | 
181 | function FusionReactorData(r::Thermal)::FusionReactorData
182 |     core_cap_size = Float64(cap_size(r))
183 |     # holding this for use with future multi-component resources
184 |     eff_down = 1.0
185 |     dwell_time = Float64(get(r, :dwell_time, default_zero))
186 |     max_starts = get(r, :max_starts, -1)
187 |     max_pulse_length = get(r, :max_up_time, -1)
188 |     parasitic_passive = Float64(get(r, :parasitic_passive, default_zero))
189 |     parasitic_active = Float64(get(r, :parasitic_active, default_zero))
190 |     start_energy = Float64(get(r, :parasitic_start_energy, default_zero))
191 |     start_power = Float64(get(r, :parasitic_start_power, default_zero))
192 | 
193 |     parasitic_maint = Float64(get(
194 |         r, :parasitic_passive_maintenance_remaining, default_zero))
195 | 
196 |     max_fpy_per_year = Float64(get(r, :max_fpy_per_year, -1))
197 | 
198 |     reactor = FusionReactorData(component_size = core_cap_size,
199 |         parasitic_passive_fraction = parasitic_passive,
200 |         parasitic_active_fraction = parasitic_active,
201 |         parasitic_start_energy_fraction = start_energy,
202 |         pulse_start_power_fraction = start_power,
203 |         eff_down = eff_down,
204 |         dwell_time = dwell_time,
205 |         max_pulse_length = max_pulse_length,
206 |         max_starts = max_starts,
207 |         maintenance_remaining_parasitic_power_fraction = parasitic_maint,
208 |         max_fpy_per_year = max_fpy_per_year)
209 | end
210 | 
211 | #######################################
212 | # Compute reactor properties
213 | #######################################
214 | 
215 | function average_net_power_factor(reactor::FusionReactorData)
216 |     dwell_time = reactor.dwell_time
217 |     max_up = reactor.max_pulse_length
218 |     parasitic_start_energy = reactor.parasitic_start_energy_fraction
219 |     parasitic_passive = reactor.parasitic_passive_fraction
220 |     parasitic_active = reactor.parasitic_active_fraction
221 | 
222 |     active_frac = 1
223 |     avg_start_energy = 0
224 |     if max_up > 0
225 |         active_frac = 1 - dwell_time / max_up
226 |         avg_start_energy = parasitic_start_energy / max_up
227 |     end
228 |     net_power_factor = active_frac * (1 - parasitic_active) - parasitic_passive -
229 |                   avg_start_energy
230 |     return net_power_factor
231 | end
232 | 
233 | ############################################################################
234 | # Add variables, expressions, constraints for individual fusion components
235 | # to the model
236 | ############################################################################
237 | 
238 | function fusion_pulse_variables!(EP::Model,
239 |         inputs::Dict,
240 |         integer_operational_unit_commitment::Bool,
241 |         resource_component::AbstractString,
242 |         r_id::Int,
243 |         reactor::FusionReactorData,
244 |         capacity::Symbol
245 | )
246 |     T = inputs["T"]
247 |     Ï‰ = inputs["omega"]
248 |     p = inputs["hours_per_subperiod"]
249 | 
250 |     start = fusion_pulse_start_name(resource_component)
251 |     underway = fusion_pulse_underway_name(resource_component)
252 | 
253 |     union!(inputs[FUSION_PULSE_START], (start,))
254 |     union!(inputs[FUSION_PULSE_UNDERWAY], (underway,))
255 | 
256 |     ecap = EP[capacity][r_id]
257 | 
258 |     vPulseStart = EP[start] = @variable(EP, [t in 1:T], base_name=string(start), lower_bound=0)
259 |     vPulseUnderway = EP[underway] = @variable(EP, [t in 1:T], base_name=string(underway),
260 |         lower_bound=0)
261 | 
262 |     if integer_operational_unit_commitment
263 |         set_integer.(vPulseStart)
264 |         set_integer.(vPulseUnderway)
265 |     end
266 | 
267 |     component_size = reactor.component_size
268 | 
269 |     # Pulse variables are measured in # of plants
270 |     @constraint(EP, [t in 1:T], vPulseStart[t] * component_size<=ecap)
271 |     @constraint(EP, [t in 1:T], vPulseUnderway[t] * component_size<=ecap)
272 | 
273 |     # Core max uptime. If this parameter > 0,
274 |     # the fusion core must be cycled at least every n hours.
275 |     # Looks back over interior timesteps and ensures that a core cannot
276 |     # be committed unless it has been started at some point in
277 |     # the previous n timesteps
278 |     max_pulse_length = reactor.max_pulse_length
279 |     if max_pulse_length > 0
280 |         function starts_in_previous_hours(t)
281 |             vPulseStart[hoursbefore(p, t, 0:(max_pulse_length - 1))]
282 |         end
283 |         @constraint(EP, [t in 1:T], vPulseUnderway[t]<=sum(starts_in_previous_hours(t)))
284 |     end
285 | 
286 |     max_starts = reactor.max_starts
287 |     if max_starts > 0
288 |         @constraint(EP,
289 |             sum(vPulseStart[t] * Ï‰[t] for t in 1:T) * component_size<=max_starts * ecap[y])
290 |     end
291 | end
292 | 
293 | function fusion_pulse_status_linking_constraints!(
294 |         EP::Model,
295 |         inputs::Dict,
296 |         resource_component::AbstractString,
297 |         r_id::Int,
298 |         reactor::FusionReactorData,
299 |         vcommit::Symbol
300 | )
301 |     T = inputs["T"]
302 | 
303 |     commit = EP[vcommit] # measured in number of components
304 | 
305 |     from_model(f::Function) = EP[f(resource_component)]
306 | 
307 |     vPulseStart = from_model(fusion_pulse_start_name)
308 |     vPulseUnderway = from_model(fusion_pulse_underway_name)
309 | 
310 |     # pulses cannot start unless the plant is committed
311 |     @constraint(EP, [t in 1:T], vPulseStart[t]<=commit[r_id, t])
312 |     @constraint(EP, [t in 1:T], vPulseUnderway[t]<=commit[r_id, t])
313 | end
314 | 
315 | @doc raw"""
316 |     fusion_pulse_thermal_power_generation_constraint!(EP::Model,
317 |                               inputs::Dict,
318 |                               resource_component::AbstractString,
319 |                               r_id::Int,
320 |                               reactor::FusionReactorData,
321 |                               vp::Symbol,
322 |                               vcommit::Symbol)
323 | 
324 |     Add constraint which acts on the power-output-like variable.
325 | """
326 | function fusion_pulse_thermal_power_generation_constraint!(
327 |         EP::Model,
328 |         inputs::Dict,
329 |         resource_component::AbstractString,
330 |         r_id::Int,
331 |         reactor::FusionReactorData,
332 |         power_like::AbstractArray
333 | )
334 |     T = inputs["T"]
335 | 
336 |     component_size = reactor.component_size
337 |     dwell_time = reactor.dwell_time
338 | 
339 |     from_model(f::Function) = EP[f(resource_component)]
340 |     ePulseStart = component_size * from_model(fusion_pulse_start_name)
341 |     ePulseUnderway = component_size * from_model(fusion_pulse_underway_name)
342 | 
343 |     # Maximum thermal power generated by core y at hour y <= Max power of committed
344 |     # core minus power lost from down time at startup
345 |     @constraint(EP,
346 |         [t in 1:T],
347 |         power_like[r_id,
348 |             t]<=ePulseUnderway[t] -
349 |                 _fusion_dwell_avoided_operation(dwell_time, ePulseStart[t]))
350 | end
351 | 
352 | @doc raw"""
353 |     _fusion_dwell_avoided_operation(dwell_time::Float64,
354 |                                     ePulseStart::AffExpr)
355 | 
356 |     dwell_time in fractions of a timestep
357 |     ePulseStart is the number of MW starting. Typically component_size * vPulseStart
358 | """
359 | function _fusion_dwell_avoided_operation(dwell_time::Float64, ePulseStart::AffExpr)
360 |     return dwell_time * ePulseStart
361 | end
362 | 
363 | function fusion_parasitic_power!(
364 |         EP::Model,
365 |         inputs::Dict,
366 |         resource_component,
367 |         r_id::Int,
368 |         reactor::FusionReactorData,
369 |         component_capacity::Symbol
370 | )
371 |     T = inputs["T"]
372 | 
373 |     component_size = reactor.component_size
374 |     parasitic_passive_fraction = reactor.parasitic_passive_fraction
375 |     parasitic_active_fraction = reactor.parasitic_active_fraction
376 |     parasitic_start_energy_fraction = reactor.parasitic_start_energy_fraction
377 |     pulse_start_power_fraction = reactor.pulse_start_power_fraction
378 |     dwell_time = reactor.dwell_time
379 |     Î· = reactor.eff_down
380 | 
381 |     from_model(f::Function) = EP[f(resource_component)]
382 | 
383 |     pulsestart = component_size * from_model(fusion_pulse_start_name)
384 |     underway = component_size * from_model(fusion_pulse_underway_name)
385 | 
386 |     capacity = EP[component_capacity][r_id]
387 | 
388 |     passive = fusion_parasitic_passive_name(resource_component)
389 |     active = fusion_parasitic_active_name(resource_component)
390 |     start_energy = fusion_parasitic_start_energy_name(resource_component)
391 |     pulse_start_power = fusion_pulse_start_power_name(resource_component)
392 | 
393 |     union!(inputs[FUSION_PULSE_START_POWER], (pulse_start_power,))
394 | 
395 |     # Passive recirculating power, depending on built capacity
396 |     EP[passive] = @expression(EP, [t in 1:T], capacity*Î·*parasitic_passive_fraction)
397 | 
398 |     # Active recirculating power, depending on whether a pulse is underway
399 |     EP[active] = @expression(EP,
400 |         [t in 1:T],
401 |         Î·*
402 |         parasitic_active_fraction*
403 |         (underway[t]-pulsestart[t] * dwell_time))
404 |     # Startup energy, taken from the grid every time the core starts up
405 |     EP[start_energy] = @expression(EP,
406 |         [t in 1:T],
407 |         pulsestart[t]*Î·*parasitic_start_energy_fraction)
408 | 
409 |     # Startup power, required margin on the grid when the core starts
410 |     EP[pulse_start_power] = @expression(EP,
411 |         [t in 1:T],
412 |         pulsestart[t]*Î·*pulse_start_power_fraction)
413 | end
414 | 
415 | function fusion_max_fpy_per_year_constraint!(
416 |         EP::Model,
417 |         inputs::Dict,
418 |         r_id::Int,
419 |         reactor::FusionReactorData,
420 |         component_capacity::Symbol,
421 |         power_like::AbstractArray
422 | )
423 |     T = inputs["T"]
424 | 
425 |     capacity = EP[component_capacity][r_id]
426 |     max_fpy_per_year = reactor.max_fpy_per_year
427 |     if  0 < max_fpy_per_year < 1
428 |         @constraint(EP, sum(power_like[r_id, :]) / T<=max_fpy_per_year * capacity)
429 |     end
430 |     if max_fpy_per_year >= 1
431 |         @info "Max FPY per year fusion constraint automatically met; not creating."
432 |     end
433 | end
434 | 
435 | function fusion_total_parasitic_power!(
436 |         EP::Model,
437 |         inputs::Dict,
438 |         resource_component,
439 |         r_id::Int
440 | )
441 |     T = inputs["T"]
442 | 
443 |     from_model(f::Function) = EP[f(resource_component)]
444 | 
445 |     ePassive = from_model(fusion_parasitic_passive_name)
446 |     eActive = from_model(fusion_parasitic_active_name)
447 |     eStartEnergy = from_model(fusion_parasitic_start_energy_name)
448 | 
449 |     total_parasitic = fusion_parasitic_total_name(resource_component)
450 | 
451 |     EP[total_parasitic] = @expression(EP, [t in 1:T], ePassive[t] + eActive[t] + eStartEnergy[t])
452 | 
453 |     union!(inputs[FUSION_PARASITIC_POWER], (total_parasitic,))
454 | end
455 | 
456 | function fusion_adjust_power_balance!(
457 |         EP, inputs::Dict, gen::Vector{<:AbstractResource}, component::AbstractString = "")
458 |     zones_for_resources = inputs["R_ZONES"]
459 |     ePowerBalance = EP[:ePowerBalance]
460 | 
461 |     FUSION = ids_with(gen, fusion)
462 |     for y in FUSION
463 |         z = zones_for_resources[y]
464 |         resource_component = resource_name(gen[y]) * component
465 |         fusion_total_parasitic_power!(EP, inputs, resource_component, y)
466 |         eTotalParasitic = EP[fusion_parasitic_total_name(resource_component)]
467 |         add_similar_to_expression!(ePowerBalance[:, z], -eTotalParasitic)
468 |     end
469 | end
470 | 
471 | ########################
472 | # Functions for outputs
473 | ########################
474 | 
475 | function fusion_annual_parasitic_power(
476 |         EP, inputs, resource_component::AbstractString)::AffExpr
477 |     Ï‰ = inputs["omega"]
478 |     eTotalParasitic = EP[fusion_parasitic_total_name(resource_component)]
479 |     annual_parasitic = Ï‰' * eTotalParasitic
480 |     return annual_parasitic
481 | end
482 | 
483 | function thermal_fusion_annual_parasitic_power(
484 |         EP::Model, inputs::Dict, setup::Dict)::Vector{Float64}
485 |     gen = inputs["RESOURCES"]
486 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
487 |     FUSION = ids_with(gen, fusion)
488 | 
489 |     resource_component = resource_name.(gen[FUSION])
490 | 
491 |     expr = fusion_annual_parasitic_power.(Ref(EP), Ref(inputs), resource_component)
492 |     return scale_factor * value.(expr)
493 | end
494 | 


--------------------------------------------------------------------------------
/src/model/resources/fusion/fusion_maintenance.jl:
--------------------------------------------------------------------------------
 1 | # higher level function
 2 | function fusion_maintenance_adjust_parasitic_power!(EP, rs::Vector{<:AbstractResource})
 3 |     @debug "Maintenance modifies fusion parasitic power"
 4 | 
 5 |     FUSION = ids_with(rs, fusion)
 6 |     MAINTENANCE = ids_with_maintenance(rs)
 7 | 
 8 |     for y in intersect(FUSION, MAINTENANCE)
 9 |         resource_component = resource_name(rs[y])
10 |         reactor = FusionReactorData(rs, y)
11 |         _fusion_maintenance_parasitic_power_adjustment!(EP, resource_component, reactor)
12 |     end
13 | end
14 | 
15 | # lower level function
16 | function _fusion_maintenance_parasitic_power_adjustment!(
17 |         EP::Model, resource_component, reactor::FusionReactorData)
18 |     passive = reactor.parasitic_passive_fraction
19 |     reduction_factor = reactor.maintenance_remaining_parasitic_power_fraction
20 |     Î· = reactor.eff_down
21 |     component_size = reactor.component_size
22 | 
23 |     reduction = passive * (1 - reduction_factor)
24 | 
25 |     from_model(f::Function) = EP[f(resource_component)]
26 | 
27 |     ePassiveParasitic = from_model(fusion_parasitic_passive_name)
28 |     vMDOWN = EP[Symbol(maintenance_down_name(resource_component))]
29 | 
30 |     eReduction = -reduction * Î· * component_size * vMDOWN
31 | 
32 |     add_similar_to_expression!(ePassiveParasitic, eReduction)
33 | end
34 | 


--------------------------------------------------------------------------------
/src/model/resources/fusion/fusion_policy_adjustments.jl:
--------------------------------------------------------------------------------
  1 | #################################
  2 | #
  3 | #    Capacity Reserve Margin
  4 | #
  5 | #################################
  6 | 
  7 | @doc raw"""
  8 |     fusion_capacity_reserve_margin_adjustment!(EP::Model, inputs::Dict)
  9 | 
 10 |     Subtracts parasitic power from the capacity reserve margin.
 11 | """
 12 | function fusion_capacity_reserve_margin_adjustment!(EP::Model,
 13 |         inputs::Dict)
 14 |     gen = inputs["RESOURCES"]
 15 |     THERM_COMMIT = inputs["THERM_COMMIT"]
 16 |     FUSION = ids_with(gen, fusion)
 17 |     applicable_resources = intersect(FUSION, THERM_COMMIT)
 18 | 
 19 |     resource_component(y) = resource_name(gen[y])
 20 | 
 21 |     for y in applicable_resources
 22 |         _fusion_capacity_reserve_margin_adjustment!(EP, inputs, resource_component(y), y)
 23 |     end
 24 | end
 25 | 
 26 | # inner-loop function: loops over Capacity Reserve Margin zones, for one resource
 27 | # and actually adjusts the eCapResMarBalance expression
 28 | function _fusion_capacity_reserve_margin_adjustment!(EP::Model,
 29 |         inputs::Dict,
 30 |         resource_component,
 31 |         y::Int)
 32 |     T = inputs["T"]
 33 |     timesteps = collect(1:T)
 34 |     ncapres = inputs["NCapacityReserveMargin"]
 35 | 
 36 |     eCapResMarBalance = EP[:eCapResMarBalance]
 37 | 
 38 |     for capres_zone in 1:ncapres
 39 |         adjustment = fusion_capacity_reserve_margin_adjustment(
 40 |             EP, inputs, resource_component, y, capres_zone, timesteps)
 41 |         add_similar_to_expression!(eCapResMarBalance[capres_zone, :], adjustment)
 42 |     end
 43 |     return
 44 | end
 45 | 
 46 | # Get the amount for one resource component in one CRM zone
 47 | function fusion_capacity_reserve_margin_adjustment(EP::Model,
 48 |         inputs::Dict,
 49 |         resource_component::AbstractString,
 50 |         y::Int,
 51 |         capres_zone::Int,
 52 |         timesteps::Vector{Int})
 53 |     gen = inputs["RESOURCES"]
 54 |     component = gen[y]
 55 |     eTotalCap = EP[:eTotalCap][y]
 56 | 
 57 |     capresfactor = derating_factor(component, tag=capres_zone)
 58 |     if capresfactor == 0.0
 59 |         return AffExpr.(zero.(timesteps))
 60 |     end
 61 |     dwell_time = Float64(get(component, :dwell_time, 0.0))
 62 |     component_size = get(component, :cap_size, 0.0)
 63 | 
 64 |     from_model(f::Function) = EP[f(resource_component)]
 65 | 
 66 |     ePassive = from_model(fusion_parasitic_passive_name)
 67 |     eActive = from_model(fusion_parasitic_active_name)
 68 |     eStartPower = from_model(fusion_pulse_start_power_name)
 69 |     ePulseStart = component_size * from_model(fusion_pulse_start_name)
 70 |     ePulseUnderway = component_size * from_model(fusion_pulse_underway_name)
 71 | 
 72 |     capacity_to_underway_adj = capresfactor * (ePulseUnderway[timesteps] .- eTotalCap)
 73 |     parasitic_adj = _fusion_crm_parasitic_adjustment.(
 74 |         capresfactor, ePassive[timesteps], eActive[timesteps], eStartPower[timesteps])
 75 |     dwell_adj = -capresfactor *
 76 |                 _fusion_dwell_avoided_operation.(dwell_time, ePulseStart[timesteps])
 77 | 
 78 |     total_adj = @expression(EP, [t in 1:T], capacity_to_underway_adj[t] + parasitic_adj[t] + dwell_adj[t])
 79 | 
 80 |     # Cancel out the dependence on down_var, since CRM is related to power, not capacity
 81 |     if y in ids_with_maintenance(gen)
 82 |         maint_adj = thermal_maintenance_and_fusion_capacity_reserve_margin_adjustment(
 83 |             EP, inputs, y, capres_zone, timesteps)
 84 |         add_to_expression!.(total_adj, maint_adj)
 85 |     end
 86 | 
 87 |     return total_adj
 88 | end
 89 | 
 90 | # alias for better parallelism in effective_capacity.jl
 91 | const thermal_fusion_capacity_reserve_margin_adjustment = fusion_capacity_reserve_margin_adjustment
 92 | 
 93 | #################################
 94 | # Where the math actually happens
 95 | #################################
 96 | @doc raw"""
 97 |     _fusion_crm_parasitic_adjustment(derating_factor::Float64,
 98 |                passive_power::AffExpr,
 99 |                active_power::AffExpr,
100 |                start_power::AffExpr)
101 | 
102 |     Parasitic power for a fusion plant.
103 |     Passive parasitic power is always on, even if the plant is undergoing maintenance,
104 |     so this adjustment is independent of the CRM derating factor. Active and start power are associated
105 |     with a plant being in working order, so they do get `derating_factor` applied.
106 | 
107 |     derating_factor: Factor associated with the reliability of a plant's ability to produce power.
108 |        Must logically be between 0 to 1.
109 |     passive_power: Expression for parasitic passive recirculating power.
110 |     active_power: Expression for parasitic active recirculating power.
111 |     start_power: Expression for parasitic pulse start (peak) power.
112 | """
113 | function _fusion_crm_parasitic_adjustment(derating_factor::Float64,
114 |         passive_power::AffExpr,
115 |         active_power::AffExpr,
116 |         start_power::AffExpr)::AffExpr
117 |     return -derating_factor * (active_power + start_power) - passive_power
118 | end
119 | 
120 | #################################
121 | #
122 | #    Energy Share Requirement
123 | #
124 | #################################
125 | 
126 | function fusion_parasitic_power_adjust_energy_share_requirement!(EP, inputs)
127 |     eESR = EP[:eESR]
128 |     nESR = inputs["nESR"]
129 |     gen = inputs["RESOURCES"]
130 |     FUSION = ids_with(gen, fusion)
131 | 
132 |     for y in FUSION, p in 1:nESR
133 |         esr_derating = esr(gen[y], tag=p)
134 |         if esr_derating > 0
135 |             resource_component = resource_name(gen[y])
136 |             adjustment = -esr_derating *
137 |                          fusion_annual_parasitic_power(EP, inputs, resource_component)
138 |             add_similar_to_expression!(eESR[p], adjustment)
139 |         end
140 |     end
141 | end
142 | 


--------------------------------------------------------------------------------
/src/model/resources/hydro/hydro_inter_period_linkage.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	hydro_inter_period_linkage!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function creates variables and constraints enabling modeling of long duration storage resources when modeling representative time periods.
  4 | 
  5 | **Storage inventory balance at beginning of each representative period**
  6 | The constraints in this section are used to approximate the behavior of long-duration energy storage technologies when approximating annual grid operations by modeling operations over representative periods. Previously, the state of charge balance for storage (as defined in ```storage_all()```) assumed that state of charge at the beginning and end of each representative period has to be the same. In other words, the amount of energy built up or consumed by storage technology $o$ in zone $z$ over the representative period $m$, $\Delta Q_{o,z,m} = 0$. This assumption implicitly excludes the possibility of transferring energy from one representative period to the other which could be cost-optimal when the capital cost of energy storage capacity is relatively small. To model long-duration energy storage using representative periods, we replace the state of charge equation, such that the first term on the right hand side accounts for change in storage inventory associated with representative period $m$ ($\Delta Q_{o,z,m}$), which could be positive (net accumulation) or negative (net reduction).
  7 | ```math
  8 | \begin{aligned}
  9 | & \Gamma_{o,z,(m-1)\times \tau^{period}+1 } =\left(1-\eta_{o,z}^{loss}\right)\times \left(\Gamma_{o,z,m\times \tau^{period}} -\Delta Q_{o,z,m}\right) -  \\
 10 | & \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}
 11 | \end{aligned}
 12 | ```
 13 | By definition $\mathcal{T}^{start}=\{\left(m-1\right) \times \tau^{period}+1 | m \in \mathcal{M}\}$, which implies that this constraint is defined for all values of $t \in T^{start}$.
 14 | 
 15 | **Storage inventory change input periods**
 16 | We need additional variables and constraints to approximate energy exchange between representative periods, while accounting for their chronological occurence in the original input time series data and the possibility that two representative periods may not be adjacent to each other (see Figure below). To implement this, we introduce a new variable $Q_{o,z, n}$ that models inventory of storage technology $o \in O$ in zone $z$ in each input period $n \in \mathcal{N}$. Additionally we define a function mapping, $f: n \rightarrow m$, that uniquely maps each input period $n$ to its corresponding representative period $m$. This mapping is available as an output of the process used to identify representative periods (E.g. k-means clustering [Mallapragada et al., 2018](https://www.sciencedirect.com/science/article/pii/S0360544218315238?casa_token=I-6GVNMtAVIAAAAA:G8LFXFqXxRGrXHtrzmiIGm02BusIUmm83zKh8xf1BXY81-dTnA9p2YI1NnGuzlYBXsxK12by)).
 17 | ![Modeling inter-period energy exchange via long-duration storage when using representative period temporal resolution to approximate annual grid operations](../../assets/LDES_approach.png)
 18 | *Figure. Modeling inter-period energy exchange via long-duration storage when using representative period temporal resolution to approximate annual grid operations*
 19 | The following two equations define the storage inventory at the beginning of each input period $n+1$ as the sum of storage inventory at begining of previous input period $n$ plus change in storage inventory for that period. The latter is approximated by the change in storage inventory in the corresponding representative period, identified per the mapping $f(n)$.  The second constraint relates the storage level of the last input period, $|N|$, with the storage level at the beginning of the first input period. Finally, if the input period is also a representative period, then a third constraint enforces that initial storage level estimated by the intra-period storage balance constraint should equal the initial storage level estimated from the inter-period storage balance constraints. Note that $|N|$ refers to the last modeled period.
 20 | ```math
 21 | \begin{aligned}
 22 | & Q_{o,z,n+1} = Q_{o,z,n} + \Delta Q_{o,z,f(n)}
 23 | \quad \forall  o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}\setminus\{|N|\}
 24 | \end{aligned}
 25 | ```
 26 | ```math
 27 | \begin{aligned}
 28 | & Q_{o,z,1} = Q_{o,z,|N|} + \Delta Q_{o,z,f(|N|)}
 29 | \quad \forall  o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n = |N|
 30 | \end{aligned}
 31 | ```
 32 | ```math
 33 | \begin{aligned}
 34 | & Q_{o,z,n} =\Gamma_{o,z,f(n)\times \tau^{period}} - \Delta Q_{o,z,m}
 35 | \quad \forall  o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in   \mathcal{N}^{rep},
 36 | \end{aligned}
 37 | ```
 38 | Finally, the next constraint enforces that the initial storage level for each input period $n$ must be less than the installed energy capacity limit. This constraint ensures that installed energy storage capacity is consistent with the state of charge during both the operational time periods $t$ during each sample period $m$ as well as at the start of each chronologically ordered input period $n$ in the full annual time series.
 39 | ```math
 40 | \begin{aligned}
 41 |     Q_{o,z,n} \leq \Delta^{total, energy}_{o,z}
 42 | \quad \forall n \in \mathcal{N}, o \in \mathcal{O}^{LDES}
 43 | \end{aligned}
 44 | ```
 45 | 
 46 | **Bound storage inventory in non-representative periods**
 47 | We need additional variables and constraints to ensure that the storage content is within zero and the installed energy capacity in non-representative periods. We introduce
 48 | the variables $\Delta Q^{max,pos}_{o,z,m}$ and $\Delta Q^{max,neg}_{o,z,m}$ that represent the maximum positive and negative storage content variations within the representative
 49 | period $m$, respectively, extracted as:
 50 | 
 51 | ```math
 52 | \begin{aligned}
 53 | & \Delta Q^{max,pos}_{o,z,m} \geq \Gamma_{o,z,(m-1)\times \tau^{period}+t } - \Gamma_{o,z,(m-1)\times \tau^{period}+1 } \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}, t \in \mathcal{T}
 54 | & \end{aligned}
 55 | ```
 56 | 
 57 | ```math
 58 | \begin{aligned}
 59 | & \Delta Q^{max,neg}_{o,z,m} \leq \Gamma_{o,z,(m-1)\times \tau^{period}+t } - \Gamma_{o,z,(m-1)\times \tau^{period}+1 } \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}, t \in \mathcal{T}
 60 | & \end{aligned}
 61 | ```
 62 | 
 63 | For every input period $n \in \mathcal{N}$, the maximum storage is computed and constrained to be less than or equal to the installed energy capacity as:
 64 | 
 65 | ```math
 66 | \begin{aligned}
 67 | &  Q_{o,z,n} \times \left(1-\eta_{o,z}^{loss}\right) - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} + \Delta Q^{max,pos}_{o,z,f(n)} \leq \Delta^{total, energy}_{o,z} \\
 68 | & \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}
 69 | & \end{aligned}
 70 | ```
 71 | 
 72 | Similarly, the minimum storage content is imposed to be positive in every period of the time horizon:
 73 | 
 74 | ```math
 75 | \begin{aligned}
 76 | &  Q_{o,z,n} \times \left(1-\eta_{o,z}^{loss}\right) - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} + \Delta Q^{max,neg}_{o,z,f(n)} \geq 0 \\
 77 | & \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}
 78 | & \end{aligned}
 79 | ```
 80 | 
 81 | Additional details on this approach are available in [Parolin et al., 2024](https://doi.org/10.48550/arXiv.2409.19079).
 82 | """
 83 | function hydro_inter_period_linkage!(EP::Model, inputs::Dict, setup::Dict)
 84 |     println("Long Duration Storage Module for Hydro Reservoir")
 85 | 
 86 |     gen = inputs["RESOURCES"]
 87 | 
 88 |     REP_PERIOD = inputs["REP_PERIOD"]     # Number of representative periods
 89 | 
 90 |     STOR_HYDRO_LONG_DURATION = inputs["STOR_HYDRO_LONG_DURATION"]
 91 | 
 92 |     hours_per_subperiod = inputs["hours_per_subperiod"] #total number of hours per subperiod
 93 | 
 94 |     dfPeriodMap = inputs["Period_Map"] # Dataframe that maps modeled periods to representative periods
 95 |     NPeriods = size(inputs["Period_Map"])[1] # Number of modeled periods
 96 | 
 97 |     MODELED_PERIODS_INDEX = 1:NPeriods
 98 |     REP_PERIODS_INDEX = MODELED_PERIODS_INDEX[dfPeriodMap[!, :Rep_Period] .== MODELED_PERIODS_INDEX]
 99 |     NON_REP_PERIODS_INDEX = setdiff(MODELED_PERIODS_INDEX, REP_PERIODS_INDEX)
100 | 
101 |     ### Variables ###
102 | 
103 |     # Variables to define inter-period energy transferred between modeled periods
104 | 
105 |     # State of charge of storage at beginning of each modeled period n
106 |     @variable(EP, vSOC_HYDROw[y in STOR_HYDRO_LONG_DURATION, n in MODELED_PERIODS_INDEX]>=0)
107 | 
108 |     # Build up in storage inventory over each representative period w
109 |     # Build up inventory can be positive or negative
110 |     @variable(EP, vdSOC_HYDRO[y in STOR_HYDRO_LONG_DURATION, w = 1:REP_PERIOD])
111 | 
112 |     # Additional constraints to prevent violation of SoC limits in non-representative periods
113 |     if setup["LDSAdditionalConstraints"] == 1 && !isempty(NON_REP_PERIODS_INDEX)
114 |         # Maximum positive storage inventory change within subperiod
115 | 	    @variable(EP, vdSOC_maxPos_HYDRO[y in STOR_HYDRO_LONG_DURATION, w=1:REP_PERIOD] >= 0)
116 | 
117 |         # Maximum negative storage inventory change within subperiod
118 |         @variable(EP, vdSOC_maxNeg_HYDRO[y in STOR_HYDRO_LONG_DURATION, w=1:REP_PERIOD] <= 0)	
119 |     end
120 | 
121 |     ### Constraints ###
122 | 
123 |     # Links last time step with first time step, ensuring position in hour 1 is within eligible change from final hour position
124 |     # Modified initial state of storage for long-duration storage - initialize wth value carried over from last period
125 |     # Alternative to cSoCBalStart constraint which is included when not modeling operations wrapping and long duration storage
126 |     # Note: tw_min = hours_per_subperiod*(w-1)+1; tw_max = hours_per_subperiod*w
127 |     @constraint(EP,
128 |         cHydroReservoirLongDurationStorageStart[w = 1:REP_PERIOD,
129 |             y in STOR_HYDRO_LONG_DURATION],
130 |         EP[:vS_HYDRO][y,
131 |             hours_per_subperiod * (w - 1) + 1]==(EP[:vS_HYDRO][y, hours_per_subperiod * w] -
132 |                                                  vdSOC_HYDRO[y, w]) -
133 |                                                 (1 / efficiency_down(gen[y]) * EP[:vP][
134 |             y, hours_per_subperiod * (w - 1) + 1]) -
135 |                                                 EP[:vSPILL][
136 |             y, hours_per_subperiod * (w - 1) + 1] +
137 |                                                 inputs["pP_Max"][
138 |             y, hours_per_subperiod * (w - 1) + 1] * EP[:eTotalCap][y])
139 |     # Storage at beginning of period w = storage at beginning of period w-1 + storage built up in period w (after n representative periods)
140 |     ## Multiply storage build up term from prior period with corresponding weight
141 |     @constraint(EP,
142 |         cHydroReservoirLongDurationStorage[y in STOR_HYDRO_LONG_DURATION,
143 |             r in MODELED_PERIODS_INDEX],
144 |         vSOC_HYDROw[y,
145 |             mod1(r + 1, NPeriods)]==vSOC_HYDROw[y, r] +
146 |                                     vdSOC_HYDRO[y, dfPeriodMap[r, :Rep_Period_Index]])
147 | 
148 |     # Storage at beginning of each modeled period cannot exceed installed energy capacity
149 |     @constraint(EP,
150 |         cHydroReservoirLongDurationStorageUpper[y in STOR_HYDRO_LONG_DURATION,
151 |             r in MODELED_PERIODS_INDEX],
152 |         vSOC_HYDROw[y, r]<=hydro_energy_to_power_ratio(gen[y]) * EP[:eTotalCap][y])
153 | 
154 |     # Initial storage level for representative periods must also adhere to sub-period storage inventory balance
155 |     # Initial storage = Final storage - change in storage inventory across representative period
156 |     @constraint(EP,
157 |         cHydroReservoirLongDurationStorageSub[y in STOR_HYDRO_LONG_DURATION,
158 |             r in REP_PERIODS_INDEX],
159 |         vSOC_HYDROw[y,r]==EP[:vS_HYDRO][y, hours_per_subperiod * dfPeriodMap[r, :Rep_Period_Index]] -
160 |                 vdSOC_HYDRO[y, dfPeriodMap[r, :Rep_Period_Index]])
161 | 
162 |     if setup["LDSAdditionalConstraints"] == 1 && !isempty(NON_REP_PERIODS_INDEX)
163 |         # Extract maximum storage level variation (positive) within subperiod
164 |         @constraint(EP, cMaxSoCVarPos_H[y in STOR_HYDRO_LONG_DURATION, w=1:REP_PERIOD, t=2:hours_per_subperiod],
165 |                     vdSOC_maxPos_HYDRO[y,w] >= EP[:vS_HYDRO][y,hours_per_subperiod*(w-1)+t] - EP[:vS_HYDRO][y,hours_per_subperiod*(w-1)+1])
166 | 
167 |         # Extract maximum storage level variation (negative) within subperiod
168 |         @constraint(EP, cMaxSoCVarNeg_H[y in STOR_HYDRO_LONG_DURATION, w=1:REP_PERIOD, t=2:hours_per_subperiod],
169 |                         vdSOC_maxNeg_HYDRO[y,w] <= EP[:vS_HYDRO][y,hours_per_subperiod*(w-1)+t] - EP[:vS_HYDRO][y,hours_per_subperiod*(w-1)+1])
170 | 
171 |         # Max storage content within each modeled period cannot exceed installed energy capacity
172 |         @constraint(EP, cSoCLongDurationStorageMaxInt_H[y in STOR_HYDRO_LONG_DURATION, r in NON_REP_PERIODS_INDEX],
173 |             vSOC_HYDROw[y,r]-(1/efficiency_down(gen[y])*EP[:vP][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
174 |             -EP[:vSPILL][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1]
175 |             +inputs["pP_Max"][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1]*EP[:eTotalCap][y]
176 |             +vdSOC_maxPos_HYDRO[y,dfPeriodMap[r,:Rep_Period_Index]] <= hydro_energy_to_power_ratio(gen[y])*EP[:eTotalCap][y])
177 | 
178 |         # Min storage content within each modeled period cannot be negative
179 |         @constraint(EP, cSoCLongDurationStorageMinInt_H[y in STOR_HYDRO_LONG_DURATION, r in NON_REP_PERIODS_INDEX],
180 |             vSOC_HYDROw[y,r]-(1/efficiency_down(gen[y])*EP[:vP][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
181 |             -EP[:vSPILL][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1]
182 |             +inputs["pP_Max"][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1]*EP[:eTotalCap][y]
183 |             +vdSOC_maxPos_HYDRO[y,dfPeriodMap[r,:Rep_Period_Index]] >= 0)     
184 |     end
185 | end
186 | 


--------------------------------------------------------------------------------
/src/model/resources/hydro/hydro_res.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	hydro_res!(EP::Model, inputs::Dict, setup::Dict)
  3 | This module defines the operational constraints for reservoir hydropower plants.
  4 | Hydroelectric generators with water storage reservoirs ($y \in \mathcal{W}$) are effectively modeled as energy storage devices that cannot charge from the grid and instead receive exogenous inflows to their storage reservoirs, reflecting stream flow inputs. For resources with unknown reservoir capacity ($y \in \mathcal{W}^{nocap}$), their operation is parametrized by their generation efficiency, $\eta_{y,z}^{down}$, and energy inflows to the reservoir at every time-step, represented as a fraction of the total power capacity,($\rho^{max}_{y,z,t}$).  In case reservoir capacity is known ($y \in \mathcal{W}^{cap}$), an additional parameter, $\mu^{stor}_{y,z}$, referring to the ratio of energy capacity to discharge power capacity, is used to define the available reservoir storage capacity.
  5 | 
  6 | **Storage inventory balance**
  7 | Reservoir hydro systems are governed by the storage inventory balance constraint given below. This constraint enforces that energy level of the reservoir resource $y$ and zone $z$ in time step $t$ ($\Gamma_{y,z,t}$) is defined as the sum of the reservoir level in the previous time step, less the amount of electricity generated, $\Theta_{y,z,t}$ (accounting for the generation efficiency, $\eta_{y,z}^{down}$), minus any spillage $\varrho_{y,z,t}$, plus the hourly inflows into the reservoir (equal to the installed reservoir discharged capacity times the normalized hourly inflow parameter $\rho^{max}_{y,z, t}$).
  8 | ```math
  9 | \begin{aligned}
 10 | &\Gamma_{y,z,t} = \Gamma_{y,z,t-1} -\frac{1}{\eta_{y,z}^{down}}\Theta_{y,z,t} - \varrho_{y,z,t} + \rho^{max}_{y,z,t} \times \Delta^{total}_{y,z}  \hspace{.1 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}^{interior} \\
 11 | &\Gamma_{y,z,t} = \Gamma_{y,z,t+\tau^{period}-1} -\frac{1}{\eta_{y,z}^{down}}\Theta_{y,z,t} - \varrho_{y,z,t} + \rho^{max}_{y,z,t} \times \Delta^{total}_{y,z}  \hspace{.1 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}^{start}
 12 | \end{aligned}
 13 | ```
 14 | We implement time-wrapping to endogenize the definition of the intial state prior to the first period with the following assumption. If time step $t$ is the first time step of the year then storage inventory at $t$ is defined based on last time step of the year. Alternatively, if time step $t$ is the first time step of a representative period, then storage inventory at $t$ is defined based on the last time step of the representative period. Thus, when using representative periods, the storage balance constraint for hydro resources does not allow for energy exchange between representative periods.
 15 | Note: in future updates, an option to model hydro resources with large reservoirs that can transfer energy across sample periods will be implemented, similar to the functions for modeling long duration energy storage in ```long_duration_storage.jl```.
 16 | 
 17 | **Ramping Limits**
 18 | The following constraints enforce hourly changes in power output (ramps down and ramps up) to be less than the maximum ramp rates ($\kappa^{down}_{y,z}$ and $\kappa^{up}_{y,z}$ ) in per unit terms times the total installed capacity of technology y ($\Delta^{total}_{y,z}$).
 19 | ```math
 20 | \begin{aligned}
 21 | &\Theta_{y,z,t} + f_{y,z,t} + r_{y,z,t} - \Theta_{y,z,t-1} - f_{y,z,t-1} \leq \kappa^{up}_{y,z} \times \Delta^{total}_{y,z}
 22 | \hspace{2 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
 23 | \end{aligned}
 24 | ```
 25 | ```math
 26 | \begin{aligned}
 27 | &\Theta_{y,z,t-1} + f_{y,z,t-1}  + r_{y,z,t-1} - \Theta_{y,z,t} - f_{y,z,t}\leq \kappa^{down}_{y,z} \Delta^{total}_{y,z}
 28 | \hspace{2 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
 29 | \end{aligned}
 30 | ```
 31 | Ramping constraints are enforced for all time steps except the first time step of the year or first time of each representative period when using representative periods to model grid operations.
 32 | 
 33 | **Power generation and stream flow bounds**
 34 | Electricity production plus total spilled power from hydro resources is constrained to always be above a minimum output parameter, $\rho^{min}_{y,z}$, to represent operational constraints related to minimum stream flows or other demands for water from hydro reservoirs. Electricity production is constrained by either the the net installed capacity or by the energy level in the reservoir in the prior time step, whichever is more binding. For the latter constraint, the constraint for the first time step of the year (or the first time step of each representative period) is implemented based on energy storage level in last time step of the year (or last time step of each representative period).
 35 | ```math
 36 | \begin{aligned}
 37 | &\Theta_{y,z,t} + \varrho_{y,z,t}  \geq \rho^{min}_{y,z} \times \Delta^{total}_{y,z}
 38 | \hspace{2 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
 39 | \end{aligned}
 40 | ```
 41 | ```math
 42 | \begin{aligned}
 43 | \Theta_{y,t}  \leq \times \Delta^{total}_{y,z}
 44 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t\in \mathcal{T}
 45 | \end{aligned}
 46 | ```
 47 | ```math
 48 | \begin{aligned}
 49 | \Theta_{y,z,t} \leq  \Gamma_{y,t-1}
 50 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t\in \mathcal{T}
 51 | \end{aligned}
 52 | ```
 53 | 
 54 | **Reservoir energy capacity constraint**
 55 | In case the reservoir capacity is known ($y \in W^{cap}$), then an additional constraint enforces the total stored energy in each time step to be less than or equal to the available reservoir capacity. Here, the reservoir capacity is defined multiplying the parameter, $\mu^{stor}_{y,z}$ with the available power capacity.
 56 | ```math
 57 | \begin{aligned}
 58 | \Gamma_{y,z, t} \leq \mu^{stor}_{y,z}\times \Delta^{total}_{y,z}
 59 | \hspace{4 cm}  \forall y \in \mathcal{W}^{cap}, z \in \mathcal{Z}, t\in \mathcal{T}
 60 | \end{aligned}
 61 | ```
 62 | """
 63 | function hydro_res!(EP::Model, inputs::Dict, setup::Dict)
 64 |     println("Hydro Reservoir Core Resources Module")
 65 | 
 66 |     gen = inputs["RESOURCES"]
 67 | 
 68 |     T = inputs["T"]     # Number of time steps (hours)
 69 |     Z = inputs["Z"]     # Number of zones
 70 | 
 71 |     p = inputs["hours_per_subperiod"] # total number of hours per subperiod
 72 | 
 73 |     HYDRO_RES = inputs["HYDRO_RES"]# Set of all reservoir hydro resources, used for common constraints
 74 |     HYDRO_RES_KNOWN_CAP = inputs["HYDRO_RES_KNOWN_CAP"] # Reservoir hydro resources modeled with unknown reservoir energy capacity
 75 | 
 76 |     STOR_HYDRO_SHORT_DURATION = inputs["STOR_HYDRO_SHORT_DURATION"]
 77 |     representative_periods = inputs["REP_PERIOD"]
 78 | 
 79 |     START_SUBPERIODS = inputs["START_SUBPERIODS"]
 80 |     INTERIOR_SUBPERIODS = inputs["INTERIOR_SUBPERIODS"]
 81 | 
 82 |     # These variables are used in the ramp-up and ramp-down expressions
 83 |     reserves_term = @expression(EP, [y in HYDRO_RES, t in 1:T], 0)
 84 |     regulation_term = @expression(EP, [y in HYDRO_RES, t in 1:T], 0)
 85 | 
 86 |     if setup["OperationalReserves"] > 0
 87 |         HYDRO_RES_REG = intersect(HYDRO_RES, inputs["REG"]) # Set of reservoir hydro resources with regulation reserves
 88 |         HYDRO_RES_RSV = intersect(HYDRO_RES, inputs["RSV"]) # Set of reservoir hydro resources with spinning reserves
 89 |         regulation_term = @expression(EP, [y in HYDRO_RES, t in 1:T],
 90 |             y âˆˆ HYDRO_RES_REG ? EP[:vREG][y, t] - EP[:vREG][y, hoursbefore(p, t, 1)] : 0)
 91 |         reserves_term = @expression(EP, [y in HYDRO_RES, t in 1:T],
 92 |             y âˆˆ HYDRO_RES_RSV ? EP[:vRSV][y, t] : 0)
 93 |     end
 94 | 
 95 |     ### Variables ###
 96 | 
 97 |     # Reservoir hydro storage level of resource "y" at hour "t" [MWh] on zone "z" - unbounded
 98 |     @variable(EP, vS_HYDRO[y in HYDRO_RES, t = 1:T]>=0)
 99 | 
100 |     # Hydro reservoir overflow (water spill) variable
101 |     @variable(EP, vSPILL[y in HYDRO_RES, t = 1:T]>=0)
102 | 
103 |     ### Expressions ###
104 | 
105 |     ## Power Balance Expressions ##
106 |     @expression(EP, ePowerBalanceHydroRes[t = 1:T, z = 1:Z],
107 |         sum(EP[:vP][y, t] for y in intersect(HYDRO_RES, resources_in_zone_by_rid(gen, z))))
108 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceHydroRes)
109 | 
110 |     # Capacity Reserves Margin policy
111 |     if setup["CapacityReserveMargin"] > 0
112 |         @expression(EP,
113 |             eCapResMarBalanceHydro[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
114 |             sum(derating_factor(gen[y], tag = res) * EP[:vP][y, t] for y in HYDRO_RES))
115 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceHydro)
116 |     end
117 | 
118 |     ### Constratints ###
119 | 
120 |     if representative_periods > 1 && !isempty(inputs["STOR_HYDRO_LONG_DURATION"])
121 |         CONSTRAINTSET = STOR_HYDRO_SHORT_DURATION
122 |     else
123 |         CONSTRAINTSET = HYDRO_RES
124 |     end
125 | 
126 |     @constraint(EP,
127 |         cHydroReservoirStart[y in CONSTRAINTSET, t in START_SUBPERIODS],
128 |         EP[:vS_HYDRO][y,
129 |             t]==EP[:vS_HYDRO][y, hoursbefore(p, t, 1)] -
130 |                 (1 / efficiency_down(gen[y]) * EP[:vP][y, t]) - vSPILL[y, t] +
131 |                 inputs["pP_Max"][y, t] * EP[:eTotalCap][y])
132 | 
133 |     ### Constraints commmon to all reservoir hydro (y in set HYDRO_RES) ###
134 |     @constraints(EP,
135 |         begin
136 |             ### NOTE: time coupling constraints in this block do not apply to first hour in each sample period;
137 |             # Energy stored in reservoir at end of each other hour is equal to energy at end of prior hour less generation and spill and + inflows in the current hour
138 |             # The ["pP_Max"][y,t] term here refers to inflows as a fraction of peak discharge power capacity.
139 |             # DEV NOTE: Last inputs["pP_Max"][y,t] term above is inflows; currently part of capacity factors inputs in Generators_variability.csv but should be moved to its own Hydro_inflows.csv input in future.
140 | 
141 |             # Constraints for reservoir hydro
142 |             cHydroReservoirInterior[y in HYDRO_RES, t in INTERIOR_SUBPERIODS],
143 |             EP[:vS_HYDRO][y, t] == (EP[:vS_HYDRO][y, hoursbefore(p, t, 1)] -
144 |              (1 / efficiency_down(gen[y]) * EP[:vP][y, t]) - vSPILL[y, t] +
145 |              inputs["pP_Max"][y, t] * EP[:eTotalCap][y])
146 | 
147 |             # Maximum ramp up and down
148 |             cRampUp[y in HYDRO_RES, t in 1:T],
149 |             EP[:vP][y, t] + regulation_term[y, t] + reserves_term[y, t] -
150 |             EP[:vP][y, hoursbefore(p, t, 1)] <=
151 |             ramp_up_fraction(gen[y]) * EP[:eTotalCap][y]
152 |             cRampDown[y in HYDRO_RES, t in 1:T],
153 |             EP[:vP][y, hoursbefore(p, t, 1)] - EP[:vP][y, t] - regulation_term[y, t] +
154 |             reserves_term[y, hoursbefore(p, t, 1)] <=
155 |             ramp_down_fraction(gen[y]) * EP[:eTotalCap][y]
156 |             # Minimum streamflow running requirements (power generation and spills must be >= min value) in all hours
157 |             cHydroMinFlow[y in HYDRO_RES, t in 1:T],
158 |             EP[:vP][y, t] + EP[:vSPILL][y, t] >= min_power(gen[y]) * EP[:eTotalCap][y]
159 |             # DEV NOTE: When creating new hydro inputs, should rename Min_Power with Min_flow or similar for clarity since this includes spilled water as well
160 | 
161 |             # Maximum discharging rate must be less than power rating OR available stored energy at start of hour, whichever is less
162 |             # DEV NOTE: We do not currently account for hydro power plant outages - leave it for later to figure out if we should.
163 |             # DEV NOTE (CONTD): If we defin pPMax as hourly availability of the plant and define inflows as a separate parameter, then notation will be consistent with its use for other resources
164 |             cHydroMaxPower[y in HYDRO_RES, t in 1:T], EP[:vP][y, t] <= EP[:eTotalCap][y]
165 |             cHydroMaxOutflow[y in HYDRO_RES, t in 1:T],
166 |             EP[:vP][y, t] <= EP[:vS_HYDRO][y, hoursbefore(p, t, 1)]
167 |         end)
168 | 
169 |     ### Constraints to limit maximum energy in storage based on known limits on reservoir energy capacity (only for HYDRO_RES_KNOWN_CAP)
170 |     # Maximum energy stored in reservoir must be less than energy capacity in all hours - only applied to HYDRO_RES_KNOWN_CAP
171 |     @constraint(EP,
172 |         cHydroMaxEnergy[y in HYDRO_RES_KNOWN_CAP, t in 1:T],
173 |         EP[:vS_HYDRO][y, t]<=hydro_energy_to_power_ratio(gen[y]) * EP[:eTotalCap][y])
174 | 
175 |     if setup["OperationalReserves"] == 1
176 |         ### Reserve related constraints for reservoir hydro resources (y in HYDRO_RES), if used
177 |         hydro_res_operational_reserves!(EP, inputs)
178 |     end
179 |     ##CO2 Polcy Module Hydro Res Generation by zone
180 |     @expression(EP, eGenerationByHydroRes[z = 1:Z, t = 1:T], # the unit is GW
181 |         sum(EP[:vP][y, t] for y in intersect(HYDRO_RES, resources_in_zone_by_rid(gen, z))))
182 |     add_similar_to_expression!(EP[:eGenerationByZone], eGenerationByHydroRes)
183 | end
184 | 
185 | @doc raw"""
186 | 	hydro_res_operational_reserves!(EP::Model, inputs::Dict)
187 | This module defines the modified constraints and additional constraints needed when modeling operating reserves
188 | 
189 | **Modifications when operating reserves are modeled**
190 | When modeling operating reserves, the constraints regarding maximum power flow limits are modified to account for procuring some of the available capacity for frequency regulation ($f_{y,z,t}$) and "updward" operating (or spinning) reserves ($r_{y,z,t}$).
191 | ```math
192 | \begin{aligned}
193 |  \Theta_{y,z,t} + f_{y,z,t} +r_{y,z,t}  \leq  \times \Delta^{total}_{y,z}
194 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t\in \mathcal{T}
195 | \end{aligned}
196 | ```
197 | The amount of downward frequency regulation reserves cannot exceed the current power output.
198 | ```math
199 | \begin{aligned}
200 |  f_{y,z,t} \leq \Theta_{y,z,t}
201 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
202 | \end{aligned}
203 | ```
204 | The amount of frequency regulation and operating reserves procured in each time step is bounded by the user-specified fraction ($\upsilon^{reg}_{y,z}$,$\upsilon^{rsv}_{y,z}$) of nameplate capacity for each reserve type, reflecting the maximum ramp rate for the hydro resource in whatever time interval defines the requisite response time for the regulation or reserve products (e.g., 5 mins or 15 mins or 30 mins). These response times differ by system operator and reserve product, and so the user should define these parameters in a self-consistent way for whatever system context they are modeling.
205 | ```math
206 | \begin{aligned}
207 | f_{y,z,t} \leq \upsilon^{reg}_{y,z} \times \Delta^{total}_{y,z}
208 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T} \\
209 | r_{y,z, t} \leq \upsilon^{rsv}_{y,z}\times \Delta^{total}_{y,z}
210 | \hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
211 | \end{aligned}
212 | ```
213 | """
214 | function hydro_res_operational_reserves!(EP::Model, inputs::Dict)
215 |     println("Hydro Reservoir Operational Reserves Module")
216 | 
217 |     gen = inputs["RESOURCES"]
218 | 
219 |     T = inputs["T"]     # Number of time steps (hours)
220 | 
221 |     HYDRO_RES = inputs["HYDRO_RES"]
222 |     REG = inputs["REG"]
223 |     RSV = inputs["RSV"]
224 | 
225 |     HYDRO_RES_REG = intersect(HYDRO_RES, REG) # Set of reservoir hydro resources with regulation reserves
226 |     HYDRO_RES_RSV = intersect(HYDRO_RES, RSV) # Set of reservoir hydro resources with spinning reserves
227 | 
228 |     vP = EP[:vP]
229 |     vREG = EP[:vREG]
230 |     vRSV = EP[:vRSV]
231 |     eTotalCap = EP[:eTotalCap]
232 | 
233 |     max_up_reserves_lhs = extract_time_series_to_expression(vP, HYDRO_RES)
234 |     max_dn_reserves_lhs = extract_time_series_to_expression(vP, HYDRO_RES)
235 | 
236 |     S = HYDRO_RES_REG
237 |     add_similar_to_expression!(max_up_reserves_lhs[S, :], vREG[S, :])
238 |     add_similar_to_expression!(max_dn_reserves_lhs[S, :], -vREG[S, :])
239 | 
240 |     S = HYDRO_RES_RSV
241 |     add_similar_to_expression!(max_up_reserves_lhs[S, :], vRSV[S, :])
242 | 
243 |     @constraint(EP, [y in HYDRO_RES, t in 1:T], max_up_reserves_lhs[y, t]<=eTotalCap[y])
244 |     @constraint(EP, [y in HYDRO_RES, t in 1:T], max_dn_reserves_lhs[y, t]>=0)
245 | 
246 |     @constraint(EP,
247 |         [y in HYDRO_RES_REG, t in 1:T],
248 |         vREG[y, t]<=reg_max(gen[y]) * eTotalCap[y])
249 |     @constraint(EP,
250 |         [y in HYDRO_RES_RSV, t in 1:T],
251 |         vRSV[y, t]<=rsv_max(gen[y]) * eTotalCap[y])
252 | end
253 | 


--------------------------------------------------------------------------------
/src/model/resources/hydrogen/electrolyzer.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	electrolyzer!(EP::Model, inputs::Dict, setup::Dict)
  3 | 
  4 | This function defines the expressions and constraints for operation of hydrogen electrolyzers ($y \in \mathcal{EL} \subseteq \mathcal{G}$).
  5 | 	This is a basic implementation of hydrogen electrolyzers that allows the specification of an hourly clean supply constraint.
  6 | 	For a richer formulation, please see the DOLPHYN code at https://github.com/macroenergy/DOLPHYN.
  7 | 
  8 | **Expressions**
  9 | 
 10 | Consumption of electricity by electrolyzer $y$ in time $t$, denoted by $\Pi_{y,z}$, is subtracted from power balance expression `ePowerBalance` (as per other demands or battery charging) and added to Energy Share Requirement policy balance (if applicable), `eESR`.
 11 | 
 12 | Revenue from hydrogen production by each electrolyzer $y$, equal to `` \omega_t \times \Pi_{y,t} / \eta^{electrolyzer}_y \times \$^{hydrogen}_y ``, is subtracted from the objective function, where $\eta^{electrolyzer}_y$ is the efficiency of the electrolyzer $y$ in megawatt-hours (MWh) of electricity per metric tonne of hydrogen produced and ``\$^{hydrogen}_y`` is the price of hydrogen per metric tonne for electrolyzer $y$.
 13 | 
 14 | Hourly consumption from electrolyzers $y$ in the zone, equal to:
 15 | ```math
 16 | \begin{aligned}
 17 |     \sum_{y \in {z \cap \mathcal{EL}}} \Pi_{y,t}
 18 | \end{aligned}
 19 | ```
 20 | is subtracted from the hourly matching policy balance `eHM` (if applicable).
 21 | 
 22 | **Ramping limits**
 23 | 
 24 | Electrolyzers adhere to the following ramping limits on hourly changes in power output:
 25 | 
 26 | ```math
 27 | \begin{aligned}
 28 | 	\Pi_{y,t-1} - \Pi_{y,t} \leq \kappa_{y}^{down} \Delta^{\text{total}}_{y}, \hspace{1cm} \forall y \in \mathcal{EL}, \forall t \in \mathcal{T}
 29 | \end{aligned}
 30 | ```
 31 | 
 32 | ```math
 33 | \begin{aligned}
 34 | 	\Pi_{y,t} - \Pi_{y,t-1} \leq \kappa_{y}^{up} \Delta^{\text{total}}_{y} \hspace{1cm} \forall y \in \mathcal{EL}, \forall t \in \mathcal{T}
 35 | \end{aligned}
 36 | ```
 37 | (See Constraints 1-2 in the code)
 38 | 
 39 | This set of time-coupling constraints wrap around to ensure the power output in the first time step of each year (or each representative period), $t \in \mathcal{T}^{start}$, is within the eligible ramp of the power output in the final time step of the year (or each representative period), $t+\tau^{period}-1$.
 40 | 
 41 | **Minimum and maximum power output**
 42 | 
 43 | Electrolyzers are bound by the following limits on maximum and minimum power output:
 44 | 
 45 | ```math
 46 | \begin{aligned}
 47 | 	\Pi_{y,t} \geq \rho^{min}_{y} \times \Delta^{total}_{y}
 48 | 	\hspace{1cm} \forall y \in \mathcal{EL}, \forall t \in \mathcal{T}
 49 | \end{aligned}
 50 | ```
 51 | 
 52 | ```math
 53 | \begin{aligned}
 54 | 	\Theta_{y,t} \leq \rho^{max}_{y} \times \Pi^{total}_{y}
 55 | 	\hspace{1cm} \forall y \in \mathcal{EL}, \forall t \in \mathcal{T}
 56 | \end{aligned}
 57 | ```
 58 | (See Constraints 3-4 in the code)
 59 | 
 60 | """
 61 | function electrolyzer!(EP::Model, inputs::Dict, setup::Dict)
 62 |     println("Electrolyzer Resources Module")
 63 | 
 64 |     omega = inputs["omega"]
 65 |     gen = inputs["RESOURCES"]
 66 | 
 67 |     T = inputs["T"]     # Number of time steps (hours)
 68 |     Z = inputs["Z"]     # Number of zones
 69 | 
 70 |     ELECTROLYZERS = inputs["ELECTROLYZER"]  # Set of electrolyzers connected to the grid (indices)
 71 |     VRE_STOR = inputs["VRE_STOR"]           # Set of VRE-STOR generators (indices)
 72 |     VS_ELEC = !isempty(VRE_STOR) ? inputs["VS_ELEC"] : Vector{Int}[]    # Set of VRE-STOR co-located electrolyzers (indices)
 73 | 
 74 |     HYDROGEN_ZONES = unique(zone_id(gen[ELECTROLYZERS]))
 75 |     if !isempty(VS_ELEC)
 76 |         HYDROGEN_ZONES = unique(union(HYDROGEN_ZONES, zone_id(gen[VS_ELEC])))
 77 |     end
 78 | 
 79 |     p = inputs["hours_per_subperiod"] #total number of hours per subperiod
 80 |     ### Variables ###
 81 | 
 82 |     # Electrical energy consumed by electrolyzer resource "y" at hour "t"
 83 |     @variable(EP, vUSE[y = ELECTROLYZERS, t in 1:T]>=0)
 84 | 
 85 |     ### Expressions ###
 86 | 
 87 |     ## Power Balance Expressions ##
 88 |     @expression(EP, ePowerBalanceElectrolyzers[t in 1:T, z in 1:Z],
 89 |         sum(EP[:vUSE][y, t]
 90 |         for y in intersect(ELECTROLYZERS, resources_in_zone_by_rid(gen, z))))
 91 | 
 92 |     # Electrolyzers consume electricity so their vUSE is subtracted from power balance
 93 |     EP[:ePowerBalance] -= ePowerBalanceElectrolyzers
 94 | 
 95 |     ## Hydrogen production expressions ##
 96 |     @expression(EP, eH2Production[y in union(ELECTROLYZERS, VS_ELEC)],
 97 |         if y in ELECTROLYZERS
 98 |             sum(omega[t] * EP[:vUSE][y, t] / hydrogen_mwh_per_tonne(gen[y]) for t in 1:T)
 99 |         else
100 |             sum(omega[t] * EP[:vP_ELEC][y, t] / hydrogen_mwh_per_tonne_elec(gen[y])
101 |             for t in 1:T)
102 |         end)
103 | 
104 |     if setup["HydrogenMinimumProduction"] == 1
105 |         @expression(EP, eH2ProductionRes[h2demand = 1:inputs["NumberOfH2DemandReqs"]],
106 |             sum(EP[:eH2Production][y]
107 |             for y in ids_with_policy(gen, h2_demand, tag = h2demand)))
108 |         add_similar_to_expression!(EP[:eH2DemandRes], eH2ProductionRes)
109 |     end
110 | 
111 |     ## Capacity Reserves Margin policy
112 |     # Electrolyzers currently do not contribute to capacity reserve margin. Could allow them to contribute as a curtailable demand in future.
113 |     
114 |     ### Constraints ###
115 | 
116 |     ## Maximum ramp up and down between consecutive hours (Constraints #1-2)
117 |     @constraints(EP,
118 |         begin
119 |             ## Maximum ramp up between consecutive hours
120 |             [y in ELECTROLYZERS, t in 1:T],
121 |             EP[:vUSE][y, t] - EP[:vUSE][y, hoursbefore(p, t, 1)] <=
122 |             ramp_up_fraction(gen[y]) * EP[:eTotalCap][y]
123 | 
124 |             ## Maximum ramp down between consecutive hours
125 |             [y in ELECTROLYZERS, t in 1:T],
126 |             EP[:vUSE][y, hoursbefore(p, t, 1)] - EP[:vUSE][y, t] <=
127 |             ramp_down_fraction(gen[y]) * EP[:eTotalCap][y]
128 |         end)
129 | 
130 |     ## Minimum and maximum power output constraints (Constraints #3-4)
131 |     # Electrolyzers currently do not contribute to operating reserves, so there is not
132 |     # special case (for OperationalReserves == 1) here.
133 |     # Could allow them to contribute as a curtailable demand in future.
134 |     @constraints(EP,
135 |         begin
136 |             # Minimum stable power generated per technology "y" at hour "t" Min_Power
137 |             [y in ELECTROLYZERS, t in 1:T],
138 |             EP[:vUSE][y, t] >= min_power(gen[y]) * EP[:eTotalCap][y]
139 | 
140 |             # Maximum power generated per technology "y" at hour "t"
141 |             [y in ELECTROLYZERS, t in 1:T],
142 |             EP[:vUSE][y, t] <= inputs["pP_Max"][y, t] * EP[:eTotalCap][y]
143 |         end)
144 | 
145 |     # Remove vP (electrolyzers do not produce power so vP = 0 for all periods)
146 |     @constraints(EP, begin
147 |         [y in ELECTROLYZERS, t in 1:T], EP[:vP][y, t] == 0
148 |     end)
149 | 
150 |     ### Hydrogen Hourly Supply Matching Constraint ###
151 |     # Requires generation from qualified resources (indicated by Qualified_Hydrogen_Supply==1 in the resource .csv files)
152 |     # from within the same zone as the electrolyzers are located to be >= hourly consumption from electrolyzers in the zone
153 |     # (and any charging by qualified storage within the zone used to help increase electrolyzer utilization).
154 |     if setup["HydrogenHourlyMatching"] == 1 && setup["HourlyMatching"] == 1
155 |         @expression(EP, eHMElectrolyzer[t in 1:T, z in 1:Z],
156 |             -sum(EP[:vUSE][y, t]
157 |             for y in intersect(resources_in_zone_by_rid(gen, z), ELECTROLYZERS)))
158 |         add_similar_to_expression!(EP[:eHM], eHMElectrolyzer)
159 |     end
160 | 
161 |     ### Energy Share Requirement Policy ###
162 |     # Since we're using vUSE to denote electrolyzer consumption, we subtract this from the eESR Energy Share Requirement balance to increase demand for clean resources if desired
163 |     # Electrolyzer demand is only accounted for in an ESR that the electrolyzer resources is tagged in in Generates_data.csv (e.g. ESR_N > 0) and
164 |     # a share of electrolyzer demand equal to df[y,:ESR_N] must be met by resources qualifying for ESR_N for each electrolyzer resource y.
165 |     if setup["EnergyShareRequirement"] >= 1
166 |         @expression(EP, eElectrolyzerESR[ESR in 1:inputs["nESR"]],
167 |             sum(omega[t] * EP[:vUSE][y, t]
168 |             for y in intersect(ELECTROLYZERS, ids_with_policy(gen, esr, tag = ESR)),
169 |             t in 1:T))
170 |         EP[:eESR] -= eElectrolyzerESR
171 |     end
172 | 
173 |     ### Objective Function ###
174 |     # Subtract hydrogen revenue from objective function
175 |     scale_factor = setup["ParameterScale"] == 1 ? 10^6 : 1  # If ParameterScale==1, costs are in millions of $
176 |     @expression(EP, eHydrogenValue[y in ELECTROLYZERS, t in 1:T],
177 |         omega[t] * EP[:vUSE][y, t] / hydrogen_mwh_per_tonne(gen[y]) *
178 |         hydrogen_price_per_tonne(gen[y])/scale_factor)
179 |     if !isempty(VS_ELEC)
180 |         @expression(EP, eHydrogenValue_vs[y in VS_ELEC, t in 1:T],
181 |             omega[t] * EP[:vP_ELEC][y, t] / hydrogen_mwh_per_tonne_elec(gen[y]) *
182 |             hydrogen_price_per_tonne_elec(gen[y])/scale_factor)
183 |     end
184 |     @expression(EP, eTotalHydrogenValueT[t in 1:T],
185 |         if !isempty(VS_ELEC)
186 |             sum(eHydrogenValue[y, t] for y in ELECTROLYZERS; init = 0) +
187 |             sum(eHydrogenValue_vs[y, t] for y in VS_ELEC)
188 |         else
189 |             sum(eHydrogenValue[y, t] for y in ELECTROLYZERS; init = 0)
190 |         end)
191 |     @expression(EP, eTotalHydrogenValue, sum(eTotalHydrogenValueT[t] for t in 1:T))
192 |     EP[:eObj] -= eTotalHydrogenValue
193 | end
194 | 


--------------------------------------------------------------------------------
/src/model/resources/maintenance.jl:
--------------------------------------------------------------------------------
  1 | const MAINTENANCE_DOWN_VARS = "MaintenanceDownVariables"
  2 | const MAINTENANCE_SHUT_VARS = "MaintenanceShutVariables"
  3 | 
  4 | @doc raw"""
  5 |     resources_with_maintenance(df::DataFrame)::Vector{Int}
  6 | 
  7 |     Get a vector of the R_ID's of all resources listed in a dataframe
  8 |     that have maintenance requirements. If there are none, return an empty vector.
  9 | 
 10 |     This method takes a specific dataframe because compound resources may have their
 11 |     data in multiple dataframes.
 12 | """
 13 | function resources_with_maintenance(df::DataFrame)::Vector{Int}
 14 |     if "MAINT" in names(df)
 15 |         df[df.MAINT .> 0, :R_ID]
 16 |     else
 17 |         Vector{Int}[]
 18 |     end
 19 | end
 20 | 
 21 | @doc raw"""
 22 |     maintenance_down_name(resource_component::AbstractString)::String
 23 | 
 24 |     JuMP variable name to control whether a resource-component is down for maintenance.
 25 |     Here resource-component could be a whole resource or a component (for complex resources).
 26 | """
 27 | function maintenance_down_name(resource_component::AbstractString)::String
 28 |     "vMDOWN_" * resource_component
 29 | end
 30 | 
 31 | @doc raw"""
 32 |     maintenance_shut_name(resource_component::AbstractString)::String
 33 | 
 34 |     JuMP variable name to control when a resource-components begins maintenance.
 35 |     Here resource-component could be a whole resource or a component (for complex resources).
 36 | """
 37 | function maintenance_shut_name(resource_component::AbstractString)::String
 38 |     "vMSHUT_" * resource_component
 39 | end
 40 | 
 41 | function sanity_check_maintenance(MAINT::Vector{Int}, inputs::Dict)
 42 |     rep_periods = inputs["REP_PERIOD"]
 43 | 
 44 |     is_maint_reqs = !isempty(MAINT)
 45 |     if rep_periods > 1 && is_maint_reqs
 46 |         @error """Resources with R_ID $MAINT have MAINT > 0,
 47 |         but the number of representative periods ($rep_periods) is greater than 1.
 48 |         These are incompatible with a Maintenance requirement."""
 49 |         error("Incompatible GenX settings and maintenance requirements.")
 50 |     end
 51 | end
 52 | 
 53 | @doc raw"""
 54 |     controlling_maintenance_start_hours(p::Int, t::Int, maintenance_duration::Int, maintenance_begin_hours::UnitRange{Int64})
 55 | 
 56 |     p: hours_per_subperiod
 57 |     t: the current hour
 58 |     maintenance_duration: length of a maintenance period
 59 |     maintenance_begin_hours: collection of hours in which maintenance is allowed to start
 60 | """
 61 | function controlling_maintenance_start_hours(p::Int,
 62 |         t::Int,
 63 |         maintenance_duration::Int,
 64 |         maintenance_begin_hours)
 65 |     controlled_hours = hoursbefore(p, t, 0:(maintenance_duration - 1))
 66 |     return intersect(controlled_hours, maintenance_begin_hours)
 67 | end
 68 | 
 69 | @doc raw"""
 70 |     maintenance_formulation!(EP::Model,
 71 |         inputs::Dict,
 72 |         resource_component::AbstractString,
 73 |         r_id::Int,
 74 |         maint_begin_cadence::Int,
 75 |         maint_dur::Int,
 76 |         maint_freq_years::Int,
 77 |         cap::Float64,
 78 |         vcommit::Symbol,
 79 |         ecap::Symbol,
 80 |         integer_operational_unit_commitment::Bool)
 81 | 
 82 |     EP: the JuMP model
 83 |     inputs: main data storage
 84 |     resource_component: unique resource name with optional component name
 85 |        If the plant has more than one component, this could identify a specific part which
 86 |        is undergoing maintenance.
 87 |     r_id: Resource ID (unique resource integer)
 88 |     maint_begin_cadence:
 89 |         It may be too expensive (from an optimization perspective) to allow maintenance
 90 |         to begin at any time step during the simulation. Instead this integer describes
 91 |         the cadence of timesteps in which maintenance can begin. Must be at least 1.
 92 |     maint_dur: Number of timesteps that maintenance takes. Must be at least 1.
 93 |     maint_freq_years: 1 is maintenannce every year,
 94 |         2 is maintenance every other year, etc. Must be at least 1.
 95 |     cap: Plant electrical capacity.
 96 |     vcommit: Symbol of vCOMMIT-like variable.
 97 |     ecap: Symbol of eTotalCap-like variable.
 98 |     integer_operational_unit_commitment: whether this plant has integer unit
 99 |         commitment for operational variables.
100 | 
101 |     Creates maintenance-tracking variables and adds their Symbols to two Sets in `inputs`.
102 |     Adds constraints which act on the vCOMMIT-like variable.
103 | """
104 | function maintenance_formulation!(EP::Model,
105 |         inputs::Dict,
106 |         resource_component::AbstractString,
107 |         r_id::Int,
108 |         maint_begin_cadence::Int,
109 |         maint_dur::Int,
110 |         maint_freq_years::Int,
111 |         cap::Float64,
112 |         vcommit::Symbol,
113 |         ecap::Symbol,
114 |         integer_operational_unit_commitment::Bool)
115 |     T = 1:inputs["T"]
116 |     hours_per_subperiod = inputs["hours_per_subperiod"]
117 | 
118 |     y = r_id
119 |     down_name = maintenance_down_name(resource_component)
120 |     shut_name = maintenance_shut_name(resource_component)
121 |     down = Symbol(down_name)
122 |     shut = Symbol(shut_name)
123 | 
124 |     union!(inputs[MAINTENANCE_DOWN_VARS], (down,))
125 |     union!(inputs[MAINTENANCE_SHUT_VARS], (shut,))
126 | 
127 |     maintenance_begin_hours = 1:maint_begin_cadence:T[end]
128 | 
129 |     # create variables
130 |     vMDOWN = EP[down] = @variable(EP, [t in T], base_name=down_name, lower_bound=0)
131 |     vMSHUT = EP[shut] = @variable(EP,
132 |         [t in maintenance_begin_hours],
133 |         base_name=shut_name,
134 |         lower_bound=0)
135 | 
136 |     if integer_operational_unit_commitment
137 |         set_integer.(vMDOWN)
138 |         set_integer.(vMSHUT)
139 |     end
140 | 
141 |     vcommit = EP[vcommit]
142 |     ecap = EP[ecap]
143 | 
144 |     # Maintenance variables are measured in # of plants
145 |     @constraints(EP, begin
146 |         [t in maintenance_begin_hours], vMSHUT[t] <= ecap[y] / cap
147 |     end)
148 | 
149 |     # Plant is non-committed during maintenance
150 |     @constraint(EP, [t in T], vMDOWN[t] + vcommit[y, t]<=ecap[y] / cap)
151 | 
152 |     function controlling_hours(t)
153 |         controlling_maintenance_start_hours(hours_per_subperiod,
154 |             t,
155 |             maint_dur,
156 |             maintenance_begin_hours)
157 |     end
158 |     # Plant is down for the required number of hours
159 |     @constraint(EP, [t in T], vMDOWN[t]==sum(vMSHUT[controlling_hours(t)]))
160 | 
161 |     # Plant requires maintenance every (certain number of) year(s)
162 |     @constraint(EP,
163 |         sum(vMSHUT[t] for t in maintenance_begin_hours)>=ecap[y] / cap / maint_freq_years)
164 | 
165 |     return
166 | end
167 | 
168 | @doc raw"""
169 |     ensure_maintenance_variable_records!(dict::Dict)
170 | 
171 |     dict: a dictionary of model data
172 | 
173 |     This should be called by each method that adds maintenance formulations,
174 |     to ensure that certain entries in the model data dict exist.
175 | """
176 | function ensure_maintenance_variable_records!(dict::Dict)
177 |     for var in (MAINTENANCE_DOWN_VARS, MAINTENANCE_SHUT_VARS)
178 |         if var âˆ‰ keys(dict)
179 |             dict[var] = Set{Symbol}()
180 |         end
181 |     end
182 | end
183 | 
184 | @doc raw"""
185 |     has_maintenance(dict::Dict)
186 | 
187 |     dict: a dictionary of model data
188 | 
189 |     Checks whether the dictionary contains listings of maintenance-related variable names.
190 |     This is true only after `maintenance_formulation!` has been called.
191 | """
192 | function has_maintenance(dict::Dict)::Bool
193 |     rep_periods = dict["REP_PERIOD"]
194 |     MAINTENANCE_DOWN_VARS in keys(dict) && rep_periods == 1
195 | end
196 | 
197 | @doc raw"""
198 |     maintenance_down_variables(dict::Dict)
199 | 
200 |     dict: a dictionary of model data
201 | 
202 |     get listings of maintenance-related variable names.
203 |     This is available only after `maintenance_formulation!` has been called.
204 | """
205 | function maintenance_down_variables(dict::Dict)::Set{Symbol}
206 |     dict[MAINTENANCE_DOWN_VARS]
207 | end
208 | 


--------------------------------------------------------------------------------
/src/model/resources/must_run/must_run.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	must_run!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | This function defines the constraints for operation of `must-run' or non-dispatchable resources, such as rooftop solar systems that do not receive dispatch signals, run-of-river hydroelectric facilities without the ability to spill water, or cogeneration systems that must produce a fixed quantity of heat in each time step. This resource type can also be used to model baseloaded or self-committed thermal generators that do not respond to economic dispatch.
 5 | 
 6 | For must-run resources ($y\in \mathcal{MR}$) output in each time period $t$ must exactly equal the available capacity factor times the installed capacity, not allowing for curtailment. These resources are also not eligible for contributing to frequency regulation or operating reserve requirements.
 7 | 
 8 | ```math
 9 | \begin{aligned}
10 | \Theta_{y,z,t} = \rho^{max}_{y,z,t}\times \Delta^{total}_{y,z}
11 | \hspace{4 cm}  \forall y \in \mathcal{MR}, z \in \mathcal{Z},t \in \mathcal{T}
12 | \end{aligned}
13 | ```
14 | """
15 | function must_run!(EP::Model, inputs::Dict, setup::Dict)
16 |     println("Must-Run Resources Module")
17 | 
18 |     gen = inputs["RESOURCES"]
19 | 
20 |     T = inputs["T"]     # Number of time steps (hours)
21 |     Z = inputs["Z"]     # Number of zones
22 |     G = inputs["G"] # Number of generators
23 | 
24 |     MUST_RUN = inputs["MUST_RUN"]
25 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
26 | 
27 |     ### Expressions ###
28 | 
29 |     ## Power Balance Expressions ##
30 | 
31 |     @expression(EP, ePowerBalanceNdisp[t = 1:T, z = 1:Z],
32 |         sum(EP[:vP][y, t] for y in intersect(MUST_RUN, resources_in_zone_by_rid(gen, z))))
33 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceNdisp)
34 | 
35 |     # Capacity Reserves Margin policy
36 |     if CapacityReserveMargin > 0
37 |         @expression(EP,
38 |             eCapResMarBalanceMustRun[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
39 |             sum(derating_factor(gen[y], tag = res) * EP[:eTotalCap][y] *
40 |                 inputs["pP_Max"][y, t] for y in MUST_RUN))
41 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceMustRun)
42 |     end
43 | 
44 |     ### Constratints ###
45 | 
46 |     @constraint(EP,
47 |         [y in MUST_RUN, t = 1:T],
48 |         EP[:vP][y, t]==inputs["pP_Max"][y, t] * EP[:eTotalCap][y])
49 |     ##CO2 Polcy Module Must Run Generation by zone
50 |     @expression(EP, eGenerationByMustRun[z = 1:Z, t = 1:T], # the unit is GW
51 |         sum(EP[:vP][y, t] for y in intersect(MUST_RUN, resources_in_zone_by_rid(gen, z))))
52 |     add_similar_to_expression!(EP[:eGenerationByZone], eGenerationByMustRun)
53 | end
54 | 


--------------------------------------------------------------------------------
/src/model/resources/retrofits/retrofits.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	retrofit(EP::Model, inputs::Dict)
 3 | 
 4 | This function defines the constraints for operation of retrofit technologies, including
 5 | 		but not limited to carbon capture and thermal energy storage.
 6 | 	
 7 | For retrofittable source technologies $y$ and retrofit technologies $r$ in the same region $z$ and retrofit cluster $id$,
 8 | (i.e. $y \in RS(id)$ and $r \in RO(id)$), the total retrofit capacity $\Omega_{r}$ that may be installed 
 9 | is constrained by the available retrofittable capacity $P_{y}$ as well as the efficiency ${ef}_{r}$ of the retrofit technology.
10 | 
11 | ```math
12 | \begin{aligned}
13 |     \sum_{y \in RS(id)}P_{y} = \sum_{r \in RO(id)}\frac{\Omega_{r}}{{ef}_{r}} \quad \quad \quad \quad \forall id \in {RETROFIT},
14 | \end{aligned}
15 | ```
16 | where ${RETROFIT}$ represents the set of all retrofit IDs (clusters) in the model and efficiency $ef_r$ is a scalar multiplier that 
17 | denotes an 'exchange rate' between capacity of the original resource and any retrofit technologies (e.g. how many MW of resource 
18 | B can be sited per MW of resource A retired).
19 | 
20 | """
21 | function retrofit(EP::Model, inputs::Dict)
22 |     println("Retrofit Resources Module")
23 | 
24 |     gen = inputs["RESOURCES"]
25 | 
26 |     COMMIT = inputs["COMMIT"]   # Set of all resources subject to unit commitment
27 |     RETROFIT_CAP = inputs["RETROFIT_CAP"]  # Set of all resources being retrofitted
28 |     RETROFIT_OPTIONS = inputs["RETROFIT_OPTIONS"] # Set of all resources being created
29 |     RETROFIT_IDS = inputs["RETROFIT_IDS"] # Set of unique IDs for retrofit resources
30 | 
31 |     @expression(EP, eRetrofittedCapByRetroId[id in RETROFIT_IDS],
32 |         sum(
33 |             cap_size(gen[y]) * EP[:vRETROFITCAP][y]
34 |             for y in intersect(RETROFIT_CAP,
35 |                 COMMIT,
36 |                 resources_in_retrofit_cluster_by_rid(gen, id));
37 |             init = 0)
38 |         +sum(
39 |             EP[:vRETROFITCAP][y]
40 |             for y in setdiff(
41 |                 intersect(RETROFIT_CAP,
42 |                     resources_in_retrofit_cluster_by_rid(gen, id)),
43 |                 COMMIT);
44 |             init = 0))
45 | 
46 |     @expression(EP, eRetrofitCapByRetroId[id in RETROFIT_IDS],
47 |         sum(
48 |             cap_size(gen[y]) * EP[:vCAP][y] * (1 / retrofit_efficiency(gen[y]))
49 |             for y in intersect(RETROFIT_OPTIONS,
50 |                 COMMIT,
51 |                 resources_in_retrofit_cluster_by_rid(gen, id));
52 |             init = 0)
53 |         +sum(
54 |             EP[:vCAP][y] * (1 / retrofit_efficiency(gen[y]))
55 |             for y in setdiff(
56 |                 intersect(RETROFIT_OPTIONS,
57 |                     resources_in_retrofit_cluster_by_rid(gen, id)),
58 |                 COMMIT);
59 |             init = 0))
60 | 
61 |     @constraint(EP,
62 |         cRetrofitCapacity[id in RETROFIT_IDS],
63 |         eRetrofittedCapByRetroId[id]==eRetrofitCapByRetroId[id])
64 | 
65 |     return EP
66 | end
67 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/investment_charge.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	investment_charge!(EP::Model, inputs::Dict)
  3 | 
  4 | This function defines the expressions and constraints keeping track of total available storage charge capacity across all resources as well as constraints on capacity retirements. The function also adds investment and fixed O\&M related costs related to charge capacity to the objective function.
  5 | 
  6 | The total capacity of each resource is defined as the sum of the existing capacity plus the newly invested capacity minus any retired capacity.
  7 | 
  8 | ```math
  9 | \begin{aligned}
 10 | & \Delta^{total,charge}_{y,z} =(\overline{\Delta^{charge}_{y,z}}+\Omega^{charge}_{y,z}-\Delta^{charge}_{y,z}) \forall y \in \mathcal{O}^{asym}, z \in \mathcal{Z}
 11 | \end{aligned}
 12 | ```
 13 | 
 14 | One cannot retire more capacity than existing capacity.
 15 | ```math
 16 | \begin{aligned}
 17 | &\Delta^{charge}_{y,z} \leq \overline{\Delta^{charge}_{y,z}}
 18 | 	\hspace{4 cm}  \forall y \in \mathcal{O}^{asym}, z \in \mathcal{Z}
 19 | \end{aligned}
 20 | ```
 21 | 
 22 | For resources where $\overline{\Omega_{y,z}^{charge}}$ and $\underline{\Omega_{y,z}^{charge}}$ is defined, then we impose constraints on minimum and maximum power capacity.
 23 | ```math
 24 | \begin{aligned}
 25 | & \Delta^{total,charge}_{y,z} \leq \overline{\Omega}^{charge}_{y,z}
 26 | 	\hspace{4 cm}  \forall y \in \mathcal{O}^{asym}, z \in \mathcal{Z} \\
 27 | & \Delta^{total,charge}_{y,z}  \geq \underline{\Omega}^{charge}_{y,z}
 28 | 	\hspace{4 cm}  \forall y \in \mathcal{O}^{asym}, z \in \mathcal{Z}
 29 | \end{aligned}
 30 | ```
 31 | 
 32 | In addition, this function adds investment and fixed O&M related costs related to charge capacity to the objective function:
 33 | ```math
 34 | \begin{aligned}
 35 | & 	\sum_{y \in \mathcal{O}^{asym} } \sum_{z \in \mathcal{Z}}
 36 | 	\left( (\pi^{INVEST,charge}_{y,z} \times    \Omega^{charge}_{y,z})
 37 | 	+ (\pi^{FOM,charge}_{y,z} \times  \Delta^{total,charge}_{y,z})\right)
 38 | \end{aligned}
 39 | ```
 40 | """
 41 | function investment_charge!(EP::Model, inputs::Dict, setup::Dict)
 42 |     println("Charge Investment Module")
 43 | 
 44 |     gen = inputs["RESOURCES"]
 45 | 
 46 |     MultiStage = setup["MultiStage"]
 47 | 
 48 |     STOR_ASYMMETRIC = inputs["STOR_ASYMMETRIC"] # Set of storage resources with asymmetric (separte) charge/discharge capacity components
 49 | 
 50 |     NEW_CAP_CHARGE = inputs["NEW_CAP_CHARGE"] # Set of asymmetric charge/discharge storage resources eligible for new charge capacity
 51 |     RET_CAP_CHARGE = inputs["RET_CAP_CHARGE"] # Set of asymmetric charge/discharge storage resources eligible for charge capacity retirements
 52 | 
 53 |     ### Variables ###
 54 | 
 55 |     ## Storage capacity built and retired for storage resources with independent charge and discharge power capacities (STOR=2)
 56 | 
 57 |     # New installed charge capacity of resource "y"
 58 |     @variable(EP, vCAPCHARGE[y in NEW_CAP_CHARGE]>=0)
 59 | 
 60 |     # Retired charge capacity of resource "y" from existing capacity
 61 |     @variable(EP, vRETCAPCHARGE[y in RET_CAP_CHARGE]>=0)
 62 | 
 63 |     if MultiStage == 1
 64 |         @variable(EP, vEXISTINGCAPCHARGE[y in STOR_ASYMMETRIC]>=0)
 65 |     end
 66 | 
 67 |     ### Expressions ###
 68 | 
 69 |     if MultiStage == 1
 70 |         @expression(EP, eExistingCapCharge[y in STOR_ASYMMETRIC], vEXISTINGCAPCHARGE[y])
 71 |     else
 72 |         @expression(EP,
 73 |             eExistingCapCharge[y in STOR_ASYMMETRIC],
 74 |             existing_charge_cap_mw(gen[y]))
 75 |     end
 76 | 
 77 |     @expression(EP, eTotalCapCharge[y in STOR_ASYMMETRIC],
 78 |         if (y in intersect(NEW_CAP_CHARGE, RET_CAP_CHARGE))
 79 |             eExistingCapCharge[y] + EP[:vCAPCHARGE][y] - EP[:vRETCAPCHARGE][y]
 80 |         elseif (y in setdiff(NEW_CAP_CHARGE, RET_CAP_CHARGE))
 81 |             eExistingCapCharge[y] + EP[:vCAPCHARGE][y]
 82 |         elseif (y in setdiff(RET_CAP_CHARGE, NEW_CAP_CHARGE))
 83 |             eExistingCapCharge[y] - EP[:vRETCAPCHARGE][y]
 84 |         else
 85 |             eExistingCapCharge[y]
 86 |         end)
 87 | 
 88 |     ## Objective Function Expressions ##
 89 | 
 90 |     # Fixed costs for resource "y" = annuitized investment cost plus fixed O&M costs
 91 |     # If resource is not eligible for new charge capacity, fixed costs are only O&M costs
 92 |     @expression(EP, eCFixCharge[y in STOR_ASYMMETRIC],
 93 |         if y in NEW_CAP_CHARGE # Resources eligible for new charge capacity
 94 |             inv_cost_charge_per_mwyr(gen[y]) * vCAPCHARGE[y] +
 95 |             fixed_om_cost_charge_per_mwyr(gen[y]) * eTotalCapCharge[y]
 96 |         else
 97 |             fixed_om_cost_charge_per_mwyr(gen[y]) * eTotalCapCharge[y]
 98 |         end)
 99 | 
100 |     # Sum individual resource contributions to fixed costs to get total fixed costs
101 |     @expression(EP, eTotalCFixCharge, sum(EP[:eCFixCharge][y] for y in STOR_ASYMMETRIC))
102 | 
103 |     # Add term to objective function expression
104 |     if MultiStage == 1
105 |         # OPEX multiplier scales fixed costs to account for multiple years between two model stages
106 |         # We divide by OPEXMULT since we are going to multiply the entire objective function by this term later,
107 |         # and we have already accounted for multiple years between stages for fixed costs.
108 |         add_to_expression!(EP[:eObj], (1 / inputs["OPEXMULT"]), eTotalCFixCharge)
109 |     else
110 |         add_to_expression!(EP[:eObj], eTotalCFixCharge)
111 |     end
112 | 
113 |     ### Constratints ###
114 | 
115 |     if MultiStage == 1
116 |         # Existing capacity variable is equal to existing capacity specified in the input file
117 |         @constraint(EP,
118 |             cExistingCapCharge[y in STOR_ASYMMETRIC],
119 |             EP[:vEXISTINGCAPCHARGE][y]==existing_charge_cap_mw(gen[y]))
120 |     end
121 | 
122 |     ## Constraints on retirements and capacity additions
123 |     #Cannot retire more charge capacity than existing charge capacity
124 |     @constraint(EP,
125 |         cMaxRetCharge[y in RET_CAP_CHARGE],
126 |         vRETCAPCHARGE[y]<=eExistingCapCharge[y])
127 | 
128 |     #Constraints on new built capacity
129 | 
130 |     # Constraint on maximum charge capacity (if applicable) [set input to -1 if no constraint on maximum charge capacity]
131 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Charge_Cap_MW is >= Max_Charge_Cap_MWh and lead to infeasabilty
132 |     @constraint(EP,
133 |         cMaxCapCharge[y in intersect(ids_with_positive(gen, max_charge_cap_mw),
134 |             STOR_ASYMMETRIC)],
135 |         eTotalCapCharge[y]<=max_charge_cap_mw(gen[y]))
136 | 
137 |     # Constraint on minimum charge capacity (if applicable) [set input to -1 if no constraint on minimum charge capacity]
138 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Charge_Cap_MW is <= Min_Charge_Cap_MWh and lead to infeasabilty
139 |     @constraint(EP,
140 |         cMinCapCharge[y in intersect(ids_with_positive(gen, min_charge_cap_mw),
141 |             STOR_ASYMMETRIC)],
142 |         eTotalCapCharge[y]>=min_charge_cap_mw(gen[y]))
143 | end
144 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/investment_energy.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	investment_energy!(EP::Model, inputs::Dict)
  3 | 
  4 | This function defines the expressions and constraints keeping track of total available storage charge capacity across all resources as well as constraints on capacity retirements. The function also adds investment and fixed O\&M related costs related to charge capacity to the objective function.
  5 | 
  6 | The total capacity of each resource is defined as the sum of the existing capacity plus the newly invested capacity minus any retired capacity.
  7 | 
  8 | ```math
  9 | \begin{aligned}
 10 | & \Delta^{total,energy}_{y,z} =(\overline{\Delta^{energy}_{y,z}}+\Omega^{energy}_{y,z}-\Delta^{energy}_{y,z}) \forall y \in \mathcal{O}, z \in \mathcal{Z}
 11 | \end{aligned}
 12 | ```
 13 | 
 14 | One cannot retire more capacity than existing capacity.
 15 | 
 16 | ```math
 17 | \begin{aligned}
 18 | &\Delta^{energy}_{y,z} \leq \overline{\Delta^{energy}_{y,z}}
 19 | 		\hspace{4 cm}  \forall y \in \mathcal{O}, z \in \mathcal{Z}
 20 | \end{aligned}
 21 | ```
 22 | 
 23 | For resources where $\overline{\Omega_{y,z}^{energy}}$ and $\underline{\Omega_{y,z}^{energy}}$ is defined, then we impose constraints on minimum and maximum power capacity.
 24 | 
 25 | ```math
 26 | \begin{aligned}
 27 | & \Delta^{total,energy}_{y,z} \leq \overline{\Omega}^{energy}_{y,z}
 28 | 	\hspace{4 cm}  \forall y \in \mathcal{O}, z \in \mathcal{Z} \\
 29 | & \Delta^{total,energy}_{y,z}  \geq \underline{\Omega}^{energy}_{y,z}
 30 | 	\hspace{4 cm}  \forall y \in \mathcal{O}, z \in \mathcal{Z}
 31 | \end{aligned}
 32 | ```
 33 | 
 34 | In addition, this function adds investment and fixed O\&M related costs related to charge capacity to the objective function:
 35 | 
 36 | ```math
 37 | \begin{aligned}
 38 | & 	\sum_{y \in \mathcal{O} } \sum_{z \in \mathcal{Z}}
 39 | 	\left( (\pi^{INVEST,energy}_{y,z} \times    \Omega^{energy}_{y,z})
 40 | 	+ (\pi^{FOM,energy}_{y,z} \times  \Delta^{total,energy}_{y,z})\right)
 41 | \end{aligned}
 42 | ```
 43 | """
 44 | function investment_energy!(EP::Model, inputs::Dict, setup::Dict)
 45 |     println("Storage Investment Module")
 46 | 
 47 |     gen = inputs["RESOURCES"]
 48 | 
 49 |     MultiStage = setup["MultiStage"]
 50 | 
 51 |     STOR_ALL = inputs["STOR_ALL"] # Set of all storage resources
 52 |     NEW_CAP_ENERGY = inputs["NEW_CAP_ENERGY"] # Set of all storage resources eligible for new energy capacity
 53 |     RET_CAP_ENERGY = inputs["RET_CAP_ENERGY"] # Set of all storage resources eligible for energy capacity retirements
 54 | 
 55 |     ### Variables ###
 56 | 
 57 |     ## Energy storage reservoir capacity (MWh capacity) built/retired for storage with variable power to energy ratio (STOR=1 or STOR=2)
 58 | 
 59 |     # New installed energy capacity of resource "y"
 60 |     @variable(EP, vCAPENERGY[y in NEW_CAP_ENERGY]>=0)
 61 | 
 62 |     # Retired energy capacity of resource "y" from existing capacity
 63 |     @variable(EP, vRETCAPENERGY[y in RET_CAP_ENERGY]>=0)
 64 | 
 65 |     if MultiStage == 1
 66 |         @variable(EP, vEXISTINGCAPENERGY[y in STOR_ALL]>=0)
 67 |     end
 68 | 
 69 |     ### Expressions ###
 70 | 
 71 |     if MultiStage == 1
 72 |         @expression(EP, eExistingCapEnergy[y in STOR_ALL], vEXISTINGCAPENERGY[y])
 73 |     else
 74 |         @expression(EP, eExistingCapEnergy[y in STOR_ALL], existing_cap_mwh(gen[y]))
 75 |     end
 76 | 
 77 |     @expression(EP, eTotalCapEnergy[y in STOR_ALL],
 78 |         if (y in intersect(NEW_CAP_ENERGY, RET_CAP_ENERGY))
 79 |             eExistingCapEnergy[y] + EP[:vCAPENERGY][y] - EP[:vRETCAPENERGY][y]
 80 |         elseif (y in setdiff(NEW_CAP_ENERGY, RET_CAP_ENERGY))
 81 |             eExistingCapEnergy[y] + EP[:vCAPENERGY][y]
 82 |         elseif (y in setdiff(RET_CAP_ENERGY, NEW_CAP_ENERGY))
 83 |             eExistingCapEnergy[y] - EP[:vRETCAPENERGY][y]
 84 |         else
 85 |             eExistingCapEnergy[y]
 86 |         end)
 87 | 
 88 |     ## Objective Function Expressions ##
 89 | 
 90 |     # Fixed costs for resource "y" = annuitized investment cost plus fixed O&M costs
 91 |     # If resource is not eligible for new energy capacity, fixed costs are only O&M costs
 92 |     @expression(EP, eCFixEnergy[y in STOR_ALL],
 93 |         if y in NEW_CAP_ENERGY # Resources eligible for new capacity
 94 |             inv_cost_per_mwhyr(gen[y]) * vCAPENERGY[y] +
 95 |             fixed_om_cost_per_mwhyr(gen[y]) * eTotalCapEnergy[y]
 96 |         else
 97 |             fixed_om_cost_per_mwhyr(gen[y]) * eTotalCapEnergy[y]
 98 |         end)
 99 | 
100 |     # Sum individual resource contributions to fixed costs to get total fixed costs
101 |     @expression(EP, eTotalCFixEnergy, sum(EP[:eCFixEnergy][y] for y in STOR_ALL))
102 | 
103 |     # Add term to objective function expression
104 |     if MultiStage == 1
105 |         # OPEX multiplier scales fixed costs to account for multiple years between two model stages
106 |         # We divide by OPEXMULT since we are going to multiply the entire objective function by this term later,
107 |         # and we have already accounted for multiple years between stages for fixed costs.
108 |         add_to_expression!(EP[:eObj], (1 / inputs["OPEXMULT"]), eTotalCFixEnergy)
109 |     else
110 |         add_to_expression!(EP[:eObj], eTotalCFixEnergy)
111 |     end
112 | 
113 |     ### Constraints ###
114 | 
115 |     if MultiStage == 1
116 |         @constraint(EP,
117 |             cExistingCapEnergy[y in STOR_ALL],
118 |             EP[:vEXISTINGCAPENERGY][y]==existing_cap_mwh(gen[y]))
119 |     end
120 | 
121 |     ## Constraints on retirements and capacity additions
122 |     # Cannot retire more energy capacity than existing energy capacity
123 |     @constraint(EP,
124 |         cMaxRetEnergy[y in RET_CAP_ENERGY],
125 |         vRETCAPENERGY[y]<=eExistingCapEnergy[y])
126 | 
127 |     ## Constraints on new built energy capacity
128 |     # Constraint on maximum energy capacity (if applicable) [set input to -1 if no constraint on maximum energy capacity]
129 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Cap_MWh is >= Max_Cap_MWh and lead to infeasabilty
130 |     @constraint(EP,
131 |         cMaxCapEnergy[y in intersect(ids_with_positive(gen, max_cap_mwh), STOR_ALL)],
132 |         eTotalCapEnergy[y]<=max_cap_mwh(gen[y]))
133 | 
134 |     # Constraint on minimum energy capacity (if applicable) [set input to -1 if no constraint on minimum energy apacity]
135 |     # DEV NOTE: This constraint may be violated in some cases where Existing_Cap_MWh is <= Min_Cap_MWh and lead to infeasabilty
136 |     @constraint(EP,
137 |         cMinCapEnergy[y in intersect(ids_with_positive(gen, min_cap_mwh), STOR_ALL)],
138 |         eTotalCapEnergy[y]>=min_cap_mwh(gen[y]))
139 | 
140 |     # Max and min constraints on energy storage capacity built (as proportion to discharge power capacity)
141 |     @constraint(EP,
142 |         cMinCapEnergyDuration[y in STOR_ALL],
143 |         EP[:eTotalCapEnergy][y]>=min_duration(gen[y]) * EP[:eTotalCap][y])
144 |     @constraint(EP,
145 |         cMaxCapEnergyDuration[y in STOR_ALL],
146 |         EP[:eTotalCapEnergy][y]<=max_duration(gen[y]) * EP[:eTotalCap][y])
147 | end
148 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/long_duration_storage.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	long_duration_storage!(EP::Model, inputs::Dict, setup::Dict)
  3 | This function creates variables and constraints enabling modeling of long duration storage resources when modeling representative time periods.\
  4 | 
  5 | **Storage inventory balance at beginning of each representative period**
  6 | The constraints in this section are used to approximate the behavior of long-duration energy storage technologies when approximating annual grid operations by modeling operations over representative periods. Previously, the state of charge balance for storage (as defined in ```storage_all()```) assumed that state of charge at the beginning and end of each representative period has to be the same. In other words, the amount of energy built up or consumed by storage technology $o$ in zone $z$ over the representative period $m$, $\Delta Q_{o,z,m} = 0$. This assumption implicitly excludes the possibility of transferring energy from one representative period to the other which could be cost-optimal when the capital cost of energy storage capacity is relatively small. To model long-duration energy storage using representative periods, we replace the state of charge equation, such that the first term on the right hand side accounts for change in storage inventory associated with representative period $m$ ($\Delta Q_{o,z,m}$), which could be positive (net accumulation) or negative (net reduction).
  7 | 
  8 | ```math
  9 | \begin{aligned}
 10 | & \Gamma_{o,z,(m-1)\times \tau^{period}+1 } =\left(1-\eta_{o,z}^{loss}\right)\times \left(\Gamma_{o,z,m\times \tau^{period}} -\Delta Q_{o,z,m}\right) -  \\
 11 | & \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}
 12 | \end{aligned}
 13 | ```
 14 | By definition $\mathcal{T}^{start}=\{\left(m-1\right) \times \tau^{period}+1 | m \in \mathcal{M}\}$, which implies that this constraint is defined for all values of $t \in T^{start}$. \
 15 | **Storage inventory change input periods**
 16 | We need additional variables and constraints to approximate energy exchange between representative periods, while accounting for their chronological occurence in the original input time series data and the possibility that two representative periods may not be adjacent to each other (see Figure below). To implement this, we introduce a new variable $Q_{o,z, n}$ that models inventory of storage technology $o \in O$ in zone $z$ in each input period $n \in \mathcal{N}$. Additionally we define a function mapping, $f: n \rightarrow m$, that uniquely maps each input period $n$ to its corresponding representative period $m$. This mapping is available as an output of the process used to identify representative periods (E.g. k-means clustering [Mallapragada et al., 2018](https://www.sciencedirect.com/science/article/pii/S0360544218315238?casa_token=I-6GVNMtAVIAAAAA:G8LFXFqXxRGrXHtrzmiIGm02BusIUmm83zKh8xf1BXY81-dTnA9p2YI1NnGuzlYBXsxK12by)).
 17 | 
 18 | ![Modeling inter-period energy exchange via long-duration storage when using representative period temporal resolution to approximate annual grid operations](../../assets/LDES_approach.png)
 19 | *Figure. Modeling inter-period energy exchange via long-duration storage when using representative period temporal resolution to approximate annual grid operations*
 20 | 
 21 | The following two equations define the storage inventory at the beginning of each input period $n+1$ as
 22 | the sum of storage inventory at begining of previous input period $n$ plus change in storage inventory for that period.
 23 | The latter is approximated by the change in storage inventory in the corresponding representative period,
 24 | identified per the mapping $f(n)$.
 25 | If the input period is also a representative period,
 26 | then a second constraint enforces that initial storage level estimated by the intra-period storage balance constraint should equal the initial storage level estimated from the inter-period storage balance constraints.
 27 | 
 28 | ```math
 29 | \begin{aligned}
 30 | & Q_{o,z,n+1} = Q_{o,z,n} + \Delta Q_{o,z,f(n)}
 31 | \quad \forall  o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}
 32 | \end{aligned}
 33 | ```
 34 | 
 35 | ```math
 36 | \begin{aligned}
 37 | & Q_{o,z,n} =\Gamma_{o,z,f(n)\times \tau^{period}} - \Delta Q_{o,z,m}
 38 | \quad \forall  o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in   \mathcal{N}^{rep},
 39 | \end{aligned}
 40 | ```
 41 | 
 42 | Finally, the next constraint enforces that the initial storage level for each input period $n$ must be less than the installed energy capacity limit. This constraint ensures that installed energy storage capacity is consistent with the state of charge during both the operational time periods $t$ during each sample period $m$ as well as at the start of each chronologically ordered input period $n$ in the full annual time series.
 43 | 
 44 | ```math
 45 | \begin{aligned}
 46 |     Q_{o,z,n} \leq \Delta^{total, energy}_{o,z}
 47 | \quad \forall n \in \mathcal{N}, o \in \mathcal{O}^{LDES}
 48 | \end{aligned}
 49 | ```
 50 | 
 51 | If the capacity reserve margin constraint is enabled, a similar set of constraints is used to track the evolution of the energy held in reserve across representative periods. The main linking constraint is as follows:
 52 | ```math
 53 | \begin{aligned}
 54 | & \Gamma^{CRM}_{o,z,(m-1)\times \tau^{period}+1 } =\left(1-\eta_{o,z}^{loss}\right)\times \left(\Gamma^{CRM}_{o,z,m\times \tau^{period}} -\Delta Q_{o,z,m}\right) +  \\
 55 | & \frac{1}{\eta_{o,z}^{discharge}}\Theta^{CRM}_{o,z,(m-1)\times \tau^{period}+1} - \eta_{o,z}^{charge}\Pi^{CRM}_{o,z,(m-1)\times \tau^{period}+1} \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}
 56 | \end{aligned}
 57 | ```
 58 | All other constraints are identical to those used to track the actual state of charge, except with the new variables $Q^{CRM}_{o,z,n}$ and $\Delta Q^{CRM}_{o,z,n}$ used in place of $Q_{o,z,n}$ and $\Delta Q_{o,z,n}$, respectively. \
 59 | 
 60 | **Bound storage inventory in non-representative periods**
 61 | We need additional variables and constraints to ensure that the storage content is within zero and the installed energy capacity in non-representative periods. We introduce
 62 | the variables $\Delta Q^{max,pos}_{o,z,m}$ and $\Delta Q^{max,neg}_{o,z,m}$ that represent the maximum positive and negative storage content variations within the representative
 63 | period $m$, respectively, extracted as:
 64 | 
 65 | ```math
 66 | \begin{aligned}
 67 | & \Delta Q^{max,pos}_{o,z,m} \geq \Gamma_{o,z,(m-1)\times \tau^{period}+t } - \Gamma_{o,z,(m-1)\times \tau^{period}+1 } \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}, t \in \mathcal{T}
 68 | & \end{aligned}
 69 | ```
 70 | 
 71 | ```math
 72 | \begin{aligned}
 73 | & \Delta Q^{max,neg}_{o,z,m} \leq \Gamma_{o,z,(m-1)\times \tau^{period}+t } - \Gamma_{o,z,(m-1)\times \tau^{period}+1 } \quad \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, m \in \mathcal{M}, t \in \mathcal{T}
 74 | & \end{aligned}
 75 | ```
 76 | 
 77 | For every input period $n \in \mathcal{N}$, the maximum storage is computed and constrained to be less than or equal to the installed energy capacity as:
 78 | 
 79 | ```math
 80 | \begin{aligned}
 81 | &  Q_{o,z,n} \times \left(1-\eta_{o,z}^{loss}\right) - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} + \Delta Q^{max,pos}_{o,z,f(n)} \leq \Delta^{total, energy}_{o,z} \\
 82 | & \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}
 83 | & \end{aligned}
 84 | ```
 85 | 
 86 | Similarly, the minimum storage content is imposed to be positive in every period of the time horizon:
 87 | 
 88 | ```math
 89 | \begin{aligned}
 90 | &  Q_{o,z,n} \times \left(1-\eta_{o,z}^{loss}\right) - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,(m-1)\times \tau^{period}+1} + \eta_{o,z}^{charge}\Pi_{o,z,(m-1)\times \tau^{period}+1} + \Delta Q^{max,neg}_{o,z,f(n)} \geq 0 \\
 91 | & \forall o \in \mathcal{O}^{LDES}, z \in \mathcal{Z}, n \in \mathcal{N}
 92 | & \end{aligned}
 93 | ```
 94 | 
 95 | Additional details on this approach are available in [Parolin et al., 2024](https://doi.org/10.48550/arXiv.2409.19079).
 96 | """
 97 | function long_duration_storage!(EP::Model, inputs::Dict, setup::Dict)
 98 |     println("Long Duration Storage Module")
 99 | 
100 |     gen = inputs["RESOURCES"]
101 | 
102 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
103 | 
104 |     REP_PERIOD = inputs["REP_PERIOD"]     # Number of representative periods
105 | 
106 |     STOR_LONG_DURATION = inputs["STOR_LONG_DURATION"]
107 | 
108 |     hours_per_subperiod = inputs["hours_per_subperiod"] #total number of hours per subperiod
109 | 
110 |     dfPeriodMap = inputs["Period_Map"] # Dataframe that maps modeled periods to representative periods
111 |     NPeriods = size(inputs["Period_Map"])[1] # Number of modeled periods
112 | 
113 |     MODELED_PERIODS_INDEX = 1:NPeriods
114 |     REP_PERIODS_INDEX = MODELED_PERIODS_INDEX[dfPeriodMap[!, :Rep_Period] .== MODELED_PERIODS_INDEX]
115 |     NON_REP_PERIODS_INDEX = setdiff(MODELED_PERIODS_INDEX, REP_PERIODS_INDEX)
116 | 
117 |     ### Variables ###
118 | 
119 |     # Variables to define inter-period energy transferred between modeled periods
120 | 
121 |     # State of charge of storage at beginning of each modeled period n
122 |     @variable(EP, vSOCw[y in STOR_LONG_DURATION, n in MODELED_PERIODS_INDEX]>=0)
123 | 
124 |     # Build up in storage inventory over each representative period w
125 |     # Build up inventory can be positive or negative
126 |     @variable(EP, vdSOC[y in STOR_LONG_DURATION, w = 1:REP_PERIOD])
127 | 
128 |     if CapacityReserveMargin > 0
129 |         # State of charge held in reserve for storage at beginning of each modeled period n
130 |         @variable(EP, vCAPRES_socw[y in STOR_LONG_DURATION, n in MODELED_PERIODS_INDEX]>=0)
131 | 
132 |         # Build up in storage inventory held in reserve over each representative period w
133 |         # Build up inventory can be positive or negative
134 |         @variable(EP, vCAPRES_dsoc[y in STOR_LONG_DURATION, w = 1:REP_PERIOD])
135 |     end
136 | 
137 |     # Additional constraints to prevent violation of SoC limits in non-representative periods
138 |     if setup["LDSAdditionalConstraints"] == 1 && !isempty(NON_REP_PERIODS_INDEX)
139 |         # Maximum positive storage inventory change within subperiod
140 |         @variable(EP, vdSOC_maxPos[y in STOR_LONG_DURATION, w=1:REP_PERIOD] >= 0)
141 | 
142 |         # Maximum negative storage inventory change within subperiod
143 |         @variable(EP, vdSOC_maxNeg[y in STOR_LONG_DURATION, w=1:REP_PERIOD] <= 0)
144 |     end
145 | 
146 |     ### Constraints ###
147 | 
148 |     # Links last time step with first time step, ensuring position in hour 1 is within eligible change from final hour position
149 |     # Modified initial state of storage for long-duration storage - initialize wth value carried over from last period
150 |     # Alternative to cSoCBalStart constraint which is included when not modeling operations wrapping and long duration storage
151 |     # Note: tw_min = hours_per_subperiod*(w-1)+1; tw_max = hours_per_subperiod*w
152 |     @constraint(EP,
153 |         cSoCBalLongDurationStorageStart[w = 1:REP_PERIOD, y in STOR_LONG_DURATION],
154 |         EP[:vS][y,
155 |             hours_per_subperiod * (w - 1) + 1]==(1 - self_discharge(gen[y])) *
156 |                                                 (EP[:vS][y, hours_per_subperiod * w] -
157 |                                                  vdSOC[y, w])
158 |                                                 -
159 |                                                 (1 / efficiency_down(gen[y]) * EP[:vP][
160 |             y, hours_per_subperiod * (w - 1) + 1]) +
161 |                                                 (efficiency_up(gen[y]) * EP[:vCHARGE][
162 |             y, hours_per_subperiod * (w - 1) + 1]))
163 | 
164 |     # Storage at beginning of period w = storage at beginning of period w-1 + storage built up in period w (after n representative periods)
165 |     ## Multiply storage build up term from prior period with corresponding weight
166 |     @constraint(EP,
167 |         cSoCBalLongDurationStorage[y in STOR_LONG_DURATION, r in MODELED_PERIODS_INDEX],
168 |         vSOCw[y,
169 |             mod1(r + 1, NPeriods)]==vSOCw[y, r] +
170 |                                     vdSOC[y, dfPeriodMap[r, :Rep_Period_Index]])
171 | 
172 |     # Storage at beginning of each modeled period cannot exceed installed energy capacity
173 |     @constraint(EP,
174 |         cSoCBalLongDurationStorageUpper[y in STOR_LONG_DURATION,
175 |             r in MODELED_PERIODS_INDEX],
176 |         vSOCw[y, r]<=EP[:eTotalCapEnergy][y])
177 | 
178 |     # Initial storage level for representative periods must also adhere to sub-period storage inventory balance
179 |     # Initial storage = Final storage - change in storage inventory across representative period
180 |     @constraint(EP,
181 |         cSoCBalLongDurationStorageSub[y in STOR_LONG_DURATION, r in REP_PERIODS_INDEX],
182 |         vSOCw[y,
183 |             r]==EP[:vS][y, hours_per_subperiod * dfPeriodMap[r, :Rep_Period_Index]] -
184 |                 vdSOC[y, dfPeriodMap[r, :Rep_Period_Index]])
185 | 
186 |     # Capacity Reserve Margin policy
187 |     if CapacityReserveMargin > 0
188 |         # LDES Constraints for storage held in reserve
189 | 
190 |         # Links last time step with first time step, ensuring position in hour 1 is within eligible change from final hour position
191 |         # Modified initial virtual state of storage for long-duration storage - initialize wth value carried over from last period
192 |         # Alternative to cVSoCBalStart constraint which is included when not modeling operations wrapping and long duration storage
193 |         # Note: tw_min = hours_per_subperiod*(w-1)+1; tw_max = hours_per_subperiod*w
194 |         @constraint(EP,
195 |             cVSoCBalLongDurationStorageStart[w = 1:REP_PERIOD, y in STOR_LONG_DURATION],
196 |             EP[:vCAPRES_socinreserve][y,
197 |                 hours_per_subperiod * (w - 1) + 1]==(1 - self_discharge(gen[y])) *
198 |                                                     (EP[:vCAPRES_socinreserve][
199 |                 y, hours_per_subperiod * w] - vCAPRES_dsoc[y, w])
200 |                                                     +
201 |                                                     (1 / efficiency_down(gen[y]) *
202 |                                                      EP[:vCAPRES_discharge][
203 |                 y, hours_per_subperiod * (w - 1) + 1]) -
204 |                                                     (efficiency_up(gen[y]) *
205 |                                                      EP[:vCAPRES_charge][
206 |                 y, hours_per_subperiod * (w - 1) + 1]))
207 | 
208 |         # Storage held in reserve at beginning of period w = storage at beginning of period w-1 + storage built up in period w (after n representative periods)
209 |         ## Multiply storage build up term from prior period with corresponding weight
210 |         @constraint(EP,
211 |             cVSoCBalLongDurationStorage[y in STOR_LONG_DURATION,
212 |                 r in MODELED_PERIODS_INDEX],
213 |             vCAPRES_socw[y,
214 |                 mod1(r + 1, NPeriods)]==vCAPRES_socw[y, r] +
215 |                                         vCAPRES_dsoc[y, dfPeriodMap[r, :Rep_Period_Index]])
216 | 
217 |         # Initial reserve storage level for representative periods must also adhere to sub-period storage inventory balance
218 |         # Initial storage = Final storage - change in storage inventory across representative period
219 |         @constraint(EP,
220 |             cVSoCBalLongDurationStorageSub[y in STOR_LONG_DURATION, r in REP_PERIODS_INDEX],
221 |             vCAPRES_socw[y,r]==EP[:vCAPRES_socinreserve][y,
222 |                 hours_per_subperiod * dfPeriodMap[r, :Rep_Period_Index]] -
223 |                     vCAPRES_dsoc[y, dfPeriodMap[r, :Rep_Period_Index]])
224 | 
225 |         # energy held in reserve at the beginning of each modeled period acts as a lower bound on the total energy held in storage
226 |         @constraint(EP,
227 |             cSOCMinCapResLongDurationStorage[y in STOR_LONG_DURATION,
228 |                 r in MODELED_PERIODS_INDEX],
229 |             vSOCw[y, r]>=vCAPRES_socw[y, r])
230 |     end
231 | 
232 |     if setup["LDSAdditionalConstraints"] == 1 && !isempty(NON_REP_PERIODS_INDEX)
233 |         # Extract maximum storage level variation (positive) within subperiod
234 |         @constraint(EP, cMaxSoCVarPos[y in STOR_LONG_DURATION, w=1:REP_PERIOD, t=2:hours_per_subperiod],
235 |                     vdSOC_maxPos[y,w] >= EP[:vS][y,hours_per_subperiod*(w-1)+t] - EP[:vS][y,hours_per_subperiod*(w-1)+1])
236 | 
237 |         # Extract maximum storage level variation (negative) within subperiod
238 |         @constraint(EP, cMaxSoCVarNeg[y in STOR_LONG_DURATION, w=1:REP_PERIOD, t=2:hours_per_subperiod],
239 |                     vdSOC_maxNeg[y,w] <= EP[:vS][y,hours_per_subperiod*(w-1)+t] - EP[:vS][y,hours_per_subperiod*(w-1)+1])
240 | 
241 |         # Max storage content within each modeled period cannot exceed installed energy capacity
242 |         @constraint(EP, cSoCLongDurationStorageMaxInt[y in STOR_LONG_DURATION, r in NON_REP_PERIODS_INDEX],
243 |                 (1-self_discharge(gen[y]))*vSOCw[y,r]-(1/efficiency_down(gen[y])*EP[:vP][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
244 |                 +(efficiency_up(gen[y])*EP[:vCHARGE][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
245 |                 +vdSOC_maxPos[y,dfPeriodMap[r,:Rep_Period_Index]] <= EP[:eTotalCapEnergy][y])
246 | 
247 |         # Min storage content within each modeled period cannot be negative
248 |         @constraint(EP, cSoCLongDurationStorageMinInt[y in STOR_LONG_DURATION, r in NON_REP_PERIODS_INDEX],
249 |                 (1-self_discharge(gen[y]))*vSOCw[y,r]-(1/efficiency_down(gen[y])*EP[:vP][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
250 |                 +(efficiency_up(gen[y])*EP[:vCHARGE][y,hours_per_subperiod*(dfPeriodMap[r,:Rep_Period_Index]-1)+1])
251 |                 +vdSOC_maxNeg[y,dfPeriodMap[r,:Rep_Period_Index]] >= 0)
252 |     end
253 | end
254 | 
255 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/storage.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	storage!(EP::Model, inputs::Dict, setup::Dict)
  3 | A wide range of energy storage devices (all $o \in \mathcal{O}$) can be modeled in GenX, using one of two generic storage formulations: (1) storage technologies with symmetric charge and discharge capacity (all $o \in \mathcal{O}^{sym}$), such as Lithium-ion batteries and most other electrochemical storage devices that use the same components for both charge and discharge; and (2) storage technologies that employ distinct and potentially asymmetric charge and discharge capacities (all $o \in \mathcal{O}^{asym}$), such as most thermal storage technologies or hydrogen electrolysis/storage/fuel cell or combustion turbine systems.
  4 | 
  5 | If a capacity reserve margin is modeled, variables for virtual charge, $\Pi^{CRM}_{o,z,t}$, and virtual discharge, $\Theta^{CRM}_{o,z,t}$, are created to represent 
  6 | 	contributions that a storage device makes to the capacity reserve margin without actually generating power. (This functionality can be turned off with the parameter StorageVirtualDischarge in the GenX settings file.) These represent power that the storage device could 
  7 | 	have discharged or consumed if called upon to do so, based on its available state of charge. Importantly, a dedicated set of variables (those of the form $\Pi^{CRM}_{o,z,t}, \Theta^{CRM}_{o,z,t}$) 
  8 | 	and constraints are created to ensure that any virtual contributions to the capacity reserve margin could be made as actual charge/discharge if necessary without 
  9 | 	affecting system operations in any other timesteps. If a capacity reserve margin is not modeled, all related variables are fixed at 0. The overall contribution 
 10 | 	of storage devices to the system's capacity reserve margin in timestep $t$ is equal to $\sum_{y \in \mathcal{O}} \epsilon_{y,z,p}^{CRM} \times \left(\Theta_{y,z,t} + \Theta^{CRM}_{o,z,t} - \Pi^{CRM}_{o,z,t} - \Pi_{y,z,t} \right)$, 
 11 | 	and includes both actual and virtual charge and discharge.
 12 | ```math
 13 | \begin{aligned}
 14 | 	&  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 15 | 	&  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T}
 16 | \end{aligned}
 17 | ```
 18 | 
 19 | **Storage with symmetric charge and discharge capacity**
 20 | For storage technologies with symmetric charge and discharge capacity (all $o \in \mathcal{O}^{sym}$), charge rate, $\Pi_{o,z,t}$, and virtual charge rate, $\Pi^{CRM}_{o,z,t}$, are jointly constrained by the total installed power capacity, $\Omega_{o,z}$. Since storage resources generally represent a `cluster' of multiple similar storage devices of the same type/cost in the same zone, GenX permits storage resources to simultaneously charge and discharge (as some units could be charging while others discharge), with the simultaenous sum of charge, $\Pi_{o,z,t}$, discharge, $\Theta_{o,z,t}$, virtual charge, $\Pi^{CRM}_{o,z,t}$, and virtual discharge, $\Theta^{CRM}_{o,z,t}$, also limited by the total installed power capacity, $\Delta^{total}_{o,z}$. These two constraints are as follows:
 21 | ```math
 22 | \begin{aligned}
 23 | &  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 24 | &  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T}
 25 | \end{aligned}
 26 | ```
 27 | These constraints are created with the function ```storage_symmetric!()``` in ```storage_symmetric.jl```.
 28 | If reserves are modeled, the following two constraints replace those above:
 29 | ```math
 30 | \begin{aligned}
 31 | &  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + f^{charge}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 32 | &  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + f^{charge}_{o,z,t} + \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} + f^{discharge}_{o,z,t} + r^{discharge}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}^{sym}, z \in \mathcal{Z}, t \in \mathcal{T} \\
 33 | \end{aligned}
 34 | ```
 35 | where $f^{charge}_{o,z,t}$ is the contribution of storage resources to frequency regulation while charging, $f^{discharge}_{o,z,t}$ is the contribution of storage resources to frequency regulation while discharging, and $r^{discharge}_{o,z,t}$ is the contribution of storage resources to upward reserves while discharging. Note that as storage resources can contribute to regulation and reserves while either charging or discharging, the proxy variables $f^{charge}_{o,z,t}, f^{discharge}_{o,z,t}$ and $r^{charge}_{o,z,t}, r^{discharge}_{o,z,t}$ are created for storage resources where the total contribution to regulation and reserves, $f_{o,z,t}, r_{o,z,t}$ is the sum of the proxy variables.
 36 | These constraints are created with the function ```storage_symmetric_operational_reserves!()``` in ```storage_symmetric.jl```.
 37 | **Storage with asymmetric charge and discharge capacity**
 38 | For storage technologies with asymmetric charge and discharge capacities (all $o \in \mathcal{O}^{asym}$), charge rate, $\Pi_{o,z,t}$, is constrained by the total installed charge capacity, $\Delta^{total, charge}_{o,z}$, as follows:
 39 | ```math
 40 | \begin{aligned}
 41 | 	&  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} \leq \Delta^{total, charge}_{o,z} & \quad \forall o \in \mathcal{O}^{asym}, z \in \mathcal{Z}, t \in \mathcal{T}
 42 | \end{aligned}
 43 | ```
 44 | These constraints are created with the function ```storage_asymmetric()``` in ```storage_asymmetric.jl```.
 45 | If reserves are modeled, the above constraint is replaced by the following:
 46 | ```math
 47 | \begin{aligned}
 48 | 	&  \Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + f^{charge}_{o,z,t} \leq \Delta^{total, charge}_{o,z} & \quad \forall o \in \mathcal{O}^{asym}, z \in \mathcal{Z}, t \in \mathcal{T}
 49 | \end{aligned}
 50 | ```
 51 | where $f^{+}_{y=o,z,t}$ is the contribution of storage resources to frequency regulation while charging.
 52 | These constraints are created with the function ```storage_symmetric_operational_reserves!()``` in ```storage_asymmetric.jl```.
 53 | **All storage resources**
 54 | The following constraints apply to all storage resources, $o \in \mathcal{O}$, regardless of whether the charge/discharge capacities are symmetric or asymmetric.
 55 | The following two constraints track the state of charge of the storage resources at the end of each time period, relating the volume of energy stored at the end of the time period, $\Gamma_{o,z,t}$, to the state of charge at the end of the prior time period, $\Gamma_{o,z,t-1}$, the charge and discharge decisions in the current time period, $\Pi_{o,z,t}, \Theta_{o,z,t}$, and the self discharge rate for the storage resource (if any), $\eta_{o,z}^{loss}$.  The first of these two constraints enforces storage inventory balance for interior time steps $(t \in \mathcal{T}^{interior})$, while the second enforces storage balance constraint for the initial time step $(t \in \mathcal{T}^{start})$.
 56 | ```math
 57 | \begin{aligned}
 58 | 	&  \Gamma_{o,z,t} =\Gamma_{o,z,t-1} - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,t} + \eta_{o,z}^{charge}\Pi_{o,z,t} - \eta_{o,z}^{loss}\Gamma_{o,z,t-1}  \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}^{interior}\\
 59 | 	&  \Gamma_{o,z,t} =\Gamma_{o,z,t+\tau^{period}-1} - \frac{1}{\eta_{o,z}^{discharge}}\Theta_{o,z,t} + \eta_{o,z}^{charge}\Pi_{o,z,t} - \eta_{o,z}^{loss}\Gamma_{o,z,t+\tau^{period}-1}  \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}^{start}
 60 | \end{aligned}
 61 | ```
 62 | If a capacity reserve margin is modeled, then the following constraints track the relationship between the virtual charge, $\Pi^{CRM}_{o,z,t}$, and virtual discharge, $\Theta^{CRM}_{o,z,t}$, variables and a third variable, $\Gamma^{CRM}_{o,z,t}$, representing the amount of state of charge that must be held in reserve to enable these virtual capacity reserve margin contributions, ensuring that the storage device could deliver its pledged capacity if called upon to do so without affecting its operations in other timesteps. $\Gamma^{CRM}_{o,z,t}$ is tracked similarly to the devices overall state of charge based on its value in the previous timestep and the virtual charge and discharge in the current timestep. Unlike the regular state of charge, virtual discharge $\Theta^{CRM}_{o,z,t}$ increases $\Gamma^{CRM}_{o,z,t}$ (as more charge must be held in reserve to support more virtual discharge), and $\Pi^{CRM}_{o,z,t}$ reduces $\Gamma^{CRM}_{o,z,t}$.
 63 | ```math
 64 | \begin{aligned}
 65 | 	&  \Gamma^{CRM}_{o,z,t} =\Gamma^{CRM}_{o,z,t-1} + \frac{1}{\eta_{o,z}^{discharge}}\Theta^{CRM}_{o,z,t} - \eta_{o,z}^{charge}\Pi^{CRM}_{o,z,t} - \eta_{o,z}^{loss}\Gamma^{CRM}_{o,z,t-1}  \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}^{interior}\\
 66 | 	&  \Gamma^{CRM}_{o,z,t} =\Gamma^{CRM}_{o,z,t+\tau^{period}-1} + \frac{1}{\eta_{o,z}^{discharge}}\Theta^{CRM}_{o,z,t} - \eta_{o,z}^{charge}\Pi^{CRM}_{o,z,t} - \eta_{o,z}^{loss}\Gamma^{CRM}_{o,z,t+\tau^{period}-1}  \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}^{start}
 67 | \end{aligned}
 68 | ```
 69 | The energy held in reserve, $\Gamma^{CRM}_{o,z,t}$, also acts as a lower bound on the overall state of charge $\Gamma_{o,z,t}$. This ensures that the storage device cannot use state of charge that would not have been available had it been called on to actually contribute its pledged virtual discharge at some earlier timestep. This relationship is described by the following equation:
 70 | ```math
 71 | \begin{aligned}
 72 | 	&  \Gamma_{o,z,t} \geq \Gamma^{CRM}_{o,z,t} 
 73 | \end{aligned}
 74 | ```
 75 | 
 76 | When modeling the entire year as a single chronological period with total number of time steps of $\tau^{period}$, storage inventory in the first time step is linked to storage inventory at the last time step of the period representing the year.
 77 | Alternatively, when modeling the entire year with multiple representative periods, this constraint relates storage inventory in the first timestep of the representative period with the inventory at the last time step of the representative period, where each representative period is made of $\tau^{period}$ time steps.
 78 | In this implementation, energy exchange between representative periods is not permitted.
 79 | When modeling representative time periods, GenX enables modeling of long duration energy storage which tracks state of charge (and state of charge held in reserve, if a capacity reserve margin is being modeled) between representative periods enable energy to be moved throughout the year.
 80 | If there is more than one representative period and ```LDS``` has been enabled for resources in ```Generators.csv```, this function calls ```long_duration_storage()``` in ```long_duration_storage.jl``` to enable this feature.
 81 | The next constraint limits the volume of energy stored at any time, $\Gamma_{o,z,t}$, to be less than the installed energy storage capacity, $\Delta^{total, energy}_{o,z}$.
 82 | Finally, the maximum combined discharge and virtual discharge rate for storage resources, $\Pi_{o,z,t} + \Pi^{CRM}_{o,z,t}$, is constrained to be less than the discharge power capacity, $\Omega_{o,z,t}$ or the state of charge at the end of the last period, $\Gamma_{o,z,t-1}$, whichever is less.
 83 | ```math
 84 | \begin{aligned}
 85 | 	&  \Gamma_{o,z,t} \leq \Delta^{total, energy}_{o,z} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 86 | 	&  \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 87 | 	&  \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} \leq \Gamma_{o,z,t-1} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}
 88 | \end{aligned}
 89 | ```
 90 | The above constraints are established in ```storage_all!()``` in ```storage_all.jl```.
 91 | If reserves are modeled, two pairs of proxy variables $f^{charge}_{o,z,t}, f^{discharge}_{o,z,t}$ and $r^{charge}_{o,z,t}, r^{discharge}_{o,z,t}$ are created for storage resources, to denote the contribution of storage resources to regulation or reserves while charging or discharging, respectively. The total contribution to regulation and reserves, $f_{o,z,t}, r_{o,z,t}$ is then the sum of the proxy variables:
 92 | ```math
 93 | \begin{aligned}
 94 | 	&  f_{o,z,t} = f^{charge}_{o,z,t} + f^{dicharge}_{o,z,t} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}\\
 95 | 	&  r_{o,z,t} = r^{charge}_{o,z,t} + r^{dicharge}_{o,z,t} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}
 96 | \end{aligned}
 97 | ```
 98 | The total storage contribution to frequency regulation ($f_{o,z,t}$) and reserves ($r_{o,z,t}$) are each limited specified fraction of installed discharge power capacity ($\upsilon^{reg}_{y,z}, \upsilon^{rsv}_{y,z}$), reflecting the maximum ramp rate for the storage resource in whatever time interval defines the requisite response time for the regulation or reserve products (e.g., 5 mins or 15 mins or 30 mins). These response times differ by system operator and reserve product, and so the user should define these parameters in a self-consistent way for whatever system context they are modeling.
 99 | ```math
100 | \begin{aligned}
101 | 	f_{y,z,t} \leq \upsilon^{reg}_{y,z} \times \Delta^{total}_{y,z}
102 | 	\hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T} \\
103 | 	r_{y,z, t} \leq \upsilon^{rsv}_{y,z}\times \Delta^{total}_{y,z}
104 | 	\hspace{4 cm}  \forall y \in \mathcal{W}, z \in \mathcal{Z}, t \in \mathcal{T}
105 | 	\end{aligned}
106 | ```
107 | When charging, reducing the charge rate is contributing to upwards reserve and frequency regulation as it drops net demand. As such, the sum of the charge rate plus contribution to regulation and reserves up must be greater than zero. Additionally, the discharge rate plus the contribution to regulation must be greater than zero.
108 | ```math
109 | \begin{aligned}
110 | 	&  \Pi_{o,z,t} - f^{charge}_{o,z,t} - r^{charge}_{o,z,t} \geq 0 & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}\\
111 | 	&  \Theta_{o,z,t} - f^{discharge}_{o,z,t} \geq 0 & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}
112 | \end{aligned}
113 | ```
114 | Additionally, when reserves are modeled, the maximum charge rate, virtual charge rate,
115 | and contribution to regulation while charging can be no greater than the available energy storage capacity,
116 | or the difference between the total energy storage capacity, $\Delta^{total, energy}_{o,z}$, and the state of charge at the end of the previous time period, $\Gamma_{o,z,t-1}$, while accounting for charging losses $\eta_{o,z}^{charge}$. Note that for storage to contribute to reserves down while charging, the storage device must be capable of increasing the charge rate (which increase net load).
117 | ```math
118 | \begin{aligned}
119 | 	&  \eta_{o,z}^{charge} \times (\Pi_{o,z,t} + \Pi^{CRM}_{o,z,t} + f^{charge}_{o,z,t}) \leq \Delta^{energy, total}_{o,z} - \Gamma_{o,z,t-1} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}
120 | \end{aligned}
121 | ```
122 | Finally, the constraints on maximum discharge rate are replaced by the following, to account for capacity contributed to regulation and reserves:
123 | ```math
124 | \begin{aligned}
125 | 	&  \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} + f^{discharge}_{o,z,t} + r^{discharge}_{o,z,t} \leq \Delta^{total}_{o,z} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}\\
126 | 	&  \Theta_{o,z,t} + \Theta^{CRM}_{o,z,t} + f^{discharge}_{o,z,t} + r^{discharge}_{o,z,t} \leq \Gamma_{o,z,t-1} & \quad \forall o \in \mathcal{O}, z \in \mathcal{Z}, t \in \mathcal{T}
127 | \end{aligned}
128 | ```
129 | The above reserve related constraints are established by ```storage_all_operational_reserves!()``` in ```storage_all.jl```
130 | """
131 | function storage!(EP::Model, inputs::Dict, setup::Dict)
132 |     println("Storage Resources Module")
133 |     gen = inputs["RESOURCES"]
134 |     T = inputs["T"]
135 |     STOR_ALL = inputs["STOR_ALL"]
136 | 
137 |     p = inputs["hours_per_subperiod"]
138 |     rep_periods = inputs["REP_PERIOD"]
139 | 
140 |     EnergyShareRequirement = setup["EnergyShareRequirement"]
141 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
142 |     IncludeLossesInESR = setup["IncludeLossesInESR"]
143 |     StorageVirtualDischarge = setup["StorageVirtualDischarge"]
144 | 
145 |     if !isempty(STOR_ALL)
146 |         investment_energy!(EP, inputs, setup)
147 |         storage_all!(EP, inputs, setup)
148 | 
149 |         # Include Long Duration Storage only when modeling representative periods and long-duration storage
150 |         if rep_periods > 1 && !isempty(inputs["STOR_LONG_DURATION"])
151 |             long_duration_storage!(EP, inputs, setup)
152 |         end
153 |     end
154 | 
155 |     if !isempty(inputs["STOR_ASYMMETRIC"])
156 |         investment_charge!(EP, inputs, setup)
157 |         storage_asymmetric!(EP, inputs, setup)
158 |     end
159 | 
160 |     if !isempty(inputs["STOR_SYMMETRIC"])
161 |         storage_symmetric!(EP, inputs, setup)
162 |     end
163 | 
164 |     # ESR Lossses
165 |     if EnergyShareRequirement >= 1
166 |         if IncludeLossesInESR == 1
167 |             @expression(EP,
168 |                 eESRStor[ESR = 1:inputs["nESR"]],
169 |                 sum(inputs["dfESR"][z, ESR] * sum(EP[:eELOSS][y]
170 |                     for y in intersect(resources_in_zone_by_rid(gen, z), STOR_ALL))
171 |                 for z in findall(x -> x > 0, inputs["dfESR"][:, ESR])))
172 |             add_similar_to_expression!(EP[:eESR], -eESRStor)
173 |         end
174 |     end
175 | 
176 |     # Capacity Reserves Margin policy
177 |     if CapacityReserveMargin > 0
178 |         @expression(EP,
179 |             eCapResMarBalanceStor[res = 1:inputs["NCapacityReserveMargin"], t = 1:T],
180 |             sum(derating_factor(gen[y], tag = res) * (EP[:vP][y, t] - EP[:vCHARGE][y, t])
181 |             for y in STOR_ALL))
182 |         if StorageVirtualDischarge > 0
183 |             @expression(EP,
184 |                 eCapResMarBalanceStorVirtual[res = 1:inputs["NCapacityReserveMargin"],
185 |                     t = 1:T],
186 |                 sum(derating_factor(gen[y], tag = res) *
187 |                     (EP[:vCAPRES_discharge][y, t] - EP[:vCAPRES_charge][y, t])
188 |                 for y in STOR_ALL))
189 |             add_similar_to_expression!(eCapResMarBalanceStor, eCapResMarBalanceStorVirtual)
190 |         end
191 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceStor)
192 |     end
193 | end
194 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/storage_all.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	storage_all!(EP::Model, inputs::Dict, setup::Dict)
  3 | 
  4 | Sets up variables and constraints common to all storage resources. See ```storage()``` in ```storage.jl``` for description of constraints.
  5 | """
  6 | function storage_all!(EP::Model, inputs::Dict, setup::Dict)
  7 |     # Setup variables, constraints, and expressions common to all storage resources
  8 |     println("Storage Core Resources Module")
  9 | 
 10 |     gen = inputs["RESOURCES"]
 11 |     OperationalReserves = setup["OperationalReserves"]
 12 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
 13 | 
 14 |     virtual_discharge_cost = inputs["VirtualChargeDischargeCost"]
 15 | 
 16 |     T = inputs["T"]     # Number of time steps (hours)
 17 |     Z = inputs["Z"]     # Number of zones
 18 | 
 19 |     STOR_ALL = inputs["STOR_ALL"]
 20 |     STOR_SHORT_DURATION = inputs["STOR_SHORT_DURATION"]
 21 |     representative_periods = inputs["REP_PERIOD"]
 22 | 
 23 |     START_SUBPERIODS = inputs["START_SUBPERIODS"]
 24 |     INTERIOR_SUBPERIODS = inputs["INTERIOR_SUBPERIODS"]
 25 | 
 26 |     hours_per_subperiod = inputs["hours_per_subperiod"] #total number of hours per subperiod
 27 | 
 28 |     ### Variables ###
 29 | 
 30 |     # Storage level of resource "y" at hour "t" [MWh] on zone "z" - unbounded
 31 |     @variable(EP, vS[y in STOR_ALL, t = 1:T]>=0)
 32 | 
 33 |     # Energy withdrawn from grid by resource "y" at hour "t" [MWh] on zone "z"
 34 |     @variable(EP, vCHARGE[y in STOR_ALL, t = 1:T]>=0)
 35 | 
 36 |     if CapacityReserveMargin > 0
 37 |         # Virtual discharge contributing to capacity reserves at timestep t for storage cluster y
 38 |         @variable(EP, vCAPRES_discharge[y in STOR_ALL, t = 1:T]>=0)
 39 | 
 40 |         # Virtual charge contributing to capacity reserves at timestep t for storage cluster y
 41 |         @variable(EP, vCAPRES_charge[y in STOR_ALL, t = 1:T]>=0)
 42 | 
 43 |         # Total state of charge being held in reserve at timestep t for storage cluster y
 44 |         @variable(EP, vCAPRES_socinreserve[y in STOR_ALL, t = 1:T]>=0)
 45 |     end
 46 | 
 47 |     ### Expressions ###
 48 | 
 49 |     # Energy losses related to technologies (increase in effective demand)
 50 |     @expression(EP,
 51 |         eELOSS[y in STOR_ALL],
 52 |         sum(inputs["omega"][t] * EP[:vCHARGE][y, t]
 53 |         for t in 1:T)-sum(inputs["omega"][t] *
 54 |                           EP[:vP][y, t]
 55 |         for t in 1:T))
 56 | 
 57 |     ## Objective Function Expressions ##
 58 | 
 59 |     #Variable costs of "charging" for technologies "y" during hour "t" in zone "z"
 60 |     @expression(EP,
 61 |         eCVar_in[y in STOR_ALL, t = 1:T],
 62 |         inputs["omega"][t]*var_om_cost_per_mwh_in(gen[y])*vCHARGE[y, t])
 63 | 
 64 |     # Sum individual resource contributions to variable charging costs to get total variable charging costs
 65 |     @expression(EP, eTotalCVarInT[t = 1:T], sum(eCVar_in[y, t] for y in STOR_ALL))
 66 |     @expression(EP, eTotalCVarIn, sum(eTotalCVarInT[t] for t in 1:T))
 67 |     add_to_expression!(EP[:eObj], eTotalCVarIn)
 68 | 
 69 |     if CapacityReserveMargin > 0
 70 |         #Variable costs of "virtual charging" for technologies "y" during hour "t" in zone "z"
 71 |         @expression(EP,
 72 |             eCVar_in_virtual[y in STOR_ALL, t = 1:T],
 73 |             inputs["omega"][t]*virtual_discharge_cost*vCAPRES_charge[y, t])
 74 |         @expression(EP,
 75 |             eTotalCVarInT_virtual[t = 1:T],
 76 |             sum(eCVar_in_virtual[y, t] for y in STOR_ALL))
 77 |         @expression(EP, eTotalCVarIn_virtual, sum(eTotalCVarInT_virtual[t] for t in 1:T))
 78 |         EP[:eObj] += eTotalCVarIn_virtual
 79 | 
 80 |         #Variable costs of "virtual discharging" for technologies "y" during hour "t" in zone "z"
 81 |         @expression(EP,
 82 |             eCVar_out_virtual[y in STOR_ALL, t = 1:T],
 83 |             inputs["omega"][t]*virtual_discharge_cost*vCAPRES_discharge[y, t])
 84 |         @expression(EP,
 85 |             eTotalCVarOutT_virtual[t = 1:T],
 86 |             sum(eCVar_out_virtual[y, t] for y in STOR_ALL))
 87 |         @expression(EP, eTotalCVarOut_virtual, sum(eTotalCVarOutT_virtual[t] for t in 1:T))
 88 |         EP[:eObj] += eTotalCVarOut_virtual
 89 |     end
 90 | 
 91 |     ## Power Balance Expressions ##
 92 | 
 93 |     # Term to represent net dispatch from storage in any period
 94 |     @expression(EP, ePowerBalanceStor[t = 1:T, z = 1:Z],
 95 |         sum(EP[:vP][y, t] - EP[:vCHARGE][y, t]
 96 |         for y in intersect(resources_in_zone_by_rid(gen, z), STOR_ALL)))
 97 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceStor)
 98 | 
 99 |     ### Constraints ###
100 | 
101 |     ## Storage energy capacity and state of charge related constraints:
102 | 
103 |     # Links state of charge in first time step with decisions in last time step of each subperiod
104 |     # We use a modified formulation of this constraint (cSoCBalLongDurationStorageStart) when operations wrapping and long duration storage are being modeled
105 |     if representative_periods > 1 && !isempty(inputs["STOR_LONG_DURATION"])
106 |         CONSTRAINTSET = STOR_SHORT_DURATION
107 |     else
108 |         CONSTRAINTSET = STOR_ALL
109 |     end
110 |     @constraint(EP,
111 |         cSoCBalStart[t in START_SUBPERIODS, y in CONSTRAINTSET],
112 |         EP[:vS][y,
113 |             t]==
114 |         EP[:vS][y, t + hours_per_subperiod - 1] -
115 |         (1 / efficiency_down(gen[y]) * EP[:vP][y, t])
116 |         +
117 |         (efficiency_up(gen[y]) * EP[:vCHARGE][y, t]) -
118 |         (self_discharge(gen[y]) * EP[:vS][y, t + hours_per_subperiod - 1]))
119 | 
120 |     @constraints(EP,
121 |         begin
122 |             # Maximum energy stored must be less than energy capacity
123 |             [y in STOR_ALL, t in 1:T], EP[:vS][y, t] <= EP[:eTotalCapEnergy][y]
124 | 
125 |             # energy stored for the next hour
126 |             cSoCBalInterior[t in INTERIOR_SUBPERIODS, y in STOR_ALL],
127 |             EP[:vS][y, t] ==
128 |             EP[:vS][y, t - 1] - (1 / efficiency_down(gen[y]) * EP[:vP][y, t]) +
129 |             (efficiency_up(gen[y]) * EP[:vCHARGE][y, t]) -
130 |             (self_discharge(gen[y]) * EP[:vS][y, t - 1])
131 |         end)
132 | 
133 |     # Hourly matching constraints
134 |     if setup["HourlyMatching"] == 1
135 |         QUALIFIED_SUPPLY = inputs["QUALIFIED_SUPPLY"]   # Resources that are qualified to contribute to hourly matching constraint
136 |         @expression(EP, eHMCharge[t = 1:T, z = 1:Z],
137 |             -sum(EP[:vCHARGE][y, t]
138 |             for y in intersect(resources_in_zone_by_rid(gen, z), QUALIFIED_SUPPLY, STOR_ALL)))
139 |         add_similar_to_expression!(EP[:eHM], eHMCharge)
140 |     end
141 | 
142 |     # Storage discharge and charge power (and reserve contribution) related constraints:
143 |     if OperationalReserves == 1
144 |         storage_all_operational_reserves!(EP, inputs, setup)
145 |     else
146 |         if CapacityReserveMargin > 0
147 |             # Note: maximum charge rate is also constrained by maximum charge power capacity, but as this differs by storage type,
148 |             # this constraint is set in functions below for each storage type
149 | 
150 |             # Maximum discharging rate must be less than power rating OR available stored energy in the prior period, whichever is less
151 |             # wrapping from end of sample period to start of sample period for energy capacity constraint
152 |             @constraints(EP,
153 |                 begin
154 |                     [y in STOR_ALL, t = 1:T],
155 |                     EP[:vP][y, t] + EP[:vCAPRES_discharge][y, t] <= EP[:eTotalCap][y]
156 |                     [y in STOR_ALL, t = 1:T],
157 |                     EP[:vP][y, t] + EP[:vCAPRES_discharge][y, t] <=
158 |                     EP[:vS][y, hoursbefore(hours_per_subperiod, t, 1)] *
159 |                     efficiency_down(gen[y])
160 |                 end)
161 |         else
162 |             @constraints(EP,
163 |                 begin
164 |                     [y in STOR_ALL, t = 1:T], EP[:vP][y, t] <= EP[:eTotalCap][y]
165 |                     [y in STOR_ALL, t = 1:T],
166 |                     EP[:vP][y, t] <=
167 |                     EP[:vS][y, hoursbefore(hours_per_subperiod, t, 1)] *
168 |                     efficiency_down(gen[y])
169 |                 end)
170 |         end
171 |     end
172 | 
173 |     # From CO2 Policy module
174 |     expr = @expression(EP,
175 |         [z = 1:Z],
176 |         sum(EP[:eELOSS][y] for y in intersect(STOR_ALL, resources_in_zone_by_rid(gen, z))))
177 |     add_similar_to_expression!(EP[:eELOSSByZone], expr)
178 | 
179 |     # Capacity Reserve Margin policy
180 |     if CapacityReserveMargin > 0
181 |         # Constraints governing energy held in reserve when storage makes virtual capacity reserve margin contributions:
182 | 
183 |         # Links energy held in reserve in first time step with decisions in last time step of each subperiod
184 |         # We use a modified formulation of this constraint (cVSoCBalLongDurationStorageStart) when operations wrapping and long duration storage are being modeled
185 |         @constraint(EP,
186 |             cVSoCBalStart[t in START_SUBPERIODS, y in CONSTRAINTSET],
187 |             EP[:vCAPRES_socinreserve][y,
188 |                 t]==
189 |             EP[:vCAPRES_socinreserve][y, t + hours_per_subperiod - 1] +
190 |             (1 / efficiency_down(gen[y]) * EP[:vCAPRES_discharge][y, t])
191 |             -
192 |             (efficiency_up(gen[y]) * EP[:vCAPRES_charge][y, t]) - (self_discharge(gen[y]) *
193 |              EP[:vCAPRES_socinreserve][y, t + hours_per_subperiod - 1]))
194 | 
195 |         # energy held in reserve for the next hour
196 |         @constraint(EP,
197 |             cVSoCBalInterior[t in INTERIOR_SUBPERIODS, y in STOR_ALL],
198 |             EP[:vCAPRES_socinreserve][y,
199 |                 t]==
200 |             EP[:vCAPRES_socinreserve][y, t - 1] +
201 |             (1 / efficiency_down(gen[y]) * EP[:vCAPRES_discharge][y, t]) -
202 |             (efficiency_up(gen[y]) * EP[:vCAPRES_charge][y, t]) -
203 |             (self_discharge(gen[y]) * EP[:vCAPRES_socinreserve][y, t - 1]))
204 | 
205 |         # energy held in reserve acts as a lower bound on the total energy held in storage
206 |         @constraint(EP,
207 |             cSOCMinCapRes[t in 1:T, y in STOR_ALL],
208 |             EP[:vS][y, t]>=EP[:vCAPRES_socinreserve][y, t])
209 |     end
210 | end
211 | 
212 | function storage_all_operational_reserves!(EP::Model, inputs::Dict, setup::Dict)
213 |     gen = inputs["RESOURCES"]
214 |     T = inputs["T"]
215 |     p = inputs["hours_per_subperiod"]
216 |     CapacityReserveMargin = setup["CapacityReserveMargin"] > 0
217 | 
218 |     STOR_ALL = inputs["STOR_ALL"]
219 | 
220 |     STOR_REG = intersect(STOR_ALL, inputs["REG"]) # Set of storage resources with REG reserves
221 |     STOR_RSV = intersect(STOR_ALL, inputs["RSV"]) # Set of storage resources with RSV reserves
222 | 
223 |     vP = EP[:vP]
224 |     vS = EP[:vS]
225 |     vCHARGE = EP[:vCHARGE]
226 |     vREG = EP[:vREG]
227 |     vRSV = EP[:vRSV]
228 |     vREG_charge = EP[:vREG_charge]
229 |     vRSV_charge = EP[:vRSV_charge]
230 |     vREG_discharge = EP[:vREG_discharge]
231 |     vRSV_discharge = EP[:vRSV_discharge]
232 | 
233 |     eTotalCap = EP[:eTotalCap]
234 |     eTotalCapEnergy = EP[:eTotalCapEnergy]
235 | 
236 |     # Maximum storage contribution to reserves is a specified fraction of installed capacity
237 |     @constraint(EP, [y in STOR_REG, t in 1:T], vREG[y, t]<=reg_max(gen[y]) * eTotalCap[y])
238 |     @constraint(EP, [y in STOR_RSV, t in 1:T], vRSV[y, t]<=rsv_max(gen[y]) * eTotalCap[y])
239 | 
240 |     # Actual contribution to regulation and reserves is sum of auxilary variables for portions contributed during charging and discharging
241 |     @constraint(EP,
242 |         [y in STOR_REG, t in 1:T],
243 |         vREG[y, t]==vREG_charge[y, t] + vREG_discharge[y, t])
244 |     @constraint(EP,
245 |         [y in STOR_RSV, t in 1:T],
246 |         vRSV[y, t]==vRSV_charge[y, t] + vRSV_discharge[y, t])
247 | 
248 |     # Maximum charging rate plus contribution to reserves up must be greater than zero
249 |     # Note: when charging, reducing charge rate is contributing to upwards reserve & regulation as it drops net demand
250 |     expr = extract_time_series_to_expression(vCHARGE, STOR_ALL)
251 |     add_similar_to_expression!(expr[STOR_REG, :], -vREG_charge[STOR_REG, :])
252 |     add_similar_to_expression!(expr[STOR_RSV, :], -vRSV_charge[STOR_RSV, :])
253 |     @constraint(EP, [y in STOR_ALL, t in 1:T], expr[y, t]>=0)
254 | 
255 |     # Maximum discharging rate and contribution to reserves down must be greater than zero
256 |     # Note: when discharging, reducing discharge rate is contributing to downwards regulation as it drops net supply
257 |     @constraint(EP, [y in STOR_REG, t in 1:T], vP[y, t] - vREG_discharge[y, t]>=0)
258 | 
259 |     # Maximum charging rate plus contribution to regulation down must be less than available storage capacity
260 |     @constraint(EP,
261 |         [y in STOR_REG, t in 1:T],
262 |         efficiency_up(gen[y]) *
263 |         (vCHARGE[y, t] +
264 |          vREG_charge[y, t])<=eTotalCapEnergy[y] - vS[y, hoursbefore(p, t, 1)])
265 |     # Note: maximum charge rate is also constrained by maximum charge power capacity, but as this differs by storage type,
266 |     # this constraint is set in functions below for each storage type
267 | 
268 |     expr = extract_time_series_to_expression(vP, STOR_ALL)
269 |     add_similar_to_expression!(expr[STOR_REG, :], vREG_discharge[STOR_REG, :])
270 |     add_similar_to_expression!(expr[STOR_RSV, :], vRSV_discharge[STOR_RSV, :])
271 |     if CapacityReserveMargin
272 |         vCAPRES_discharge = EP[:vCAPRES_discharge]
273 |         add_similar_to_expression!(expr[STOR_ALL, :], vCAPRES_discharge[STOR_ALL, :])
274 |     end
275 |     # Maximum discharging rate and contribution to reserves up must be less than power rating
276 |     @constraint(EP, [y in STOR_ALL, t in 1:T], expr[y, t]<=eTotalCap[y])
277 |     # Maximum discharging rate and contribution to reserves up must be less than available stored energy in prior period
278 |     @constraint(EP,
279 |         [y in STOR_ALL, t in 1:T],
280 |         expr[y, t]<=vS[y, hoursbefore(p, t, 1)] * efficiency_down(gen[y]))
281 | end
282 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/storage_asymmetric.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	storage_asymmetric!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | Sets up variables and constraints specific to storage resources with asymmetric charge and discharge capacities. See ```storage()``` in ```storage.jl``` for description of constraints.
 5 | """
 6 | function storage_asymmetric!(EP::Model, inputs::Dict, setup::Dict)
 7 |     # Set up additional variables, constraints, and expressions associated with storage resources with asymmetric charge & discharge capacity
 8 |     # (e.g. most chemical, thermal, and mechanical storage options with distinct charge & discharge components/processes)
 9 |     # STOR = 2 corresponds to storage with distinct power and energy capacity decisions and distinct charge and discharge power capacity decisions/ratings
10 | 
11 |     println("Storage Resources with Asmymetric Charge/Discharge Capacity Module")
12 | 
13 |     OperationalReserves = setup["OperationalReserves"]
14 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
15 | 
16 |     T = inputs["T"]     # Number of time steps (hours)
17 | 
18 |     STOR_ASYMMETRIC = inputs["STOR_ASYMMETRIC"]
19 | 
20 |     ### Constraints ###
21 | 
22 |     # Storage discharge and charge power (and reserve contribution) related constraints for symmetric storage resources:
23 |     if OperationalReserves == 1
24 |         storage_asymmetric_operational_reserves!(EP, inputs, setup)
25 |     else
26 |         if CapacityReserveMargin > 0
27 |             # Maximum charging rate (including virtual charging to move energy held in reserve back to available storage) must be less than charge power rating
28 |             @constraint(EP,
29 |                 [y in STOR_ASYMMETRIC, t in 1:T],
30 |                 EP[:vCHARGE][y, t] + EP[:vCAPRES_charge][y, t]<=EP[:eTotalCapCharge][y])
31 |         else
32 |             # Maximum charging rate (including virtual charging to move energy held in reserve back to available storage) must be less than charge power rating
33 |             @constraint(EP,
34 |                 [y in STOR_ASYMMETRIC, t in 1:T],
35 |                 EP[:vCHARGE][y, t]<=EP[:eTotalCapCharge][y])
36 |         end
37 |     end
38 | end
39 | 
40 | @doc raw"""
41 | 	storage_asymmetric_operational_reserves!(EP::Model, inputs::Dict)
42 | 
43 | Sets up variables and constraints specific to storage resources with asymmetric charge and discharge capacities when reserves are modeled. See ```storage()``` in ```storage.jl``` for description of constraints.
44 | """
45 | function storage_asymmetric_operational_reserves!(EP::Model, inputs::Dict, setup::Dict)
46 |     T = inputs["T"]
47 |     CapacityReserveMargin = setup["CapacityReserveMargin"] > 0
48 | 
49 |     STOR_ASYMMETRIC = inputs["STOR_ASYMMETRIC"]
50 |     STOR_ASYM_REG = intersect(STOR_ASYMMETRIC, inputs["REG"]) # Set of asymmetric storage resources with REG reserves
51 | 
52 |     vCHARGE = EP[:vCHARGE]
53 |     vREG_charge = EP[:vREG_charge]
54 |     eTotalCapCharge = EP[:eTotalCapCharge]
55 | 
56 |     expr = extract_time_series_to_expression(vCHARGE, STOR_ASYMMETRIC)
57 |     add_similar_to_expression!(expr[STOR_ASYM_REG, :], vREG_charge[STOR_ASYM_REG, :])
58 |     if CapacityReserveMargin
59 |         vCAPRES_charge = EP[:vCAPRES_charge]
60 |         add_similar_to_expression!(expr[STOR_ASYMMETRIC, :],
61 |             vCAPRES_charge[STOR_ASYMMETRIC, :])
62 |     end
63 |     @constraint(EP, [y in STOR_ASYMMETRIC, t in 1:T], expr[y, t]<=eTotalCapCharge[y])
64 | end
65 | 


--------------------------------------------------------------------------------
/src/model/resources/storage/storage_symmetric.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	storage_symmetric!(EP::Model, inputs::Dict, setup::Dict)
 3 | 
 4 | Sets up variables and constraints specific to storage resources with symmetric charge and discharge capacities. See ```storage()``` in ```storage.jl``` for description of constraints.
 5 | """
 6 | function storage_symmetric!(EP::Model, inputs::Dict, setup::Dict)
 7 |     # Set up additional variables, constraints, and expressions associated with storage resources with symmetric charge & discharge capacity
 8 |     # (e.g. most electrochemical batteries that use same components for charge & discharge)
 9 |     # STOR = 1 corresponds to storage with distinct power and energy capacity decisions but symmetric charge/discharge power ratings
10 | 
11 |     println("Storage Resources with Symmetric Charge/Discharge Capacity Module")
12 | 
13 |     OperationalReserves = setup["OperationalReserves"]
14 |     CapacityReserveMargin = setup["CapacityReserveMargin"]
15 | 
16 |     T = inputs["T"]     # Number of time steps (hours)
17 | 
18 |     STOR_SYMMETRIC = inputs["STOR_SYMMETRIC"]
19 | 
20 |     ### Constraints ###
21 | 
22 |     # Storage discharge and charge power (and reserve contribution) related constraints for symmetric storage resources:
23 |     if OperationalReserves == 1
24 |         storage_symmetric_operational_reserves!(EP, inputs, setup)
25 |     else
26 |         if CapacityReserveMargin > 0
27 |             @constraints(EP,
28 |                 begin
29 |                     # Maximum charging rate (including virtual charging to move energy held in reserve back to available storage) must be less than symmetric power rating
30 |                     # Max simultaneous charge and discharge cannot be greater than capacity
31 |                     [y in STOR_SYMMETRIC, t in 1:T],
32 |                     EP[:vP][y, t] + EP[:vCHARGE][y, t] + EP[:vCAPRES_discharge][y, t] +
33 |                     EP[:vCAPRES_charge][y, t] <= EP[:eTotalCap][y]
34 |                 end)
35 |         else
36 |             @constraints(EP,
37 |                 begin
38 |                     # Maximum charging rate (including virtual charging to move energy held in reserve back to available storage) must be less than symmetric power rating
39 |                     # Max simultaneous charge and discharge cannot be greater than capacity
40 |                     [y in STOR_SYMMETRIC, t in 1:T],
41 |                     EP[:vP][y, t] + EP[:vCHARGE][y, t] <= EP[:eTotalCap][y]
42 |                 end)
43 |         end
44 |     end
45 | end
46 | 
47 | @doc raw"""
48 | 	storage_symmetric_operational_reserves!(EP::Model, inputs::Dict)
49 | 
50 | Sets up variables and constraints specific to storage resources with symmetric charge and discharge capacities when reserves are modeled. See ```storage()``` in ```storage.jl``` for description of constraints.
51 | """
52 | function storage_symmetric_operational_reserves!(EP::Model, inputs::Dict, setup::Dict)
53 |     T = inputs["T"]
54 |     CapacityReserveMargin = setup["CapacityReserveMargin"] > 0
55 | 
56 |     SYMMETRIC = inputs["STOR_SYMMETRIC"]
57 | 
58 |     REG = intersect(SYMMETRIC, inputs["REG"])
59 |     RSV = intersect(SYMMETRIC, inputs["RSV"])
60 | 
61 |     vP = EP[:vP]
62 |     vCHARGE = EP[:vCHARGE]
63 |     vREG_charge = EP[:vREG_charge]
64 |     vRSV_charge = EP[:vRSV_charge]
65 |     vREG_discharge = EP[:vREG_discharge]
66 |     vRSV_discharge = EP[:vRSV_discharge]
67 |     eTotalCap = EP[:eTotalCap]
68 | 
69 |     # Maximum charging rate plus contribution to regulation down must be less than symmetric power rating
70 |     # Max simultaneous charge and discharge rates cannot be greater than symmetric charge/discharge capacity
71 |     expr = @expression(EP, [y in SYMMETRIC, t in 1:T], vP[y, t]+vCHARGE[y, t])
72 |     add_similar_to_expression!(expr[REG, :], vREG_charge[REG, :])
73 |     add_similar_to_expression!(expr[REG, :], vREG_discharge[REG, :])
74 |     add_similar_to_expression!(expr[RSV, :], vRSV_discharge[RSV, :])
75 |     if CapacityReserveMargin
76 |         vCAPRES_charge = EP[:vCAPRES_charge]
77 |         vCAPRES_discharge = EP[:vCAPRES_discharge]
78 |         add_similar_to_expression!(expr[SYMMETRIC, :], vCAPRES_charge[SYMMETRIC, :])
79 |         add_similar_to_expression!(expr[SYMMETRIC, :], vCAPRES_discharge[SYMMETRIC, :])
80 |     end
81 |     @constraint(EP, [y in SYMMETRIC, t in 1:T], expr[y, t]<=eTotalCap[y])
82 | end
83 | 


--------------------------------------------------------------------------------
/src/model/resources/thermal/thermal.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     thermal!(EP::Model, inputs::Dict, setup::Dict)
 3 | The thermal module creates decision variables, expressions, and constraints related to thermal power plants e.g. coal, oil or natural gas steam plants, natural gas combined cycle and combustion turbine plants, nuclear, hydrogen combustion etc.
 4 | This module uses the following 'helper' functions in separate files: ```thermal_commit()``` for thermal resources subject to unit commitment decisions and constraints (if any) and ```thermal_no_commit()``` for thermal resources not subject to unit commitment (if any).
 5 | For the piecewise linear cost function for thermal generators, please refer to the documentation in the [`fuel!`](@ref) page
 6 | """
 7 | function thermal!(EP::Model, inputs::Dict, setup::Dict)
 8 |     gen = inputs["RESOURCES"]
 9 | 
10 |     T = inputs["T"]     # Number of time steps (hours)
11 |     Z = inputs["Z"]     # Number of zones
12 | 
13 |     THERM_COMMIT = inputs["THERM_COMMIT"]
14 |     THERM_NO_COMMIT = inputs["THERM_NO_COMMIT"]
15 |     THERM_ALL = inputs["THERM_ALL"]
16 |     MAINT = ids_with_maintenance(gen)
17 |     FUSION = ids_with(gen, fusion)
18 | 
19 |     if !isempty(THERM_COMMIT)
20 |         thermal_commit!(EP, inputs, setup)
21 |     end
22 | 
23 |     if !isempty(THERM_NO_COMMIT)
24 |         thermal_no_commit!(EP, inputs, setup)
25 |     end
26 |     ##CO2 Polcy Module Thermal Generation by zone
27 |     @expression(EP, eGenerationByThermAll[z = 1:Z, t = 1:T], # the unit is GW
28 |         sum(EP[:vP][y, t]
29 |         for y in intersect(inputs["THERM_ALL"], resources_in_zone_by_rid(gen, z))))
30 |     add_similar_to_expression!(EP[:eGenerationByZone], eGenerationByThermAll)
31 | 
32 |     # Capacity Reserves Margin policy
33 |     if setup["CapacityReserveMargin"] > 0
34 |         ncapres = inputs["NCapacityReserveMargin"]
35 |         @expression(EP, eCapResMarBalanceThermal[capres in 1:ncapres, t in 1:T],
36 |             sum(derating_factor(gen[y], tag = capres) * EP[:eTotalCap][y]
37 |             for y in THERM_ALL))
38 |         add_similar_to_expression!(EP[:eCapResMarBalance], eCapResMarBalanceThermal)
39 | 
40 |         if !isempty(intersect(MAINT, THERM_COMMIT))
41 |             thermal_maintenance_capacity_reserve_margin_adjustment!(EP, inputs)
42 |         end
43 | 
44 |         if !isempty(intersect(FUSION, THERM_COMMIT))
45 |             fusion_capacity_reserve_margin_adjustment!(EP, inputs)
46 |         end
47 |     end
48 | 
49 |     if setup["EnergyShareRequirement"] > 0
50 |         if !isempty(intersect(FUSION, THERM_COMMIT))
51 |             fusion_parasitic_power_adjust_energy_share_requirement!(EP, inputs)
52 |         end
53 |     end
54 | end
55 | 


--------------------------------------------------------------------------------
/src/model/resources/thermal/thermal_commit.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	thermal_commit!(EP::Model, inputs::Dict, setup::Dict)
  3 | 
  4 | This function defines the operating constraints for thermal power plants subject to unit commitment constraints on power plant start-ups and shut-down decision ($y \in UC$).
  5 | 
  6 | We model capacity investment decisions and commitment and cycling (start-up, shut-down) of thermal generators using the integer clustering technique developed in [Palmintier, 2011](https://pennstate.pure.elsevier.com/en/publications/impact-of-unit-commitment-constraints-on-generation-expansion-pla), [Palmintier, 2013](https://dspace.mit.edu/handle/1721.1/79147), and [Palmintier, 2014](https://ieeexplore.ieee.org/document/6684593). In a typical binary unit commitment formulation, each unit is either on or off. With the clustered unit commitment formulation, one or more cluster(s) of similar generators are clustered by type and zone (typically using heat rate and fixed O\&M cost to create clusters), and the integer commitment state variable for each cluster varies from zero to the number of units in the cluster, $\frac{\Delta^{total}_{y,z}}{\Omega^{size}_{y,z}}$. As discussed in \cite{Palmintier2014}, this approach replaces the large set of binary commitment decisions and associated constraints, which scale directly with the number of individual units, with a smaller set of integer commitment states and  constraints, one for each cluster $y$. The dimensionality of the problem thus scales with the number of units of a given type in each zone, rather than by the number of discrete units, significantly improving computational efficiency. However, this method entails the simplifying assumption that all clustered units have identical parameters (e.g., capacity size, ramp rates, heat rate) and that all committed units in a given time step $t$ are operating at the same power output per unit.
  7 | 
  8 | **Power balance expression**
  9 | 
 10 | This function adds the sum of power generation from thermal units subject to unit commitment ($\Theta_{y \in UC,t \in T,z \in Z}$) to the power balance expression.
 11 | 
 12 | **Startup and shutdown events (thermal plant cycling)**
 13 | 
 14 | *Capacitated limits on unit commitment decision variables*
 15 | 
 16 | Thermal resources subject to unit commitment ($y \in \mathcal{UC}$) adhere to the following constraints on commitment states, startup events, and shutdown events, which limit each decision to be no greater than the maximum number of discrete units installed (as per the following three constraints):
 17 | 
 18 | ```math
 19 | \begin{aligned}
 20 | \nu_{y,z,t} \leq \frac{\Delta^{\text{total}}_{y,z}}{\Omega^{size}_{y,z}}
 21 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 22 | \end{aligned}
 23 | ```
 24 | 
 25 | ```math
 26 | \begin{aligned}
 27 | \chi_{y,z,t} \leq \frac{\Delta^{\text{total}}_{y,z}}{\Omega^{size}_{y,z}}
 28 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 29 | \end{aligned}
 30 | ```
 31 | 
 32 | ```math
 33 | \begin{aligned}
 34 | \zeta_{y,z,t} \leq \frac{\Delta^{\text{total}}_{y,z}}{\Omega^{size}_{y,z}}
 35 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 36 | \end{aligned}
 37 | ```
 38 | (See Constraints 1-3 in the code)
 39 | 
 40 | where decision $\nu_{y,z,t}$ designates the commitment state of generator cluster $y$ in zone $z$ at time $t$, decision $\chi_{y,z,t}$ represents number of startup decisions, decision $\zeta_{y,z,t}$ represents number of shutdown decisions, $\Delta^{\text{total}}_{y,z}$ is the total installed capacity, and parameter $\Omega^{size}_{y,z}$ is the unit size.
 41 | 
 42 | *Commitment state constraint linking start-up and shut-down decisions*
 43 | 
 44 | Additionally, the following constarint maintains the commitment state variable across time, $\nu_{y,z,t}$, as the sum of the commitment state in the prior, $\nu_{y,z,t-1}$, period plus the number of units started in the current period, $\chi_{y,z,t}$, less the number of units shut down in the current period, $\zeta_{y,z,t}$:
 45 | 
 46 | ```math
 47 | \begin{aligned}
 48 | &\nu_{y,z,t} =\nu_{y,z,t-1} + \chi_{y,z,t} - \zeta_{y,z,t}
 49 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}^{interior} \\
 50 | &\nu_{y,z,t} =\nu_{y,z,t +\tau^{period}-1} + \chi_{y,z,t} - \zeta_{y,z,t}
 51 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}^{start}
 52 | \end{aligned}
 53 | ```
 54 | (See Constraint 4 in the code)
 55 | 
 56 | Like other time-coupling constraints, this constraint wraps around to link the commitment state in the first time step of the year (or each representative period), $t \in \mathcal{T}^{start}$, to the last time step of the year (or each representative period), $t+\tau^{period}-1$.
 57 | 
 58 | **Ramping constraints**
 59 | 
 60 | Thermal resources subject to unit commitment ($y \in UC$) adhere to the following ramping constraints on hourly changes in power output:
 61 | 
 62 | ```math
 63 | \begin{aligned}
 64 | 	\Theta_{y,z,t-1} + f_{y, z, t-1}+r_{y, z, t-1} - \Theta_{y,z,t}-f_{y, z, t}&\leq  \kappa^{down}_{y,z} \cdot \Omega^{size}_{y,z} \cdot (\nu_{y,z,t} - \chi_{y,z,t}) & \\[6pt]
 65 | 	\qquad & - \: \rho^{min}_{y,z} \cdot \Omega^{size}_{y,z} \cdot \chi_{y,z,t} & \hspace{0.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}  \\[6pt]
 66 | 	\qquad & + \: \text{min}( \rho^{max}_{y,z,t}, \text{max}( \rho^{min}_{y,z}, \kappa^{down}_{y,z} ) ) \cdot \Omega^{size}_{y,z} \cdot \zeta_{y,z,t} &
 67 | \end{aligned}
 68 | ```
 69 | 
 70 | ```math
 71 | \begin{aligned}
 72 | 	\Theta_{y,z,t}+f_{y, z, t}+r_{y, z, t} - \Theta_{y,z,t-1}- f_{y, z, t-1} &\leq  \kappa^{up}_{y,z} \cdot \Omega^{size}_{y,z} \cdot (\nu_{y,z,t} - \chi_{y,z,t}) & \\[6pt]
 73 | 	\qquad & + \: \text{min}( \rho^{max}_{y,z,t}, \text{max}( \rho^{min}_{y,z}, \kappa^{up}_{y,z} ) ) \cdot \Omega^{size}_{y,z} \cdot \chi_{y,z,t} & \hspace{0.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T} \\[6pt]
 74 | 	\qquad & - \: \rho^{min}_{y,z} \cdot \Omega^{size}_{y,z} \cdot \zeta_{y,z,t} &
 75 | \end{aligned}
 76 | ```
 77 | (See Constraints 5-6 in the code)
 78 | 
 79 | where decision $\Theta_{y,z,t}$, $f_{y, z, t}$, and $r_{y, z, t}$ are respectively, the energy injected into the grid, regulation, and reserve by technology $y$ in zone $z$ at time $t$, parameter $\kappa_{y,z,t}^{up|down}$ is the maximum ramp-up or ramp-down rate as a percentage of installed capacity, parameter $\rho_{y,z}^{min}$ is the minimum stable power output per unit of installed capacity, and parameter $\rho_{y,z,t}^{max}$ is the maximum available generation per unit of installed capacity. These constraints account for the ramping limits for committed (online) units as well as faster changes in power enabled by units starting or shutting down in the current time step.
 80 | 
 81 | **Minimum and maximum power output**
 82 | 
 83 | If not modeling regulation and spinning reserves, thermal resources subject to unit commitment adhere to the following constraints that ensure power output does not exceed minimum and maximum feasible levels:
 84 | 
 85 | ```math
 86 | \begin{aligned}
 87 | 	\Theta_{y,z,t} \geq \rho^{min}_{y,z} \times \Omega^{size}_{y,z} \times \nu_{y,z,t}
 88 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 89 | \end{aligned}
 90 | ```
 91 | 
 92 | ```math
 93 | \begin{aligned}
 94 | 	\Theta_{y,z,t} \leq \rho^{max}_{y,z} \times \Omega^{size}_{y,z} \times \nu_{y,z,t}
 95 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 96 | \end{aligned}
 97 | ```
 98 | 
 99 | (See Constraints 7-8 the code)
100 | 
101 | If modeling reserves and regulation, these constraints are replaced by those established in this ```thermal_commit_operational_reserves()```.
102 | 
103 | **Minimum and maximum up and down time**
104 | 
105 | Thermal resources subject to unit commitment adhere to the following constraints on the minimum time steps after start-up before a unit can shutdown again (minimum up time) and the minimum time steps after shut-down before a unit can start-up again (minimum down time):
106 | 
107 | ```math
108 | \begin{aligned}
109 | 	\nu_{y,z,t} \geq \displaystyle \sum_{\hat{t} = t-(\tau^{up}_{y,z}-1)}^t \chi_{y,z,\hat{t}}
110 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
111 | \end{aligned}
112 | ```
113 | 
114 | ```math
115 | \begin{aligned}
116 | 	\frac{\overline{\Delta_{y,z}} + \Omega_{y,z} - \Delta_{y,z}}{\Omega^{size}_{y,z}} -  \nu_{y,z,t} \geq \displaystyle \sum_{\hat{t} = t-(\tau^{down}_{y,z}-1)}^t \zeta_{y,z,\hat{t}}
117 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
118 | \end{aligned}
119 | ```
120 | (See Constraints 9-10 in the code)
121 | 
122 | where $\tau_{y,z}^{up|down}$ is the minimum up or down time for units in generating cluster $y$ in zone $z$.
123 | 
124 | Like with the ramping constraints, the minimum up and down constraint time also wrap around from the start of each time period to the end of each period.
125 | It is recommended that users of GenX must use longer subperiods than the longest min up/down time if modeling UC. Otherwise, the model will report error.
126 | """
127 | function thermal_commit!(EP::Model, inputs::Dict, setup::Dict)
128 |     println("Thermal (Unit Commitment) Resources Module")
129 | 
130 |     gen = inputs["RESOURCES"]
131 | 
132 |     T = inputs["T"]     # Number of time steps (hours)
133 |     Z = inputs["Z"]     # Number of zones
134 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
135 | 
136 |     p = inputs["hours_per_subperiod"] #total number of hours per subperiod
137 | 
138 |     THERM_COMMIT = inputs["THERM_COMMIT"]
139 | 
140 |     ### Expressions ###
141 | 
142 |     # These variables are used in the ramp-up and ramp-down expressions
143 |     reserves_term = @expression(EP, [y in THERM_COMMIT, t in 1:T], 0)
144 |     regulation_term = @expression(EP, [y in THERM_COMMIT, t in 1:T], 0)
145 | 
146 |     if setup["OperationalReserves"] > 0
147 |         THERM_COMMIT_REG = intersect(THERM_COMMIT, inputs["REG"]) # Set of thermal resources with regulation reserves
148 |         THERM_COMMIT_RSV = intersect(THERM_COMMIT, inputs["RSV"]) # Set of thermal resources with spinning reserves
149 |         regulation_term = @expression(EP, [y in THERM_COMMIT, t in 1:T],
150 |             y âˆˆ THERM_COMMIT_REG ? EP[:vREG][y, t] - EP[:vREG][y, hoursbefore(p, t, 1)] : 0)
151 |         reserves_term = @expression(EP, [y in THERM_COMMIT, t in 1:T],
152 |             y âˆˆ THERM_COMMIT_RSV ? EP[:vRSV][y, t] : 0)
153 |     end
154 | 
155 |     ## Power Balance Expressions ##
156 |     @expression(EP, ePowerBalanceThermCommit[t = 1:T, z = 1:Z],
157 |         sum(EP[:vP][y, t]
158 |         for y in intersect(THERM_COMMIT, resources_in_zone_by_rid(gen, z))))
159 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceThermCommit)
160 | 
161 |     ### Constraints ###
162 | 
163 |     ### Capacitated limits on unit commitment decision variables (Constraints #1-3)
164 |     @constraints(EP,
165 |         begin
166 |             [y in THERM_COMMIT, t = 1:T],
167 |             EP[:vCOMMIT][y, t] <= EP[:eTotalCap][y] / cap_size(gen[y])
168 |             [y in THERM_COMMIT, t = 1:T],
169 |             EP[:vSTART][y, t] <= EP[:eTotalCap][y] / cap_size(gen[y])
170 |             [y in THERM_COMMIT, t = 1:T],
171 |             EP[:vSHUT][y, t] <= EP[:eTotalCap][y] / cap_size(gen[y])
172 |         end)
173 | 
174 |     # Commitment state constraint linking startup and shutdown decisions (Constraint #4)
175 |     @constraints(EP,
176 |         begin
177 |             [y in THERM_COMMIT, t in 1:T],
178 |             EP[:vCOMMIT][y, t] ==
179 |             EP[:vCOMMIT][y, hoursbefore(p, t, 1)] + EP[:vSTART][y, t] - EP[:vSHUT][y, t]
180 |         end)
181 | 
182 |     ### Maximum ramp up and down between consecutive hours (Constraints #5-6)
183 | 
184 |     ## For Start Hours
185 |     # Links last time step with first time step, ensuring position in hour 1 is within eligible ramp of final hour position
186 |     # rampup constraints
187 |     @constraint(EP, [y in THERM_COMMIT, t in 1:T],
188 |         EP[:vP][y, t] - EP[:vP][y, hoursbefore(p, t, 1)] + regulation_term[y, t] +
189 |         reserves_term[y, t]<=ramp_up_fraction(gen[y]) * cap_size(gen[y]) *
190 |                              (EP[:vCOMMIT][y, t] - EP[:vSTART][y, t])
191 |                              +
192 |                              min(inputs["pP_Max"][y, t],
193 |                                  max(min_power(gen[y]), ramp_up_fraction(gen[y]))) *
194 |                              cap_size(gen[y]) * EP[:vSTART][y, t]
195 |                              -
196 |                              min_power(gen[y]) * cap_size(gen[y]) * EP[:vSHUT][y, t])
197 | 
198 |     # rampdown constraints
199 |     @constraint(EP, [y in THERM_COMMIT, t in 1:T],
200 |         EP[:vP][y, hoursbefore(p, t, 1)] - EP[:vP][y, t] - regulation_term[y, t] +
201 |         reserves_term[y,
202 |             hoursbefore(p, t, 1)]<=ramp_down_fraction(gen[y]) * cap_size(gen[y]) *
203 |                                    (EP[:vCOMMIT][y, t] - EP[:vSTART][y, t])
204 |                                    -
205 |                                    min_power(gen[y]) * cap_size(gen[y]) * EP[:vSTART][y, t]
206 |                                    +
207 |                                    min(inputs["pP_Max"][y, t],
208 |                                        max(min_power(gen[y]), ramp_down_fraction(gen[y]))) *
209 |                                    cap_size(gen[y]) * EP[:vSHUT][y, t])
210 | 
211 |     ### Minimum and maximum power output constraints (Constraints #7-8)
212 |     if setup["OperationalReserves"] == 1
213 |         # If modeling with regulation and reserves, constraints are established by thermal_commit_operational_reserves() function below
214 |         thermal_commit_operational_reserves!(EP, inputs)
215 |     else
216 |         @constraints(EP,
217 |             begin
218 |                 # Minimum stable power generated per technology "y" at hour "t" > Min power
219 |                 [y in THERM_COMMIT, t = 1:T],
220 |                 EP[:vP][y, t] >= min_power(gen[y]) * cap_size(gen[y]) * EP[:vCOMMIT][y, t]
221 | 
222 |                 # Maximum power generated per technology "y" at hour "t" < Max power
223 |                 [y in THERM_COMMIT, t = 1:T],
224 |                 EP[:vP][y, t] <=
225 |                 inputs["pP_Max"][y, t] * cap_size(gen[y]) * EP[:vCOMMIT][y, t]
226 |             end)
227 |     end
228 | 
229 |     ### Minimum up and down times (Constraints #9-10)
230 |     Up_Time = zeros(Int, G)
231 |     Up_Time[THERM_COMMIT] .= Int.(floor.(up_time.(gen[THERM_COMMIT])))
232 |     @constraint(EP, [y in THERM_COMMIT, t in 1:T],
233 |         EP[:vCOMMIT][y,
234 |             t]>=sum(EP[:vSTART][y, u] for u in hoursbefore(p, t, 0:(Up_Time[y] - 1))))
235 | 
236 |     Down_Time = zeros(Int, G)
237 |     Down_Time[THERM_COMMIT] .= Int.(floor.(down_time.(gen[THERM_COMMIT])))
238 |     @constraint(EP, [y in THERM_COMMIT, t in 1:T],
239 |         EP[:eTotalCap][y] / cap_size(gen[y]) -
240 |         EP[:vCOMMIT][y,
241 |             t]>=sum(EP[:vSHUT][y, u] for u in hoursbefore(p, t, 0:(Down_Time[y] - 1))))
242 |     ## END Constraints for thermal units subject to integer (discrete) unit commitment decisions
243 | 
244 |     # Additional constraints on fusion; create total recirculating power expressions
245 |     FUSION = ids_with(gen, fusion)
246 |     if !isempty(FUSION)
247 |         fusion_formulation_thermal_commit!(EP, inputs, setup)
248 |     end
249 | 
250 |     MAINT = ids_with_maintenance(gen)
251 |     if !isempty(MAINT)
252 |         maintenance_formulation_thermal_commit!(EP, inputs, setup)
253 |     end
254 | 
255 |     if !isempty(intersect(FUSION, MAINT))
256 |         # modify parasitic power expressions
257 |         fusion_maintenance_adjust_parasitic_power!(EP, gen)
258 |     end
259 | 
260 |     if !isempty(FUSION)
261 |         # subtract parasitic power from power balance
262 |         fusion_adjust_power_balance!(EP, inputs, gen)
263 |     end
264 | end
265 | 
266 | @doc raw"""
267 | 	thermal_commit_operational_reserves!(EP::Model, inputs::Dict)
268 | 
269 | This function is called by the ```thermal_commit()``` function when regulation and reserves constraints are active and defines reserve related constraints for thermal power plants subject to unit commitment constraints on power plant start-ups and shut-down decisions.
270 | 
271 | **Maximum contributions to frequency regulation and reserves**
272 | 
273 | When modeling frequency regulation and reserves contributions, thermal units subject to unit commitment adhere to the following constraints which limit the maximum contribution to regulation and reserves in each time step to a specified maximum fraction ($,\upsilon^{rsv}_{y,z}$) of the commitment capacity in that time step ($(\Omega^{size}_{y,z} \cdot \nu_{y,z,t})$):
274 | 
275 | ```math
276 | \begin{aligned}
277 | 	f_{y,z,t} \leq \upsilon^{reg}_{y,z} \times \rho^{max}_{y,z,t} (\Omega^{size}_{y,z} \times \nu_{y,z,t}) \hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
278 | \end{aligned}
279 | ```
280 | 
281 | ```math
282 | \begin{aligned}
283 | 	r_{y,z,t} \leq \upsilon^{rsv}_{y,z} \times \rho^{max}_{y,z,t} (\Omega^{size}_{y,z} \times \nu_{y,z,t}) \hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
284 | \end{aligned}
285 | ```
286 | 
287 | where $f_{y,z,t}$ is the frequency regulation contribution limited by the maximum regulation contribution $\upsilon^{reg}_{y,z}$, and $r_{y,z,t}$ is the reserves contribution limited by the maximum reserves contribution $\upsilon^{rsv}_{y,z}$. Limits on reserve contributions reflect the maximum ramp rate for the thermal resource in whatever time interval defines the requisite response time for the regulation or reserve products (e.g., 5 mins or 15 mins or 30 mins). These response times differ by system operator and reserve product, and so the user should define these parameters in a self-consistent way for whatever system context they are modeling.
288 | 
289 | **Minimum and maximum power output**
290 | 
291 | When modeling frequency regulation and spinning reserves contributions, thermal resources subject to unit commitment adhere to the following constraints that ensure the sum of power output and reserve and/or regulation contributions do not exceed minimum and maximum feasible power output:
292 | 
293 | ```math
294 | \begin{aligned}
295 | 	\Theta_{y,z,t} - f_{y,z,t} \geq \rho^{min}_{y,z} \times \Omega^{size}_{y,z} \times \nu_{y,z,t}
296 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
297 | \end{aligned}
298 | ```
299 | 
300 | ```math
301 | \begin{aligned}
302 | 	\Theta_{y,z,t} + f_{y,z,t} + r_{y,z,t} \leq \rho^{max}_{y,z,t} \times \Omega^{size}_{y,z} \times \nu_{y,z,t}
303 | 	\hspace{1.5cm} \forall y \in \mathcal{UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
304 | \end{aligned}
305 | ```
306 | 
307 | """
308 | function thermal_commit_operational_reserves!(EP::Model, inputs::Dict)
309 |     println("Thermal Commit Operational Reserves Module")
310 | 
311 |     gen = inputs["RESOURCES"]
312 | 
313 |     T = inputs["T"]     # Number of time steps (hours)
314 | 
315 |     THERM_COMMIT = inputs["THERM_COMMIT"]
316 | 
317 |     REG = intersect(THERM_COMMIT, inputs["REG"]) # Set of thermal resources with regulation reserves
318 |     RSV = intersect(THERM_COMMIT, inputs["RSV"]) # Set of thermal resources with spinning reserves
319 | 
320 |     vP = EP[:vP]
321 |     vREG = EP[:vREG]
322 |     vRSV = EP[:vRSV]
323 | 
324 |     commit(y, t) = cap_size(gen[y]) * EP[:vCOMMIT][y, t]
325 |     max_power(y, t) = inputs["pP_Max"][y, t]
326 | 
327 |     # Maximum regulation and reserve contributions
328 |     @constraint(EP,
329 |         [y in REG, t in 1:T],
330 |         vREG[y, t]<=max_power(y, t) * reg_max(gen[y]) * commit(y, t))
331 |     @constraint(EP,
332 |         [y in RSV, t in 1:T],
333 |         vRSV[y, t]<=max_power(y, t) * rsv_max(gen[y]) * commit(y, t))
334 | 
335 |     # Minimum stable power generated per technology "y" at hour "t" and contribution to regulation must be > min power
336 |     expr = extract_time_series_to_expression(vP, THERM_COMMIT)
337 |     add_similar_to_expression!(expr[REG, :], -vREG[REG, :])
338 |     @constraint(EP,
339 |         [y in THERM_COMMIT, t in 1:T],
340 |         expr[y, t]>=min_power(gen[y]) * commit(y, t))
341 | 
342 |     # Maximum power generated per technology "y" at hour "t"  and contribution to regulation and reserves up must be < max power
343 |     expr = extract_time_series_to_expression(vP, THERM_COMMIT)
344 |     add_similar_to_expression!(expr[REG, :], vREG[REG, :])
345 |     add_similar_to_expression!(expr[RSV, :], vRSV[RSV, :])
346 |     @constraint(EP,
347 |         [y in THERM_COMMIT, t in 1:T],
348 |         expr[y, t]<=max_power(y, t) * commit(y, t))
349 | end
350 | 
351 | @doc raw"""
352 |     maintenance_formulation_thermal_commit!(EP::Model, inputs::Dict, setup::Dict)
353 | 
354 | Creates maintenance variables and constraints for thermal-commit plants.
355 | """
356 | function maintenance_formulation_thermal_commit!(EP::Model, inputs::Dict, setup::Dict)
357 |     @info "Maintenance Module for Thermal plants"
358 | 
359 |     ensure_maintenance_variable_records!(inputs)
360 |     gen = inputs["RESOURCES"]
361 | 
362 |     by_rid(rid, sym) = by_rid_res(rid, sym, gen)
363 | 
364 |     MAINT = ids_with_maintenance(gen)
365 |     resource_component(y) = by_rid(y, :resource_name)
366 |     cap(y) = by_rid(y, :cap_size)
367 |     maint_dur(y) = Int(floor(by_rid(y, :maintenance_duration)))
368 |     maint_freq(y) = Int(floor(by_rid(y, :maintenance_cycle_length_years)))
369 |     maint_begin_cadence(y) = Int(floor(by_rid(y, :maintenance_begin_cadence)))
370 | 
371 |     integer_operational_unit_commitment = setup["UCommit"] == 1
372 | 
373 |     vcommit = :vCOMMIT
374 |     ecap = :eTotalCap
375 | 
376 |     sanity_check_maintenance(MAINT, inputs)
377 | 
378 |     for y in MAINT
379 |         maintenance_formulation!(EP,
380 |             inputs,
381 |             resource_component(y),
382 |             y,
383 |             maint_begin_cadence(y),
384 |             maint_dur(y),
385 |             maint_freq(y),
386 |             cap(y),
387 |             vcommit,
388 |             ecap,
389 |             integer_operational_unit_commitment)
390 |     end
391 | end
392 | 
393 | @doc raw"""
394 |     thermal_maintenance_capacity_reserve_margin_adjustment!(EP::Model, inputs::Dict)
395 | 
396 | Eliminates the contribution of a plant to the capacity reserve margin while it is down for maintenance.
397 | """
398 | function thermal_maintenance_capacity_reserve_margin_adjustment!(EP::Model,
399 |         inputs::Dict)
400 |     gen = inputs["RESOURCES"]
401 | 
402 |     T = inputs["T"]     # Number of time steps (hours)
403 |     ncapres = inputs["NCapacityReserveMargin"]
404 |     THERM_COMMIT = inputs["THERM_COMMIT"]
405 |     MAINT = ids_with_maintenance(gen)
406 |     applicable_resources = intersect(MAINT, THERM_COMMIT)
407 | 
408 |     maint_adj = @expression(EP, [capres in 1:ncapres, t in 1:T],
409 |         sum(thermal_maintenance_capacity_reserve_margin_adjustment(EP,
410 |                 inputs,
411 |                 y,
412 |                 capres,
413 |                 t) for y in applicable_resources))
414 |     add_similar_to_expression!(EP[:eCapResMarBalance], maint_adj)
415 | end
416 | 
417 | function thermal_maintenance_capacity_reserve_margin_adjustment(EP::Model,
418 |         inputs::Dict,
419 |         y::Int,
420 |         capres::Int,
421 |         t)
422 |     gen = inputs["RESOURCES"]
423 |     resource_component = resource_name(gen[y])
424 |     capresfactor = derating_factor(gen[y], tag = capres)
425 |     cap = cap_size(gen[y])
426 |     down_var = EP[Symbol(maintenance_down_name(resource_component))]
427 |     return -capresfactor * down_var[t] * cap
428 | end
429 | 
430 | @doc raw"""
431 |     fusion_formulation_thermal_commit!(EP::Model, inputs::Dict)
432 | 
433 | Apply fusion-core-specific constraints to the model.
434 | 
435 | """
436 | function fusion_formulation_thermal_commit!(EP::Model, inputs::Dict, setup::Dict)
437 |     @info "Fusion Module for Thermal-commit plants"
438 | 
439 |     integer_operational_unit_commitment = setup["UCommit"] == 1
440 | 
441 |     ensure_fusion_pulse_variable_records!(inputs)
442 |     ensure_fusion_expression_records!(inputs)
443 |     gen = inputs["RESOURCES"]
444 | 
445 |     FUSION = ids_with(gen, fusion)
446 | 
447 |     resource_component(y) = resource_name(gen[y])
448 | 
449 |     # power_like will be vP + vREG + vRSV for fusion plants with reserves, else just vP.
450 |     # This makes writing all the fusion-specific constraints much simpler since they need not 
451 |     # deal with vREG/vRSV/OperationalReserves.
452 |     power_like = EP[:vP]
453 |     if setup["OperationalReserves"] == 1
454 |         REG = intersect(FUSION, inputs["REG"]) # Set of thermal resources with regulation reserves
455 |         RSV = intersect(FUSION, inputs["RSV"]) # Set of thermal resources with spinning reserves
456 | 
457 |         vREG = EP[:vREG]
458 |         vRSV = EP[:vRSV]
459 |         power_like = extract_time_series_to_expression(power_like, FUSION)
460 |         add_similar_to_expression!(power_like[REG, :], vREG[REG, :])
461 |         add_similar_to_expression!(power_like[RSV, :], vRSV[RSV, :])
462 |     end
463 | 
464 |     for y in FUSION
465 |         name = resource_component(y)
466 |         reactor = FusionReactorData(gen, y)
467 |         fusion_pulse_variables!(
468 |             EP, inputs, integer_operational_unit_commitment, name, y, reactor, :eTotalCap)
469 |         fusion_pulse_status_linking_constraints!(EP, inputs, name, y, reactor, :vCOMMIT)
470 |         fusion_pulse_thermal_power_generation_constraint!(
471 |             EP, inputs, name, y, reactor, power_like)
472 |         fusion_parasitic_power!(EP, inputs, name, y, reactor, :eTotalCap)
473 |         fusion_max_fpy_per_year_constraint!(EP, inputs, y, reactor, :eTotalCap, EP[:vP])
474 | 
475 |         add_fusion_component_to_zone_listing(inputs, y, name)
476 |     end
477 | end
478 | 
479 | # Cancel out the dependence on down_var, since CRM is related to power, not capacity
480 | function thermal_maintenance_and_fusion_capacity_reserve_margin_adjustment(
481 |         EP, inputs, y, capres, t)
482 |     return -thermal_maintenance_capacity_reserve_margin_adjustment(EP, inputs, y, capres, t)
483 | end
484 | 


--------------------------------------------------------------------------------
/src/model/resources/thermal/thermal_no_commit.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	thermal_no_commit!(EP::Model, inputs::Dict, setup::Dict)
  3 | 
  4 | This function defines the operating constraints for thermal power plants NOT subject to unit commitment constraints on power plant start-ups and shut-down decisions ($y \in H \setminus UC$).
  5 | 
  6 | **Ramping limits**
  7 | 
  8 | Thermal resources not subject to unit commitment ($y \in H \setminus UC$) adhere instead to the following ramping limits on hourly changes in power output:
  9 | 
 10 | ```math
 11 | \begin{aligned}
 12 | 	\Theta_{y,z,t-1} - \Theta_{y,z,t} \leq \kappa_{y,z}^{down} \Delta^{\text{total}}_{y,z} \hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 13 | \end{aligned}
 14 | ```
 15 | 
 16 | ```math
 17 | \begin{aligned}
 18 | 	\Theta_{y,z,t} - \Theta_{y,z,t-1} \leq \kappa_{y,z}^{up} \Delta^{\text{total}}_{y,z} \hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 19 | \end{aligned}
 20 | ```
 21 | (See Constraints 1-2 in the code)
 22 | 
 23 | This set of time-coupling constraints wrap around to ensure the power output in the first time step of each year (or each representative period), $t \in \mathcal{T}^{start}$, is within the eligible ramp of the power output in the final time step of the year (or each representative period), $t+\tau^{period}-1$.
 24 | 
 25 | **Minimum and maximum power output**
 26 | 
 27 | When not modeling regulation and reserves, thermal units not subject to unit commitment decisions are bound by the following limits on maximum and minimum power output:
 28 | 
 29 | ```math
 30 | \begin{aligned}
 31 | 	\Theta_{y,z,t} \geq \rho^{min}_{y,z} \times \Delta^{total}_{y,z}
 32 | 	\hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 33 | \end{aligned}
 34 | ```
 35 | 
 36 | ```math
 37 | \begin{aligned}
 38 | 	\Theta_{y,z,t} \leq \rho^{max}_{y,z,t} \times \Delta^{total}_{y,z}
 39 | 	\hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
 40 | \end{aligned}
 41 | ```
 42 | (See Constraints 3-4 in the code)
 43 | """
 44 | function thermal_no_commit!(EP::Model, inputs::Dict, setup::Dict)
 45 |     println("Thermal (No Unit Commitment) Resources Module")
 46 | 
 47 |     gen = inputs["RESOURCES"]
 48 | 
 49 |     T = inputs["T"]     # Number of time steps (hours)
 50 |     Z = inputs["Z"]     # Number of zones
 51 | 
 52 |     p = inputs["hours_per_subperiod"] #total number of hours per subperiod
 53 | 
 54 |     THERM_NO_COMMIT = inputs["THERM_NO_COMMIT"]
 55 | 
 56 |     ### Expressions ###
 57 | 
 58 |     ## Power Balance Expressions ##
 59 |     @expression(EP, ePowerBalanceThermNoCommit[t = 1:T, z = 1:Z],
 60 |         sum(EP[:vP][y, t]
 61 |         for y in intersect(THERM_NO_COMMIT, resources_in_zone_by_rid(gen, z))))
 62 |     add_similar_to_expression!(EP[:ePowerBalance], ePowerBalanceThermNoCommit)
 63 | 
 64 |     ### Constraints ###
 65 | 
 66 |     ### Maximum ramp up and down between consecutive hours (Constraints #1-2)
 67 |     @constraints(EP,
 68 |         begin
 69 | 
 70 |             ## Maximum ramp up between consecutive hours
 71 |             [y in THERM_NO_COMMIT, t in 1:T],
 72 |             EP[:vP][y, t] - EP[:vP][y, hoursbefore(p, t, 1)] <=
 73 |             ramp_up_fraction(gen[y]) * EP[:eTotalCap][y]
 74 | 
 75 |             ## Maximum ramp down between consecutive hours
 76 |             [y in THERM_NO_COMMIT, t in 1:T],
 77 |             EP[:vP][y, hoursbefore(p, t, 1)] - EP[:vP][y, t] <=
 78 |             ramp_down_fraction(gen[y]) * EP[:eTotalCap][y]
 79 |         end)
 80 | 
 81 |     ### Minimum and maximum power output constraints (Constraints #3-4)
 82 |     if setup["OperationalReserves"] == 1
 83 |         # If modeling with regulation and reserves, constraints are established by thermal_no_commit_operational_reserves() function below
 84 |         thermal_no_commit_operational_reserves!(EP, inputs)
 85 |     else
 86 |         @constraints(EP,
 87 |             begin
 88 |                 # Minimum stable power generated per technology "y" at hour "t" Min_Power
 89 |                 [y in THERM_NO_COMMIT, t = 1:T],
 90 |                 EP[:vP][y, t] >= min_power(gen[y]) * EP[:eTotalCap][y]
 91 | 
 92 |                 # Maximum power generated per technology "y" at hour "t"
 93 |                 [y in THERM_NO_COMMIT, t = 1:T],
 94 |                 EP[:vP][y, t] <= inputs["pP_Max"][y, t] * EP[:eTotalCap][y]
 95 |             end)
 96 |     end
 97 |     # END Constraints for thermal resources not subject to unit commitment
 98 | end
 99 | 
100 | @doc raw"""
101 | 	thermal_no_commit_operational_reserves!(EP::Model, inputs::Dict)
102 | 
103 | This function is called by the ```thermal_no_commit()``` function when regulation and reserves constraints are active and defines reserve related constraints for thermal power plants not subject to unit commitment constraints on power plant start-ups and shut-down decisions.
104 | 
105 | **Maximum contributions to frequency regulation and reserves**
106 | 
107 | Thermal units not subject to unit commitment adhere instead to the following constraints on maximum reserve and regulation contributions:
108 | 
109 | ```math
110 | \begin{aligned}
111 | 	f_{y,z,t} \leq \upsilon^{reg}_{y,z} \times \rho^{max}_{y,z,t} \Delta^{\text{total}}_{y,z} \hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
112 | \end{aligned}
113 | ```
114 | 
115 | ```math
116 | \begin{aligned}
117 | 	r_{y,z,t} \leq \upsilon^{rsv}_{y,z} \times \rho^{max}_{y,z,t} \Delta^{\text{total}}_{y,z} \hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
118 | \end{aligned}
119 | ```
120 | 
121 | where $f_{y,z,t}$ is the frequency regulation contribution limited by the maximum regulation contribution $\upsilon^{reg}_{y,z}$, and $r_{y,z,t}$ is the reserves contribution limited by the maximum reserves contribution $\upsilon^{rsv}_{y,z}$. Limits on reserve contributions reflect the maximum ramp rate for the thermal resource in whatever time interval defines the requisite response time for the regulation or reserve products (e.g., 5 mins or 15 mins or 30 mins). These response times differ by system operator and reserve product, and so the user should define these parameters in a self-consistent way for whatever system context they are modeling.
122 | 
123 | **Minimum and maximum power output**
124 | 
125 | When modeling regulation and spinning reserves, thermal units not subject to unit commitment are bound by the following limits on maximum and minimum power output:
126 | 
127 | ```math
128 | \begin{aligned}
129 | 	\Theta_{y,z,t} - f_{y,z,t} \geq \rho^{min}_{y,z} \times \Delta^{\text{total}}_{y,z}
130 | 	\hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
131 | \end{aligned}
132 | ```
133 | 
134 | ```math
135 | \begin{aligned}
136 | 	\Theta_{y,z,t} + f_{y,z,t} + r_{y,z,t} \leq \rho^{max}_{y,z,t} \times \Delta^{\text{total}}_{y,z}
137 | 	\hspace{1cm} \forall y \in \mathcal{H \setminus UC}, \forall z \in \mathcal{Z}, \forall t \in \mathcal{T}
138 | \end{aligned}
139 | ```
140 | 
141 | Note there are multiple versions of these constraints in the code in order to avoid creation of unecessary constraints and decision variables for thermal units unable to provide regulation and/or reserves contributions due to input parameters (e.g. ```Reg_Max=0``` and/or ```RSV_Max=0```).
142 | """
143 | function thermal_no_commit_operational_reserves!(EP::Model, inputs::Dict)
144 |     println("Thermal No Commit Reserves Module")
145 | 
146 |     gen = inputs["RESOURCES"]
147 | 
148 |     T = inputs["T"]     # Number of time steps (hours)
149 | 
150 |     THERM_NO_COMMIT = setdiff(inputs["THERM_ALL"], inputs["COMMIT"])
151 | 
152 |     REG = intersect(THERM_NO_COMMIT, inputs["REG"]) # Set of thermal resources with regulation reserves
153 |     RSV = intersect(THERM_NO_COMMIT, inputs["RSV"]) # Set of thermal resources with spinning reserves
154 | 
155 |     vP = EP[:vP]
156 |     vREG = EP[:vREG]
157 |     vRSV = EP[:vRSV]
158 |     eTotalCap = EP[:eTotalCap]
159 | 
160 |     max_power(y, t) = inputs["pP_Max"][y, t]
161 | 
162 |     # Maximum regulation and reserve contributions
163 |     @constraint(EP,
164 |         [y in REG, t in 1:T],
165 |         vREG[y, t]<=max_power(y, t) * reg_max(gen[y]) * eTotalCap[y])
166 |     @constraint(EP,
167 |         [y in RSV, t in 1:T],
168 |         vRSV[y, t]<=max_power(y, t) * rsv_max(gen[y]) * eTotalCap[y])
169 | 
170 |     # Minimum stable power generated per technology "y" at hour "t" and contribution to regulation must be > min power
171 |     expr = extract_time_series_to_expression(vP, THERM_NO_COMMIT)
172 |     add_similar_to_expression!(expr[REG, :], -vREG[REG, :])
173 |     @constraint(EP,
174 |         [y in THERM_NO_COMMIT, t in 1:T],
175 |         expr[y, t]>=min_power(gen[y]) * eTotalCap[y])
176 | 
177 |     # Maximum power generated per technology "y" at hour "t"  and contribution to regulation and reserves up must be < max power
178 |     expr = extract_time_series_to_expression(vP, THERM_NO_COMMIT)
179 |     add_similar_to_expression!(expr[REG, :], vREG[REG, :])
180 |     add_similar_to_expression!(expr[RSV, :], vRSV[RSV, :])
181 |     @constraint(EP,
182 |         [y in THERM_NO_COMMIT, t in 1:T],
183 |         expr[y, t]<=max_power(y, t) * eTotalCap[y])
184 | end
185 | 


--------------------------------------------------------------------------------
/src/model/solve_model.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	fix_integers(jump_model::Model)
  3 | 
  4 | This function fixes the iteger variables ones the model has been solved in order to calculate approximations of dual variables.
  5 | 
  6 | # Arguments
  7 | - `jump_model::Model`: a model object containing that has been previously solved.
  8 | 
  9 | # Returns
 10 | nothing (modifies an existing-solved model in the memory). `solve()` must be run again to solve and getdual veriables
 11 | 
 12 | """
 13 | function fix_integers(jump_model::Model)
 14 |     ################################################################################
 15 |     ## function fix_integers()
 16 |     ##
 17 |     ## inputs: jump_model - a model object containing that has been previously solved.
 18 |     ##
 19 |     ## description: fixes the iteger variables ones the model has been solved in order
 20 |     ## to calculate approximations of dual variables
 21 |     ##
 22 |     ## returns: no result since it modifies an existing-solved model in the memory.
 23 |     ## solve() must be run again to solve and getdual veriables
 24 |     ##
 25 |     ################################################################################
 26 |     values = Dict(v => value(v) for v in all_variables(jump_model))
 27 |     for v in all_variables(jump_model)
 28 |         if is_integer(v)
 29 |             fix(v, values[v], force = true)
 30 |             unset_integer(v)
 31 |         elseif is_binary(v)
 32 |             fix(v, values[v], force = true)
 33 |             unset_binary(v)
 34 |         end
 35 |     end
 36 | end
 37 | 
 38 | @doc raw"""
 39 | 	solve_model(EP::Model, setup::Dict)
 40 | Description: Solves and extracts solution variables for later processing
 41 | 
 42 | # Arguments
 43 | - `EP::Model`: a JuMP model representing the energy optimization problem
 44 | - `setup::Dict`: a Dict containing GenX setup flags
 45 | 
 46 | # Returns
 47 | - `EP::Model`: the solved JuMP model
 48 | - `solver_time::Float64`: time taken to solve the model
 49 | """
 50 | function solve_model(EP::Model, setup::Dict)
 51 |     ## Start solve timer
 52 |     solver_start_time = time()
 53 |     solver_time = time()
 54 | 
 55 |     ## Solve Model
 56 |     optimize!(EP)
 57 | 
 58 |     if has_values(EP)
 59 |         if has_duals(EP) # fully linear model
 60 |             println("LP solved for primal")
 61 |         else
 62 |             println("MILP solved for primal")
 63 |         end
 64 | 
 65 |         ## Record solver time
 66 |         solver_time = time() - solver_start_time
 67 |     elseif setup["ComputeConflicts"] == 0
 68 |         @info "No model solution. You can try to set ComputeConflicts to 1 in the genx_settings.yml file to compute conflicting constraints."
 69 | 
 70 |     elseif setup["ComputeConflicts"] == 1
 71 |         @info "No model solution. Trying to identify conflicting constriants..."
 72 | 
 73 |         try
 74 |             compute_conflict!(EP)
 75 |         catch e
 76 |             if isa(e, JuMP.ArgumentError)
 77 |                 @warn "$(solver_name(EP)) does not support computing conflicting constraints. This is available using either Gurobi or CPLEX."
 78 |                 solver_time = time() - solver_start_time
 79 |                 return EP, solver_time
 80 |             else
 81 |                 rethrow(e)
 82 |             end
 83 |         end
 84 | 
 85 |         list_of_conflicting_constraints = ConstraintRef[]
 86 |         if get_attribute(EP, MOI.ConflictStatus()) == MOI.CONFLICT_FOUND
 87 |             for (F, S) in list_of_constraint_types(EP)
 88 |                 for con in all_constraints(EP, F, S)
 89 |                     if get_attribute(con, MOI.ConstraintConflictStatus()) == MOI.IN_CONFLICT
 90 |                         push!(list_of_conflicting_constraints, con)
 91 |                     end
 92 |                 end
 93 |             end
 94 |             display(list_of_conflicting_constraints)
 95 |             solver_time = time() - solver_start_time
 96 |             return EP, solver_time, list_of_conflicting_constraints
 97 |         else
 98 |             @info "Conflicts computation failed."
 99 |             solver_time = time() - solver_start_time
100 |             return EP, solver_time, list_of_conflicting_constraints
101 |         end
102 |     end
103 | 
104 |     return EP, solver_time
105 | end # END solve_model()
106 | 


--------------------------------------------------------------------------------
/src/model/utility.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     hoursbefore(p::Int, t::Int, b::Int)
 3 | 
 4 | Determines the time index b hours before index t in
 5 | a landscape starting from t=1 which is separated
 6 | into distinct periods of length p.
 7 | 
 8 | For example, if p = 10,
 9 | 1 hour before t=1 is t=10,
10 | 1 hour before t=10 is t=9
11 | 1 hour before t=11 is t=20
12 | """
13 | function hoursbefore(p::Int, t::Int, b::Int)::Int
14 |     period = div(t - 1, p)
15 |     return period * p + mod1(t - b, p)
16 | end
17 | 
18 | @doc raw"""
19 |     hoursbefore(p::Int, t::Int, b::UnitRange)
20 | 
21 | This is a generalization of hoursbefore(... b::Int)
22 | to allow for example b=1:3 to fetch a Vector{Int} of the three hours before
23 | time index t.
24 | """
25 | function hoursbefore(p::Int, t::Int, b::UnitRange{Int})::Vector{Int}
26 |     period = div(t - 1, p)
27 |     return period * p .+ mod1.(t .- b, p)
28 | end
29 | 
30 | @doc raw"""
31 |     hoursafter(p::Int, t::Int, a::Int)
32 | 
33 | Determines the time index a hours after index t in
34 | a landscape starting from t=1 which is separated
35 | into distinct periods of length p.
36 | 
37 | For example, if p = 10,
38 | 1 hour after t=9 is t=10,
39 | 1 hour after t=10 is t=1,
40 | 1 hour after t=11 is t=2
41 | """
42 | function hoursafter(p::Int, t::Int, a::Int)::Int
43 |     period = div(t - 1, p)
44 |     return period * p + mod1(t + a, p)
45 | end
46 | 
47 | @doc raw"""
48 |     hoursafter(p::Int, t::Int, b::UnitRange)
49 | 
50 | This is a generalization of hoursafter(... b::Int)
51 | to allow for example a=1:3 to fetch a Vector{Int} of the three hours after
52 | time index t.
53 | """
54 | function hoursafter(p::Int, t::Int, a::UnitRange{Int})::Vector{Int}
55 |     period = div(t - 1, p)
56 |     return period * p .+ mod1.(t .+ a, p)
57 | end
58 | 
59 | @doc raw"""
60 |     is_nonzero(df::DataFrame, col::Symbol)::BitVector
61 | 
62 | This function checks if a column in a dataframe is all zeros.
63 | """
64 | function is_nonzero(df::DataFrame, col::Symbol)::BitVector
65 |     convert(BitVector, df[!, col] .> 0)::BitVector
66 | end
67 | 
68 | function is_nonzero(rs::Vector{<:AbstractResource}, col::Symbol)
69 |     !isnothing(findfirst(r -> get(r, col, 0) â‰  0, rs))
70 | end
71 | 
72 | @doc raw""" 
73 |     by_rid_res(rid::Integer, sym::Symbol, rs::Vector{<:AbstractResource})
74 |     
75 |     This function returns the value of the attribute `sym` for the resource given by the ID `rid`.
76 | """
77 | function by_rid_res(rid::Integer, sym::Symbol, rs::Vector{<:AbstractResource})
78 |     r = rs[findfirst(resource_id.(rs) .== rid)]
79 |     # use getter function for attribute `sym` if exists in GenX, otherwise get the attribute directly
80 |     f = isdefined(GenX, sym) ? getfield(GenX, sym) : x -> getproperty(x, sym)
81 |     return f(r)
82 | end
83 | 


--------------------------------------------------------------------------------
/src/multi_stage/configure_multi_stage_inputs.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	function compute_overnight_capital_cost(settings_d::Dict,inv_costs_yr::Array,crp::Array,tech_wacc::Array)
  3 | 
  4 | This function computes overnight capital costs incured within the model horizon, assuming that annualized costs to be paid after the model horizon are fully recoverable, and so are not included in the cost computation.
  5 | 
  6 | For each resource $y \in \mathcal{G}$ with annualized investment cost $AIC_{y}$ and capital recovery period $CRP_{y}$, overnight capital costs $OCC_{y}$ are computed as follows:
  7 | ```math
  8 | \begin{aligned}
  9 |     & OCC_{y} = \sum^{min(CRP_{y},H)}_{i=1}\frac{AIC_{y}}{(1+WACC_{y})^{i}}
 10 | \end{aligned}
 11 | ```
 12 | where $WACC_y$ is the technology-specific weighted average cost of capital (set by the "WACC" field in the Generators\_data.csv or Network.csv files), $H$ is the number of years remaining between the start of the current model stage and the model horizon (the end of the final model stage) and $CRP_y$ is the capital recovery period for technology $y$ (specified in Generators\_data.csv).
 13 | 
 14 | inputs:
 15 | 
 16 |   * settings\_d - dict object containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
 17 |   * inv\_costs\_yr - array object containing annualized investment costs.
 18 |   * crp - array object of capital recovery period values.
 19 |   * tech_wacc - array object containing technology-specific weighted costs of capital.
 20 | NOTE: The inv\_costs\_yr and crp arrays must be the same length; values with the same index in each array correspond to the same resource $y \in \mathcal{G}$.
 21 | 
 22 | returns: array object containing overnight capital costs, the discounted sum of annual investment costs incured within the model horizon.
 23 | """
 24 | function compute_overnight_capital_cost(settings_d::Dict,
 25 |         inv_costs_yr::Array,
 26 |         crp::Array,
 27 |         tech_wacc::Array)
 28 | 
 29 |     # Check for resources with non-zero investment costs and a Capital_Recovery_Period value of 0 years
 30 |     if any((crp .== 0) .& (inv_costs_yr .> 0))
 31 |         msg = "You have some resources with non-zero investment costs and a Capital_Recovery_Period value of 0 years.\n" *
 32 |               "These resources will have a calculated overnight capital cost of \$0. Correct your inputs if this is a mistake.\n"
 33 |         error(msg)
 34 |     end
 35 | 
 36 |     cur_stage = settings_d["CurStage"] # Current model
 37 |     num_stages = settings_d["NumStages"] # Total number of model stages
 38 |     stage_lens = settings_d["StageLengths"]
 39 | 
 40 |     # 1) For each resource, find the minimum of the capital recovery period and the end of the model horizon
 41 |     # Total time between the end of the final model stage and the start of the current stage
 42 |     model_yrs_remaining = sum(stage_lens[cur_stage:end]; init = 0)
 43 | 
 44 |     # We will sum annualized costs through the full capital recovery period or the end of planning horizon, whichever comes first
 45 |     payment_yrs_remaining = min.(crp, model_yrs_remaining)
 46 | 
 47 |     # KEY ASSUMPTION: Investment costs after the planning horizon are fully recoverable, so we don't need to include these costs
 48 |     # 2) Compute the present value of investment associated with capital recovery period within the model horizon - discounting to year 1 and not year 0
 49 |     #    (Factor to adjust discounting to year 0 for capital cost is included in the discounting coefficient applied to all terms in the objective function value.)
 50 |     occ = zeros(length(inv_costs_yr))
 51 |     for i in 1:length(occ)
 52 |         occ[i] = sum(
 53 |             inv_costs_yr[i] / (1 + tech_wacc[i]) .^ (p)
 54 |             for p in 1:payment_yrs_remaining[i];
 55 |             init = 0)
 56 |     end
 57 | 
 58 |     # 3) Return the overnight capital cost (discounted sum of annual investment costs incured within the model horizon)
 59 |     return occ
 60 | end
 61 | 
 62 | @doc raw"""
 63 | 	function configure_multi_stage_inputs(inputs_d::Dict, settings_d::Dict, NetworkExpansion::Int64)
 64 | 
 65 | This function overwrites input parameters read in via the load\_inputs() method for proper configuration of multi-stage modeling:
 66 | 
 67 | 1) Overnight capital costs are computed via the compute\_overnight\_capital\_cost() method and overwrite internal model representations of annualized investment costs.
 68 | 
 69 | 2) Annualized fixed O&M costs are scaled up to represent total fixed O&M incured over the length of each model stage (specified by "StageLength" field in multi\_stage\_settings.yml).
 70 | 
 71 | 3) Internal set representations of resources eligible for capacity retirements are overwritten to ensure compatability with multi-stage modeling.
 72 | 
 73 | 4) When NetworkExpansion is active and there are multiple model zones, parameters related to transmission and network expansion are updated. First, annualized transmission reinforcement costs are converted into overnight capital costs. Next, the maximum allowable transmission line reinforcement parameter is overwritten by the model stage-specific value specified in the "Line\_Max\_Flow\_Possible\_MW" fields in the network\_multi\_stage.csv file. Finally, internal representations of lines eligible or not eligible for transmission expansion are overwritten based on the updated maximum allowable transmission line reinforcement parameters.
 74 | 
 75 | inputs:
 76 | 
 77 |   * inputs\_d - dict object containing model inputs dictionary generated by load\_inputs().
 78 |   * settings\_d - dict object containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
 79 |   * NetworkExpansion - integer flag (0/1) indicating whether network expansion is on, set via the "NetworkExpansion" field in genx\_settings.yml.
 80 | 
 81 | returns: dictionary containing updated model inputs, to be used in the generate\_model() method.
 82 | """
 83 | function configure_multi_stage_inputs(inputs_d::Dict,
 84 |         settings_d::Dict,
 85 |         NetworkExpansion::Int64)
 86 |     gen = inputs_d["RESOURCES"]
 87 | 
 88 |     # Parameter inputs when multi-year discounting is activated
 89 |     cur_stage = settings_d["CurStage"]
 90 |     stage_len = settings_d["StageLengths"][cur_stage]
 91 |     wacc = settings_d["WACC"] # Interest Rate and also the discount rate unless specified other wise
 92 |     myopic = settings_d["Myopic"] == 1 # 1 if myopic (only one forward pass), 0 if full DDP
 93 | 
 94 |     # Define OPEXMULT here, include in inputs_dict[t] for use in dual_dynamic_programming.jl, transmission_multi_stage.jl, and investment_multi_stage.jl
 95 |     OPEXMULT = myopic ? 1 :
 96 |                sum([1 / (1 + wacc)^(i - 1) for i in range(1, stop = stage_len)])
 97 |     inputs_d["OPEXMULT"] = OPEXMULT
 98 | 
 99 |     if !myopic ### Leave myopic costs in annualized form and do not scale OPEX costs
100 |         # 1. Convert annualized investment costs incured within the model horizon into overnight capital costs
101 |         # NOTE: Although the "yr" suffix is still in use in these parameter names, they no longer represent annualized costs but rather truncated overnight capital costs
102 |         gen.inv_cost_per_mwyr = compute_overnight_capital_cost(settings_d,
103 |             inv_cost_per_mwyr.(gen),
104 |             capital_recovery_period.(gen),
105 |             tech_wacc.(gen))
106 |         gen.inv_cost_per_mwhyr = compute_overnight_capital_cost(settings_d,
107 |             inv_cost_per_mwhyr.(gen),
108 |             capital_recovery_period.(gen),
109 |             tech_wacc.(gen))
110 |         gen.inv_cost_charge_per_mwyr = compute_overnight_capital_cost(settings_d,
111 |             inv_cost_charge_per_mwyr.(gen),
112 |             capital_recovery_period.(gen),
113 |             tech_wacc.(gen))
114 | 
115 |         # 2. Update fixed O&M costs to account for the possibility of more than 1 year between two model stages
116 |         # NOTE: Although the "yr" suffix is still in use in these parameter names, they now represent total costs incured in each stage, which may be multiple years
117 |         gen.fixed_om_cost_per_mwyr = fixed_om_cost_per_mwyr.(gen) .* OPEXMULT
118 |         gen.fixed_om_cost_per_mwhyr = fixed_om_cost_per_mwhyr.(gen) .* OPEXMULT
119 |         gen.fixed_om_cost_charge_per_mwyr = fixed_om_cost_charge_per_mwyr.(gen) .* OPEXMULT
120 | 
121 |         # Conduct 1. and 2. for any co-located VRE-STOR resources
122 |         if !isempty(inputs_d["VRE_STOR"])
123 |             gen_VRE_STOR = gen.VreStorage
124 |             gen_VRE_STOR.inv_cost_inverter_per_mwyr = compute_overnight_capital_cost(
125 |                 settings_d,
126 |                 inv_cost_inverter_per_mwyr.(gen_VRE_STOR),
127 |                 capital_recovery_period_dc.(gen_VRE_STOR),
128 |                 tech_wacc_dc.(gen_VRE_STOR))
129 |             gen_VRE_STOR.inv_cost_solar_per_mwyr = compute_overnight_capital_cost(
130 |                 settings_d,
131 |                 inv_cost_solar_per_mwyr.(gen_VRE_STOR),
132 |                 capital_recovery_period_solar.(gen_VRE_STOR),
133 |                 tech_wacc_solar.(gen_VRE_STOR))
134 |             gen_VRE_STOR.inv_cost_wind_per_mwyr = compute_overnight_capital_cost(
135 |                 settings_d,
136 |                 inv_cost_wind_per_mwyr.(gen_VRE_STOR),
137 |                 capital_recovery_period_wind.(gen_VRE_STOR),
138 |                 tech_wacc_wind.(gen_VRE_STOR))
139 |             gen_VRE_STOR.inv_cost_elec_per_mwyr = compute_overnight_capital_cost(
140 |                 settings_d,
141 |                 inv_cost_elec_per_mwyr.(gen_VRE_STOR),
142 |                 capital_recovery_period_elec.(gen_VRE_STOR),
143 |                 tech_wacc_elec.(gen_VRE_STOR))
144 |             gen_VRE_STOR.inv_cost_discharge_dc_per_mwyr = compute_overnight_capital_cost(
145 |                 settings_d,
146 |                 inv_cost_discharge_dc_per_mwyr.(gen_VRE_STOR),
147 |                 capital_recovery_period_discharge_dc.(gen_VRE_STOR),
148 |                 tech_wacc_discharge_dc.(gen_VRE_STOR))
149 |             gen_VRE_STOR.inv_cost_charge_dc_per_mwyr = compute_overnight_capital_cost(
150 |                 settings_d,
151 |                 inv_cost_charge_dc_per_mwyr.(gen_VRE_STOR),
152 |                 capital_recovery_period_charge_dc.(gen_VRE_STOR),
153 |                 tech_wacc_charge_dc.(gen_VRE_STOR))
154 |             gen_VRE_STOR.inv_cost_discharge_ac_per_mwyr = compute_overnight_capital_cost(
155 |                 settings_d,
156 |                 inv_cost_discharge_ac_per_mwyr.(gen_VRE_STOR),
157 |                 capital_recovery_period_discharge_ac.(gen_VRE_STOR),
158 |                 tech_wacc_discharge_ac.(gen_VRE_STOR))
159 |             gen_VRE_STOR.inv_cost_charge_ac_per_mwyr = compute_overnight_capital_cost(
160 |                 settings_d,
161 |                 inv_cost_charge_ac_per_mwyr.(gen_VRE_STOR),
162 |                 capital_recovery_period_charge_ac.(gen_VRE_STOR),
163 |                 tech_wacc_charge_ac.(gen_VRE_STOR))
164 | 
165 |             gen_VRE_STOR.fixed_om_inverter_cost_per_mwyr = fixed_om_inverter_cost_per_mwyr.(gen_VRE_STOR) .*
166 |                                                            OPEXMULT
167 |             gen_VRE_STOR.fixed_om_solar_cost_per_mwyr = fixed_om_solar_cost_per_mwyr.(gen_VRE_STOR) .*
168 |                                                         OPEXMULT
169 |             gen_VRE_STOR.fixed_om_wind_cost_per_mwyr = fixed_om_wind_cost_per_mwyr.(gen_VRE_STOR) .*
170 |                                                        OPEXMULT
171 |             gen_VRE_STOR.fixed_om_elec_cost_per_mwyr = fixed_om_elec_cost_per_mwyr.(gen_VRE_STOR) .*
172 |                                                        OPEXMULT
173 |             gen_VRE_STOR.fixed_om_cost_discharge_dc_per_mwyr = fixed_om_cost_discharge_dc_per_mwyr.(gen_VRE_STOR) .*
174 |                                                                OPEXMULT
175 |             gen_VRE_STOR.fixed_om_cost_charge_dc_per_mwyr = fixed_om_cost_charge_dc_per_mwyr.(gen_VRE_STOR) .*
176 |                                                             OPEXMULT
177 |             gen_VRE_STOR.fixed_om_cost_discharge_ac_per_mwyr = fixed_om_cost_discharge_ac_per_mwyr.(gen_VRE_STOR) .*
178 |                                                                OPEXMULT
179 |             gen_VRE_STOR.fixed_om_cost_charge_ac_per_mwyr = fixed_om_cost_charge_ac_per_mwyr.(gen_VRE_STOR) .*
180 |                                                             OPEXMULT
181 |         end
182 |     end
183 | 
184 |     retirable = is_retirable(gen)
185 | 
186 |     # Set of all resources eligible for capacity retirements
187 |     inputs_d["RET_CAP"] = retirable
188 |     # Set of all storage resources eligible for energy capacity retirements
189 |     inputs_d["RET_CAP_ENERGY"] = intersect(retirable, inputs_d["STOR_ALL"])
190 |     # Set of asymmetric charge/discharge storage resources eligible for charge capacity retirements
191 |     inputs_d["RET_CAP_CHARGE"] = intersect(retirable, inputs_d["STOR_ASYMMETRIC"])
192 |     # Set of all co-located resources' components eligible for capacity retirements
193 |     if !isempty(inputs_d["VRE_STOR"])
194 |         inputs_d["RET_CAP_DC"] = intersect(retirable, inputs_d["VS_DC"])
195 |         inputs_d["RET_CAP_SOLAR"] = intersect(retirable, inputs_d["VS_SOLAR"])
196 |         inputs_d["RET_CAP_WIND"] = intersect(retirable, inputs_d["VS_WIND"])
197 |         inputs_d["RET_CAP_ELEC"] = intersect(retirable, inputs_d["VS_ELEC"])
198 |         inputs_d["RET_CAP_STOR"] = intersect(retirable, inputs_d["VS_STOR"])
199 |         inputs_d["RET_CAP_DISCHARGE_DC"] = intersect(retirable,
200 |             inputs_d["VS_ASYM_DC_DISCHARGE"])
201 |         inputs_d["RET_CAP_CHARGE_DC"] = intersect(retirable, inputs_d["VS_ASYM_DC_CHARGE"])
202 |         inputs_d["RET_CAP_DISCHARGE_AC"] = intersect(retirable,
203 |             inputs_d["VS_ASYM_AC_DISCHARGE"])
204 |         inputs_d["RET_CAP_CHARGE_AC"] = intersect(retirable, inputs_d["VS_ASYM_AC_CHARGE"])
205 |     end
206 | 
207 |     # Transmission
208 |     if NetworkExpansion == 1 && inputs_d["Z"] > 1
209 |         if !myopic ### Leave myopic costs in annualized form
210 |             # 1. Convert annualized tramsmission investment costs incured within the model horizon into overnight capital costs
211 |             inputs_d["pC_Line_Reinforcement"] = compute_overnight_capital_cost(settings_d,
212 |                 inputs_d["pC_Line_Reinforcement"],
213 |                 inputs_d["Capital_Recovery_Period_Trans"],
214 |                 inputs_d["transmission_WACC"])
215 |         end
216 | 
217 |         # Scale max_allowed_reinforcement to allow for possibility of deploying maximum reinforcement in each investment stage
218 |         inputs_d["pTrans_Max_Possible"] = inputs_d["pLine_Max_Flow_Possible_MW"]
219 | 
220 |         # Network lines and zones that are expandable have greater maximum possible line flow than the available capacity of the previous stage as well as available line reinforcement
221 |         inputs_d["EXPANSION_LINES"] = findall((inputs_d["pLine_Max_Flow_Possible_MW"] .>
222 |                                                inputs_d["pTrans_Max"]) .&
223 |                                               (inputs_d["pMax_Line_Reinforcement"] .> 0))
224 |         inputs_d["NO_EXPANSION_LINES"] = findall((inputs_d["pLine_Max_Flow_Possible_MW"] .<=
225 |                                                   inputs_d["pTrans_Max"]) .|
226 |                                                  (inputs_d["pMax_Line_Reinforcement"] .<=
227 |                                                   0))
228 |         # To-Do: Error Handling
229 |         # 1.) Enforce that pLine_Max_Flow_Possible_MW for the first model stage be equal to (for transmission expansion to be disalowed) or greater (to allow transmission expansion) than pTrans_Max in inputs/inputs_p1
230 |     end
231 | 
232 |     return inputs_d
233 | end
234 | 
235 | @doc raw"""
236 |     validate_can_retire_multistage(inputs_dict::Dict, num_stages::Int)
237 | 
238 | This function validates that all the resources do not switch from havig `can_retire = 0` to `can_retire = 1` during the multi-stage optimization.
239 | 
240 | # Arguments
241 | - `inputs_dict::Dict`: A dictionary containing the inputs for each stage.
242 | - `num_stages::Int`: The number of stages in the multi-stage optimization.
243 | 
244 | # Returns
245 | - Throws an error if a resource switches from `can_retire = 0` to `can_retire = 1` between stages.
246 | """
247 | function validate_can_retire_multistage(inputs_dict::Dict, num_stages::Int)
248 |     for stage in 2:num_stages   # note: loop starts from 2 because we are comparing stage t with stage t-1
249 |         can_retire_current = can_retire.(inputs_dict[stage]["RESOURCES"])
250 |         can_retire_previous = can_retire.(inputs_dict[stage - 1]["RESOURCES"])
251 | 
252 |         # Check if any resource switched from can_retire = 0 to can_retire = 1 between stage t-1 and t
253 |         if any(can_retire_current .- can_retire_previous .> 0)
254 |             # Find the resources that switched from can_retire = 0 to can_retire = 1 and throw an error
255 |             retire_switch_ids = findall(can_retire_current .- can_retire_previous .> 0)
256 |             resources_switched = inputs_dict[stage]["RESOURCES"][retire_switch_ids]
257 |             for resource in resources_switched
258 |                 @warn "Resource `$(resource_name(resource))` with id = $(resource_id(resource)) switched " *
259 |                       "from can_retire = 0 to can_retire = 1 between stages $(stage - 1) and $stage"
260 |             end
261 |             msg = "Current implementation of multi-stage optimization does not allow resources " *
262 |                   "to switch from can_retire = 0 to can_retire = 1 between stages."
263 |             error(msg)
264 |         end
265 |     end
266 |     return nothing
267 | end
268 | 


--------------------------------------------------------------------------------
/src/multi_stage/dual_dynamic_programming.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     configure_ddp_dicts(setup::Dict, inputs::Dict)
  3 | 
  4 | This function instantiates Dictionary objects containing the names of linking expressions, constraints, and variables used in multi-stage modeling.
  5 | 
  6 | inputs:
  7 | 
  8 | * setup - Dictionary object containing GenX settings and key parameters.
  9 | * inputs â€“ Dictionary of inputs for each model period, generated by the load\_inputs() method.
 10 | 
 11 | returns:
 12 | 
 13 | * start\_cap\_d â€“ Dictionary which contains linking expression names as keys and linking constraint names as values, used for setting the end capacity in stage $p$ to the starting capacity in stage $p+1$.
 14 | * cap\_track\_d â€“ Dictionary which contains linking variable names as keys and linking constraint names as values, used for enforcing endogenous retirements.
 15 | """
 16 | function configure_ddp_dicts(setup::Dict, inputs::Dict)
 17 | 
 18 |     # start_cap_d dictionary contains key-value pairs of available capacity investment expressions
 19 |     # as keys and their corresponding linking constraints as values
 20 |     start_cap_d = Dict([(Symbol("eTotalCap"), Symbol("cExistingCap"))])
 21 | 
 22 |     if !isempty(inputs["STOR_ALL"])
 23 |         start_cap_d[Symbol("eTotalCapEnergy")] = Symbol("cExistingCapEnergy")
 24 |     end
 25 | 
 26 |     if !isempty(inputs["STOR_ASYMMETRIC"])
 27 |         start_cap_d[Symbol("eTotalCapCharge")] = Symbol("cExistingCapCharge")
 28 |     end
 29 | 
 30 |     if setup["NetworkExpansion"] == 1 && inputs["Z"] > 1
 31 |         start_cap_d[Symbol("eAvail_Trans_Cap")] = Symbol("cExistingTransCap")
 32 |     end
 33 | 
 34 |     if !isempty(inputs["VRE_STOR"])
 35 |         if !isempty(inputs["VS_DC"])
 36 |             start_cap_d[Symbol("eTotalCap_DC")] = Symbol("cExistingCapDC")
 37 |         end
 38 | 
 39 |         if !isempty(inputs["VS_SOLAR"])
 40 |             start_cap_d[Symbol("eTotalCap_SOLAR")] = Symbol("cExistingCapSolar")
 41 |         end
 42 | 
 43 |         if !isempty(inputs["VS_WIND"])
 44 |             start_cap_d[Symbol("eTotalCap_WIND")] = Symbol("cExistingCapWind")
 45 |         end
 46 | 
 47 |         if !isempty(inputs["VS_ELEC"])
 48 |             start_cap_d[Symbol("eTotalCap_ELEC")] = Symbol("cExistingCapElec")
 49 |         end
 50 | 
 51 |         if !isempty(inputs["VS_STOR"])
 52 |             start_cap_d[Symbol("eTotalCap_STOR")] = Symbol("cExistingCapEnergy_VS")
 53 |         end
 54 | 
 55 |         if !isempty(inputs["VS_ASYM_DC_DISCHARGE"])
 56 |             start_cap_d[Symbol("eTotalCapDischarge_DC")] = Symbol("cExistingCapDischargeDC")
 57 |         end
 58 | 
 59 |         if !isempty(inputs["VS_ASYM_DC_CHARGE"])
 60 |             start_cap_d[Symbol("eTotalCapCharge_DC")] = Symbol("cExistingCapChargeDC")
 61 |         end
 62 | 
 63 |         if !isempty(inputs["VS_ASYM_AC_DISCHARGE"])
 64 |             start_cap_d[Symbol("eTotalCapDischarge_AC")] = Symbol("cExistingCapDischargeAC")
 65 |         end
 66 | 
 67 |         if !isempty(inputs["VS_ASYM_AC_CHARGE"])
 68 |             start_cap_d[Symbol("eTotalCapCharge_AC")] = Symbol("cExistingCapChargeAC")
 69 |         end
 70 |     end
 71 | 
 72 |     # This dictionary contains the endogenous retirement constraint name as a key,
 73 |     # and a tuple consisting of the associated tracking array constraint and variable as the value
 74 |     cap_track_d = Dict([(Symbol("vCAPTRACK"), Symbol("cCapTrack"))])
 75 | 
 76 |     if !isempty(inputs["STOR_ALL"])
 77 |         cap_track_d[Symbol("vCAPTRACKENERGY")] = Symbol("cCapTrackEnergy")
 78 |     end
 79 | 
 80 |     if !isempty(inputs["STOR_ASYMMETRIC"])
 81 |         cap_track_d[Symbol("vCAPTRACKCHARGE")] = Symbol("cCapTrackCharge")
 82 |     end
 83 | 
 84 |     if !isempty(inputs["VRE_STOR"])
 85 |         if !isempty(inputs["VS_DC"])
 86 |             cap_track_d[Symbol("vCAPTRACKDC")] = Symbol("cCapTrackDC")
 87 |         end
 88 | 
 89 |         if !isempty(inputs["VS_SOLAR"])
 90 |             cap_track_d[Symbol("vCAPTRACKSOLAR")] = Symbol("cCapTrackSolar")
 91 |         end
 92 | 
 93 |         if !isempty(inputs["VS_WIND"])
 94 |             cap_track_d[Symbol("vCAPTRACKWIND")] = Symbol("cCapTrackWind")
 95 |         end
 96 | 
 97 |         if !isempty(inputs["VS_ELEC"])
 98 |             cap_track_d[Symbol("vCAPTRACKELEC")] = Symbol("cCapTrackElec")
 99 |         end
100 | 
101 |         if !isempty(inputs["VS_STOR"])
102 |             cap_track_d[Symbol("vCAPTRACKENERGY_VS")] = Symbol("cCapTrackEnergy_VS")
103 |         end
104 | 
105 |         if !isempty(inputs["VS_ASYM_DC_DISCHARGE"])
106 |             cap_track_d[Symbol("vCAPTRACKDISCHARGEDC")] = Symbol("cCapTrackDischargeDC")
107 |         end
108 | 
109 |         if !isempty(inputs["VS_ASYM_DC_CHARGE"])
110 |             cap_track_d[Symbol("vCAPTRACKCHARGEDC")] = Symbol("cCapTrackChargeDC")
111 |         end
112 | 
113 |         if !isempty(inputs["VS_ASYM_AC_DISCHARGE"])
114 |             cap_track_d[Symbol("vCAPTRACKDISCHARGEAC")] = Symbol("cCapTrackDischargeAC")
115 |         end
116 | 
117 |         if !isempty(inputs["VS_ASYM_AC_CHARGE"])
118 |             cap_track_d[Symbol("vCAPTRACKCHARGEAC")] = Symbol("cCapTrackChargeAC")
119 |         end
120 |     end
121 | 
122 |     return start_cap_d, cap_track_d
123 | end
124 | 
125 | @doc raw"""
126 | 	run_ddp(models_d::Dict, setup::Dict, inputs_d::Dict)
127 | 
128 | This function run the dual dynamic programming (DDP) algorithm, as described in [Pereira and Pinto (1991)](https://doi.org/10.1007/BF01582895), and more recently, [Lara et al. (2018)](https://doi.org/10.1016/j.ejor.2018.05.039). Note that if the algorithm does not converge within 10,000 (currently hardcoded) iterations, this function will return models with sub-optimal solutions. However, results will still be printed as if the model is finished solving. This sub-optimal termination is noted in the output with the 'Exiting Without Covergence!' message.
129 | 
130 | inputs:
131 | 
132 |   * models\_d â€“ Dictionary which contains a JuMP model for each model period.
133 |   * setup - Dictionary object containing GenX settings and key parameters.
134 |   * inputs\_d â€“ Dictionary of inputs for each model stage, generated by the load\_inputs() method.
135 | 
136 | returns:
137 | 
138 |   * models\_d â€“ Dictionary which contains a JuMP model for each model stage, modified by this method.
139 |   * stats\_d â€“ Dictionary which contains the run time, upper bound, and lower bound of each DDP iteration.
140 |   * inputs\_d â€“ Dictionary of inputs for each model stage, generated by the load\_inputs() method, modified by this method.
141 | """
142 | function run_ddp(outpath::AbstractString, models_d::Dict, setup::Dict, inputs_d::Dict)
143 |     settings_d = setup["MultiStageSettingsDict"]
144 |     num_stages = settings_d["NumStages"]  # Total number of investment planning stages
145 |     EPSILON = settings_d["ConvergenceTolerance"] # Tolerance
146 |     myopic = settings_d["Myopic"] == 1 # 1 if myopic (only one forward pass), 0 if full DDP
147 |     write_intermittent_outputs = settings_d["WriteIntermittentOutputs"] == 1 # 1 if write outputs for each stage
148 | 
149 |     start_cap_d, cap_track_d = configure_ddp_dicts(setup, inputs_d[1])
150 | 
151 |     ic = 0 # Iteration Counter
152 | 
153 |     results_d = Dict() # Dictionary to store the results to return
154 |     times_a = [] # Array to store the total time of each iteration
155 |     upper_bounds_a = [] # Array to store the upper bound of each iteration
156 |     lower_bounds_a = [] # Array to store the lower bound of each iteration
157 |     stats_d = Dict() # Dictionary to store the statistics (total time, upper bound, and lower bound for each iteration)
158 |     stats_d["TIMES"] = times_a
159 |     stats_d["UPPER_BOUNDS"] = upper_bounds_a
160 |     stats_d["LOWER_BOUNDS"] = lower_bounds_a
161 | 
162 |     # Step a.i) Initialize cost-to-go function for t = 1:num_stages
163 |     for t in 1:num_stages
164 |         settings_d["CurStage"] = t
165 |         models_d[t] = initialize_cost_to_go(settings_d, models_d[t], inputs_d[t])
166 |     end
167 | 
168 |     # Step a.ii) Set objective upper bound
169 |     global z_upper = Inf
170 | 
171 |     # Step b.i) Solve the approximate first-stage problem
172 |     println("***********")
173 |     println("Solving First Stage Problem")
174 |     println("***********")
175 | 
176 |     t = 1 # Stage = 1
177 |     solve_time_d = Dict()
178 |     ddp_prev_time = time() # Begin tracking time of each iteration
179 |     models_d[t], solve_time_d[t] = solve_model(models_d[t], setup)
180 |     inputs_d[t]["solve_time"] = solve_time_d[t]
181 | 
182 |     if myopic && write_intermittent_outputs
183 |         outpath_cur = joinpath(outpath, "results_p$t")
184 |         write_outputs(models_d[t], outpath_cur, setup, inputs_d[t])
185 |     end
186 | 
187 |     # Step c.i) Initialize the lower bound, equal to the objective function value for the first period in the first iteration
188 |     global z_lower = objective_value(models_d[t])
189 | 
190 |     # Step c.ii) If the relative difference between upper and lower bounds are small, break loop
191 |     while ((z_upper - z_lower) / z_lower > EPSILON)
192 |         ic = ic + 1 # Increase iteration counter by 1
193 | 
194 |         if (ic > 10000)
195 |             println("***********")
196 |             println("Exiting Without Covergence!")
197 |             println(string("Upper Bound = ", z_upper))
198 |             println(string("Lower Bound = ", z_lower))
199 |             println("***********")
200 | 
201 |             return models_d, stats_d, inputs_d
202 |         end
203 | 
204 |         println("***********")
205 |         println(string("Iteration Number: ", ic))
206 |         println(string("Upper Bound = ", z_upper))
207 |         println(string("Lower Bound = ", z_lower))
208 |         println("***********")
209 | 
210 |         # Step d) Forward pass for t = 1:num_stages
211 |         ## For first iteration we dont need to solve forward pass for first stage (we did that already above),
212 |         ## but we need to update forward pass solution for the first stage for subsequent iterations
213 |         if ic > 1
214 |             t = 1 #  update forward pass solution for the first stage
215 |             models_d[t], solve_time_d[t] = solve_model(models_d[t], setup)
216 |             inputs_d[t]["solve_time"] = solve_time_d[t]
217 |         end
218 |         ## Forward pass for t=2:num_stages
219 |         for t in 2:num_stages
220 |             println("***********")
221 |             println(string("Forward Pass t = ", t))
222 |             println("***********")
223 | 
224 |             # Step d.i) Fix initial investments for model at time t given optimal solution for time t-1
225 |             models_d[t] = fix_initial_investments(models_d[t - 1],
226 |                 models_d[t],
227 |                 start_cap_d,
228 |                 inputs_d[t])
229 | 
230 |             # Step d.ii) Fix capacity tracking variables for endogenous retirements
231 |             models_d[t] = fix_capacity_tracking(models_d[t - 1],
232 |                 models_d[t],
233 |                 cap_track_d,
234 |                 t)
235 | 
236 |             # Step d.iii) Solve the model at time t
237 |             models_d[t], solve_time_d[t] = solve_model(models_d[t], setup)
238 |             inputs_d[t]["solve_time"] = solve_time_d[t]
239 | 
240 |             if myopic && write_intermittent_outputs
241 |                 outpath_cur = joinpath(outpath, "results_p$t")
242 |                 write_outputs(models_d[t], outpath_cur, setup, inputs_d[t])
243 |             end
244 |         end
245 | 
246 |         ### For the myopic solution, algorithm should terminate here after the first forward pass calculation and then move to Outputs writing.
247 |         if myopic
248 |             println("***********")
249 |             println("Exiting After First Forward Pass! (Myopic)")
250 |             println(string("Upper Bound = ", z_upper))
251 |             println(string("Lower Bound = ", z_lower))
252 |             println("***********")
253 |             return models_d, stats_d, inputs_d
254 |         end
255 |         ###
256 | 
257 |         # Step e) Calculate the new upper bound
258 |         z_upper_temp = 0
259 |         for t in 1:num_stages
260 |             z_upper_temp = z_upper_temp +
261 |                            (objective_value(models_d[t]) - value(models_d[t][:vALPHA]))
262 |         end
263 | 
264 |         # If the upper bound decreased, set it as the new upper bound
265 |         if z_upper_temp < z_upper
266 |             z_upper = z_upper_temp
267 |         end
268 | 
269 |         append!(upper_bounds_a, z_upper) # Store current iteration upper bound
270 |         update_multi_stage_stats_file(outpath, ic, z_upper, z_lower, NaN, new_row = true)
271 | 
272 |         # Step f) Backward pass for t = num_stages:2
273 |         for t in num_stages:-1:2
274 |             println("***********")
275 |             println(string("Backward Pass t = ", t))
276 |             println("***********")
277 | 
278 |             # Step f.i) Add a cut to the previous time step using information from the current time step
279 |             models_d[t - 1] = add_cut(models_d[t - 1],
280 |                 models_d[t],
281 |                 start_cap_d,
282 |                 cap_track_d)
283 | 
284 |             # Step f.ii) Solve the model with the additional cut at time t-1
285 |             models_d[t - 1], solve_time_d[t - 1] = solve_model(models_d[t - 1], setup)
286 |             inputs_d[t - 1]["solve_time"] = solve_time_d[t - 1]
287 |         end
288 | 
289 |         # Step g) Recalculate lower bound and go back to c)
290 |         z_lower = objective_value(models_d[1])
291 |         append!(lower_bounds_a, z_lower) # Store current iteration lower bound
292 |         update_multi_stage_stats_file(outpath, ic, z_upper, z_lower, NaN)
293 | 
294 |         # Step h) Store the total time of the current iteration (in seconds)
295 |         ddp_iteration_time = time() - ddp_prev_time
296 |         append!(times_a, ddp_iteration_time)
297 |         update_multi_stage_stats_file(outpath, ic, z_upper, z_lower, ddp_iteration_time)
298 | 
299 |         ddp_prev_time = time()
300 |     end
301 | 
302 |     println("***********")
303 |     println("Successful Convergence!")
304 |     println(string("Upper Bound = ", z_upper))
305 |     println(string("Lower Bound = ", z_lower))
306 |     println("***********")
307 | 
308 |     ### STEP I) One final forward pass to guarantee convergence
309 |     # Forward pass for t = 1:num_stages
310 |     t = 1 #  update forward pass solution for the first stage
311 |     models_d[t], solve_time_d[t] = solve_model(models_d[t], setup)
312 |     inputs_d[t]["solve_time"] = solve_time_d[t]
313 |     ## Forward pass for t=2:num_stages
314 |     for t in 2:num_stages
315 |         println("***********")
316 |         println(string("Final Forward Pass t = ", t))
317 |         println("***********")
318 | 
319 |         # Step d.i) Fix initial investments for model at time t given optimal solution for time t-1
320 |         models_d[t] = fix_initial_investments(models_d[t - 1],
321 |             models_d[t],
322 |             start_cap_d,
323 |             inputs_d[t])
324 | 
325 |         # Step d.ii) Fix capacity tracking variables for endogenous retirements
326 |         models_d[t] = fix_capacity_tracking(models_d[t - 1], models_d[t], cap_track_d, t)
327 | 
328 |         # Step d.iii) Solve the model at time t
329 |         models_d[t], solve_time_d[t] = solve_model(models_d[t], setup)
330 |         inputs_d[t]["solve_time"] = solve_time_d[t]
331 |     end
332 |     ##### END of final forward pass
333 | 
334 |     return models_d, stats_d, inputs_d
335 | end
336 | 
337 | @doc raw"""
338 | 	fix_initial_investments(EP_prev::Model, EP_cur::Model, start_cap_d::Dict)
339 | 
340 | This function sets the right hand side values of the existing capacity linking constraints in the current stage $p$ to the realized values of the total available end capacity linking variable expressions from the previous stage $p-1$ as part of the forward pass.
341 | 
342 | inputs:
343 | 
344 |   * EP\_prev - JuMP model from the previous model stage $p-1$.
345 |   * EP\_cur - JuMP model from the current model stage $p$.
346 |   * start\_cap\_d â€“ Dictionary which contains key-value pairs of available capacity investment expression names (as Symbols) as keys and their corresponding linking constraint names (as Symbols) as values.
347 | 
348 | returns: JuMP model with updated linking constraints.
349 | """
350 | function fix_initial_investments(EP_prev::Model,
351 |         EP_cur::Model,
352 |         start_cap_d::Dict,
353 |         inputs_d::Dict)
354 |     ALL_CAP = union(inputs_d["RET_CAP"], inputs_d["NEW_CAP"]) # Set of all resources subject to inter-stage capacity tracking
355 | 
356 |     # start_cap_d dictionary contains the starting capacity expression name (e) as a key,
357 |     # and the associated linking constraint name (c) as a value
358 |     for (e, c) in start_cap_d
359 |         for y in keys(EP_cur[c])
360 |             # Set the right hand side value of the linking initial capacity constraint in the current stage to the value of the available capacity variable solved for in the previous stages
361 |             if c == :cExistingTransCap
362 |                 set_normalized_rhs(EP_cur[c][y], value(EP_prev[e][y]))
363 |             else
364 |                 if y[1] in ALL_CAP # extract resource integer index value from key
365 |                     set_normalized_rhs(EP_cur[c][y], value(EP_prev[e][y]))
366 |                 end
367 |             end
368 |         end
369 |     end
370 |     return EP_cur
371 | end
372 | 
373 | @doc raw"""
374 | 	fix_capacity_tracking(EP_prev::Model, EP_cur::Model, cap_track_d::Dict, cur_stage::Int)
375 | 
376 | This function sets the right hand side values of the new and retired capacity tracking linking constraints in the current stage $p$ to the realized values of the new and retired capacity tracking linking variables from the previous stage $p-1$ as part of the forward pass.
377 | where tracking linking variables are defined variables for tracking, linking and passing realized expansion and retirement of capacities of each stage to the next stage.
378 | Tracking linking variables are each defined in endogenous\_retirement\_discharge, endogenous\_retirement\_energy, and endogenous\_retirement\_charge functions. Three examples are "vCAPTRACK", "vCAPTRACKCHARGE", and ""vCAPTRACKENERGY"
379 | 
380 | inputs:
381 | 
382 |   * EP\_prev - JuMP model from the previous model stage $p-1$.
383 |   * EP\_cur - JuMP model from the current model stage $p$.
384 |   * cap\_track\_d â€“ Dictionary which contains key-value pairs of capacity addition and retirement tracking variable names (as Symbols) as keys and their corresponding linking constraint names (as Symbols) as values.
385 |   * cur\_period â€“ Int representing the current model stage $p$.
386 | 
387 | returns: JuMP model with updated linking constraints.
388 | """
389 | function fix_capacity_tracking(EP_prev::Model,
390 |         EP_cur::Model,
391 |         cap_track_d::Dict,
392 |         cur_stage::Int)
393 | 
394 |     # cap_track_d dictionary contains the endogenous retirement tracking array variable name (v) as a key,
395 |     # and the associated linking constraint name (c) as a value
396 |     for (v, c) in cap_track_d
397 | 
398 |         # Tracking variables and constraints for retired capacity are named identicaly to those for newly
399 |         # built capacity, except have the prefex "vRET" and "cRet", accordingly
400 |         rv = Symbol("vRET", string(v)[2:end]) # Retired capacity tracking variable name (rv)
401 |         rc = Symbol("cRet", string(c)[2:end]) # Retired capacity tracking constraint name (rc)
402 | 
403 |         for i in keys(EP_cur[c])
404 |             i = i[1] # Extract integer index value from keys tuple - corresponding to generator index
405 | 
406 |             # For all previous stages, set the right hand side value of the tracking constraint in the current
407 |             # stage to the value of the tracking constraint observed in the previous stage
408 |             for p in 1:(cur_stage - 1)
409 |                 # Tracking newly buily capacity over all previous stages
410 |                 JuMP.set_normalized_rhs(EP_cur[c][i, p], value(EP_prev[v][i, p]))
411 |                 # Tracking retired capacity over all previous stages
412 |                 JuMP.set_normalized_rhs(EP_cur[rc][i, p], value(EP_prev[rv][i, p]))
413 |             end
414 |         end
415 |     end
416 | 
417 |     return EP_cur
418 | end
419 | 
420 | @doc raw"""
421 | 	add_cut(EP_cur::Model, EP_next::Model, start_cap_d::Dict, cap_track_d::Dict)
422 | 
423 | inputs:
424 | 
425 |   * EP\_cur - JuMP model from the current model stage $p$.
426 |   * EP\_next - JuMP model from the next model stage $p+1$..
427 |   * start\_cap\_d â€“ Dictionary which contains key-value pairs of available capacity investment expression names (as Symbols) as keys and their corresponding linking constraint names (as Symbols) as values.
428 |   * cap\_track\_d â€“ Dictionary which contains key-value pairs of capacity addition and retirement tracking variable names (as Symbols) as keys and their corresponding linking constraint names (as Symbols) as values.
429 | 
430 | returns: JuMP expression representing a sum of Benders cuts for linking capacity investment variables to be added to the cost-to-go function.
431 | """
432 | function add_cut(EP_cur::Model, EP_next::Model, start_cap_d::Dict, cap_track_d::Dict)
433 |     next_obj_value = objective_value(EP_next) # Get the objective function value for the next investment planning stage
434 | 
435 |     eRHS = @expression(EP_cur, 0) # Initialize RHS of cut to 0
436 | 
437 |     # Generate cut components for investment decisions
438 | 
439 |     # start_cap_d dictionary contains the starting capacity expression name (e) as a key,
440 |     # and the associated linking constraint name (c) as a value
441 |     for (e, c) in start_cap_d
442 | 
443 |         # Continue if nothing to add to the cut
444 |         if isempty(EP_next[e])
445 |             continue
446 |         end
447 | 
448 |         # Generate the cut component
449 |         eCurRHS = generate_cut_component_inv(EP_cur, EP_next, e, c)
450 | 
451 |         # Add the cut component to the RHS
452 |         eRHS = eRHS + eCurRHS
453 |     end
454 | 
455 |     # Generate cut components for endogenous retirements.
456 | 
457 |     # cap_track_d dictionary contains the endogenous retirement tracking array variable name (v) as a key,
458 |     # and the associated linking constraint name (c) as a value
459 |     for (v, c) in cap_track_d
460 | 
461 |         # Continue if nothing to add to the cut
462 |         if isempty(EP_next[c])
463 |             continue
464 |         end
465 | 
466 |         # Generate the cut component for new capacity
467 |         eCurRHS_cap = generate_cut_component_track(EP_cur, EP_next, v, c)
468 | 
469 |         rv = Symbol("vRET", string(v)[2:end]) # Retired capacity tracking variable (rv)
470 |         rc = Symbol("cRet", string(c)[2:end]) # Retired capacity tracking constraint (rc)
471 | 
472 |         # Generate the cut component for retired capacity
473 |         eCurRHS_ret = generate_cut_component_track(EP_cur, EP_next, rv, rc)
474 | 
475 |         # Add the cut component to the RHS
476 |         eRHS = eRHS + eCurRHS_cap + eCurRHS_ret
477 |     end
478 | 
479 |     # Add the cut to the model
480 |     @constraint(EP_cur, EP_cur[:vALPHA]>=next_obj_value - eRHS)
481 | 
482 |     return EP_cur
483 | end
484 | 
485 | @doc raw"""
486 | 	generate_cut_component_inv(EP_cur::Model, EP_next::Model, expr_name::Symbol, constr_name::Symbol)
487 | 
488 | This function generates Bender's cut expressions for total new or retired capacity tracking linking variables in the form:
489 | ```math
490 | \begin{aligned}
491 |         \mu_{next}^{\top}(\hat{x}_{cur} - x_{cur})
492 | \end{aligned}
493 | ```
494 | where $\mu_{next}$ is a vector of dual values of the linking constraints defined by constr\_name in EP\_next, $\hat{x}_{cur}$ is a vector of realized values from the forward pass of the new or retired capacity tracking linking variables var\_name from EP\_cur, and $x_{cur}$ is a vector of unrealized new or retired capacity tracking linking variables from EP\_cur.
495 | 
496 | inputs:
497 | 
498 |   * EP\_cur - JuMP model from the current model stage $p$.
499 |   * EP\_next - JuMP model from the next model stage $p+1$.
500 |   * var\_name â€“ Symbol representing the name of a JuMP variable array which contains total new or retired capacity tracking linking variables.
501 |   * constr\_name â€“ Symbol representing the name of the array of linking JuMP constraints which contain total new or retired capacity tracking linking variables.
502 | 
503 | returns: JuMP expression representing a sum of Benders cuts for linking capacity investment variables to be added to the cost-to-go function.
504 | """
505 | function generate_cut_component_track(EP_cur::Model,
506 |         EP_next::Model,
507 |         var_name::Symbol,
508 |         constr_name::Symbol)
509 |     next_dual_value = Float64[]
510 |     cur_inv_value = Float64[]
511 |     cur_inv_var = []
512 | 
513 |     for k in keys(EP_next[constr_name])
514 |         y = k[1] # Index representing resource
515 |         p = k[2] # Index representing stage
516 | 
517 |         push!(next_dual_value, dual(EP_next[constr_name][y, p]))
518 |         push!(cur_inv_value, value(EP_cur[var_name][y, p]))
519 |         push!(cur_inv_var, EP_cur[var_name][y, p])
520 |     end
521 | 
522 |     eCutComponent = @expression(EP_cur,
523 |         dot(next_dual_value, (cur_inv_value .- cur_inv_var)))
524 | 
525 |     return eCutComponent
526 | end
527 | 
528 | @doc raw"""
529 | 	generate_cut_component_inv(EP_cur::Model, EP_next::Model, expr_name::Symbol, constr_name::Symbol)
530 | 
531 | This function generates Bender's cut expressions for linking capacity investment variable expression in the form:
532 | ```math
533 | \begin{aligned}
534 |         \mu_{next}^{\top}(\hat{x}_{cur} - x_{cur})
535 | \end{aligned}
536 | ```
537 | where $\mu_{next}$ is a vector of dual values of the linking constraints defined by constr\_name in EP\_next, $\hat{x}_{cur}$ is a vector of realized values from the forward pass of the linking capacity investment variable expressions expr\_name from EP\_cur, and $x_{cur}$ is a vector of unrealized linking capacity investment variable expressions from EP\_cur. inputs:
538 | 
539 | inputs:
540 | 
541 |   * EP\_cur - JuMP model from the current model stage $p$, solved in the forward pass.
542 |   * EP\_next - JuMP model from the next model stage $p+1$, solved in the forward pass.
543 |   * expr\_name â€“ Symbol representing the name of a JuMP expression array which contains linking capacity investment variables.
544 |   * constr\_name â€“ Symbol representing the name of the array of linking JuMP constraints which contain the linking capacity investment variables.
545 | 
546 | returns: JuMP expression representing a sum of Benders cuts for linking capacity investment variables to be added to the cost-to-go function.
547 | """
548 | function generate_cut_component_inv(EP_cur::Model,
549 |         EP_next::Model,
550 |         expr_name::Symbol,
551 |         constr_name::Symbol)
552 |     next_dual_value = Float64[]
553 |     cur_inv_value = Float64[]
554 |     cur_inv_var = []
555 | 
556 |     for y in keys(EP_next[constr_name])
557 |         push!(next_dual_value, dual(EP_next[constr_name][y]))
558 |         push!(cur_inv_value, value(EP_cur[expr_name][y]))
559 |         push!(cur_inv_var, EP_cur[expr_name][y])
560 |     end
561 | 
562 |     eCutComponent = @expression(EP_cur,
563 |         dot(next_dual_value, (cur_inv_value .- cur_inv_var)))
564 | 
565 |     return eCutComponent
566 | end
567 | 
568 | @doc raw"""
569 | 	initialize_cost_to_go(settings_d::Dict, EP::Model)
570 | 
571 | This function scales the model objective function so that costs are consistent with multi-stage modeling and introduces a cost-to-go function variable to the objective function.
572 | 
573 | The updated objective function $OBJ^{*}$ returned by this method takes the form:
574 | ```math
575 | \begin{aligned}
576 |     OBJ^{*} = DF * OPEXMULT * OBJ + \alpha
577 | \end{aligned}
578 | ```
579 | where $OBJ$ is the original objective function. $OBJ$ is scaled by two terms. The first is a discount factor (applied only in the non-myopic case), which discounts costs associated with the model stage $p$ to year-0 dollars:
580 | ```math
581 | \begin{aligned}
582 |     DF = \frac{1}{(1+WACC)^{\sum^{(p-1)}_{k=0}L_{k}}}
583 | \end{aligned}
584 | ```
585 | where $WACC$ is the weighted average cost of capital, and $L_{p}$ is the length of each stage in years (both set in multi\_stage\_settings.yml)
586 | 
587 | The second term is a discounted sum of annual operational expenses incurred each year of a multi-year model stage:
588 | ```math
589 | \begin{aligned}
590 |     & OPEXMULT = \sum^{L}_{l=1}\frac{1}{(1+WACC)^{l-1}}
591 | \end{aligned}
592 | ```
593 | Note that although the objective function contains investment costs, which occur only once and thus do not need to be scaled by OPEXMULT, these costs are multiplied by a factor of $\frac{1}{WACC}$ before being added to the objective function in investment\_discharge\_multi\_stage(), investment\_charge\_multi\_stage(), investment\_energy\_multi\_stage(), and transmission\_multi\_stage(). Thus, this step scales these costs back to their correct value.
594 | 
595 | The cost-to-go function $\alpha$ represents an approximation of future costs given the investment and retirement decisions in the current stage. It is constructed through the addition of cuts to the cost-to-go function $\alpha$ during the backwards pass.
596 | 
597 | inputs:
598 | 
599 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
600 |   * EP â€“ JuMP model.
601 | 
602 | returns: JuMP model with updated objective function.
603 | """
604 | function initialize_cost_to_go(settings_d::Dict, EP::Model, inputs::Dict)
605 |     cur_stage = settings_d["CurStage"] # Current DDP Investment Planning Stage
606 |     cum_years = 0
607 |     for stage_count in 1:(cur_stage - 1)
608 |         cum_years += settings_d["StageLengths"][stage_count]
609 |     end
610 |     stage_len = settings_d["StageLengths"][cur_stage]
611 |     wacc = settings_d["WACC"] # Interest Rate  and also the discount rate unless specified other wise
612 |     myopic = settings_d["Myopic"] == 1 # 1 if myopic (only one forward pass), 0 if full DDP
613 |     OPEXMULT = inputs["OPEXMULT"] # OPEX multiplier to count multiple years between two model stages, set in configure_multi_stage_inputs.jl
614 | 
615 |     # Overwrite the objective function to include the cost-to-go variable (not in myopic case)
616 |     # Multiply discount factor to all terms except the alpha term or the cost-to-go function
617 |     # All OPEX terms get an additional adjustment factor
618 |     if myopic
619 |         ### No discount factor or OPEX multiplier applied in myopic case as costs are left annualized.
620 |         @objective(EP, Min, EP[:eObj])
621 |     else
622 |         DF = 1 / (1 + wacc)^(cum_years)  # Discount factor applied all to costs in each stage ###
623 |         # Initialize the cost-to-go variable
624 |         @variable(EP, vALPHA>=0)
625 |         @objective(EP, Min, DF * OPEXMULT * EP[:eObj]+vALPHA)
626 |     end
627 | 
628 |     return EP
629 | end
630 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_capacities_charge.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_multi_stage_capacities_charge(outpath::String, settings_d::Dict)
 3 | 
 4 | This function writes the file capacities\_charge\_multi\_stage.csv to the Results directory. This file contains starting resource charge capacities from the first model stage and end resource charge capacities for the first and all subsequent model stages.
 5 | 
 6 | inputs:
 7 | 
 8 |   * outpath â€“ String which represents the path to the Results directory.
 9 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
10 | """
11 | function write_multi_stage_capacities_charge(outpath::String, settings_d::Dict)
12 |     num_stages = settings_d["NumStages"] # Total number of investment planning stages
13 |     capacities_d = Dict()
14 | 
15 |     for p in 1:num_stages
16 |         inpath = joinpath(outpath, "results_p$p")
17 |         capacities_d[p] = load_dataframe(joinpath(inpath, "capacity.csv"))
18 |     end
19 | 
20 |     # Set first column of DataFrame as resource names from the first stage
21 |     df_cap = DataFrame(Resource = capacities_d[1][!, :Resource],
22 |         Zone = capacities_d[1][!, :Zone])
23 | 
24 |     # Store starting capacities from the first stage
25 |     df_cap[!, Symbol("StartChargeCap_p1")] = capacities_d[1][!, :StartChargeCap]
26 | 
27 |     # Store end capacities for all stages
28 |     for p in 1:num_stages
29 |         df_cap[!, Symbol("EndChargeCap_p$p")] = capacities_d[p][!, :EndChargeCap]
30 |     end
31 | 
32 |     CSV.write(joinpath(outpath, "capacities_charge_multi_stage.csv"), df_cap)
33 | end
34 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_capacities_discharge.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_multi_stage_capacities_discharge(outpath::String, settings_d::Dict)
 3 | 
 4 | This function writes the file capacities\_multi\_stage.csv to the Results directory. This file contains starting resource capacities from the first model stage and end resource capacities for the first and all subsequent model stages.
 5 | 
 6 | inputs:
 7 | 
 8 |   * outpath â€“ String which represents the path to the Results directory.
 9 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
10 | """
11 | function write_multi_stage_capacities_discharge(outpath::String, settings_d::Dict)
12 |     num_stages = settings_d["NumStages"] # Total number of investment planning stages
13 |     capacities_d = Dict()
14 | 
15 |     for p in 1:num_stages
16 |         inpath = joinpath(outpath, "results_p$p")
17 |         capacities_d[p] = load_dataframe(joinpath(inpath, "capacity.csv"))
18 |     end
19 | 
20 |     # Set first column of DataFrame as resource names from the first stage
21 |     df_cap = DataFrame(Resource = capacities_d[1][!, :Resource],
22 |         Zone = capacities_d[1][!, :Zone])
23 | 
24 |     # Store starting capacities from the first stage
25 |     df_cap[!, Symbol("StartCap_p1")] = capacities_d[1][!, :StartCap]
26 | 
27 |     # Store end capacities for all stages
28 |     for p in 1:num_stages
29 |         df_cap[!, Symbol("EndCap_p$p")] = capacities_d[p][!, :EndCap]
30 |     end
31 | 
32 |     CSV.write(joinpath(outpath, "capacities_multi_stage.csv"), df_cap)
33 | end
34 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_capacities_energy.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_multi_stage_capacities_energy(outpath::String, settings_d::Dict)
 3 | 
 4 | This function writes the file capacities\_energy\_multi\_stage.csv to the Results directory. This file contains starting resource energy capacities from the first model stage and end resource energy capacities for the first and all subsequent model stages.
 5 | 
 6 | inputs:
 7 | 
 8 |   * outpath â€“ String which represents the path to the Results directory.
 9 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
10 | """
11 | function write_multi_stage_capacities_energy(outpath::String, settings_d::Dict)
12 |     num_stages = settings_d["NumStages"] # Total number of investment planning stages
13 |     capacities_d = Dict()
14 | 
15 |     for p in 1:num_stages
16 |         inpath = joinpath(outpath, "results_p$p")
17 |         capacities_d[p] = load_dataframe(joinpath(inpath, "capacity.csv"))
18 |     end
19 | 
20 |     # Set first column of DataFrame as resource names from the first stage
21 |     df_cap = DataFrame(Resource = capacities_d[1][!, :Resource],
22 |         Zone = capacities_d[1][!, :Zone])
23 | 
24 |     # Store starting capacities from the first stage
25 |     df_cap[!, Symbol("StartEnergyCap_p1")] = capacities_d[1][!, :StartEnergyCap]
26 | 
27 |     # Store end capacities for all stages
28 |     for p in 1:num_stages
29 |         df_cap[!, Symbol("EndEnergyCap_p$p")] = capacities_d[p][!, :EndEnergyCap]
30 |     end
31 | 
32 |     CSV.write(joinpath(outpath, "capacities_energy_multi_stage.csv"), df_cap)
33 | end
34 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_costs.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_multi_stage_costs(outpath::String, settings_d::Dict)
 3 | 
 4 | This function writes the file costs\_multi\_stage.csv to the Results directory. This file contains variable, fixed, startup, network expansion, unmet reserve, and non-served energy costs discounted to year zero.
 5 | 
 6 | inputs:
 7 | 
 8 |   * outpath â€“ String which represents the path to the Results directory.
 9 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
10 | """
11 | function write_multi_stage_costs(outpath::String, settings_d::Dict, inputs_dict::Dict)
12 |     num_stages = settings_d["NumStages"] # Total number of DDP stages
13 |     wacc = settings_d["WACC"] # Interest Rate and also the discount rate unless specified other wise
14 |     stage_lens = settings_d["StageLengths"]
15 |     myopic = settings_d["Myopic"] == 1 # 1 if myopic (only one forward pass), 0 if full DDP
16 | 
17 |     costs_d = Dict()
18 |     for p in 1:num_stages
19 |         cur_path = joinpath(outpath, "results_p$p")
20 |         costs_d[p] = load_dataframe(joinpath(cur_path, "costs.csv"))
21 |     end
22 | 
23 |     OPEXMULTS = [inputs_dict[j]["OPEXMULT"] for j in 1:num_stages] # Stage-wise OPEX multipliers to count multiple years between two model stages
24 | 
25 |     # Set first column of DataFrame as resource names from the first stage
26 |     df_costs = DataFrame(Costs = costs_d[1][!, :Costs])
27 | 
28 |     # Store discounted total costs for each stage in a data frame
29 |     for p in 1:num_stages
30 |         if myopic
31 |             DF = 1 # DF=1 because we do not apply discount factor in myopic case
32 |         else
33 |             cum_stage_length = 0
34 |             if p > 1
35 |                 for stage_counter in 1:(p - 1)
36 |                     cum_stage_length += stage_lens[stage_counter]
37 |                 end
38 |             end
39 |             DF = 1 / (1 + wacc)^(cum_stage_length)  # Discount factor applied to ALL costs in each stage
40 |         end
41 |         df_costs[!, Symbol("TotalCosts_p$p")] = DF .* costs_d[p][!, Symbol("Total")]
42 |     end
43 | 
44 |     # For OPEX costs, apply additional discounting
45 |     for cost in ["cVar", "cNSE", "cStart", "cUnmetRsv", "cUnmetPolicyPenalty"]
46 |         if cost in df_costs[!, :Costs]
47 |             df_costs[df_costs[!, :Costs] .== cost, 2:end] = transpose(OPEXMULTS) .*
48 |                                                             df_costs[df_costs[!, :Costs] .== cost, 2:end]
49 |         end
50 |     end
51 | 
52 |     # Remove "cTotal" from results (as this includes Cost-to-Go)
53 |     df_costs = df_costs[df_costs[!, :Costs] .!= "cTotal", :]
54 |     @warn("The cost calculation of the multi-stage GenX is approximate currently, and we will be refining it more in one of the future releases.")
55 | 
56 |     CSV.write(joinpath(outpath, "costs_multi_stage.csv"), df_costs)
57 | end
58 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_network_expansion.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_multi_stage_network_expansion(outpath::String, settings_d::Dict)
 3 | 
 4 | This function writes the file network\_expansion\_multi\_stage.csv to the Results directory. This file contains new transmission capacities for each modeled transmission line for the first and all subsequent model stages.
 5 | 
 6 | inputs:
 7 | 
 8 |   * outpath â€“ String which represents the path to the Results directory.
 9 |   * settings\_d - Dictionary containing settings dictionary configured in the multi-stage settings file multi\_stage\_settings.yml.
10 | """
11 | function write_multi_stage_network_expansion(outpath::String, settings_d::Dict)
12 |     # [To Be Completed] Should include discounted NE costs and capacities for each model period as well as initial and intermediate capacity sums.
13 |     num_stages = settings_d["NumStages"] # Total number of investment planning stages
14 |     trans_capacities_d = Dict()
15 | 
16 |     for p in 1:num_stages
17 |         inpath = joinpath(outpath, "results_p$p")
18 |         trans_capacities_d[p] = load_dataframe(joinpath(inpath, "network_expansion.csv"))
19 |     end
20 | 
21 |     # Set first column of output DataFrame as line IDs
22 |     df_trans_cap = DataFrame(Line = trans_capacities_d[1][!, :Line])
23 | 
24 |     # Store new transmission capacities for all stages
25 |     for p in 1:num_stages
26 |         df_trans_cap[!, Symbol("New_Trans_Capacity_p$p")] = trans_capacities_d[p][!,
27 |             :New_Trans_Capacity]
28 |     end
29 | 
30 |     CSV.write(joinpath(outpath, "network_expansion_multi_stage.csv"), df_trans_cap)
31 | end
32 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_outputs.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     write_multi_stage_outputs(stats_d::Dict, 
 3 |         outpath::String, 
 4 |         settings_d::Dict, 
 5 |         inputs_dict::Dict)
 6 | 
 7 | This function calls various methods which write multi-stage modeling outputs as .csv files.
 8 | 
 9 | # Arguments:
10 |   * stats\_d: Dictionary which contains the run time, upper bound, and lower bound of each DDP iteration.
11 |   * outpath: String which represents the path to the Results directory.
12 |   * settings\_d: Dictionary containing settings configured in the GenX settings `genx_settings.yml` file as well as the multi-stage settings file `multi_stage_settings.yml`.
13 |   * inputs\_dict: Dictionary containing the input data for the multi-stage model.
14 | """
15 | function write_multi_stage_outputs(stats_d::Dict,
16 |         outpath::String,
17 |         settings_d::Dict,
18 |         inputs_dict::Dict)
19 |     multi_stage_settings_d = settings_d["MultiStageSettingsDict"]
20 | 
21 |     write_multi_stage_capacities_discharge(outpath, multi_stage_settings_d)
22 |     write_multi_stage_capacities_charge(outpath, multi_stage_settings_d)
23 |     write_multi_stage_capacities_energy(outpath, multi_stage_settings_d)
24 |     if settings_d["NetworkExpansion"] == 1
25 |         write_multi_stage_network_expansion(outpath, multi_stage_settings_d)
26 |     end
27 |     write_multi_stage_costs(outpath, multi_stage_settings_d, inputs_dict)
28 |     multi_stage_settings_d["Myopic"] == 0 && write_multi_stage_stats(outpath, stats_d)
29 |     write_multi_stage_settings(outpath, settings_d)
30 | end
31 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_settings.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     write_multi_stage_settings(outpath::AbstractString, settings_d::Dict)
 3 | 
 4 | Function for writing the multi-stage settings file to the output path for future reference.
 5 | """
 6 | function write_multi_stage_settings(outpath::AbstractString, settings_d::Dict)
 7 |     multi_stage_settings_d = settings_d["MultiStageSettingsDict"]
 8 |     YAML.write_file(joinpath(outpath, "genx_settings.yml"), settings_d)
 9 |     YAML.write_file(joinpath(outpath, "multi_stage_settings.yml"), multi_stage_settings_d)
10 | end
11 | 


--------------------------------------------------------------------------------
/src/multi_stage/write_multi_stage_stats.jl:
--------------------------------------------------------------------------------
  1 | _get_multi_stage_stats_filename() = "stats_multi_stage.csv"
  2 | function _get_multi_stage_stats_header()
  3 |     ["Iteration_Number", "Seconds", "Upper_Bound", "Lower_Bound", "Relative_Gap"]
  4 | end
  5 | 
  6 | @doc raw"""
  7 |   write_multi_stage_stats(outpath::String, stats_d::Dict)
  8 | 
  9 | This function writes the file stats\_multi\_stage.csv. to the Results directory. This file contains the runtime, upper bound, lower bound, and relative optimality gap for each iteration of the DDP algorithm.
 10 | 
 11 | inputs:
 12 | 
 13 |   * outpath â€“ String which represents the path to the Results directory.
 14 |   * stats\_d â€“ Dictionary which contains the run time, upper bound, and lower bound of each DDP iteration.
 15 | """
 16 | function write_multi_stage_stats(outpath::String, stats_d::Dict)
 17 |     filename = _get_multi_stage_stats_filename()
 18 | 
 19 |     # don't overwrite existing file
 20 |     isfile(joinpath(outpath, filename)) && return nothing
 21 | 
 22 |     times_a = stats_d["TIMES"] # Time (seconds) of each iteration
 23 |     upper_bounds_a = stats_d["UPPER_BOUNDS"] # Upper bound of each iteration
 24 |     lower_bounds_a = stats_d["LOWER_BOUNDS"] # Lower bound of each iteration
 25 | 
 26 |     # Create an array of numbers 1 through total number of iterations
 27 |     iteration_count_a = collect(1:length(times_a))
 28 | 
 29 |     realtive_gap_a = (upper_bounds_a .- lower_bounds_a) ./ lower_bounds_a
 30 | 
 31 |     # Construct dataframe where first column is iteration number, second is iteration time
 32 |     header = _get_multi_stage_stats_header()
 33 |     df_stats = DataFrame(header .=>
 34 |         [iteration_count_a, times_a, upper_bounds_a, lower_bounds_a, realtive_gap_a])
 35 | 
 36 |     CSV.write(joinpath(outpath, filename), df_stats)
 37 |     return nothing
 38 | end
 39 | 
 40 | @doc raw"""
 41 |     create_multi_stage_stats_file(outpath::String)
 42 | 
 43 | Create an empty CSV file in the specified output directory with the filename `stats_multi_stage.csv`. 
 44 | The file contains the columns defined in `_get_multi_stage_stats_header()`.
 45 | The function first generates the filename and header using `_get_multi_stage_stats_filename()` and 
 46 | `_get_multi_stage_stats_header()` respectively. It then creates a DataFrame with column names as headers and 
 47 | writes it into a CSV file in the specified output directory.
 48 | 
 49 | # Arguments
 50 | - `outpath::String`: The output directory where the statistics file will be written.
 51 | 
 52 | # Returns
 53 | - Nothing. A CSV file is written to the `outpath`.
 54 | """
 55 | function create_multi_stage_stats_file(outpath::String)
 56 |     filename = _get_multi_stage_stats_filename()
 57 |     header = _get_multi_stage_stats_header()
 58 |     df_stats = DataFrame([col_name => Float64[] for col_name in header])
 59 |     CSV.write(joinpath(outpath, filename), df_stats)
 60 | end
 61 | 
 62 | @doc raw"""
 63 |     update_multi_stage_stats_file(outpath::String, ic::Int64, upper_bound::Float64, lower_bound::Float64, iteration_time::Float64; new_row::Bool=false)
 64 | 
 65 | Update a multi-stage statistics file.
 66 | 
 67 | # Arguments
 68 | - `outpath::String`: The output directory where the statistics file will be written.
 69 | - `ic::Int64`: The iteration count.
 70 | - `upper_bound::Float64`: The upper bound value.
 71 | - `lower_bound::Float64`: The lower bound value.
 72 | - `iteration_time::Float64`: The iteration time value.
 73 | - `new_row::Bool=false`: Optional argument to determine whether to append a new row (if true) or update the current row (if false).
 74 | 
 75 | The function first checks if the file exists. If it does not, it creates a new one. 
 76 | Then, it reads the statistics from the existing file into a DataFrame. 
 77 | It calculates the relative gap based on the upper and lower bounds, and either appends a new row or updates the current row based on the `new_row` argument. 
 78 | Finally, it writes the updated DataFrame back to the file.
 79 | 
 80 | # Returns
 81 | - Nothing. A CSV file is updated or created at the `outpath`.
 82 | """
 83 | function update_multi_stage_stats_file(outpath::String, ic::Int64, upper_bound::Float64,
 84 |         lower_bound::Float64, iteration_time::Float64; new_row::Bool = false)
 85 |     filename = _get_multi_stage_stats_filename()
 86 | 
 87 |     # If the file does not exist, create it
 88 |     if !isfile(joinpath(outpath, filename))
 89 |         create_multi_stage_stats_file(outpath)
 90 |     end
 91 | 
 92 |     df_stats = CSV.read(joinpath(outpath, filename), DataFrame, types = Float64)
 93 | 
 94 |     relative_gap = (upper_bound - lower_bound) / lower_bound
 95 | 
 96 |     new_values = [ic, iteration_time, upper_bound, lower_bound, relative_gap]
 97 | 
 98 |     # If new_row is true, append the new values to the end of the dataframe
 99 |     # otherwise, update the row at index ic
100 |     new_row ? push!(df_stats, new_values) : (df_stats[ic, :] = new_values)
101 | 
102 |     CSV.write(joinpath(outpath, filename), df_stats)
103 |     return nothing
104 | end
105 | 


--------------------------------------------------------------------------------
/src/startup/genx_startup.jl:
--------------------------------------------------------------------------------
 1 | function print_genx_version()
 2 |     v = pkgversion(GenX)
 3 |     ascii_art = raw"""
 4 |      ____           __  __   _ _
 5 |     / ___| ___ _ __ \ \/ /  (_) |
 6 |    | |  _ / _ \ '_ \ \  /   | | |
 7 |    | |_| |  __/ | | |/  \ _ | | |
 8 |     \____|\___|_| |_/_/\_(_)/ |_|
 9 |                           |__/
10 |     """
11 |     ascii_art *= "Version: $(v)"
12 |     println(ascii_art)
13 |     return nothing
14 | end
15 | 
16 | # This function is a workaround for Julia versions < 1.9.
17 | function pkgversion(m::Module)
18 |     if VERSION >= v"1.9"
19 |         return Base.pkgversion(m)
20 |     else
21 |         _pkgdir = pkgdir(m)
22 |         _pkgdir === nothing && return nothing
23 |         project_file = joinpath(_pkgdir, "Project.toml")
24 |         isa(project_file, String) && return get_project_version(project_file)
25 |         return nothing
26 |     end
27 | end
28 | 
29 | function get_project_version(project_file::String)
30 |     d = Base.parsed_toml(project_file)
31 |     v = get(d, "version", nothing)
32 |     isnothing(v) && return nothing
33 |     return VersionNumber(v::AbstractString)
34 | end
35 | 
36 | """
37 |     precompile()
38 | 
39 | Precompiles the functions `run_genx_case!` and `cluster_inputs` with specific 
40 | arguments. This function is intended to speed up the first use of GenX in a 
41 | new Julia session by precompiling it. 
42 | 
43 | The function redirects standard output to `devnull` to suppress any output 
44 | generated during the precompilation process, and sets up a logger to capture 
45 | any warnings or errors.
46 | 
47 | # Output
48 | Returns `nothing`.
49 | 
50 | """
51 | function _precompile()
52 |     @info "Running precompile script for GenX. This may take a few minutes."
53 |     @info "If you want to skip this step, please set the environment variable " *
54 |         "`GENX_PRECOMPILE` to `false` before running `using GenX`. \n" *
55 |         "Example: `ENV[\"GENX_PRECOMPILE\"] = \"false\"`."
56 |     redirect_stdout(devnull) do
57 |         warnerror_logger = ConsoleLogger(stderr, Logging.Warn)
58 |         with_logger(warnerror_logger) do
59 |             @compile_workload begin
60 |                 case = joinpath(pkgdir(GenX), "precompile/case")
61 |                 _precompile_tdr(case)   # Precompile TDR
62 |                 run_genx_case!(case, HiGHS.Optimizer)   # Precompile run_genx_case!
63 |             end
64 |         end
65 |     end
66 |     isdir("precompile/case/results") &&
67 |         rm("precompile/case/results"; force = true, recursive = true)   # Clean up
68 |     return nothing
69 | end
70 | 
71 | function _precompile_tdr(case)
72 |     settings_path = get_settings_path(case)
73 |     setup = configure_settings(get_settings_path(case, "genx_settings.yml"),
74 |         get_settings_path(case, "output_settings.yml"))
75 |     setup["TimeDomainReduction"] = 1    # Enable TDR for precompilation
76 |     cluster_inputs(case, settings_path, setup)
77 |     isdir("precompile/case/TDR_results") &&
78 |         rm("precompile/case/TDR_results"; force = true, recursive = true)   # Clean up
79 |     return nothing
80 | end
81 | 
82 | # Precompile `run_genx_case!` and `TDR` unless the environment variable `GENX_PRECOMPILE` is set to `false`
83 | if get(ENV, "GENX_PRECOMPILE", "true") != "false"
84 |     _precompile()
85 | end
86 | 


--------------------------------------------------------------------------------
/src/time_domain_reduction/full_time_series_reconstruction.jl:
--------------------------------------------------------------------------------
 1 | """
 2 |     full_time_series_reconstruction(path::AbstractString, setup::Dict, DF::DataFrame)
 3 | 
 4 | Internal function for performing the reconstruction. This function returns a DataFrame with the full series reconstruction. 
 5 | 
 6 | # Arguments
 7 | - `path` (AbstractString): Path input to the results folder
 8 | - `setup` (Dict): Case setup
 9 | - `DF` (DataFrame): DataFrame to be reconstructed
10 | 
11 | # Returns
12 | - `reconDF` (DataFrame): DataFrame with the full series reconstruction
13 | """
14 | function full_time_series_reconstruction(
15 |         path::AbstractString, setup::Dict, DF::DataFrame)
16 |     if setup["MultiStage"] == 1
17 |         dirs = splitpath(path)
18 |         case = joinpath(dirs[.!occursin.("result", dirs)])  # Get the case folder without the "results" folder(s)
19 |         cur_stage = setup["MultiStageSettingsDict"]["CurStage"]
20 |         TDRpath = joinpath(case, "inputs", string("inputs_p", cur_stage),
21 |             setup["TimeDomainReductionFolder"])
22 |     else
23 |         case = dirname(path)
24 |         TDRpath = joinpath(case, setup["TimeDomainReductionFolder"])
25 |     end
26 |     # Read Period map file Period_map.csv
27 |     Period_map = CSV.read(joinpath(TDRpath, "Period_map.csv"), DataFrame)
28 | 
29 |     # Read time domain reduction settings file time_domain_reduction_settings.yml
30 |     myTDRsetup = YAML.load(open(joinpath(
31 |         case, "settings/time_domain_reduction_settings.yml")))
32 | 
33 |     # Define Timesteps per Representative Period and Weight Total
34 |     TimestepsPerRepPeriod = myTDRsetup["TimestepsPerRepPeriod"]
35 |     WeightTotal = myTDRsetup["WeightTotal"]
36 |     # Calculate the number of total periods the original time series was split into (will usually be 52)
37 |     numPeriods = floor(Int, WeightTotal / TimestepsPerRepPeriod)
38 | 
39 |     # Get a matrix of the input DataFrame
40 |     DFMatrix = Matrix(DF)
41 |     # Initialize an array to add the reconstructed data to
42 |     recon = ["t$t" for t in 1:(TimestepsPerRepPeriod * numPeriods)]
43 | 
44 |     # Find the index of the row with the first time step
45 |     t1 = findfirst(x -> x == "t1", DF[!, 1])
46 | 
47 |     # Reconstruction of all hours of the year from TDR
48 |     for j in range(2, ncol(DF))
49 |         col = DF[t1:end, j]
50 |         recon_col = []
51 |         for i in range(1, numPeriods)
52 |             index = Period_map[i, "Rep_Period_Index"]
53 |             recon_temp = col[(TimestepsPerRepPeriod * index - (TimestepsPerRepPeriod - 1)):(TimestepsPerRepPeriod * index)]
54 |             recon_col = [recon_col; recon_temp]
55 |         end
56 |         recon = [recon recon_col]
57 |     end
58 |     reconDF = DataFrame(recon, :auto)
59 | 
60 |     # Insert rows that were above "t1" in the original DataFrame (e.g. "Zone" and "AnnualSum") if present
61 |     for i in range(1, t1 - 1)
62 |         insert!(reconDF, i, DFMatrix[i, 1:end], promote = true)
63 |     end
64 | 
65 |     # Repeat the last rows of the year to fill in the gap (should be 24 hours for non-leap year)
66 |     end_diff = WeightTotal - nrow(reconDF) + 1
67 |     new_rows = reconDF[(nrow(reconDF) - end_diff):nrow(reconDF), 1:end]
68 |     new_rows[!, 1] = ["t$t" for t in (WeightTotal - end_diff):WeightTotal]
69 |     reconDF = [reconDF; new_rows]
70 |     return reconDF
71 | end
72 | 


--------------------------------------------------------------------------------
/src/time_domain_reduction/precluster.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""Run the GenX time domain reduction on the given case folder
 2 | 
 3 | case - folder for the case
 4 | stage_id - possibly something to do with MultiStage
 5 | verbose - print extra outputs
 6 | 
 7 | This function overwrites the time-domain-reduced inputs if they already exist.
 8 | 
 9 | """
10 | function run_timedomainreduction!(case::AbstractString)
11 |     settings_path = get_settings_path(case) #Settings YAML file path
12 |     genx_settings = get_settings_path(case, "genx_settings.yml") #Settings YAML file path
13 |     mysetup = configure_settings(genx_settings) # mysetup dictionary stores settings and GenX-specific parameters
14 | 
15 |     if mysetup["MultiStage"] == 0
16 |         cluster_inputs(case, settings_path, mysetup)
17 |     elseif mysetup["MultiStage"] == 1
18 |         run_timedomainreduction_multistage!(case)
19 |     else
20 |         error("Unexpected value for key 'MultiStage' in genx_settings.yml. Expected either 0 or 1.")
21 |     end
22 | 
23 |     return
24 | end
25 | 
26 | function run_timedomainreduction_multistage!(case::AbstractString)
27 |     # special multistage version
28 |     settings_path = get_settings_path(case)
29 |     genx_settings = get_settings_path(case, "genx_settings.yml")
30 |     mysetup = configure_settings(genx_settings)
31 |     multistage_settings = get_settings_path(case, "multi_stage_settings.yml")
32 | 
33 |     mysetup["MultiStageSettingsDict"] = configure_settings_multistage(multistage_settings)
34 | 
35 |     tdr_settings = get_settings_path(case, "time_domain_reduction_settings.yml")
36 |     TDRSettingsDict = YAML.load(open(tdr_settings))
37 |     if TDRSettingsDict["MultiStageConcatenate"] == 0
38 |         println("Clustering Time Series Data (Individually)...")
39 |         for stage_id in 1:mysetup["MultiStageSettingsDict"]["NumStages"]
40 |             cluster_inputs(case, settings_path, mysetup, stage_id)
41 |         end
42 |     else
43 |         println("Clustering Time Series Data (Grouped)...")
44 |         cluster_inputs(case, settings_path, mysetup)
45 |     end
46 | 
47 |     return
48 | end
49 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/effective_capacity.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     thermal_plant_effective_capacity(EP::Model,
 3 |                                      inputs::Dict,
 4 |                                      resources::Vector{Int},
 5 |                                      capres_zone::Int,
 6 |                                      timesteps::Vector{Int})::Matrix{Float64})
 7 | 
 8 | Effective capacity in a capacity reserve margin zone for certain resources in the given timesteps.
 9 | """
10 | function thermal_plant_effective_capacity(EP,
11 |         inputs,
12 |         resources::Vector{Int},
13 |         capres_zone::Int,
14 |         timesteps::Vector{Int})::Matrix{Float64}
15 |     eff_cap = thermal_plant_effective_capacity.(Ref(EP),
16 |         Ref(inputs),
17 |         resources,
18 |         Ref(capres_zone),
19 |         Ref(timesteps))
20 |     return reduce(hcat, eff_cap)
21 | end
22 | 
23 | function thermal_plant_effective_capacity(EP::Model, inputs::Dict, y, capres_zone::Int)
24 |     T = inputs["T"]
25 |     timesteps = collect(1:T)
26 |     return thermal_plant_effective_capacity(EP, inputs, y, capres_zone, timesteps)
27 | end
28 | 
29 | function thermal_plant_effective_capacity(EP::Model,
30 |         inputs::Dict,
31 |         r_id::Int,
32 |         capres_zone::Int,
33 |         timesteps::Vector{Int})::Vector{Float64}
34 |     y = r_id
35 |     gen = inputs["RESOURCES"]
36 |     capresfactor = derating_factor(gen[y], tag = capres_zone)
37 |     eTotalCap = value.(EP[:eTotalCap][y])
38 | 
39 |     effective_capacity = fill(capresfactor * eTotalCap, length(timesteps))
40 | 
41 |     if has_maintenance(inputs) && y in ids_with_maintenance(gen)
42 |         adjustment = thermal_maintenance_capacity_reserve_margin_adjustment(EP,
43 |             inputs,
44 |             y,
45 |             capres_zone,
46 |             timesteps)
47 |         effective_capacity = effective_capacity .+ value.(adjustment)
48 |     end
49 | 
50 |     if y in ids_with(gen, :fusion)
51 |         resource_component = resource_name(gen[y])
52 |         adjustment = thermal_fusion_capacity_reserve_margin_adjustment(
53 |             EP, inputs, resource_component, y, capres_zone, timesteps)
54 |         effective_capacity = effective_capacity .+ value.(adjustment)
55 |     end
56 | 
57 |     return effective_capacity
58 | end
59 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_capacity_value.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 |     write_capacity_value(path::AbstractString,
  3 |                          inputs::Dict,
  4 |                          setup::Dict,
  5 |                          EP::Model)
  6 | 
  7 | This is the value of the derated capacities of different types of resources multiplied by the power generated by each of them 
  8 | 
  9 | # Arguments
 10 | - path::AbstractString: Path to the directory where the file will be written.
 11 | - inputs::Dict: Dictionary of input data.
 12 | - setup::Dict: Dictionary of setup data.
 13 | - EP::Model: EnergyModel object.
 14 | 
 15 | # Results
 16 | - A CSV file named "CapacityValue.csv" is written to the directory specified by `path`.
 17 | """
 18 | function write_capacity_value(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 19 |     gen = inputs["RESOURCES"]
 20 |     zones = zone_id.(gen)
 21 | 
 22 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 23 |     T = inputs["T"]     # Number of time steps (hours)
 24 |     THERM_ALL = inputs["THERM_ALL"]
 25 |     VRE = inputs["VRE"]
 26 |     HYDRO_RES = inputs["HYDRO_RES"]
 27 |     STOR_ALL = inputs["STOR_ALL"]
 28 |     FLEX = inputs["FLEX"]
 29 |     MUST_RUN = inputs["MUST_RUN"]
 30 |     VRE_STOR = inputs["VRE_STOR"]
 31 | 
 32 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 33 |     eTotalCap = value.(EP[:eTotalCap])
 34 | 
 35 |     minimum_plant_size = 1 # MW
 36 |     large_plants = findall(>=(minimum_plant_size), eTotalCap * scale_factor)
 37 | 
 38 |     THERM_ALL_EX = intersect(THERM_ALL, large_plants)
 39 |     VRE_EX = intersect(VRE, large_plants)
 40 |     HYDRO_RES_EX = intersect(HYDRO_RES, large_plants)
 41 |     STOR_ALL_EX = intersect(STOR_ALL, large_plants)
 42 |     FLEX_EX = intersect(FLEX, large_plants)
 43 |     MUST_RUN_EX = intersect(MUST_RUN, large_plants)
 44 |     # Will only be activated if grid connection capacity exists (because may build standalone storage/VRE, which will only be telling by grid connection capacity)
 45 |     VRE_STOR_EX = intersect(VRE_STOR, large_plants)
 46 |     if !isempty(VRE_STOR_EX)
 47 |         DC_DISCHARGE = inputs["VS_STOR_DC_DISCHARGE"]
 48 |         DC_CHARGE = inputs["VS_STOR_DC_CHARGE"]
 49 |         VRE_STOR_STOR_EX = intersect(inputs["VS_STOR"], VRE_STOR_EX)
 50 |         DC_DISCHARGE_EX = intersect(DC_DISCHARGE, VRE_STOR_EX)
 51 |         AC_DISCHARGE_EX = intersect(inputs["VS_STOR_AC_DISCHARGE"], VRE_STOR_EX)
 52 |         DC_CHARGE_EX = intersect(DC_CHARGE, VRE_STOR_EX)
 53 |         AC_CHARGE_EX = intersect(inputs["VS_STOR_AC_CHARGE"], VRE_STOR_EX)
 54 |     end
 55 | 
 56 |     crm_derate(i, y::Vector{Int}) = derating_factor.(gen[y], tag = i)'
 57 |     max_power(t::Vector{Int}, y::Vector{Int}) = inputs["pP_Max"][y, t]'
 58 |     total_cap(y::Vector{Int}) = eTotalCap[y]'
 59 | 
 60 |     dfCapValue = DataFrame()
 61 |     for i in 1:inputs["NCapacityReserveMargin"]
 62 |         capvalue = zeros(T, G)
 63 | 
 64 |         minimum_crm_price = 1 # $/MW
 65 |         riskyhour = findall(>=(minimum_crm_price),
 66 |             capacity_reserve_margin_price(EP, inputs, setup, i))
 67 | 
 68 |         power(y::Vector{Int}) = value.(EP[:vP][y, riskyhour])'
 69 | 
 70 |         capvalue[riskyhour, THERM_ALL_EX] = thermal_plant_effective_capacity(EP,
 71 |             inputs,
 72 |             THERM_ALL_EX,
 73 |             i,
 74 |             riskyhour) ./ total_cap(THERM_ALL_EX)
 75 | 
 76 |         capvalue[riskyhour, VRE_EX] = crm_derate(i, VRE_EX) .* max_power(riskyhour, VRE_EX)
 77 | 
 78 |         capvalue[riskyhour, MUST_RUN_EX] = crm_derate(i, MUST_RUN_EX) .*
 79 |                                            max_power(riskyhour, MUST_RUN_EX)
 80 | 
 81 |         capvalue[riskyhour, HYDRO_RES_EX] = crm_derate(i, HYDRO_RES_EX) .*
 82 |                                             power(HYDRO_RES_EX) ./ total_cap(HYDRO_RES_EX)
 83 | 
 84 |         if !isempty(STOR_ALL_EX)
 85 |             charge = value.(EP[:vCHARGE][STOR_ALL_EX, riskyhour].data)'
 86 |             capres_discharge = value.(EP[:vCAPRES_discharge][STOR_ALL_EX, riskyhour].data)'
 87 |             capres_charge = value.(EP[:vCAPRES_charge][STOR_ALL_EX, riskyhour].data)'
 88 | 
 89 |             capvalue[riskyhour, STOR_ALL_EX] = crm_derate(i, STOR_ALL_EX) .*
 90 |                                                (power(STOR_ALL_EX) - charge +
 91 |                                                 capres_discharge - capres_charge) ./
 92 |                                                total_cap(STOR_ALL_EX)
 93 |         end
 94 | 
 95 |         if !isempty(FLEX_EX)
 96 |             charge = value.(EP[:vCHARGE_FLEX][FLEX_EX, riskyhour].data)'
 97 |             capvalue[riskyhour, FLEX_EX] = crm_derate(i, FLEX_EX) .*
 98 |                                            (charge - power(FLEX_EX)) ./ total_cap(FLEX_EX)
 99 |         end
100 |         if !isempty(VRE_STOR_EX)
101 |             capres_dc_discharge = value.(EP[:vCAPRES_DC_DISCHARGE][DC_DISCHARGE,
102 |                 riskyhour].data)'
103 |             discharge_eff = etainverter.(gen[storage_dc_discharge(gen)])'
104 |             capvalue_dc_discharge = zeros(T, G)
105 |             capvalue_dc_discharge[riskyhour, DC_DISCHARGE] = capres_dc_discharge .*
106 |                                                              discharge_eff
107 | 
108 |             capres_dc_charge = value.(EP[:vCAPRES_DC_CHARGE][DC_CHARGE, riskyhour].data)'
109 |             charge_eff = etainverter.(gen[storage_dc_charge(gen)])'
110 |             capvalue_dc_charge = zeros(T, G)
111 |             capvalue_dc_charge[riskyhour, DC_CHARGE] = capres_dc_charge ./ charge_eff
112 | 
113 |             capvalue[riskyhour, VRE_STOR_EX] = crm_derate(i, VRE_STOR_EX) .*
114 |                                                power(VRE_STOR_EX) ./ total_cap(VRE_STOR_EX)
115 | 
116 |             charge_vre_stor = value.(EP[:vCHARGE_VRE_STOR][VRE_STOR_STOR_EX,
117 |                 riskyhour].data)'
118 |             capvalue[riskyhour, VRE_STOR_STOR_EX] -= crm_derate(i, VRE_STOR_STOR_EX) .*
119 |                                                      charge_vre_stor ./
120 |                                                      total_cap(VRE_STOR_STOR_EX)
121 | 
122 |             capvalue[riskyhour, DC_DISCHARGE_EX] += crm_derate(i, DC_DISCHARGE_EX) .*
123 |                                                     capvalue_dc_discharge[riskyhour,
124 |                 DC_DISCHARGE_EX] ./ total_cap(DC_DISCHARGE_EX)
125 |             capres_ac_discharge = value.(EP[:vCAPRES_AC_DISCHARGE][AC_DISCHARGE_EX,
126 |                 riskyhour].data)'
127 |             capvalue[riskyhour, AC_DISCHARGE_EX] += crm_derate(i, AC_DISCHARGE_EX) .*
128 |                                                     capres_ac_discharge ./
129 |                                                     total_cap(AC_DISCHARGE_EX)
130 | 
131 |             capvalue[riskyhour, DC_CHARGE_EX] -= crm_derate(i, DC_CHARGE_EX) .*
132 |                                                  capvalue_dc_charge[riskyhour,
133 |                 DC_CHARGE_EX] ./ total_cap(DC_CHARGE_EX)
134 |             capres_ac_charge = value.(EP[:vCAPRES_AC_CHARGE][AC_CHARGE_EX, riskyhour].data)'
135 |             capvalue[riskyhour, AC_CHARGE_EX] -= crm_derate(i, AC_CHARGE_EX) .*
136 |                                                  capres_ac_charge ./ total_cap(AC_CHARGE_EX)
137 |         end
138 |         capvalue = collect(transpose(capvalue))
139 |         temp_dfCapValue = DataFrame(Resource = inputs["RESOURCE_NAMES"],
140 |             Zone = zones,
141 |             Reserve = fill(Symbol("CapRes_$i"), G))
142 |         temp_dfCapValue = hcat(temp_dfCapValue, DataFrame(capvalue, :auto))
143 |         auxNew_Names = [Symbol("Resource");
144 |                         Symbol("Zone");
145 |                         Symbol("Reserve");
146 |                         [Symbol("t$t") for t in 1:T]]
147 |         rename!(temp_dfCapValue, auxNew_Names)
148 |         append!(dfCapValue, temp_dfCapValue)
149 |     end
150 |     write_simple_csv(joinpath(path, "CapacityValue.csv"), dfCapValue)
151 | end
152 | 
153 | @doc raw"""
154 |     capacity_reserve_margin_price(EP::Model,
155 |                                   inputs::Dict,
156 |                                   setup::Dict,
157 |                                   capres_zone::Int)::Vector{Float64}
158 | 
159 | Marginal price for capacity constraint.
160 | This is equal to the dual variable of the capacity constraint.
161 | Returns a vector, with units of $/MW
162 | """
163 | function capacity_reserve_margin_price(EP::Model,
164 |         inputs::Dict,
165 |         setup::Dict,
166 |         capres_zone::Int)::Vector{Float64}
167 |     Ï‰ = inputs["omega"]
168 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
169 |     return dual.(EP[:cCapacityResMargin][capres_zone, :]) ./ Ï‰ * scale_factor
170 | end
171 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_reserve_margin.jl:
--------------------------------------------------------------------------------
 1 | function write_reserve_margin(path::AbstractString, setup::Dict, EP::Model)
 2 |     temp_ResMar = dual.(EP[:cCapacityResMargin])
 3 |     if setup["ParameterScale"] == 1
 4 |         temp_ResMar = temp_ResMar * ModelScalingFactor # Convert from MillionUS$/GWh to US$/MWh
 5 |     end
 6 |     dfResMar = DataFrame(temp_ResMar, :auto)
 7 |     CSV.write(joinpath(path, "ReserveMargin.csv"), dfResMar)
 8 |     return nothing
 9 | end
10 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_reserve_margin_revenue.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_reserve_margin_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting the capacity revenue earned by each generator listed in the input file.
 5 |     GenX will print this file only when capacity reserve margin is modeled and the shadow price can be obtained form the solver.
 6 |     Each row corresponds to a generator, and each column starting from the 6th to the second last is the total revenue from each capacity reserve margin constraint.
 7 |     The revenue is calculated as the capacity contribution of each time steps multiplied by the shadow price, and then the sum is taken over all modeled time steps.
 8 |     The last column is the total revenue received from all capacity reserve margin constraints.
 9 |     As a reminder, GenX models the capacity reserve margin (aka capacity market) at the time-dependent level, and each constraint either stands for an overall market or a locality constraint.
10 | """
11 | function write_reserve_margin_revenue(path::AbstractString,
12 |         inputs::Dict,
13 |         setup::Dict,
14 |         EP::Model)
15 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
16 | 
17 |     gen = inputs["RESOURCES"]
18 |     regions = region.(gen)
19 |     clusters = cluster.(gen)
20 |     zones = zone_id.(gen)
21 | 
22 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
23 |     T = inputs["T"]     # Number of time steps (hours)
24 |     THERM_ALL = inputs["THERM_ALL"]
25 |     VRE = inputs["VRE"]
26 |     HYDRO_RES = inputs["HYDRO_RES"]
27 |     STOR_ALL = inputs["STOR_ALL"]
28 |     FLEX = inputs["FLEX"]
29 |     MUST_RUN = inputs["MUST_RUN"]
30 |     VRE_STOR = inputs["VRE_STOR"]
31 |     if !isempty(VRE_STOR)
32 |         VRE_STOR_STOR = inputs["VS_STOR"]
33 |         DC_DISCHARGE = inputs["VS_STOR_DC_DISCHARGE"]
34 |         AC_DISCHARGE = inputs["VS_STOR_AC_DISCHARGE"]
35 |         DC_CHARGE = inputs["VS_STOR_DC_CHARGE"]
36 |         AC_CHARGE = inputs["VS_STOR_AC_CHARGE"]
37 |     end
38 |     dfResRevenue = DataFrame(Region = regions,
39 |         Resource = inputs["RESOURCE_NAMES"],
40 |         Zone = zones,
41 |         Cluster = clusters)
42 |     annual_sum = zeros(G)
43 |     for i in 1:inputs["NCapacityReserveMargin"]
44 |         weighted_price = capacity_reserve_margin_price(EP, inputs, setup, i) .*
45 |                          inputs["omega"]
46 |         tempresrev = zeros(G)
47 |         tempresrev[THERM_ALL] = thermal_plant_effective_capacity(EP,
48 |             inputs,
49 |             THERM_ALL,
50 |             i)' * weighted_price
51 |         tempresrev[VRE] = derating_factor.(gen.Vre, tag = i) .*
52 |                           (value.(EP[:eTotalCap][VRE])) .*
53 |                           (inputs["pP_Max"][VRE, :] * weighted_price)
54 |         tempresrev[MUST_RUN] = derating_factor.(gen.MustRun, tag = i) .*
55 |                                (value.(EP[:eTotalCap][MUST_RUN])) .*
56 |                                (inputs["pP_Max"][MUST_RUN, :] * weighted_price)
57 |         tempresrev[HYDRO_RES] = derating_factor.(gen.Hydro, tag = i) .*
58 |                                 (value.(EP[:vP][HYDRO_RES, :]) * weighted_price)
59 |         if !isempty(STOR_ALL)
60 |             tempresrev[STOR_ALL] = derating_factor.(gen.Storage, tag = i) .*
61 |                                    ((value.(EP[:vP][STOR_ALL, :]) -
62 |                                      value.(EP[:vCHARGE][STOR_ALL, :]).data +
63 |                                      value.(EP[:vCAPRES_discharge][STOR_ALL, :]).data -
64 |                                      value.(EP[:vCAPRES_charge][STOR_ALL, :]).data) *
65 |                                     weighted_price)
66 |         end
67 |         if !isempty(FLEX)
68 |             tempresrev[FLEX] = derating_factor.(gen.FlexDemand, tag = i) .*
69 |                                ((value.(EP[:vCHARGE_FLEX][FLEX, :]).data -
70 |                                  value.(EP[:vP][FLEX, :])) * weighted_price)
71 |         end
72 |         if !isempty(VRE_STOR)
73 |             gen_VRE_STOR = gen.VreStorage
74 |             tempresrev[VRE_STOR] = derating_factor.(gen_VRE_STOR, tag = i) .*
75 |                                    ((value.(EP[:vP][VRE_STOR, :])) * weighted_price)
76 |             tempresrev[VRE_STOR_STOR] .-= derating_factor.(gen[VRE_STOR_STOR], tag = i) .* 
77 |                                             (value.(EP[:vCHARGE_VRE_STOR][VRE_STOR_STOR, :]).data * weighted_price)
78 |             tempresrev[DC_DISCHARGE] .+= derating_factor.(gen[DC_DISCHARGE], tag = i) .* 
79 |                                           ((value.(EP[:vCAPRES_DC_DISCHARGE][DC_DISCHARGE, :]).data .*
80 |                                            etainverter.(gen[DC_DISCHARGE])) * weighted_price)
81 |             tempresrev[AC_DISCHARGE] .+= derating_factor.(gen[AC_DISCHARGE], tag = i) .* 
82 |                                           ((value.(EP[:vCAPRES_AC_DISCHARGE][AC_DISCHARGE, :]).data) * weighted_price)
83 |             tempresrev[DC_CHARGE] .-= derating_factor.(gen[DC_CHARGE], tag = i) .* 
84 |                                           ((value.(EP[:vCAPRES_DC_CHARGE][DC_CHARGE, :]).data ./
85 |                                            etainverter.(gen[DC_CHARGE])) * weighted_price)
86 |             tempresrev[AC_CHARGE] .-= derating_factor.(gen[AC_CHARGE], tag = i) .* 
87 |                                           ((value.(EP[:vCAPRES_AC_CHARGE][AC_CHARGE, :]).data) * weighted_price)
88 |         end
89 |         tempresrev *= scale_factor
90 |         annual_sum .+= tempresrev
91 |         dfResRevenue = hcat(dfResRevenue, DataFrame([tempresrev], [Symbol("CapRes_$i")]))
92 |     end
93 |     dfResRevenue.AnnualSum = annual_sum
94 |     CSV.write(joinpath(path, "ReserveMarginRevenue.csv"), dfResRevenue)
95 |     return dfResRevenue
96 | end
97 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_reserve_margin_slack.jl:
--------------------------------------------------------------------------------
 1 | function write_reserve_margin_slack(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     NCRM = inputs["NCapacityReserveMargin"]
 6 |     T = inputs["T"]     # Number of time steps (hours)
 7 |     dfResMar_slack = DataFrame(CRM_Constraint = [Symbol("CapRes_$res") for res in 1:NCRM],
 8 |         AnnualSum = value.(EP[:eCapResSlack_Year]),
 9 |         Penalty = value.(EP[:eCCapResSlack]))
10 | 
11 |     if setup["ParameterScale"] == 1
12 |         dfResMar_slack.AnnualSum .*= ModelScalingFactor # Convert GW to MW
13 |         dfResMar_slack.Penalty .*= ModelScalingFactor^2 # Convert Million $ to $
14 |     end
15 | 
16 |     if setup["WriteOutputs"] == "annual"
17 |         CSV.write(joinpath(path, "ReserveMargin_prices_and_penalties.csv"), dfResMar_slack)
18 |     else     # setup["WriteOutputs"] == "full"
19 |         temp_ResMar_slack = value.(EP[:vCapResSlack])
20 |         if setup["ParameterScale"] == 1
21 |             temp_ResMar_slack .*= ModelScalingFactor # Convert GW to MW
22 |         end
23 |         dfResMar_slack = hcat(dfResMar_slack,
24 |             DataFrame(temp_ResMar_slack, [Symbol("t$t") for t in 1:T]))
25 |         CSV.write(joinpath(path, "ReserveMargin_prices_and_penalties.csv"),
26 |             dftranspose(dfResMar_slack, false),
27 |             writeheader = false)
28 |     end
29 |     return nothing
30 | end
31 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_reserve_margin_w.jl:
--------------------------------------------------------------------------------
 1 | function write_reserve_margin_w(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     T = inputs["T"]     # Number of time steps (hours)
 3 |     #dfResMar dataframe with weights included for calculations
 4 |     dfResMar_w = DataFrame(Constraint = [Symbol("t$t") for t in 1:T])
 5 |     temp_ResMar_w = transpose(dual.(EP[:cCapacityResMargin])) ./ inputs["omega"]
 6 |     if setup["ParameterScale"] == 1
 7 |         temp_ResMar_w = temp_ResMar_w * ModelScalingFactor # Convert from MillionUS$/GWh to US$/MWh
 8 |     end
 9 |     dfResMar_w = hcat(dfResMar_w, DataFrame(temp_ResMar_w, :auto))
10 |     auxNew_Names_res = [Symbol("Constraint");
11 |                         [Symbol("CapRes_$i") for i in 1:inputs["NCapacityReserveMargin"]]]
12 |     rename!(dfResMar_w, auxNew_Names_res)
13 |     CSV.write(joinpath(path, "ReserveMargin_w.csv"), dfResMar_w)
14 | end
15 | 


--------------------------------------------------------------------------------
/src/write_outputs/capacity_reserve_margin/write_virtual_discharge.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_virtual_discharge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for writing the "virtual" discharge of each storage technology. Virtual discharge is used to
 5 | 	allow storage resources to contribute to the capacity reserve margin without actually discharging.
 6 | """
 7 | function write_virtual_discharge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 8 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 9 |     T = inputs["T"]     # Number of time steps (hours)
10 |     STOR_ALL = inputs["STOR_ALL"]
11 | 
12 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
13 | 
14 |     resources = inputs["RESOURCE_NAMES"][STOR_ALL]
15 |     zones = inputs["R_ZONES"][STOR_ALL]
16 |     virtual_discharge = (value.(EP[:vCAPRES_discharge][STOR_ALL, :].data) -
17 |                          value.(EP[:vCAPRES_charge][STOR_ALL, :].data)) * scale_factor
18 | 
19 |     dfVirtualDischarge = DataFrame(Resource = resources, Zone = zones)
20 |     dfVirtualDischarge.AnnualSum .= virtual_discharge * inputs["omega"]
21 | 
22 |     filepath = joinpath(path, "virtual_discharge.csv")
23 |     if setup["WriteOutputs"] == "annual"
24 |         write_annual(filepath, dfVirtualDischarge)
25 |     else # setup["WriteOutputs"] == "full"
26 |         write_fulltimeseries(filepath, virtual_discharge, dfVirtualDischarge)
27 |     end
28 |     return nothing
29 | end
30 | 


--------------------------------------------------------------------------------
/src/write_outputs/choose_output_dir.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	choose_output_dir(pathinit)
 3 | 
 4 | Avoid overwriting (potentially important) existing results by appending to the directory name\n
 5 | Checks if the suggested output directory already exists. While yes, it appends _1, _2, etc till an unused name is found
 6 | """
 7 | function choose_output_dir(pathinit::String)
 8 |     path = pathinit
 9 |     counter = 1
10 |     while isdir(path)
11 |         path = string(pathinit, "_", counter)
12 |         counter += 1
13 |     end
14 |     return path
15 | end
16 | 


--------------------------------------------------------------------------------
/src/write_outputs/co2_cap/write_co2_cap.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_co2_cap(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting carbon price associated with carbon cap constraints.
 5 | 
 6 | """
 7 | function write_co2_cap(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 8 |     dfCO2Price = DataFrame(
 9 |         CO2_Cap = [Symbol("CO2_Cap_$cap") for cap in 1:inputs["NCO2Cap"]],
10 |         CO2_Price = (-1) * (dual.(EP[:cCO2Emissions_systemwide])))
11 |     if setup["ParameterScale"] == 1
12 |         dfCO2Price.CO2_Price .*= ModelScalingFactor # Convert Million$/kton to $/ton
13 |     end
14 |     if haskey(inputs, "dfCO2Cap_slack")
15 |         dfCO2Price[!, :CO2_Mass_Slack] = convert(Array{Float64}, value.(EP[:vCO2Cap_slack]))
16 |         dfCO2Price[!, :CO2_Penalty] = convert(Array{Float64}, value.(EP[:eCCO2Cap_slack]))
17 |         if setup["ParameterScale"] == 1
18 |             dfCO2Price.CO2_Mass_Slack .*= ModelScalingFactor # Convert ktons to tons
19 |             dfCO2Price.CO2_Penalty .*= ModelScalingFactor^2 # Convert Million$ to $
20 |         end
21 |     end
22 | 
23 |     CSV.write(joinpath(path, "CO2_prices_and_penalties.csv"), dfCO2Price)
24 | 
25 |     return nothing
26 | end
27 | 


--------------------------------------------------------------------------------
/src/write_outputs/dftranspose.jl:
--------------------------------------------------------------------------------
 1 | ################################################################################
 2 | ## function dftranspose(df)
 3 | ##
 4 | ## inputs: df - [DataFrame] a DataFrame object to be transposed
 5 | ## results t - [DataFrame] a transposed version of the df DataFrame.
 6 | ##		   withhead - [Boolean] if True, first column of df will become column
 7 | ##		   names for t. Otherwise, first column will first row and column names
 8 | ##		   will be generic (e.g. x1:xN)
 9 | ##
10 | ## Note this function is necessary because no stock function to transpose
11 | ## DataFrames appears to exist.
12 | ################################################################################
13 | @doc raw"""
14 |    df = dftranspose(df::DataFrame, withhead::Bool)
15 | 
16 | Returns a transpose of a Dataframe.
17 | """
18 | function dftranspose(df::DataFrame, withhead::Bool)
19 |     if withhead
20 |         colnames = cat(:Row, Symbol.(df[!, 1]), dims = 1)
21 |         return DataFrame([[names(df)]; collect.(eachrow(df))], colnames)
22 |     else
23 |         return DataFrame([[names(df)]; collect.(eachrow(df))],
24 |             [:Row; Symbol.("x", axes(df, 1))])
25 |     end
26 | end # End dftranpose()
27 | 


--------------------------------------------------------------------------------
/src/write_outputs/energy_share_requirement/write_esr_prices.jl:
--------------------------------------------------------------------------------
 1 | function write_esr_prices(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     dfESR = DataFrame(ESR_Price = convert(Array{Float64}, dual.(EP[:cESRShare])))
 3 |     if setup["ParameterScale"] == 1
 4 |         dfESR[!, :ESR_Price] = dfESR[!, :ESR_Price] * ModelScalingFactor # Converting MillionUS$/GWh to US$/MWh
 5 |     end
 6 | 
 7 |     if haskey(inputs, "dfESR_slack")
 8 |         dfESR[!, :ESR_AnnualSlack] = convert(Array{Float64}, value.(EP[:vESR_slack]))
 9 |         dfESR[!, :ESR_AnnualPenalty] = convert(Array{Float64}, value.(EP[:eCESRSlack]))
10 |         if setup["ParameterScale"] == 1
11 |             dfESR[!, :ESR_AnnualSlack] *= ModelScalingFactor # Converting GWh to MWh
12 |             dfESR[!, :ESR_AnnualPenalty] *= (ModelScalingFactor^2) # Converting MillionUSD to USD
13 |         end
14 |     end
15 |     CSV.write(joinpath(path, "ESR_prices_and_penalties.csv"), dfESR)
16 |     return dfESR
17 | end
18 | 


--------------------------------------------------------------------------------
/src/write_outputs/energy_share_requirement/write_esr_revenue.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 |     write_esr_revenue(path::AbstractString, inputs::Dict, setup::Dict, dfPower::DataFrame, dfESR::DataFrame, EP::Model)
 3 | 
 4 | Function for reporting the renewable/clean credit revenue earned by each generator listed in the input file. GenX will print this file only when RPS/CES is modeled and the shadow price can be obtained form the solver. Each row corresponds to a generator, and each column starting from the 6th to the second last is the total revenue earned from each RPS constraint. The revenue is calculated as the total annual generation (if elgible for the corresponding constraint) multiplied by the RPS/CES price. The last column is the total revenue received from all constraint. The unit is \$.
 5 | """
 6 | function write_esr_revenue(path::AbstractString,
 7 |         inputs::Dict,
 8 |         setup::Dict,
 9 |         dfPower::DataFrame,
10 |         dfESR::DataFrame,
11 |         EP::Model)
12 |     gen = inputs["RESOURCES"]
13 |     regions = region.(gen)
14 |     clusters = cluster.(gen)
15 |     zones = zone_id.(gen)
16 |     rid = resource_id.(gen)
17 | 
18 |     FUSION = ids_with(gen, :fusion)
19 |     dfESRRev = DataFrame(region = regions,
20 |         Resource = inputs["RESOURCE_NAMES"],
21 |         zone = zones,
22 |         Cluster = clusters,
23 |         R_ID = rid)
24 |     G = inputs["G"]
25 |     nESR = inputs["nESR"]
26 |     weight = inputs["omega"]
27 |     # Load VRE-storage inputs
28 |     VRE_STOR = inputs["VRE_STOR"]                                 # Set of VRE-STOR generators (indices)
29 | 
30 |     if !isempty(VRE_STOR)
31 |         gen_VRE_STOR = gen.VreStorage                                # Set of VRE-STOR generators (objects)
32 |         SOLAR = inputs["VS_SOLAR"]
33 |         WIND = inputs["VS_WIND"]
34 |         SOLAR_ONLY = setdiff(SOLAR, WIND)
35 |         WIND_ONLY = setdiff(WIND, SOLAR)
36 |         SOLAR_WIND = intersect(SOLAR, WIND)
37 |     end
38 | 
39 |     for i in 1:nESR
40 |         esr_col = Symbol("ESR_$i")
41 |         price = dfESR[i, :ESR_Price]
42 |         derated_annual_net_generation = dfPower[1:G, :AnnualSum] .* esr.(gen, tag = i)
43 |         derated_annual_net_generation[FUSION] .+= thermal_fusion_annual_parasitic_power(
44 |             EP, inputs, setup) .* esr.(gen[FUSION], tag = i)
45 |         revenue = derated_annual_net_generation * price
46 |         dfESRRev[!, esr_col] = revenue
47 | 
48 |         if !isempty(VRE_STOR)
49 |             if !isempty(SOLAR_ONLY)
50 |                 dfESRRev[SOLAR, esr_col] = (value.(EP[:vP_SOLAR][SOLAR, :]).data .*
51 |                                             etainverter.(gen[SOLAR]) * weight) .*
52 |                                             esr_vrestor.(gen[SOLAR], tag = i) * price
53 |             end
54 |             if !isempty(WIND_ONLY)
55 |                 dfESRRev[WIND, esr_col] = (value.(EP[:vP_WIND][WIND, :]).data * weight) .*
56 |                                             esr_vrestor.(gen[WIND], tag = i) * price
57 |             end
58 |             if !isempty(SOLAR_WIND)
59 |                 dfESRRev[SOLAR_WIND, esr_col] = (((value.(EP[:vP_WIND][SOLAR_WIND, :]).data * weight) .*
60 |                                                     esr_vrestor.(gen[SOLAR_WIND], tag = i) * price) +
61 |                                                     (value.(EP[:vP_SOLAR][SOLAR_WIND, :]).data .*
62 |                                                     etainverter.(gen[SOLAR_WIND]) * weight) .*
63 |                                                     esr_vrestor.(gen[SOLAR_WIND], tag = i) * price)
64 |             end
65 |         end
66 |     end
67 |     dfESRRev.Total = sum(eachcol(dfESRRev[:, 6:(nESR + 5)]))
68 |     CSV.write(joinpath(path, "ESR_Revenue.csv"), dfESRRev)
69 |     return dfESRRev
70 | end
71 | 


--------------------------------------------------------------------------------
/src/write_outputs/hydrogen/write_hourly_matching_prices.jl:
--------------------------------------------------------------------------------
 1 | function write_hourly_matching_prices(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     T = inputs["T"]     # Number of time steps (hours)
 6 |     Z = inputs["Z"]     # Number of zones
 7 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 8 | 
 9 |     ## Extract dual variables of constraints
10 |     dfHourlyMatchPrices = DataFrame(Zone = 1:Z) # The unit is $/MWh
11 |     # Dividing dual variable for each hour with corresponding hourly weight to retrieve marginal cost of the constraint
12 |     price = dual.(EP[:cHourlyMatching]) ./ inputs["omega"] * scale_factor
13 |     dfHourlyMatchPrices = hcat(dfHourlyMatchPrices,
14 |         DataFrame(transpose(price), :auto))
15 | 
16 |     auxNew_Names = [Symbol("Zone"); [Symbol("t$t") for t in 1:T]]
17 |     rename!(dfHourlyMatchPrices, auxNew_Names)
18 | 
19 |     CSV.write(joinpath(path, "hourly_matching_prices.csv"),
20 |         dftranspose(dfHourlyMatchPrices, false), writeheader = false)
21 | 
22 |     return nothing
23 | end
24 | 


--------------------------------------------------------------------------------
/src/write_outputs/hydrogen/write_hydrogen_prices.jl:
--------------------------------------------------------------------------------
 1 | function write_hydrogen_prices(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor^2 : 1  # If ParameterScale==1, costs are in millions of $
 3 | 
 4 |     NumberOfH2DemandReqs = inputs["NumberOfH2DemandReqs"]
 5 |     dfHydrogenPrice = DataFrame(
 6 |         H2_Demand = [Symbol("H2_Demand_$h2demand") for h2demand in 1:NumberOfH2DemandReqs],
 7 |         Hydrogen_Price_Per_Tonne = convert(
 8 |             Array{Float64}, dual.(EP[:cZoneH2DemandReq]) * scale_factor))
 9 |     CSV.write(joinpath(path, "hydrogen_prices.csv"), dfHydrogenPrice)
10 | 
11 |     return nothing
12 | end
13 | 


--------------------------------------------------------------------------------
/src/write_outputs/long_duration_storage/write_opwrap_lds_dstor.jl:
--------------------------------------------------------------------------------
 1 | function write_opwrap_lds_dstor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     ## Extract data frames from input dictionary
 3 |     gen = inputs["RESOURCES"]
 4 |     zones = zone_id.(gen)
 5 | 
 6 |     W = inputs["REP_PERIOD"]     # Number of subperiods
 7 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 8 | 
 9 |     #Excess inventory of storage period built up during representative period w
10 |     dfdStorage = DataFrame(Resource = inputs["RESOURCE_NAMES"], Zone = zones)
11 |     dsoc = zeros(G, W)
12 |     for i in 1:G
13 |         if i in inputs["STOR_LONG_DURATION"]
14 |             dsoc[i, :] = value.(EP[:vdSOC])[i, :]
15 |         end
16 |         if !isempty(inputs["VRE_STOR"])
17 |             if i in inputs["VS_LDS"]
18 |                 dsoc[i, :] = value.(EP[:vdSOC_VRE_STOR])[i, :]
19 |             end
20 |         end
21 |     end
22 |     if setup["ParameterScale"] == 1
23 |         dsoc *= ModelScalingFactor
24 |     end
25 | 
26 |     dfdStorage = hcat(dfdStorage, DataFrame(dsoc, :auto))
27 |     auxNew_Names = [Symbol("Resource"); Symbol("Zone"); [Symbol("w$t") for t in 1:W]]
28 |     rename!(dfdStorage, auxNew_Names)
29 |     CSV.write(joinpath(path, "dStorage.csv"),
30 |         dftranspose(dfdStorage, false),
31 |         header = false)
32 | end
33 | 


--------------------------------------------------------------------------------
/src/write_outputs/long_duration_storage/write_opwrap_lds_stor_init.jl:
--------------------------------------------------------------------------------
 1 | function write_opwrap_lds_stor_init(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     ## Extract data frames from input dictionary
 6 |     gen = inputs["RESOURCES"]
 7 |     zones = zone_id.(gen)
 8 | 
 9 |     G = inputs["G"]
10 | 
11 |     # Initial level of storage in each modeled period
12 |     NPeriods = size(inputs["Period_Map"])[1]
13 |     dfStorageInit = DataFrame(Resource = inputs["RESOURCE_NAMES"], Zone = zones)
14 |     socw = zeros(G, NPeriods)
15 |     for i in 1:G
16 |         if i in inputs["STOR_LONG_DURATION"]
17 |             socw[i, :] = value.(EP[:vSOCw])[i, :]
18 |         end
19 |         if !isempty(inputs["VRE_STOR"])
20 |             if i in inputs["VS_LDS"]
21 |                 socw[i, :] = value.(EP[:vSOCw_VRE_STOR][i, :])
22 |             end
23 |         end
24 |     end
25 |     if setup["ParameterScale"] == 1
26 |         socw *= ModelScalingFactor
27 |     end
28 | 
29 |     dfStorageInit = hcat(dfStorageInit, DataFrame(socw, :auto))
30 |     auxNew_Names = [Symbol("Resource"); Symbol("Zone"); [Symbol("n$t") for t in 1:NPeriods]]
31 |     rename!(dfStorageInit, auxNew_Names)
32 |     CSV.write(joinpath(path, "StorageInit.csv"),
33 |         dftranspose(dfStorageInit, false),
34 |         header = false)
35 | 
36 |     # Write storage evolution over full time horizon
37 |     hours_per_subperiod = inputs["hours_per_subperiod"];
38 |     t_interior = 2:hours_per_subperiod
39 |     T_hor = hours_per_subperiod*NPeriods # total number of time steps in time horizon
40 |     SOC_t = zeros(G, T_hor)
41 |     stor_long_duration = inputs["STOR_LONG_DURATION"]
42 |     stor_hydro_long_duration = inputs["STOR_HYDRO_LONG_DURATION"]
43 |     period_map = inputs["Period_Map"].Rep_Period_Index
44 |     pP_max = inputs["pP_Max"]
45 |     e_total_cap = value.(EP[:eTotalCap])
46 |     v_charge = value.(EP[:vCHARGE])
47 |     v_P = value.(EP[:vP])
48 |     if setup["ParameterScale"] == 1
49 |         v_charge *= ModelScalingFactor
50 |         v_P *= ModelScalingFactor
51 |     end
52 |     if !isempty(stor_hydro_long_duration)
53 |         v_spill = value.(EP[:vSPILL])
54 |     end
55 |     for r in 1:NPeriods
56 |         w = period_map[r]
57 |         t_r = hours_per_subperiod * (r - 1) + 1
58 |         t_start_w = hours_per_subperiod * (w - 1) + 1
59 |         t_interior = 2:hours_per_subperiod
60 | 
61 |         if !isempty(stor_long_duration)
62 |             SOC_t[stor_long_duration, t_r] = socw[stor_long_duration, r] .* (1 .- self_discharge.(gen[stor_long_duration])) .+ efficiency_up.(gen[stor_long_duration]) .* v_charge[stor_long_duration, t_start_w] .- 1 ./ efficiency_down.(gen[stor_long_duration]) .* v_P[stor_long_duration, t_start_w]
63 | 
64 |             for t_int in t_interior
65 |                 t = hours_per_subperiod * (w - 1) + t_int
66 |                 SOC_t[stor_long_duration, t_r + t_int - 1] = SOC_t[stor_long_duration, t_r + t_int - 2] .* (1 .- self_discharge.(gen[stor_long_duration])) .+ efficiency_up.(gen[stor_long_duration]) .* v_charge[stor_long_duration, t] .- 1 ./ efficiency_down.(gen[stor_long_duration]) .* v_P[stor_long_duration, t]
67 |             end
68 |         end
69 | 
70 |         if !isempty(stor_hydro_long_duration)
71 |             SOC_t[stor_hydro_long_duration, t_r] = socw[stor_hydro_long_duration, r] .- 1 ./ efficiency_down.(gen[stor_long_duration]) .* v_P[stor_hydro_long_duration, t_start_w] .- v_spill[stor_hydro_long_duration, t_start_w] .+ pP_max[stor_hydro_long_duration, t_start_w] .* e_total_cap[stor_hydro_long_duration]
72 | 
73 |             for t_int in t_interior
74 |                 t = hours_per_subperiod * (w - 1) + t_int
75 |                 SOC_t[stor_hydro_long_duration, t_r + t_int - 1] = SOC_t[stor_hydro_long_duration, t_r + t_int - 2] .- 1 ./ efficiency_down.(gen[stor_long_duration]) .* v_P[stor_hydro_long_duration, t] .- v_spill[stor_hydro_long_duration, t] .+ pP_max[stor_hydro_long_duration, t] .* e_total_cap[stor_hydro_long_duration]
76 |             end
77 |         end
78 |     end
79 |     df_SOC_t = DataFrame(Resource = inputs["RESOURCE_NAMES"], Zone = zones)
80 |     df_SOC_t = hcat(df_SOC_t, DataFrame(SOC_t, :auto))
81 |     auxNew_Names = [Symbol("Resource"); Symbol("Zone"); [Symbol("n$t") for t in 1:T_hor]]
82 |     rename!(df_SOC_t,auxNew_Names)
83 |     CSV.write(joinpath(path, "StorageEvol.csv"), dftranspose(df_SOC_t, false), writeheader=false)
84 | 
85 | end
86 | 


--------------------------------------------------------------------------------
/src/write_outputs/min_max_capacity_requirement/write_maximum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | function write_maximum_capacity_requirement(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     NumberOfMaxCapReqs = inputs["NumberOfMaxCapReqs"]
 6 |     dfMaxCapPrice = DataFrame(
 7 |         Constraint = [Symbol("MaxCapReq_$maxcap")
 8 |                       for maxcap in 1:NumberOfMaxCapReqs],
 9 |         Price = -dual.(EP[:cZoneMaxCapReq]))
10 | 
11 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
12 | 
13 |     dfMaxCapPrice.Price *= scale_factor
14 | 
15 |     if haskey(inputs, "MaxCapPriceCap")
16 |         dfMaxCapPrice[!, :Slack] = convert(Array{Float64}, value.(EP[:vMaxCap_slack]))
17 |         dfMaxCapPrice[!, :Penalty] = convert(Array{Float64}, value.(EP[:eCMaxCap_slack]))
18 |         dfMaxCapPrice.Slack *= scale_factor # Convert GW to MW
19 |         dfMaxCapPrice.Penalty *= scale_factor^2 # Convert Million $ to $
20 |     end
21 |     CSV.write(joinpath(path, "MaxCapReq_prices_and_penalties.csv"), dfMaxCapPrice)
22 | end
23 | 


--------------------------------------------------------------------------------
/src/write_outputs/min_max_capacity_requirement/write_minimum_capacity_requirement.jl:
--------------------------------------------------------------------------------
 1 | function write_minimum_capacity_requirement(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     NumberOfMinCapReqs = inputs["NumberOfMinCapReqs"]
 6 |     dfMinCapPrice = DataFrame(
 7 |         Constraint = [Symbol("MinCapReq_$mincap")
 8 |                       for mincap in 1:NumberOfMinCapReqs],
 9 |         Price = dual.(EP[:cZoneMinCapReq]))
10 | 
11 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
12 | 
13 |     dfMinCapPrice.Price *= scale_factor # Convert Million $/GW to $/MW
14 | 
15 |     if haskey(inputs, "MinCapPriceCap")
16 |         dfMinCapPrice[!, :Slack] = convert(Array{Float64}, value.(EP[:vMinCap_slack]))
17 |         dfMinCapPrice[!, :Penalty] = convert(Array{Float64}, value.(EP[:eCMinCap_slack]))
18 |         dfMinCapPrice.Slack *= scale_factor # Convert GW to MW
19 |         dfMinCapPrice.Penalty *= scale_factor^2 # Convert Million $ to $
20 |     end
21 |     CSV.write(joinpath(path, "MinCapReq_prices_and_penalties.csv"), dfMinCapPrice)
22 | end
23 | 


--------------------------------------------------------------------------------
/src/write_outputs/reserves/write_operating_reserve_price_revenue.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_operating_reserve_regulation_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting the operating reserve and regulation revenue earned by generators listed in the input file.
 5 |     GenX will print this file only when operating reserve and regulation are modeled and the shadow price can be obtained from the solver.
 6 |     The revenues are calculated as the operating reserve and regulation contributions in each time step multiplied by the corresponding shadow price, and then the sum is taken over all modeled time steps.
 7 |     The last column is the total revenue received from all operating reserve and regulation constraints.
 8 |     As a reminder, GenX models the operating reserve and regulation at the time-dependent level, and each constraint either stands for an overall market or a locality constraint.
 9 | """
10 | function write_operating_reserve_regulation_revenue(path::AbstractString,
11 |         inputs::Dict,
12 |         setup::Dict,
13 |         EP::Model)
14 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
15 | 
16 |     gen = inputs["RESOURCES"]
17 |     RSV = inputs["RSV"]
18 |     REG = inputs["REG"]
19 | 
20 |     regions = region.(gen)
21 |     clusters = cluster.(gen)
22 |     zones = zone_id.(gen)
23 |     names = inputs["RESOURCE_NAMES"]
24 | 
25 |     dfOpRsvRevenue = DataFrame(Region = regions[RSV],
26 |         Resource = names[RSV],
27 |         Zone = zones[RSV],
28 |         Cluster = clusters[RSV],
29 |         AnnualSum = Array{Float64}(undef, length(RSV)))
30 |     dfOpRegRevenue = DataFrame(Region = regions[REG],
31 |         Resource = names[REG],
32 |         Zone = zones[REG],
33 |         Cluster = clusters[REG],
34 |         AnnualSum = Array{Float64}(undef, length(REG)))
35 | 
36 |     weighted_reg_price = operating_regulation_price(EP, inputs, setup)
37 |     weighted_rsv_price = operating_reserve_price(EP, inputs, setup)
38 | 
39 |     rsvrevenue = value.(EP[:vRSV][RSV, :].data) .* transpose(weighted_rsv_price)
40 |     regrevenue = value.(EP[:vREG][REG, :].data) .* transpose(weighted_reg_price)
41 | 
42 |     rsvrevenue *= scale_factor
43 |     regrevenue *= scale_factor
44 | 
45 |     dfOpRsvRevenue.AnnualSum .= rsvrevenue * inputs["omega"]
46 |     dfOpRegRevenue.AnnualSum .= regrevenue * inputs["omega"]
47 | 
48 |     write_simple_csv(joinpath(path, "OperatingReserveRevenue.csv"), dfOpRsvRevenue)
49 |     write_simple_csv(joinpath(path, "OperatingRegulationRevenue.csv"), dfOpRegRevenue)
50 |     return dfOpRegRevenue, dfOpRsvRevenue
51 | end
52 | 
53 | @doc raw"""
54 |     operating_regulation_price(EP::Model,
55 |                                   inputs::Dict,
56 |                                   setup::Dict)::Vector{Float64}
57 | 
58 | Operating regulation price for each time step.
59 | This is equal to the dual variable of the regulation requirement constraint.
60 | 
61 |     Returns a vector, with units of $/MW
62 | """
63 | 
64 | function operating_regulation_price(EP::Model, inputs::Dict, setup::Dict)::Vector{Float64}
65 |     Ï‰ = inputs["omega"]
66 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
67 |     return dual.(EP[:cReg]) ./ Ï‰ * scale_factor
68 | end
69 | 
70 | @doc raw"""
71 |     operating_reserve_price(EP::Model,
72 |                                   inputs::Dict,
73 |                                   setup::Dict)::Vector{Float64}
74 | 
75 | Operating reserve price for each time step.
76 | This is equal to the dual variable of the reserve requirement constraint.
77 | 
78 |     Returns a vector, with units of $/MW
79 | """
80 | 
81 | function operating_reserve_price(EP::Model, inputs::Dict, setup::Dict)::Vector{Float64}
82 |     Ï‰ = inputs["omega"]
83 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
84 |     return dual.(EP[:cRsvReq]) ./ Ï‰ * scale_factor
85 | end
86 | 


--------------------------------------------------------------------------------
/src/write_outputs/reserves/write_reg.jl:
--------------------------------------------------------------------------------
 1 | function write_reg(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     REG = inputs["REG"]
 3 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 4 | 
 5 |     resources = inputs["RESOURCE_NAMES"][REG]
 6 |     zones = inputs["R_ZONES"][REG]
 7 |     # Regulation contributions for each resource in each time step
 8 |     reg = value.(EP[:vREG][REG, :].data) * scale_factor
 9 | 
10 |     dfReg = DataFrame(Resource = resources, Zone = zones)
11 |     dfReg.AnnualSum = reg * inputs["omega"]
12 | 
13 |     filepath = joinpath(path, "reg.csv")
14 |     if setup["WriteOutputs"] == "annual"
15 |         write_annual(filepath, dfReg)
16 |     else # setup["WriteOutputs"] == "full"
17 |         write_fulltimeseries(filepath, reg, dfReg)
18 |     end
19 |     return nothing
20 | end
21 | 


--------------------------------------------------------------------------------
/src/write_outputs/reserves/write_rsv.jl:
--------------------------------------------------------------------------------
 1 | function write_rsv(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     T = inputs["T"]     # Number of time steps (hours)
 3 |     RSV = inputs["RSV"]
 4 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 5 | 
 6 |     resources = inputs["RESOURCE_NAMES"][RSV]
 7 |     zones = inputs["R_ZONES"][RSV]
 8 |     rsv = value.(EP[:vRSV][RSV, :].data) * scale_factor
 9 | 
10 |     dfRsv = DataFrame(Resource = resources, Zone = zones)
11 | 
12 |     dfRsv.AnnualSum = rsv * inputs["omega"]
13 | 
14 |     if setup["WriteOutputs"] == "annual"
15 |         write_annual(joinpath(path, "reserves.csv"), dfRsv)
16 |     else # setup["WriteOutputs"] == "full"
17 |         unmet_vec = value.(EP[:vUNMET_RSV]) * scale_factor
18 |         total_unmet = sum(unmet_vec)
19 |         dfRsv = hcat(dfRsv, DataFrame(rsv, :auto))
20 |         auxNew_Names = [Symbol("Resource");
21 |                         Symbol("Zone");
22 |                         Symbol("AnnualSum");
23 |                         [Symbol("t$t") for t in 1:T]]
24 |         rename!(dfRsv, auxNew_Names)
25 | 
26 |         total = DataFrame(["Total" 0 sum(dfRsv.AnnualSum) zeros(1, T)], :auto)
27 |         unmet = DataFrame(["unmet" 0 total_unmet zeros(1, T)], :auto)
28 |         total[!, 4:(T + 3)] .= sum(rsv, dims = 1)
29 |         unmet[!, 4:(T + 3)] .= transpose(unmet_vec)
30 |         rename!(total, auxNew_Names)
31 |         rename!(unmet, auxNew_Names)
32 |         dfRsv = vcat(dfRsv, unmet, total)
33 |         CSV.write(joinpath(path, "reserves.csv"),
34 |             dftranspose(dfRsv, false),
35 |             writeheader = false)
36 |     end
37 | end
38 | 


--------------------------------------------------------------------------------
/src/write_outputs/transmission/write_nw_expansion.jl:
--------------------------------------------------------------------------------
 1 | function write_nw_expansion(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     L = inputs["L"]     # Number of transmission lines
 3 | 
 4 |     # Transmission network reinforcements
 5 |     transcap = zeros(L)
 6 |     for i in 1:L
 7 |         if i in inputs["EXPANSION_LINES"]
 8 |             transcap[i] = value.(EP[:vNEW_TRANS_CAP][i])
 9 |         end
10 |     end
11 | 
12 |     dfTransCap = DataFrame(Line = 1:L,
13 |         New_Trans_Capacity = convert(Array{Float64}, transcap),
14 |         Cost_Trans_Capacity = convert(Array{Float64},
15 |             transcap .* inputs["pC_Line_Reinforcement"]))
16 | 
17 |     if setup["ParameterScale"] == 1
18 |         dfTransCap.New_Trans_Capacity *= ModelScalingFactor  # GW to MW
19 |         dfTransCap.Cost_Trans_Capacity *= ModelScalingFactor^2  # MUSD to USD
20 |     end
21 | 
22 |     CSV.write(joinpath(path, "network_expansion.csv"), dfTransCap)
23 | end
24 | 


--------------------------------------------------------------------------------
/src/write_outputs/transmission/write_transmission_flows.jl:
--------------------------------------------------------------------------------
 1 | function write_transmission_flows(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     # Transmission related values
 6 |     T = inputs["T"]     # Number of time steps (hours)
 7 |     L = inputs["L"]     # Number of transmission lines
 8 |     # Power flows on transmission lines at each time step
 9 |     dfFlow = DataFrame(Line = 1:L)
10 |     flow = value.(EP[:vFLOW])
11 |     if setup["ParameterScale"] == 1
12 |         flow *= ModelScalingFactor
13 |     end
14 | 
15 |     filepath = joinpath(path, "flow.csv")
16 |     if setup["WriteOutputs"] == "annual"
17 |         dfFlow.AnnualSum = flow * inputs["omega"]
18 |         total = DataFrame(["Total" sum(dfFlow.AnnualSum)], [:Line, :AnnualSum])
19 |         dfFlow = vcat(dfFlow, total)
20 |         CSV.write(filepath, dfFlow)
21 |     else # setup["WriteOutputs"] == "full" 
22 |         dfFlow = hcat(dfFlow, DataFrame(flow, :auto))
23 |         auxNew_Names = [Symbol("Line"); [Symbol("t$t") for t in 1:T]]
24 |         rename!(dfFlow, auxNew_Names)
25 |         CSV.write(filepath, dftranspose(dfFlow, false), writeheader = false)
26 | 
27 |         if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
28 |             write_full_time_series_reconstruction(path, setup, dfFlow, "flow")
29 |             @info("Writing Full Time Series for Transmission Flows")
30 |         end
31 |     end
32 |     return nothing
33 | end
34 | 


--------------------------------------------------------------------------------
/src/write_outputs/transmission/write_transmission_losses.jl:
--------------------------------------------------------------------------------
 1 | function write_transmission_losses(path::AbstractString,
 2 |         inputs::Dict,
 3 |         setup::Dict,
 4 |         EP::Model)
 5 |     T = inputs["T"]     # Number of time steps (hours)
 6 |     L = inputs["L"]     # Number of transmission lines
 7 |     LOSS_LINES = inputs["LOSS_LINES"]
 8 |     # Power losses for transmission between zones at each time step
 9 |     dfTLosses = DataFrame(Line = 1:L)
10 |     tlosses = zeros(L, T)
11 |     tlosses[LOSS_LINES, :] = value.(EP[:vTLOSS][LOSS_LINES, :])
12 |     if setup["ParameterScale"] == 1
13 |         tlosses[LOSS_LINES, :] *= ModelScalingFactor
14 |     end
15 | 
16 |     dfTLosses.AnnualSum = tlosses * inputs["omega"]
17 | 
18 |     if setup["WriteOutputs"] == "annual"
19 |         total = DataFrame(["Total" sum(dfTLosses.AnnualSum)], [:Line, :AnnualSum])
20 |         dfTLosses = vcat(dfTLosses, total)
21 |         CSV.write(joinpath(path, "tlosses.csv"), dfTLosses)
22 |     else
23 |         dfTLosses = hcat(dfTLosses, DataFrame(tlosses, :auto))
24 |         auxNew_Names = [Symbol("Line"); Symbol("AnnualSum"); [Symbol("t$t") for t in 1:T]]
25 |         rename!(dfTLosses, auxNew_Names)
26 |         total = DataFrame(["Total" sum(dfTLosses.AnnualSum) fill(0.0, (1, T))],
27 |             auxNew_Names)
28 |         total[:, 3:(T + 2)] .= sum(tlosses, dims = 1)
29 |         dfTLosses = vcat(dfTLosses, total)
30 |         CSV.write(joinpath(path, "tlosses.csv"),
31 |             dftranspose(dfTLosses, false),
32 |             writeheader = false)
33 | 
34 |         if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
35 |             write_full_time_series_reconstruction(path, setup, dfTLosses, "tlosses")
36 |             @info("Writing Full Time Series for Time Losses")
37 |         end
38 |     end
39 |     return nothing
40 | end
41 | 


--------------------------------------------------------------------------------
/src/write_outputs/ucommit/write_ucommit.jl:
--------------------------------------------------------------------------------
 1 | function write_start(path, inputs, setup, EP)
 2 |     _write_ucommit_var(path, inputs, setup, EP, :vSTART, "start")
 3 | end
 4 | 
 5 | function write_commit(path, inputs, setup, EP)
 6 |     _write_ucommit_var(path, inputs, setup, EP, :vCOMMIT, "commit")
 7 | end
 8 | 
 9 | function write_shutdown(path, inputs, setup, EP)
10 |     _write_ucommit_var(path, inputs, setup, EP, :vSHUT, "shutdown")
11 | end
12 | 
13 | function _write_ucommit_var(path, inputs, setup, EP, var, filename)
14 |     COMMIT, data = _eval_ucommit_var(inputs, EP, var)
15 |     df_annual = _create_annualsum_df(inputs, COMMIT, data)
16 |     write_temporal_data(df_annual, data, path, setup, filename)
17 | end
18 | 
19 | function _eval_ucommit_var(inputs::Dict, EP::Model, var::Symbol)
20 |     COMMIT = inputs["COMMIT"]
21 |     data = value.(EP[var][COMMIT, :].data)
22 |     return COMMIT, data
23 | end
24 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_angles.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_angles(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting the bus angles for each model zone and time step if the DC_OPF flag is activated
 5 | """
 6 | function write_angles(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     T = inputs["T"]     # Number of time steps (hours)
 8 |     Z = inputs["Z"]     # Number of zones
 9 | 
10 |     dfAngles = DataFrame(Zone = 1:Z)
11 |     angles = value.(EP[:vANGLE])
12 |     dfAngles = hcat(dfAngles, DataFrame(angles, :auto))
13 | 
14 |     auxNew_Names = [Symbol("Zone"); [Symbol("t$t") for t in 1:T]]
15 |     rename!(dfAngles, auxNew_Names)
16 | 
17 |     ## Linear configuration final output
18 |     CSV.write(joinpath(path, "angles.csv"),
19 |         dftranspose(dfAngles, false),
20 |         writeheader = false)
21 |     return nothing
22 | end
23 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_capacity.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_capacity(path::AbstractString, inputs::Dict, setup::Dict, EP::Model))
  3 | 
  4 | Function for writing the diferent capacities for the different generation technologies (starting capacities or, existing capacities, retired capacities, and new-built capacities).
  5 | """
  6 | function write_capacity(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  7 |     gen = inputs["RESOURCES"]
  8 | 
  9 |     MultiStage = setup["MultiStage"]
 10 | 
 11 |     # Capacity decisions
 12 |     capdischarge = zeros(size(inputs["RESOURCE_NAMES"]))
 13 |     for i in inputs["NEW_CAP"]
 14 |         if i in inputs["COMMIT"]
 15 |             capdischarge[i] = value(EP[:vCAP][i]) * cap_size(gen[i])
 16 |         else
 17 |             capdischarge[i] = value(EP[:vCAP][i])
 18 |         end
 19 |     end
 20 | 
 21 |     retcapdischarge = zeros(size(inputs["RESOURCE_NAMES"]))
 22 |     for i in inputs["RET_CAP"]
 23 |         if i in inputs["COMMIT"]
 24 |             retcapdischarge[i] = first(value.(EP[:vRETCAP][i])) * cap_size(gen[i])
 25 |         else
 26 |             retcapdischarge[i] = first(value.(EP[:vRETCAP][i]))
 27 |         end
 28 |     end
 29 | 
 30 |     retrocapdischarge = zeros(size(inputs["RESOURCE_NAMES"]))
 31 |     for i in inputs["RETROFIT_CAP"]
 32 |         if i in inputs["COMMIT"]
 33 |             retrocapdischarge[i] = first(value.(EP[:vRETROFITCAP][i])) * cap_size(gen[i])
 34 |         else
 35 |             retrocapdischarge[i] = first(value.(EP[:vRETROFITCAP][i]))
 36 |         end
 37 |     end
 38 | 
 39 |     capacity_constraint_dual = zeros(size(inputs["RESOURCE_NAMES"]))
 40 |     for y in ids_with_positive(gen, max_cap_mw)
 41 |         capacity_constraint_dual[y] = -dual.(EP[:cMaxCap][y])
 42 |     end
 43 | 
 44 |     capcharge = zeros(size(inputs["RESOURCE_NAMES"]))
 45 |     retcapcharge = zeros(size(inputs["RESOURCE_NAMES"]))
 46 |     existingcapcharge = zeros(size(inputs["RESOURCE_NAMES"]))
 47 |     for i in inputs["STOR_ASYMMETRIC"]
 48 |         if i in inputs["NEW_CAP_CHARGE"]
 49 |             capcharge[i] = value(EP[:vCAPCHARGE][i])
 50 |         end
 51 |         if i in inputs["RET_CAP_CHARGE"]
 52 |             retcapcharge[i] = value(EP[:vRETCAPCHARGE][i])
 53 |         end
 54 |         existingcapcharge[i] = MultiStage == 1 ? value(EP[:vEXISTINGCAPCHARGE][i]) :
 55 |                                existing_charge_cap_mw(gen[i])
 56 |     end
 57 | 
 58 |     capenergy = zeros(size(inputs["RESOURCE_NAMES"]))
 59 |     retcapenergy = zeros(size(inputs["RESOURCE_NAMES"]))
 60 |     existingcapenergy = zeros(size(inputs["RESOURCE_NAMES"]))
 61 |     for i in inputs["STOR_ALL"]
 62 |         if i in inputs["NEW_CAP_ENERGY"]
 63 |             capenergy[i] = value(EP[:vCAPENERGY][i])
 64 |         end
 65 |         if i in inputs["RET_CAP_ENERGY"]
 66 |             retcapenergy[i] = value(EP[:vRETCAPENERGY][i])
 67 |         end
 68 |         existingcapenergy[i] = MultiStage == 1 ? value(EP[:vEXISTINGCAPENERGY][i]) :
 69 |                                existing_cap_mwh(gen[i])
 70 |     end
 71 |     if !isempty(inputs["VRE_STOR"])
 72 |         for i in inputs["VS_STOR"]
 73 |             if i in inputs["NEW_CAP_STOR"]
 74 |                 capenergy[i] = value(EP[:vCAPENERGY_VS][i])
 75 |             end
 76 |             if i in inputs["RET_CAP_STOR"]
 77 |                 retcapenergy[i] = value(EP[:vRETCAPENERGY_VS][i])
 78 |             end
 79 |             existingcapenergy[i] = existing_cap_mwh(gen[i]) # multistage functionality doesn't exist yet for VRE-storage resources
 80 |         end
 81 |     end
 82 |     dfCap = DataFrame(Resource = inputs["RESOURCE_NAMES"],
 83 |         Zone = zone_id.(gen),
 84 |         Retrofit_Id = retrofit_id.(gen),
 85 |         StartCap = MultiStage == 1 ? value.(EP[:vEXISTINGCAP]) : existing_cap_mw.(gen),
 86 |         RetCap = retcapdischarge[:],
 87 |         RetroCap = retrocapdischarge[:], #### Need to change later
 88 |         NewCap = capdischarge[:],
 89 |         EndCap = value.(EP[:eTotalCap]),
 90 |         CapacityConstraintDual = capacity_constraint_dual[:],
 91 |         StartEnergyCap = existingcapenergy[:],
 92 |         RetEnergyCap = retcapenergy[:],
 93 |         NewEnergyCap = capenergy[:],
 94 |         EndEnergyCap = existingcapenergy[:] - retcapenergy[:] + capenergy[:],
 95 |         StartChargeCap = existingcapcharge[:],
 96 |         RetChargeCap = retcapcharge[:],
 97 |         NewChargeCap = capcharge[:],
 98 |         EndChargeCap = existingcapcharge[:] - retcapcharge[:] + capcharge[:])
 99 |     if setup["ParameterScale"] == 1
100 |         dfCap.StartCap = dfCap.StartCap * ModelScalingFactor
101 |         dfCap.RetCap = dfCap.RetCap * ModelScalingFactor
102 |         dfCap.RetroCap = dfCap.RetroCap * ModelScalingFactor
103 |         dfCap.NewCap = dfCap.NewCap * ModelScalingFactor
104 |         dfCap.EndCap = dfCap.EndCap * ModelScalingFactor
105 |         dfCap.CapacityConstraintDual = dfCap.CapacityConstraintDual * ModelScalingFactor
106 |         dfCap.StartEnergyCap = dfCap.StartEnergyCap * ModelScalingFactor
107 |         dfCap.RetEnergyCap = dfCap.RetEnergyCap * ModelScalingFactor
108 |         dfCap.NewEnergyCap = dfCap.NewEnergyCap * ModelScalingFactor
109 |         dfCap.EndEnergyCap = dfCap.EndEnergyCap * ModelScalingFactor
110 |         dfCap.StartChargeCap = dfCap.StartChargeCap * ModelScalingFactor
111 |         dfCap.RetChargeCap = dfCap.RetChargeCap * ModelScalingFactor
112 |         dfCap.NewChargeCap = dfCap.NewChargeCap * ModelScalingFactor
113 |         dfCap.EndChargeCap = dfCap.EndChargeCap * ModelScalingFactor
114 |     end
115 |     total = DataFrame(Resource = "Total", Zone = "n/a", Retrofit_Id = "n/a",
116 |         StartCap = sum(dfCap[!, :StartCap]), RetCap = sum(dfCap[!, :RetCap]),
117 |         NewCap = sum(dfCap[!, :NewCap]), EndCap = sum(dfCap[!, :EndCap]),
118 |         RetroCap = sum(dfCap[!, :RetroCap]),
119 |         CapacityConstraintDual = "n/a",
120 |         StartEnergyCap = sum(dfCap[!, :StartEnergyCap]),
121 |         RetEnergyCap = sum(dfCap[!, :RetEnergyCap]),
122 |         NewEnergyCap = sum(dfCap[!, :NewEnergyCap]),
123 |         EndEnergyCap = sum(dfCap[!, :EndEnergyCap]),
124 |         StartChargeCap = sum(dfCap[!, :StartChargeCap]),
125 |         RetChargeCap = sum(dfCap[!, :RetChargeCap]),
126 |         NewChargeCap = sum(dfCap[!, :NewChargeCap]),
127 |         EndChargeCap = sum(dfCap[!, :EndChargeCap]))
128 | 
129 |     dfCap = vcat(dfCap, total)
130 |     CSV.write(joinpath(path, "capacity.csv"), dfCap)
131 |     return dfCap
132 | end
133 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_capacityfactor.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_capacityfactor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  3 | 
  4 | Function for writing the capacity factor of different resources. For co-located VRE-storage resources, this
  5 |     value is calculated if the site has either or both a solar PV or wind resource.
  6 | """
  7 | function write_capacityfactor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  8 |     gen = inputs["RESOURCES"]
  9 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
 10 |     T = inputs["T"]     # Number of time steps (hours)
 11 |     THERM_ALL = inputs["THERM_ALL"]
 12 |     VRE = inputs["VRE"]
 13 |     HYDRO_RES = inputs["HYDRO_RES"]
 14 |     MUST_RUN = inputs["MUST_RUN"]
 15 |     ELECTROLYZER = inputs["ELECTROLYZER"]
 16 |     VRE_STOR = inputs["VRE_STOR"]
 17 |     weight = inputs["omega"]
 18 | 
 19 |     df = DataFrame(Resource = inputs["RESOURCE_NAMES"],
 20 |         Zone = zone_id.(gen),
 21 |         AnnualSum = zeros(G),
 22 |         Capacity = zeros(G),
 23 |         CapacityFactor = zeros(G))
 24 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 25 |     df.AnnualSum .= value.(EP[:vP]) * weight * scale_factor
 26 |     df.Capacity .= value.(EP[:eTotalCap]) * scale_factor
 27 | 
 28 |     # The .data only works on DenseAxisArray variables or expressions
 29 |     # In contrast vP and eTotalCap are whole vectors / matrices
 30 |     energy_sum(sym, set) = value.(EP[sym][set, :]).data * weight * scale_factor
 31 |     capacity(sym, set) = value.(EP[sym][set]).data * scale_factor
 32 | 
 33 |     if !isempty(VRE_STOR)
 34 |         VS_SOLAR = inputs["VS_SOLAR"]
 35 |         VS_WIND = inputs["VS_WIND"]
 36 |         SOLAR = setdiff(VS_SOLAR, VS_WIND)
 37 |         WIND = setdiff(VS_WIND, VS_SOLAR)
 38 |         SOLAR_WIND = intersect(VS_SOLAR, VS_WIND)
 39 |         gen_VRE_STOR = gen.VreStorage
 40 |         if !isempty(SOLAR)
 41 |             df.AnnualSum[SOLAR] .= energy_sum(:vP_SOLAR, SOLAR)
 42 |             df.Capacity[SOLAR] .= capacity(:eTotalCap_SOLAR, SOLAR)
 43 |         end
 44 |         if !isempty(WIND)
 45 |             df.AnnualSum[WIND] .= energy_sum(:vP_WIND, WIND)
 46 |             df.Capacity[WIND] .= capacity(:eTotalCap_WIND, WIND)
 47 |         end
 48 |         if !isempty(SOLAR_WIND)
 49 |             inverter_efficiency = etainverter.(gen[SOLAR_WIND])
 50 |             df.AnnualSum[SOLAR_WIND] .= energy_sum(:vP_WIND, SOLAR_WIND) +
 51 |                                         energy_sum(:vP_SOLAR, SOLAR_WIND) .*
 52 |                                         inverter_efficiency
 53 | 
 54 |             df.Capacity[SOLAR_WIND] .= capacity(:eTotalCap_WIND, SOLAR_WIND) +
 55 |                                        capacity(
 56 |                 :eTotalCap_SOLAR, SOLAR_WIND) .* inverter_efficiency
 57 |         end
 58 |     end
 59 | 
 60 |     # We only calculate the resulting capacity factor with total capacity > 1MW and total generation > 1MWh
 61 |     produces_power = findall(x -> x >= 1, df.AnnualSum)
 62 |     has_capacity = findall(x -> x >= 1, df.Capacity)
 63 |     EXISTING = intersect(produces_power, has_capacity)
 64 |     # We calculate capacity factor for thermal, vre, hydro and must run. Not for storage and flexible demand
 65 |     CF_GEN = intersect(union(THERM_ALL, VRE, HYDRO_RES, MUST_RUN, VRE_STOR), EXISTING)
 66 |     df.CapacityFactor[CF_GEN] .= (df.AnnualSum[CF_GEN] ./
 67 |                                   df.Capacity[CF_GEN]) /
 68 |                                  sum(weight)
 69 |     # Capacity factor for electrolyzers is based on vUSE variable not vP
 70 |     if !isempty(ELECTROLYZER)
 71 |         df.AnnualSum[ELECTROLYZER] .= energy_sum(:vUSE, ELECTROLYZER)
 72 |         df.CapacityFactor[ELECTROLYZER] .= (df.AnnualSum[ELECTROLYZER] ./
 73 |                                             df.Capacity[ELECTROLYZER]) /
 74 |                                            sum(weight)
 75 |     end
 76 | 
 77 |     CSV.write(joinpath(path, "capacityfactor.csv"), df)
 78 |     return nothing
 79 | end
 80 | 
 81 | @doc raw"""
 82 | 	write_fusion_net_capacity_factor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 83 | 
 84 | The "net capacity factor" for fusion plants is the ratio of the annual net output to the
 85 | net time-averaged capacity. The net output is the gross output less parasitic power.
 86 | The net time-averaged capacity accounts for parasitic power and average capacity due to
 87 | the need to pulse the plant, if any.
 88 | """
 89 | function write_fusion_net_capacity_factor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 90 |     gen = inputs["RESOURCES"]
 91 |     FUSION = ids_with(gen, fusion)
 92 |     gen_fusion = gen[FUSION]
 93 |     resource_names = resource_name.(gen_fusion)
 94 |     G_fusion = length(gen_fusion)
 95 | 
 96 |     Ï‰ = inputs["omega"]
 97 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 98 | 
 99 |     df = DataFrame(Resource = resource_names,
100 |         Zone = zone_id.(gen_fusion),
101 |         NetOutput = zeros(G_fusion),
102 |         NetCapacity = zeros(G_fusion),
103 |         NetCapacityFactor = zeros(G_fusion))
104 | 
105 |     reactor = FusionReactorData.(gen_fusion)
106 |     avg_power_factor = average_net_power_factor.(reactor)
107 | 
108 |     gross_power = value.(EP[:vP][FUSION, :]) * Ï‰ * scale_factor
109 |     parasitic_power = thermal_fusion_annual_parasitic_power(EP, inputs, setup)
110 |     df.NetOutput .= gross_power - parasitic_power
111 |     df.NetCapacity .= value.(EP[:eTotalCap][FUSION]) * scale_factor .* avg_power_factor
112 | 
113 |     # We only calcualte the resulted capacity factor with total capacity > 1MW and total generation > 1MWh
114 |     enough_power = findall(x -> x >= 1, df.NetOutput)
115 |     enough_capacity = findall(x -> x >= 1, df.NetCapacity)
116 |     CF_GEN = intersect(enough_power, enough_capacity)
117 |     df.NetCapacityFactor[CF_GEN] .= (df.NetOutput[CF_GEN] ./ df.NetCapacity[CF_GEN]) / sum(Ï‰)
118 | 
119 |     CSV.write(joinpath(path, "fusion_net_capacity_factor.csv"), df)
120 |     return nothing
121 | end
122 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_charge.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_charge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for writing the charging energy values of the different storage technologies.
 5 | """
 6 | function write_charge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     gen = inputs["RESOURCES"]   # Resources (objects) 
 8 |     resources = inputs["RESOURCE_NAMES"]    # Resource names
 9 |     zones = zone_id.(gen)
10 | 
11 |     T = inputs["T"]     # Number of time steps (hours)
12 |     STOR_ALL = inputs["STOR_ALL"]
13 |     FLEX = inputs["FLEX"]
14 |     ELECTROLYZER = inputs["ELECTROLYZER"]
15 |     VRE_STOR = inputs["VRE_STOR"]
16 |     VS_STOR = !isempty(VRE_STOR) ? inputs["VS_STOR"] : []
17 |     FUSION = ids_with(gen, :fusion)
18 | 
19 |     weight = inputs["omega"]
20 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
21 | 
22 |     charge = Matrix[]
23 |     charge_ids = Vector{Int}[]
24 |     if !isempty(STOR_ALL)
25 |         push!(charge, value.(EP[:vCHARGE]))
26 |         push!(charge_ids, STOR_ALL)
27 |     end
28 |     if !isempty(FLEX)
29 |         push!(charge, value.(EP[:vCHARGE_FLEX]))
30 |         push!(charge_ids, FLEX)
31 |     end
32 |     if (setup["HydrogenMinimumProduction"] > 0) & (!isempty(ELECTROLYZER))
33 |         push!(charge, value.(EP[:vUSE]))
34 |         push!(charge_ids, ELECTROLYZER)
35 |     end
36 |     if !isempty(VS_STOR)
37 |         push!(charge, value.(EP[:vCHARGE_VRE_STOR]))
38 |         push!(charge_ids, VS_STOR)
39 |     end
40 |     if !isempty(FUSION)
41 |         _, mat = prepare_fusion_parasitic_power(EP, inputs)
42 |         push!(charge, mat)
43 |         push!(charge_ids, FUSION)
44 |     end
45 |     charge = reduce(vcat, charge, init = zeros(0, T))
46 |     charge_ids = reduce(vcat, charge_ids, init = Int[])
47 | 
48 |     charge *= scale_factor
49 | 
50 |     df = DataFrame(Resource = resources[charge_ids],
51 |         Zone = zones[charge_ids])
52 |     df.AnnualSum = charge * weight
53 | 
54 |     write_temporal_data(df, charge, path, setup, "charge")
55 |     return nothing
56 | end
57 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_charging_cost.jl:
--------------------------------------------------------------------------------
 1 | function write_charging_cost(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 2 |     gen = inputs["RESOURCES"]  # Resources (objects)
 3 |     resources = inputs["RESOURCE_NAMES"] # Resource names
 4 | 
 5 |     regions = region.(gen)
 6 |     clusters = cluster.(gen)
 7 |     zones = zone_id.(gen)
 8 | 
 9 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
10 |     T = inputs["T"]     # Number of time steps (hours)
11 |     STOR_ALL = inputs["STOR_ALL"]
12 |     FLEX = inputs["FLEX"]
13 |     ELECTROLYZER = inputs["ELECTROLYZER"]
14 |     VRE_STOR = inputs["VRE_STOR"]
15 |     VS_STOR = !isempty(VRE_STOR) ? inputs["VS_STOR"] : []
16 |     FUSION = ids_with(gen, :fusion)
17 | 
18 |     weight = inputs["omega"]
19 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
20 | 
21 |     price = locational_marginal_price(EP, inputs, setup)
22 | 
23 |     chargecost = zeros(G, T)
24 |     if !isempty(STOR_ALL)
25 |         chargecost[STOR_ALL, :] .= (value.(EP[:vCHARGE][STOR_ALL, :]).data) .*
26 |                                    transpose(price)[zone_id.(gen.Storage), :]
27 |     end
28 |     if !isempty(FLEX)
29 |         chargecost[FLEX, :] .= value.(EP[:vP][FLEX, :]) .*
30 |                                transpose(price)[zone_id.(gen.FlexDemand), :]
31 |     end
32 |     if !isempty(ELECTROLYZER)
33 |         chargecost[ELECTROLYZER, :] .= (value.(EP[:vUSE][ELECTROLYZER, :]).data) .*
34 |                                        transpose(price)[zone_id.(gen.Electrolyzer), :]
35 |     end
36 |     if !isempty(VS_STOR)
37 |         chargecost[VS_STOR, :] .= value.(EP[:vCHARGE_VRE_STOR][VS_STOR, :].data) .*
38 |                                   transpose(price)[zone_id.(gen[VS_STOR]), :]
39 |     end
40 |     if !isempty(FUSION)
41 |         _, mat = prepare_fusion_parasitic_power(EP, inputs)
42 |         chargecost[FUSION, :] = mat
43 |     end
44 |     chargecost *= scale_factor
45 | 
46 |     dfChargingcost = DataFrame(Region = regions,
47 |         Resource = resources,
48 |         Zone = zones,
49 |         Cluster = clusters,
50 |         AnnualSum = Array{Float64}(undef, G))
51 |     dfChargingcost.AnnualSum .= chargecost * weight
52 | 
53 |     write_simple_csv(joinpath(path, "ChargingCost.csv"), dfChargingcost)
54 |     return dfChargingcost
55 | end
56 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_co2.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_co2(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting time-dependent CO2 emissions by zone.
 5 | 
 6 | """
 7 | function write_co2(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 8 |     write_co2_emissions_plant(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 9 |     write_co2_capture_plant(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
10 | end
11 | 
12 | function write_co2_emissions_plant(path::AbstractString,
13 |         inputs::Dict,
14 |         setup::Dict,
15 |         EP::Model)
16 | 
17 |     gen = inputs["RESOURCES"]  # Resources (objects)
18 |     resources = inputs["RESOURCE_NAMES"] # Resource names
19 |     zones = zone_id.(gen)
20 | 
21 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
22 | 
23 |     weight = inputs["omega"]
24 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
25 | 
26 |     emissions_plant = value.(EP[:eEmissionsByPlant])
27 |     emissions_plant *= scale_factor
28 | 
29 |     df = DataFrame(Resource = resources,
30 |         Zone = zones,
31 |         AnnualSum = zeros(G))
32 |     df.AnnualSum .= emissions_plant * weight
33 | 
34 |     write_temporal_data(df, emissions_plant, path, setup, "emissions_plant")
35 |     return nothing
36 | end
37 | 
38 | function write_co2_capture_plant(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
39 |     gen = inputs["RESOURCES"]   # Resources (objects)
40 |     CCS = inputs["CCS"]
41 | 
42 |     resources = inputs["RESOURCE_NAMES"][CCS]   # Resource names
43 |     zones = zone_id.(gen[CCS])
44 | 
45 |     weight = inputs["omega"]
46 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
47 | 
48 |     df = DataFrame(Resource = resources,
49 |         Zone = zones,
50 |         AnnualSum = zeros(length(CCS)))
51 |     if !isempty(CCS)
52 |         emissions_captured_plant = value.(EP[:eEmissionsCaptureByPlant]).data
53 |         emissions_captured_plant *= scale_factor
54 | 
55 |         df.AnnualSum .= emissions_captured_plant * weight
56 | 
57 |         write_temporal_data(
58 |             df, emissions_captured_plant, path, setup, "captured_emissions_plant")
59 |     end
60 |     return nothing
61 | end
62 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_costs.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_costs(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  3 | 
  4 | Function for writing the costs pertaining to the objective function (fixed, variable O&M etc.).
  5 | """
  6 | function write_costs(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  7 |     ## Cost results
  8 |     gen = inputs["RESOURCES"]
  9 |     SEG = inputs["SEG"]  # Number of lines
 10 |     Z = inputs["Z"]     # Number of zones
 11 |     T = inputs["T"]     # Number of time steps (hours)
 12 |     VRE_STOR = inputs["VRE_STOR"]
 13 |     VS_ELEC = !isempty(VRE_STOR) ? inputs["VS_ELEC"] : Vector{Int}[]
 14 |     ELECTROLYZER_ALL = !isempty(VS_ELEC) ? union(VS_ELEC, inputs["ELECTROLYZER"]) :
 15 |                        inputs["ELECTROLYZER"]
 16 | 
 17 |     cost_list = [
 18 |         "cTotal",
 19 |         "cFix",
 20 |         "cVar",
 21 |         "cFuel",
 22 |         "cNSE",
 23 |         "cStart",
 24 |         "cUnmetRsv",
 25 |         "cNetworkExp",
 26 |         "cUnmetPolicyPenalty",
 27 |         "cCO2"
 28 |     ]
 29 |     if !isempty(VRE_STOR)
 30 |         push!(cost_list, "cGridConnection")
 31 |     end
 32 |     if !isempty(ELECTROLYZER_ALL)
 33 |         push!(cost_list, "cHydrogenRevenue")
 34 |     end
 35 |     dfCost = DataFrame(Costs = cost_list)
 36 | 
 37 |     cVar = value(EP[:eTotalCVarOut]) +
 38 |            (!isempty(inputs["STOR_ALL"]) ? value(EP[:eTotalCVarIn]) : 0.0) +
 39 |            (!isempty(inputs["FLEX"]) ? value(EP[:eTotalCVarFlexIn]) : 0.0)
 40 |     cFix = value(EP[:eTotalCFix]) +
 41 |            (!isempty(inputs["STOR_ALL"]) ? value(EP[:eTotalCFixEnergy]) : 0.0) +
 42 |            (!isempty(inputs["STOR_ASYMMETRIC"]) ? value(EP[:eTotalCFixCharge]) : 0.0)
 43 | 
 44 |     cFuel = value.(EP[:eTotalCFuelOut])
 45 | 
 46 |     if !isempty(VRE_STOR)
 47 |         cFix += ((!isempty(inputs["VS_DC"]) ? value(EP[:eTotalCFixDC]) : 0.0) +
 48 |                  (!isempty(inputs["VS_SOLAR"]) ? value(EP[:eTotalCFixSolar]) : 0.0) +
 49 |                  (!isempty(inputs["VS_WIND"]) ? value(EP[:eTotalCFixWind]) : 0.0))
 50 |         cVar += ((!isempty(inputs["VS_SOLAR"]) ? value(EP[:eTotalCVarOutSolar]) : 0.0) +
 51 |                  (!isempty(inputs["VS_WIND"]) ? value(EP[:eTotalCVarOutWind]) : 0.0))
 52 |         if !isempty(inputs["VS_STOR"])
 53 |             cFix += ((!isempty(inputs["VS_STOR"]) ? value(EP[:eTotalCFixStor]) : 0.0) +
 54 |                      (!isempty(inputs["VS_ASYM_DC_CHARGE"]) ?
 55 |                       value(EP[:eTotalCFixCharge_DC]) : 0.0) +
 56 |                      (!isempty(inputs["VS_ASYM_DC_DISCHARGE"]) ?
 57 |                       value(EP[:eTotalCFixDischarge_DC]) : 0.0) +
 58 |                      (!isempty(inputs["VS_ASYM_AC_CHARGE"]) ?
 59 |                       value(EP[:eTotalCFixCharge_AC]) : 0.0) +
 60 |                      (!isempty(inputs["VS_ASYM_AC_DISCHARGE"]) ?
 61 |                       value(EP[:eTotalCFixDischarge_AC]) : 0.0))
 62 |             cVar += (!isempty(inputs["VS_STOR"]) ? value(EP[:eTotalCVarStor]) : 0.0)
 63 |         end
 64 |         total_cost = [
 65 |             value(EP[:eObj]),
 66 |             cFix,
 67 |             cVar,
 68 |             cFuel,
 69 |             value(EP[:eTotalCNSE]),
 70 |             0.0,
 71 |             0.0,
 72 |             0.0,
 73 |             0.0,
 74 |             0.0,
 75 |             0.0
 76 |         ]
 77 |     else
 78 |         total_cost = [
 79 |             value(EP[:eObj]),
 80 |             cFix,
 81 |             cVar,
 82 |             cFuel,
 83 |             value(EP[:eTotalCNSE]),
 84 |             0.0,
 85 |             0.0,
 86 |             0.0,
 87 |             0.0,
 88 |             0.0
 89 |         ]
 90 |     end
 91 | 
 92 |     if !isempty(ELECTROLYZER_ALL)
 93 |         push!(total_cost, -1 * value(EP[:eTotalHydrogenValue]))
 94 |     end
 95 | 
 96 |     dfCost[!, Symbol("Total")] = total_cost
 97 | 
 98 |     if setup["ParameterScale"] == 1
 99 |         dfCost.Total *= ModelScalingFactor^2
100 |     end
101 | 
102 |     if setup["UCommit"] >= 1
103 |         dfCost[6, 2] = value(EP[:eTotalCStart]) + value(EP[:eTotalCFuelStart])
104 |     end
105 | 
106 |     if setup["OperationalReserves"] == 1
107 |         dfCost[7, 2] = value(EP[:eTotalCRsvPen])
108 |     end
109 | 
110 |     if setup["NetworkExpansion"] == 1 && Z > 1
111 |         dfCost[8, 2] = value(EP[:eTotalCNetworkExp])
112 |     end
113 | 
114 |     if haskey(inputs, "dfCapRes_slack")
115 |         dfCost[9, 2] += value(EP[:eCTotalCapResSlack])
116 |     end
117 | 
118 |     if haskey(inputs, "dfESR_slack")
119 |         dfCost[9, 2] += value(EP[:eCTotalESRSlack])
120 |     end
121 | 
122 |     if haskey(inputs, "dfCO2Cap_slack")
123 |         dfCost[9, 2] += value(EP[:eCTotalCO2CapSlack])
124 |     end
125 | 
126 |     if haskey(inputs, "MinCapPriceCap")
127 |         dfCost[9, 2] += value(EP[:eTotalCMinCapSlack])
128 |     end
129 | 
130 |     if haskey(inputs, "MaxCapPriceCap")
131 |         dfCost[9, 2] += value(EP[:eTotalCMaxCapSlack])
132 |     end
133 | 
134 |     if haskey(inputs, "H2DemandPriceCap")
135 |         dfCost[9, 2] += value(EP[:eTotalCH2DemandSlack])
136 |     end
137 | 
138 |     if !isempty(VRE_STOR)
139 |         dfCost[!, 2][11] = value(EP[:eTotalCGrid]) *
140 |                            (setup["ParameterScale"] == 1 ? ModelScalingFactor^2 : 1)
141 |     end
142 | 
143 |     if any(co2_capture_fraction.(gen) .!= 0)
144 |         dfCost[10, 2] += value(EP[:eTotaleCCO2Sequestration])
145 |     end
146 | 
147 |     if setup["ParameterScale"] == 1
148 |         dfCost[6, 2] *= ModelScalingFactor^2
149 |         dfCost[7, 2] *= ModelScalingFactor^2
150 |         dfCost[8, 2] *= ModelScalingFactor^2
151 |         dfCost[9, 2] *= ModelScalingFactor^2
152 |         dfCost[10, 2] *= ModelScalingFactor^2
153 |     end
154 | 
155 |     for z in 1:Z
156 |         tempCTotal = 0.0
157 |         tempCFix = 0.0
158 |         tempCVar = 0.0
159 |         tempCFuel = 0.0
160 |         tempCStart = 0.0
161 |         tempCNSE = 0.0
162 |         tempHydrogenValue = 0.0
163 |         tempCCO2 = 0.0
164 | 
165 |         Y_ZONE = resources_in_zone_by_rid(gen, z)
166 |         STOR_ALL_ZONE = intersect(inputs["STOR_ALL"], Y_ZONE)
167 |         STOR_ASYMMETRIC_ZONE = intersect(inputs["STOR_ASYMMETRIC"], Y_ZONE)
168 |         FLEX_ZONE = intersect(inputs["FLEX"], Y_ZONE)
169 |         COMMIT_ZONE = intersect(inputs["COMMIT"], Y_ZONE)
170 |         ELECTROLYZERS_ZONE = intersect(inputs["ELECTROLYZER"], Y_ZONE)
171 |         CCS_ZONE = intersect(inputs["CCS"], Y_ZONE)
172 | 
173 |         eCFix = sum(value.(EP[:eCFix][Y_ZONE]), init = 0.0)
174 |         tempCFix += eCFix
175 |         tempCTotal += eCFix
176 | 
177 |         tempCVar = sum(value.(EP[:eCVar_out][Y_ZONE, :]))
178 |         tempCTotal += tempCVar
179 | 
180 |         tempCFuel = sum(value.(EP[:ePlantCFuelOut][Y_ZONE, :]))
181 |         tempCTotal += tempCFuel
182 | 
183 |         if !isempty(STOR_ALL_ZONE)
184 |             eCVar_in = sum(value.(EP[:eCVar_in][STOR_ALL_ZONE, :]))
185 |             tempCVar += eCVar_in
186 |             eCFixEnergy = sum(value.(EP[:eCFixEnergy][STOR_ALL_ZONE]))
187 |             tempCFix += eCFixEnergy
188 |             tempCTotal += eCVar_in + eCFixEnergy
189 |         end
190 |         if !isempty(STOR_ASYMMETRIC_ZONE)
191 |             eCFixCharge = sum(value.(EP[:eCFixCharge][STOR_ASYMMETRIC_ZONE]))
192 |             tempCFix += eCFixCharge
193 |             tempCTotal += eCFixCharge
194 |         end
195 |         if !isempty(FLEX_ZONE)
196 |             eCVarFlex_in = sum(value.(EP[:eCVarFlex_in][FLEX_ZONE, :]))
197 |             tempCVar += eCVarFlex_in
198 |             tempCTotal += eCVarFlex_in
199 |         end
200 |         if !isempty(VRE_STOR)
201 |             gen_VRE_STOR = gen.VreStorage
202 |             Y_ZONE_VRE_STOR = resources_in_zone_by_rid(gen_VRE_STOR, z)
203 | 
204 |             # Fixed Costs
205 |             eCFix_VRE_STOR = 0.0
206 |             SOLAR_ZONE_VRE_STOR = intersect(Y_ZONE_VRE_STOR, inputs["VS_SOLAR"])
207 |             if !isempty(SOLAR_ZONE_VRE_STOR)
208 |                 eCFix_VRE_STOR += sum(value.(EP[:eCFixSolar][SOLAR_ZONE_VRE_STOR]))
209 |             end
210 |             WIND_ZONE_VRE_STOR = intersect(Y_ZONE_VRE_STOR, inputs["VS_WIND"])
211 |             if !isempty(WIND_ZONE_VRE_STOR)
212 |                 eCFix_VRE_STOR += sum(value.(EP[:eCFixWind][WIND_ZONE_VRE_STOR]))
213 |             end
214 |             ELEC_ZONE_VRE_STOR = intersect(Y_ZONE_VRE_STOR, inputs["VS_ELEC"])
215 |             if !isempty(ELEC_ZONE_VRE_STOR)
216 |                 eCFix_VRE_STOR += sum(value.(EP[:eCFixElec][ELEC_ZONE_VRE_STOR]))
217 |             end
218 |             DC_ZONE_VRE_STOR = intersect(Y_ZONE_VRE_STOR, inputs["VS_DC"])
219 |             if !isempty(DC_ZONE_VRE_STOR)
220 |                 eCFix_VRE_STOR += sum(value.(EP[:eCFixDC][DC_ZONE_VRE_STOR]))
221 |             end
222 |             STOR_ALL_ZONE_VRE_STOR = intersect(inputs["VS_STOR"], Y_ZONE_VRE_STOR)
223 |             if !isempty(STOR_ALL_ZONE_VRE_STOR)
224 |                 eCFix_VRE_STOR += sum(value.(EP[:eCFixEnergy_VS][STOR_ALL_ZONE_VRE_STOR]))
225 |                 DC_CHARGE_ALL_ZONE_VRE_STOR = intersect(inputs["VS_ASYM_DC_CHARGE"],
226 |                     Y_ZONE_VRE_STOR)
227 |                 if !isempty(DC_CHARGE_ALL_ZONE_VRE_STOR)
228 |                     eCFix_VRE_STOR += sum(value.(EP[:eCFixCharge_DC][DC_CHARGE_ALL_ZONE_VRE_STOR]))
229 |                 end
230 |                 DC_DISCHARGE_ALL_ZONE_VRE_STOR = intersect(inputs["VS_ASYM_DC_DISCHARGE"],
231 |                     Y_ZONE_VRE_STOR)
232 |                 if !isempty(DC_DISCHARGE_ALL_ZONE_VRE_STOR)
233 |                     eCFix_VRE_STOR += sum(value.(EP[:eCFixDischarge_DC][DC_DISCHARGE_ALL_ZONE_VRE_STOR]))
234 |                 end
235 |                 AC_DISCHARGE_ALL_ZONE_VRE_STOR = intersect(inputs["VS_ASYM_AC_DISCHARGE"],
236 |                     Y_ZONE_VRE_STOR)
237 |                 if !isempty(AC_DISCHARGE_ALL_ZONE_VRE_STOR)
238 |                     eCFix_VRE_STOR += sum(value.(EP[:eCFixDischarge_AC][AC_DISCHARGE_ALL_ZONE_VRE_STOR]))
239 |                 end
240 |                 AC_CHARGE_ALL_ZONE_VRE_STOR = intersect(inputs["VS_ASYM_AC_CHARGE"],
241 |                     Y_ZONE_VRE_STOR)
242 |                 if !isempty(AC_CHARGE_ALL_ZONE_VRE_STOR)
243 |                     eCFix_VRE_STOR += sum(value.(EP[:eCFixCharge_AC][AC_CHARGE_ALL_ZONE_VRE_STOR]))
244 |                 end
245 |             end
246 |             tempCFix += eCFix_VRE_STOR
247 | 
248 |             # Variable Costs
249 |             eCVar_VRE_STOR = 0.0
250 |             if !isempty(SOLAR_ZONE_VRE_STOR)
251 |                 eCVar_VRE_STOR += sum(value.(EP[:eCVarOutSolar][SOLAR_ZONE_VRE_STOR, :]))
252 |             end
253 |             if !isempty(WIND_ZONE_VRE_STOR)
254 |                 eCVar_VRE_STOR += sum(value.(EP[:eCVarOutWind][WIND_ZONE_VRE_STOR, :]))
255 |             end
256 |             if !isempty(STOR_ALL_ZONE_VRE_STOR)
257 |                 vom_map = Dict(DC_CHARGE_ALL_ZONE_VRE_STOR => :eCVar_Charge_DC,
258 |                     DC_DISCHARGE_ALL_ZONE_VRE_STOR => :eCVar_Discharge_DC,
259 |                     AC_DISCHARGE_ALL_ZONE_VRE_STOR => :eCVar_Discharge_AC,
260 |                     AC_CHARGE_ALL_ZONE_VRE_STOR => :eCVar_Charge_AC)
261 |                 for (set, symbol) in vom_map
262 |                     if !isempty(set)
263 |                         eCVar_VRE_STOR += sum(value.(EP[symbol][set, :]))
264 |                     end
265 |                 end
266 |             end
267 |             tempCVar += eCVar_VRE_STOR
268 | 
269 |             # Total Added Costs
270 |             tempCTotal += (eCFix_VRE_STOR + eCVar_VRE_STOR)
271 |         end
272 | 
273 |         if setup["UCommit"] >= 1 && !isempty(COMMIT_ZONE)
274 |             eCStart = sum(value.(EP[:eCStart][COMMIT_ZONE, :])) +
275 |                       sum(value.(EP[:ePlantCFuelStart][COMMIT_ZONE, :]))
276 |             tempCStart += eCStart
277 |             tempCTotal += eCStart
278 |         end
279 | 
280 |         if !isempty(ELECTROLYZER_ALL) # both electrolyzers and VRE+storage with electrolyzer component
281 |             tempHydrogenValue = 0.0
282 |             if !isempty(ELECTROLYZERS_ZONE)
283 |                 tempHydrogenValue -= sum(value.(EP[:eHydrogenValue][ELECTROLYZERS_ZONE, :]))
284 |             end
285 |             if !isempty(VRE_STOR) && !isempty(ELEC_ZONE_VRE_STOR)
286 |                 tempHydrogenValue -= sum(value.(EP[:eHydrogenValue_vs][ELEC_ZONE_VRE_STOR, :]))
287 |             end
288 |             tempCTotal += tempHydrogenValue
289 |         end
290 | 
291 |         tempCNSE = sum(value.(EP[:eCNSE][:, :, z]))
292 |         tempCTotal += tempCNSE
293 | 
294 |         # if any(dfGen.CO2_Capture_Fraction .!=0)
295 |         if !isempty(CCS_ZONE)
296 |             tempCCO2 = sum(value.(EP[:ePlantCCO2Sequestration][CCS_ZONE]))
297 |             tempCTotal += tempCCO2
298 |         end
299 | 
300 |         if setup["ParameterScale"] == 1
301 |             tempCTotal *= ModelScalingFactor^2
302 |             tempCFix *= ModelScalingFactor^2
303 |             tempCVar *= ModelScalingFactor^2
304 |             tempCFuel *= ModelScalingFactor^2
305 |             tempCNSE *= ModelScalingFactor^2
306 |             tempCStart *= ModelScalingFactor^2
307 |             tempHydrogenValue *= ModelScalingFactor^2
308 |             tempCCO2 *= ModelScalingFactor^2
309 |         end
310 |         temp_cost_list = [
311 |             tempCTotal,
312 |             tempCFix,
313 |             tempCVar,
314 |             tempCFuel,
315 |             tempCNSE,
316 |             tempCStart,
317 |             "-",
318 |             "-",
319 |             "-",
320 |             tempCCO2
321 |         ]
322 |         if !isempty(VRE_STOR)
323 |             push!(temp_cost_list, "-")
324 |         end
325 |         if !isempty(ELECTROLYZER_ALL)
326 |             push!(temp_cost_list, tempHydrogenValue)
327 |         end
328 | 
329 |         dfCost[!, Symbol("Zone$z")] = temp_cost_list
330 |     end
331 |     CSV.write(joinpath(path, "costs.csv"), dfCost)
332 | end
333 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_curtailment.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_curtailment(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for writing the curtailment values of the different variable renewable resources (both standalone and 
 5 | 	co-located).
 6 | """
 7 | function write_curtailment(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 8 |     gen = inputs["RESOURCES"]  # Resources (objects)
 9 |     resources = inputs["RESOURCE_NAMES"] # Resource names
10 |     zones = zone_id.(gen)
11 | 
12 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
13 |     T = inputs["T"]     # Number of time steps (hours)
14 |     VRE = inputs["VRE"]
15 |     VRE_STOR = inputs["VRE_STOR"]
16 | 
17 |     weight = inputs["omega"]
18 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
19 | 
20 |     curtailment = zeros(G, T)
21 |     curtailment[VRE, :] = (value.(EP[:eTotalCap][VRE]) .* inputs["pP_Max"][VRE, :] .-
22 |                            value.(EP[:vP][VRE, :]))
23 | 
24 |     if !isempty(VRE_STOR)
25 |         SOLAR = setdiff(inputs["VS_SOLAR"], inputs["VS_WIND"])
26 |         WIND = setdiff(inputs["VS_WIND"], inputs["VS_SOLAR"])
27 |         SOLAR_WIND = intersect(inputs["VS_SOLAR"], inputs["VS_WIND"])
28 |         if !isempty(SOLAR)
29 |             curtailment[SOLAR, :] = (value.(EP[:eTotalCap_SOLAR][SOLAR]).data .*
30 |                                     inputs["pP_Max_Solar"][SOLAR, :] .-
31 |                                     value.(EP[:vP_SOLAR][SOLAR, :]).data) .*
32 |                                     etainverter.(gen[SOLAR])
33 |         end
34 |         if !isempty(WIND)
35 |             curtailment[WIND, :] = (value.(EP[:eTotalCap_WIND][WIND]).data .*
36 |                                     inputs["pP_Max_Wind"][WIND, :] .-
37 |                                     value.(EP[:vP_WIND][WIND, :]).data)
38 |         end
39 |         if !isempty(SOLAR_WIND)
40 |             curtailment[SOLAR_WIND, :] = ((value.(EP[:eTotalCap_SOLAR])[SOLAR_WIND].data .*
41 |                                            inputs["pP_Max_Solar"][SOLAR_WIND, :] .-
42 |                                            value.(EP[:vP_SOLAR][SOLAR_WIND, :]).data) .*
43 |                                           etainverter.(gen[SOLAR_WIND])
44 |                                           +
45 |                                           (value.(EP[:eTotalCap_WIND][SOLAR_WIND]).data .*
46 |                                            inputs["pP_Max_Wind"][SOLAR_WIND, :] .-
47 |                                            value.(EP[:vP_WIND][SOLAR_WIND, :]).data))
48 |         end
49 |     end
50 | 
51 |     curtailment *= scale_factor
52 | 
53 |     df = DataFrame(Resource = resources,
54 |         Zone = zones,
55 |         AnnualSum = zeros(G))
56 |     df.AnnualSum = curtailment * weight
57 | 
58 |     write_temporal_data(df, curtailment, path, setup, "curtailment")
59 |     return nothing
60 | end
61 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_emissions.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_emissions(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  3 | 
  4 | Function for reporting time-dependent CO$_2$ emissions by zone.
  5 | 
  6 | """
  7 | function write_emissions(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  8 |     T = inputs["T"]     # Number of time steps (hours)
  9 |     Z = inputs["Z"]     # Number of zones
 10 | 
 11 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
 12 | 
 13 |     if (setup["WriteShadowPrices"] == 1 || setup["UCommit"] == 0 ||
 14 |         (setup["UCommit"] == 2 && (setup["OperationalReserves"] == 0 ||
 15 |           (setup["OperationalReserves"] > 0 && inputs["pDynamic_Contingency"] == 0)))) # fully linear model
 16 |         # CO2 emissions by zone
 17 | 
 18 |         if setup["CO2Cap"] >= 1
 19 |             # Dual variable of CO2 constraint = shadow price of CO2
 20 |             tempCO2Price = zeros(Z, inputs["NCO2Cap"])
 21 |             if has_duals(EP) == 1
 22 |                 for cap in 1:inputs["NCO2Cap"]
 23 |                     for z in findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])
 24 |                         tempCO2Price[z, cap] = (-1) *
 25 |                                                dual.(EP[:cCO2Emissions_systemwide])[cap]
 26 |                         # when scaled, The objective function is in unit of Million US$/kton, thus k$/ton, to get $/ton, multiply 1000
 27 |                         tempCO2Price[z, cap] *= scale_factor
 28 |                     end
 29 |                 end
 30 |             end
 31 |             dfEmissions = hcat(DataFrame(Zone = 1:Z),
 32 |                 DataFrame(tempCO2Price, :auto),
 33 |                 DataFrame(AnnualSum = Array{Float64}(undef, Z)))
 34 |             auxNew_Names = [Symbol("Zone");
 35 |                             [Symbol("CO2_Price_$cap") for cap in 1:inputs["NCO2Cap"]];
 36 |                             Symbol("AnnualSum")]
 37 |             rename!(dfEmissions, auxNew_Names)
 38 |         else
 39 |             dfEmissions = DataFrame(Zone = 1:Z, AnnualSum = Array{Float64}(undef, Z))
 40 |         end
 41 | 
 42 |         emissions_by_zone = value.(EP[:eEmissionsByZone])
 43 |         for i in 1:Z
 44 |             dfEmissions[i, :AnnualSum] = sum(inputs["omega"] .* emissions_by_zone[i, :]) *
 45 |                                          scale_factor
 46 |         end
 47 | 
 48 |         if setup["WriteOutputs"] == "annual"
 49 |             total = DataFrame(["Total" sum(dfEmissions.AnnualSum)], [:Zone; :AnnualSum])
 50 |             if setup["CO2Cap"] >= 1
 51 |                 total = DataFrame(
 52 |                     ["Total" zeros(1, inputs["NCO2Cap"]) sum(dfEmissions.AnnualSum)],
 53 |                     [:Zone;
 54 |                      [Symbol("CO2_Price_$cap") for cap in 1:inputs["NCO2Cap"]];
 55 |                      :AnnualSum])
 56 |             end
 57 |             dfEmissions = vcat(dfEmissions, total)
 58 |             CSV.write(joinpath(path, "emissions.csv"), dfEmissions)
 59 |         else# setup["WriteOutputs"] == "full"
 60 |             dfEmissions = hcat(dfEmissions,
 61 |                 DataFrame(emissions_by_zone * scale_factor, :auto))
 62 |             if setup["CO2Cap"] >= 1
 63 |                 auxNew_Names = [Symbol("Zone");
 64 |                                 [Symbol("CO2_Price_$cap") for cap in 1:inputs["NCO2Cap"]];
 65 |                                 Symbol("AnnualSum");
 66 |                                 [Symbol("t$t") for t in 1:T]]
 67 |                 rename!(dfEmissions, auxNew_Names)
 68 |                 total = DataFrame(
 69 |                     ["Total" zeros(1, inputs["NCO2Cap"]) sum(dfEmissions[!,
 70 |                         :AnnualSum]) fill(0.0, (1, T))],
 71 |                     :auto)
 72 |                 for t in 1:T
 73 |                     total[:, t + inputs["NCO2Cap"] + 2] .= sum(dfEmissions[:,
 74 |                         Symbol("t$t")][1:Z])
 75 |                 end
 76 |             else
 77 |                 auxNew_Names = [Symbol("Zone");
 78 |                                 Symbol("AnnualSum");
 79 |                                 [Symbol("t$t") for t in 1:T]]
 80 |                 rename!(dfEmissions, auxNew_Names)
 81 |                 total = DataFrame(
 82 |                     ["Total" sum(dfEmissions[!, :AnnualSum]) fill(0.0,
 83 |                         (1, T))],
 84 |                     :auto)
 85 |                 for t in 1:T
 86 |                     total[:, t + 2] .= sum(dfEmissions[:, Symbol("t$t")][1:Z])
 87 |                 end
 88 |             end
 89 |             rename!(total, auxNew_Names)
 90 |             dfEmissions = vcat(dfEmissions, total)
 91 |             CSV.write(joinpath(path, "emissions.csv"),
 92 |                 dftranspose(dfEmissions, false),
 93 |                 writeheader = false)
 94 |         end
 95 |         ## Aaron - Combined elseif setup["Dual_MIP"]==1 block with the first block since they were identical. Why do we have this third case? What is different about it?
 96 |     else
 97 |         # CO2 emissions by zone
 98 |         emissions_by_zone = value.(EP[:eEmissionsByZone])
 99 |         dfEmissions = hcat(DataFrame(Zone = 1:Z),
100 |             DataFrame(AnnualSum = Array{Float64}(undef, Z)))
101 |         for i in 1:Z
102 |             dfEmissions[i, :AnnualSum] = sum(inputs["omega"] .* emissions_by_zone[i, :]) *
103 |                                          scale_factor
104 |         end
105 | 
106 |         if setup["WriteOutputs"] == "annual"
107 |             total = DataFrame(["Total" sum(dfEmissions.AnnualSum)], [:Zone; :AnnualSum])
108 |             dfEmissions = vcat(dfEmissions, total)
109 |             CSV.write(joinpath(path, "emissions.csv"), dfEmissions)
110 |         else# setup["WriteOutputs"] == "full"
111 |             dfEmissions = hcat(dfEmissions,
112 |                 DataFrame(emissions_by_zone * scale_factor, :auto))
113 |             auxNew_Names = [Symbol("Zone");
114 |                             Symbol("AnnualSum");
115 |                             [Symbol("t$t") for t in 1:T]]
116 |             rename!(dfEmissions, auxNew_Names)
117 |             total = DataFrame(["Total" sum(dfEmissions[!, :AnnualSum]) fill(0.0, (1, T))],
118 |                 :auto)
119 |             for t in 1:T
120 |                 total[:, t + 2] .= sum(dfEmissions[:, Symbol("t$t")][1:Z])
121 |             end
122 |             rename!(total, auxNew_Names)
123 |             dfEmissions = vcat(dfEmissions, total)
124 |             CSV.write(joinpath(path, "emissions.csv"),
125 |                 dftranspose(dfEmissions, false),
126 |                 writeheader = false)
127 | 
128 |             if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
129 |                 write_full_time_series_reconstruction(path, setup, dfEmissions, "emissions")
130 |                 @info("Writing Full Time Series for Emissions")
131 |             end
132 |         end
133 |     end
134 |     return nothing
135 | end
136 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_energy_revenue.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_energy_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for writing energy revenue from the different generation technologies.
 5 | """
 6 | function write_energy_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     gen = inputs["RESOURCES"]
 8 |     regions = region.(gen)
 9 |     clusters = cluster.(gen)
10 |     zones = zone_id.(gen)
11 | 
12 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
13 |     T = inputs["T"]     # Number of time steps (hours)
14 |     FLEX = inputs["FLEX"]
15 |     NONFLEX = setdiff(collect(1:G), FLEX)
16 |     dfEnergyRevenue = DataFrame(Region = regions,
17 |         Resource = inputs["RESOURCE_NAMES"],
18 |         Zone = zones,
19 |         Cluster = clusters,
20 |         AnnualSum = Array{Float64}(undef, G))
21 |     energyrevenue = zeros(G, T)
22 |     price = locational_marginal_price(EP, inputs, setup)
23 |     energyrevenue[NONFLEX, :] = value.(EP[:vP][NONFLEX, :]) .*
24 |                                 transpose(price)[zone_id.(gen[NONFLEX]), :]
25 |     if !isempty(FLEX)
26 |         energyrevenue[FLEX, :] = value.(EP[:vCHARGE_FLEX][FLEX, :]).data .*
27 |                                  transpose(price)[zone_id.(gen[FLEX]), :]
28 |     end
29 |     if setup["ParameterScale"] == 1
30 |         energyrevenue *= ModelScalingFactor
31 |     end
32 |     dfEnergyRevenue.AnnualSum .= energyrevenue * inputs["omega"]
33 |     write_simple_csv(joinpath(path, "EnergyRevenue.csv"), dfEnergyRevenue)
34 |     return dfEnergyRevenue
35 | end
36 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_fuel_consumption.jl:
--------------------------------------------------------------------------------
  1 | 
  2 | @doc raw"""
  3 |     write_fuel_consumption(path::AbstractString, inputs::Dict, setup::Dict, EP::Model). 
  4 | Write fuel consumption of each power plant. 
  5 | """
  6 | function write_fuel_consumption(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  7 |     write_fuel_consumption_plant(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  8 |     if setup["WriteOutputs"] != "annual"
  9 |         write_fuel_consumption_ts(path::AbstractString,
 10 |             inputs::Dict,
 11 |             setup::Dict,
 12 |             EP::Model)
 13 |     end
 14 |     write_fuel_consumption_tot(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 15 | end
 16 | 
 17 | function write_fuel_consumption_plant(path::AbstractString,
 18 |         inputs::Dict,
 19 |         setup::Dict,
 20 |         EP::Model)
 21 |     gen = inputs["RESOURCES"]
 22 | 
 23 |     HAS_FUEL = inputs["HAS_FUEL"]
 24 |     MULTI_FUELS = inputs["MULTI_FUELS"]
 25 | 
 26 |     # Fuel consumption cost by each resource, including start up fuel
 27 |     dfPlantFuel = DataFrame(Resource = inputs["RESOURCE_NAMES"][HAS_FUEL],
 28 |         Fuel = fuel.(gen[HAS_FUEL]),
 29 |         Zone = zone_id.(gen[HAS_FUEL]),
 30 |         AnnualSumCosts = zeros(length(HAS_FUEL)))
 31 |     tempannualsum = value.(EP[:ePlantCFuelOut][HAS_FUEL]) +
 32 |                     value.(EP[:ePlantCFuelStart][HAS_FUEL])
 33 | 
 34 |     if !isempty(MULTI_FUELS)
 35 |         fuel_cols_num = inputs["FUEL_COLS"]# TODO: rename it
 36 |         max_fuels = inputs["MAX_NUM_FUELS"]
 37 |         dfPlantFuel.Multi_Fuels = multi_fuels.(gen[HAS_FUEL])
 38 |         for i in 1:max_fuels
 39 |             tempannualsum_fuel_heat_multi_generation = zeros(length(HAS_FUEL))
 40 |             tempannualsum_fuel_heat_multi_start = zeros(length(HAS_FUEL))
 41 |             tempannualsum_fuel_heat_multi_total = zeros(length(HAS_FUEL))
 42 |             tempannualsum_fuel_cost_multi = zeros(length(HAS_FUEL))
 43 |             for g in MULTI_FUELS
 44 |                 tempannualsum_fuel_heat_multi_generation[findfirst(x -> x == g, HAS_FUEL)] = value.(EP[:ePlantFuelConsumptionYear_multi_generation][g,i])
 45 |                 tempannualsum_fuel_heat_multi_start[findfirst(x -> x == g, HAS_FUEL)] = value.(EP[:ePlantFuelConsumptionYear_multi_start][g,i])
 46 |                 tempannualsum_fuel_heat_multi_total[findfirst(x -> x == g, HAS_FUEL)] = value.(EP[:ePlantFuelConsumptionYear_multi][g,i])
 47 |                 tempannualsum_fuel_cost_multi[findfirst(x -> x == g, HAS_FUEL)] = value.(EP[:ePlantCFuelOut_multi][g,i]) + value.(EP[:ePlantCFuelOut_multi_start][g,i])
 48 |             end
 49 |             if setup["ParameterScale"] == 1
 50 |                 tempannualsum_fuel_heat_multi_generation *= ModelScalingFactor
 51 |                 tempannualsum_fuel_heat_multi_start *= ModelScalingFactor
 52 |                 tempannualsum_fuel_heat_multi_total *= ModelScalingFactor
 53 |                 tempannualsum_fuel_cost_multi *= ModelScalingFactor^2
 54 |             end
 55 | 
 56 |             dfPlantFuel[!, fuel_cols_num[i]] = fuel_cols.(gen[HAS_FUEL], tag = i)
 57 |             dfPlantFuel[!, Symbol(string(fuel_cols_num[i], "_AnnualSum_Fuel_HeatInput_Generation_MMBtu"))] = tempannualsum_fuel_heat_multi_generation
 58 |             dfPlantFuel[!, Symbol(string(fuel_cols_num[i], "_AnnualSum_Fuel_HeatInput_Start_MMBtu"))] = tempannualsum_fuel_heat_multi_start
 59 |             dfPlantFuel[!, Symbol(string(fuel_cols_num[i], "_AnnualSum_Fuel_HeatInput_Total_MMBtu"))] = tempannualsum_fuel_heat_multi_total
 60 |             dfPlantFuel[!, Symbol(string(fuel_cols_num[i], "_AnnualSum_Fuel_Cost"))] = tempannualsum_fuel_cost_multi
 61 |         end
 62 |     end
 63 | 
 64 |     if setup["ParameterScale"] == 1
 65 |         tempannualsum *= ModelScalingFactor^2 # 
 66 |     end
 67 |     dfPlantFuel.AnnualSumCosts .+= tempannualsum
 68 |     CSV.write(joinpath(path, "Fuel_cost_plant.csv"), dfPlantFuel)
 69 | end
 70 | 
 71 | function write_fuel_consumption_ts(path::AbstractString,
 72 |         inputs::Dict,
 73 |         setup::Dict,
 74 |         EP::Model)
 75 |     T = inputs["T"]     # Number of time steps (hours)
 76 |     HAS_FUEL = inputs["HAS_FUEL"]
 77 | 
 78 |     # Fuel consumption by each resource per time step, unit is MMBTU
 79 |     dfPlantFuel_TS = DataFrame(Resource = inputs["RESOURCE_NAMES"][HAS_FUEL])
 80 |     tempts = value.(EP[:ePlantFuel_generation] + EP[:ePlantFuel_start])[HAS_FUEL, :]
 81 |     if setup["ParameterScale"] == 1
 82 |         tempts *= ModelScalingFactor # kMMBTU to MMBTU
 83 |     end
 84 |     dfPlantFuel_TS = hcat(dfPlantFuel_TS,
 85 |         DataFrame(tempts, [Symbol("t$t") for t in 1:T]))
 86 |     CSV.write(joinpath(path, "FuelConsumption_plant_MMBTU.csv"),
 87 |         dftranspose(dfPlantFuel_TS, false), header = false)
 88 | 
 89 |     if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
 90 |         write_full_time_series_reconstruction(
 91 |             path, setup, dfPlantFuel_TS, "FuelConsumption_plant_MMBTU")
 92 |         @info("Writing Full Time Series for Fuel Consumption")
 93 |     end
 94 | end
 95 | 
 96 | function write_fuel_consumption_tot(path::AbstractString,
 97 |         inputs::Dict,
 98 |         setup::Dict,
 99 |         EP::Model)
100 |     # types of fuel
101 |     fuel_types = inputs["fuels"]
102 |     fuel_number = length(fuel_types)
103 |     dfFuel = DataFrame(Fuel = fuel_types,
104 |         AnnualSum = zeros(fuel_number))
105 |     tempannualsum = value.(EP[:eFuelConsumptionYear])
106 |     if setup["ParameterScale"] == 1
107 |         tempannualsum *= ModelScalingFactor # billion MMBTU to MMBTU
108 |     end
109 |     dfFuel.AnnualSum .+= tempannualsum
110 |     CSV.write(joinpath(path, "FuelConsumption_total_MMBTU.csv"), dfFuel)
111 | end
112 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_fusion.jl:
--------------------------------------------------------------------------------
 1 | ###############
 2 | # prepare data
 3 | # #############
 4 | 
 5 | function prepare_fusion_parasitic_power(EP::Model, inputs::Dict)
 6 |     return prepare_timeseries_variables(EP,
 7 |         inputs,
 8 |         fusion_parasitic_power_expressions(inputs),
 9 |         "eFusionParasiticTotal_")
10 | end
11 | 
12 | # similar but zonal; needed for write_power_balance
13 | function fusion_total_parasitic_power_unscaled(
14 |         EP::Model, inputs::Dict, zone::Int)::Vector{Float64}
15 |     symbols = fusion_parasitic_power_expressions(inputs, zone)
16 |     _, mat = prepare_timeseries_variables(EP,
17 |         inputs,
18 |         symbols,
19 |         "eFusionParasiticTotal_")
20 |     return vec(sum(mat, dims = 1))
21 | end
22 | 
23 | function prepare_fusion_pulse_starts(EP::Model, inputs::Dict)
24 |     prepare_timeseries_variables(EP,
25 |         inputs,
26 |         fusion_pulse_start_expressions(inputs),
27 |         "vFusionPulseStart_")
28 | end
29 | 
30 | ###############
31 | # writing data
32 | ###############
33 | 
34 | # NB: there is no 'write_fusion_parasitic_power'; it is in 'charge.csv'.
35 | 
36 | function write_fusion_pulse_starts(
37 |         path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
38 |     set, data = prepare_fusion_pulse_starts(EP, inputs)
39 |     df = _create_annualsum_df(inputs, set, data)
40 |     write_temporal_data(df, data, path, setup, "fusion_pulse_starts")
41 | end
42 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_maintenance.jl:
--------------------------------------------------------------------------------
 1 | function write_simple_csv(filename::AbstractString, df::DataFrame)
 2 |     CSV.write(filename, df)
 3 | end
 4 | 
 5 | function write_simple_csv(filename::AbstractString, header::Vector, matrix)
 6 |     df = DataFrame(matrix, header)
 7 |     write_simple_csv(filename, df)
 8 | end
 9 | 
10 | # function to extract data from DenseAxisArray OR matrix
11 | extract_data(var::JuMP.Containers.DenseAxisArray)::AbstractArray = var.data
12 | extract_data(var::AbstractArray)::AbstractArray = var
13 | 
14 | function prepare_timeseries_variables(EP, inputs, syms::Set{Symbol}, prefix::AbstractString)
15 |     v = collect(syms)
16 |     var_resource_names = string.(strip_common_prefix(v, prefix))
17 | 
18 |     # put in same order as regular resources
19 |     gen = inputs["RESOURCES"]
20 |     r_id = resource_id.(resource_by_name.(Ref(gen), var_resource_names))
21 |     sort_order = sortperm(r_id)
22 | 
23 |     r_id = r_id[sort_order]
24 |     v = v[sort_order]
25 | 
26 |     extract(var) = value.(extract_data(EP[var]))
27 | 
28 |     mat = Matrix(reduce(hcat, extract.(v))') # matrix of size length(syms) x T
29 |     return r_id, mat
30 | end
31 | 
32 | function strip_common_prefix(v::Vector{Symbol}, prefix::AbstractString)
33 |     s = string.(v)
34 |     return Symbol.(chopprefix.(s, prefix))
35 | end
36 | 
37 | function prepare_maintenance_downvars_matrix(EP::Model, inputs::Dict)
38 |     downvars = maintenance_down_variables(inputs)
39 |     return prepare_timeseries_variables(EP, inputs, downvars, "vMDOWN_")
40 | end
41 | 
42 | function write_maintenance(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
43 |     set, data = prepare_maintenance_downvars_matrix(EP, inputs)
44 |     df = _create_annualsum_df(inputs, set, data)
45 |     write_temporal_data(df, data, path, setup, "maint_down")
46 | end
47 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_net_revenue.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_net_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model, dfCap::DataFrame, dfESRRev::DataFrame, dfResRevenue::DataFrame, dfChargingcost::DataFrame, dfPower::DataFrame, dfEnergyRevenue::DataFrame, dfSubRevenue::DataFrame, dfRegSubRevenue::DataFrame, dfVreStor::DataFrame, dfOpRegRevenue::DataFrame, dfOpRsvRevenue::DataFrame)
  3 | 
  4 | Function for writing net revenue of different generation technologies.
  5 | """
  6 | function write_net_revenue(path::AbstractString,
  7 |         inputs::Dict,
  8 |         setup::Dict,
  9 |         EP::Model,
 10 |         dfCap::DataFrame,
 11 |         dfESRRev::DataFrame,
 12 |         dfResRevenue::DataFrame,
 13 |         dfChargingcost::DataFrame,
 14 |         dfPower::DataFrame,
 15 |         dfEnergyRevenue::DataFrame,
 16 |         dfSubRevenue::DataFrame,
 17 |         dfRegSubRevenue::DataFrame,
 18 |         dfVreStor::DataFrame,
 19 |         dfOpRegRevenue::DataFrame,
 20 |         dfOpRsvRevenue::DataFrame)
 21 |     gen = inputs["RESOURCES"]
 22 |     zones = zone_id.(gen)
 23 |     regions = region.(gen)
 24 |     clusters = cluster.(gen)
 25 |     rid = resource_id.(gen)
 26 | 
 27 |     G = inputs["G"]     # Number of generators
 28 |     COMMIT = inputs["COMMIT"]# Thermal units for unit commitment
 29 |     STOR_ALL = inputs["STOR_ALL"]
 30 | 
 31 |     if setup["OperationalReserves"] >= 1
 32 |         RSV = inputs["RSV"]# Generators contributing to operating reserves
 33 |         REG = inputs["REG"]     # Generators contributing to regulation 
 34 |     end
 35 | 
 36 |     VRE_STOR = inputs["VRE_STOR"]
 37 |     CCS = inputs["CCS"]
 38 |     if !isempty(VRE_STOR)
 39 |         gen_VRE_STOR = gen.VreStorage
 40 |         VRE_STOR_LENGTH = size(inputs["VRE_STOR"])[1]
 41 |         SOLAR = inputs["VS_SOLAR"]
 42 |         WIND = inputs["VS_WIND"]
 43 |         DC = inputs["VS_DC"]
 44 |         DC_DISCHARGE = inputs["VS_STOR_DC_DISCHARGE"]
 45 |         AC_DISCHARGE = inputs["VS_STOR_AC_DISCHARGE"]
 46 |         DC_CHARGE = inputs["VS_STOR_DC_CHARGE"]
 47 |         AC_CHARGE = inputs["VS_STOR_AC_CHARGE"]
 48 |         # Should read in charge asymmetric capacities
 49 |     end
 50 | 
 51 |     # Create a NetRevenue dataframe
 52 |     dfNetRevenue = DataFrame(region = regions,
 53 |         Resource = inputs["RESOURCE_NAMES"],
 54 |         zone = zones,
 55 |         Cluster = clusters,
 56 |         R_ID = rid)
 57 | 
 58 |     # Add investment cost to the dataframe
 59 |     dfNetRevenue.Inv_cost_MW = inv_cost_per_mwyr.(gen) .* dfCap[1:G, :NewCap]
 60 |     dfNetRevenue.Inv_cost_MWh = inv_cost_per_mwhyr.(gen) .* dfCap[1:G, :NewEnergyCap]
 61 |     dfNetRevenue.Inv_cost_charge_MW = inv_cost_charge_per_mwyr.(gen) .*
 62 |                                       dfCap[1:G, :NewChargeCap]
 63 |     if !isempty(VRE_STOR)
 64 |         # Doesn't include charge capacities
 65 |         if !isempty(SOLAR)
 66 |             dfNetRevenue.Inv_cost_MW[VRE_STOR] += inv_cost_solar_per_mwyr.(gen_VRE_STOR) .*
 67 |                                                   dfVreStor[1:VRE_STOR_LENGTH, :NewCapSolar]
 68 |         end
 69 |         if !isempty(DC)
 70 |             dfNetRevenue.Inv_cost_MW[VRE_STOR] += inv_cost_inverter_per_mwyr.(gen_VRE_STOR) .*
 71 |                                                   dfVreStor[1:VRE_STOR_LENGTH, :NewCapDC]
 72 |         end
 73 |         if !isempty(WIND)
 74 |             dfNetRevenue.Inv_cost_MW[VRE_STOR] += inv_cost_wind_per_mwyr.(gen_VRE_STOR) .*
 75 |                                                   dfVreStor[1:VRE_STOR_LENGTH, :NewCapWind]
 76 |         end
 77 |     end
 78 |     if setup["ParameterScale"] == 1
 79 |         dfNetRevenue.Inv_cost_MWh *= ModelScalingFactor # converting Million US$ to US$
 80 |         dfNetRevenue.Inv_cost_MW *= ModelScalingFactor # converting Million US$ to US$
 81 |         dfNetRevenue.Inv_cost_charge_MW *= ModelScalingFactor # converting Million US$ to US$
 82 |     end
 83 | 
 84 |     # Add operations and maintenance cost to the dataframe
 85 |     dfNetRevenue.Fixed_OM_cost_MW = fixed_om_cost_per_mwyr.(gen) .* dfCap[1:G, :EndCap]
 86 |     dfNetRevenue.Fixed_OM_cost_MWh = fixed_om_cost_per_mwhyr.(gen) .*
 87 |                                      dfCap[1:G, :EndEnergyCap]
 88 |     dfNetRevenue.Fixed_OM_cost_charge_MW = fixed_om_cost_charge_per_mwyr.(gen) .*
 89 |                                            dfCap[1:G, :EndChargeCap]
 90 |     dfNetRevenue.Var_OM_cost_out = var_om_cost_per_mwh.(gen) .* dfPower[1:G, :AnnualSum]
 91 |     if !isempty(VRE_STOR)
 92 |         if !isempty(SOLAR)
 93 |             dfNetRevenue.Fixed_OM_cost_MW[VRE_STOR] += fixed_om_solar_cost_per_mwyr.(gen_VRE_STOR) .*
 94 |                                                        dfVreStor[1:VRE_STOR_LENGTH,
 95 |                 :EndCapSolar]
 96 |             dfNetRevenue.Var_OM_cost_out[SOLAR] += var_om_cost_per_mwh_solar.(gen[SOLAR]) .*
 97 |                                                     (value.(EP[:vP_SOLAR][SOLAR, :]).data .*
 98 |                                                     etainverter.(gen[SOLAR]) *
 99 |                                                     inputs["omega"])
100 |         end
101 |         if !isempty(WIND)
102 |             dfNetRevenue.Fixed_OM_cost_MW[VRE_STOR] += fixed_om_wind_cost_per_mwyr.(gen_VRE_STOR) .*
103 |                                                        dfVreStor[1:VRE_STOR_LENGTH, :EndCapWind]
104 | 
105 |             dfNetRevenue.Var_OM_cost_out[WIND] += var_om_cost_per_mwh_wind.(gen[WIND]) .*
106 |                                                     (value.(EP[:vP_WIND][WIND, :]).data *
107 |                                                     inputs["omega"])
108 |         end
109 |         if !isempty(DC)
110 |             dfNetRevenue.Fixed_OM_cost_MW[VRE_STOR] += fixed_om_inverter_cost_per_mwyr.(gen_VRE_STOR) .*
111 |                                                        dfVreStor[1:VRE_STOR_LENGTH, :EndCapDC]
112 |         end
113 |         if !isempty(DC_DISCHARGE)
114 |             dfNetRevenue.Var_OM_cost_out[DC_DISCHARGE] += var_om_cost_per_mwh_discharge_dc.(gen[DC_DISCHARGE]) .*
115 |                                                             (value.(EP[:vP_DC_DISCHARGE][DC_DISCHARGE,:]).data .*
116 |                                                             etainverter.(gen[DC_DISCHARGE]) *
117 |                                                             inputs["omega"])
118 |         end
119 |         if !isempty(AC_DISCHARGE)
120 |             dfNetRevenue.Var_OM_cost_out[AC_DISCHARGE] += var_om_cost_per_mwh_discharge_ac.(gen[AC_DISCHARGE]) .*
121 |                                                           (value.(EP[:vP_AC_DISCHARGE][AC_DISCHARGE,:]).data * inputs["omega"])
122 |         end
123 |     end
124 |     if setup["ParameterScale"] == 1
125 |         dfNetRevenue.Fixed_OM_cost_MW *= ModelScalingFactor # converting Million US$ to US$
126 |         dfNetRevenue.Fixed_OM_cost_MWh *= ModelScalingFactor # converting Million US$ to US$
127 |         dfNetRevenue.Fixed_OM_cost_charge_MW *= ModelScalingFactor # converting Million US$ to US$
128 |         dfNetRevenue.Var_OM_cost_out *= ModelScalingFactor # converting Million US$ to US$
129 |     end
130 | 
131 |     # Add fuel cost to the dataframe
132 |     dfNetRevenue.Fuel_cost = sum(value.(EP[:ePlantCFuelOut]), dims = 2)
133 |     if setup["ParameterScale"] == 1
134 |         dfNetRevenue.Fuel_cost *= ModelScalingFactor^2 # converting Million US$ to US$
135 |     end
136 | 
137 |     # Add storage cost to the dataframe
138 |     dfNetRevenue.Var_OM_cost_in = zeros(nrow(dfNetRevenue))
139 |     if !isempty(STOR_ALL)
140 |         dfNetRevenue.Var_OM_cost_in[STOR_ALL] = var_om_cost_per_mwh_in.(gen.Storage) .*
141 |                                                 ((value.(EP[:vCHARGE][STOR_ALL, :]).data) *
142 |                                                  inputs["omega"])
143 |     end
144 |     if !isempty(VRE_STOR)
145 |         if !isempty(DC_CHARGE)
146 |             dfNetRevenue.Var_OM_cost_in[DC_CHARGE] += var_om_cost_per_mwh_charge_dc.(gen[DC_CHARGE]) .*
147 |                                                       (value.(EP[:vP_DC_CHARGE][DC_CHARGE,:]).data ./
148 |                                                        etainverter.(gen[DC_CHARGE]) *
149 |                                                        inputs["omega"])
150 |         end
151 |         if !isempty(AC_CHARGE)
152 |             dfNetRevenue.Var_OM_cost_in[AC_CHARGE] += var_om_cost_per_mwh_charge_ac.(gen[AC_CHARGE]) .*
153 |                                                       (value.(EP[:vP_AC_CHARGE][AC_CHARGE, :]).data * inputs["omega"])
154 |         end
155 |     end
156 | 
157 |     if setup["ParameterScale"] == 1
158 |         dfNetRevenue.Var_OM_cost_in *= ModelScalingFactor^2 # converting Million US$ to US$
159 |     end
160 |     # Add start-up cost to the dataframe
161 |     dfNetRevenue.StartCost = zeros(nrow(dfNetRevenue))
162 |     if setup["UCommit"] >= 1 && !isempty(COMMIT)
163 |         start_costs = vec(sum(value.(EP[:eCStart][COMMIT, :]).data, dims = 2))
164 |         start_fuel_costs = vec(value.(EP[:ePlantCFuelStart][COMMIT]))
165 |         dfNetRevenue.StartCost[COMMIT] .= start_costs + start_fuel_costs
166 |     end
167 |     if setup["ParameterScale"] == 1
168 |         dfNetRevenue.StartCost *= ModelScalingFactor^2 # converting Million US$ to US$
169 |     end
170 |     # Add charge cost to the dataframe
171 |     dfNetRevenue.Charge_cost = zeros(nrow(dfNetRevenue))
172 |     if has_duals(EP)
173 |         dfNetRevenue.Charge_cost = dfChargingcost[1:G, :AnnualSum] # Unit is confirmed to be US$
174 |     end
175 | 
176 |     # Add CO2 releated sequestration cost or credit (e.g. 45 Q) to the dataframe
177 |     dfNetRevenue.CO2SequestrationCost = zeros(nrow(dfNetRevenue))
178 |     if any(co2_capture_fraction.(gen) .!= 0)
179 |         dfNetRevenue.CO2SequestrationCost = zeros(G)
180 |         dfNetRevenue[CCS, :CO2SequestrationCost] = value.(EP[:ePlantCCO2Sequestration]).data
181 |     end
182 |     if setup["ParameterScale"] == 1
183 |         dfNetRevenue.CO2SequestrationCost *= ModelScalingFactor^2 # converting Million US$ to US$
184 |     end
185 | 
186 |     # Add energy and subsidy revenue to the dataframe
187 |     dfNetRevenue.EnergyRevenue = zeros(nrow(dfNetRevenue))
188 |     dfNetRevenue.SubsidyRevenue = zeros(nrow(dfNetRevenue))
189 |     if has_duals(EP)
190 |         dfNetRevenue.EnergyRevenue = dfEnergyRevenue[1:G, :AnnualSum] # Unit is confirmed to be US$
191 |         dfNetRevenue.SubsidyRevenue = dfSubRevenue[1:G, :SubsidyRevenue] # Unit is confirmed to be US$
192 |     end
193 | 
194 |     # Add energy and subsidy revenue to the dataframe
195 |     dfNetRevenue.OperatingReserveRevenue = zeros(nrow(dfNetRevenue))
196 |     dfNetRevenue.OperatingRegulationRevenue = zeros(nrow(dfNetRevenue))
197 |     if setup["OperationalReserves"] > 0 && has_duals(EP)
198 |         dfNetRevenue.OperatingReserveRevenue[RSV] = dfOpRsvRevenue.AnnualSum # Unit is confirmed to be US$
199 |         dfNetRevenue.OperatingRegulationRevenue[REG] = dfOpRegRevenue.AnnualSum # Unit is confirmed to be US$
200 |     end
201 | 
202 |     # Add capacity revenue to the dataframe
203 |     dfNetRevenue.ReserveMarginRevenue = zeros(nrow(dfNetRevenue))
204 |     if setup["CapacityReserveMargin"] > 0 && has_duals(EP) # The unit is confirmed to be $
205 |         dfNetRevenue.ReserveMarginRevenue = dfResRevenue[1:G, :AnnualSum]
206 |     end
207 | 
208 |     # Add RPS/CES revenue to the dataframe
209 |     dfNetRevenue.ESRRevenue = zeros(nrow(dfNetRevenue))
210 |     if setup["EnergyShareRequirement"] > 0 && has_duals(EP) # The unit is confirmed to be $
211 |         dfNetRevenue.ESRRevenue = dfESRRev[1:G, :Total]
212 |     end
213 | 
214 |     # Calculate emissions cost
215 |     dfNetRevenue.EmissionsCost = zeros(nrow(dfNetRevenue))
216 |     if setup["CO2Cap"] >= 1 && has_duals(EP)
217 |         for cap in 1:inputs["NCO2Cap"]
218 |             co2_cap_dual = dual(EP[:cCO2Emissions_systemwide][cap])
219 |             CO2ZONES = findall(x -> x == 1, inputs["dfCO2CapZones"][:, cap])
220 |             GEN_IN_ZONE = resource_id.(gen[[y in CO2ZONES for y in zone_id.(gen)]])
221 |             if setup["CO2Cap"] == 1 || setup["CO2Cap"] == 2 # Mass-based or Demand + Rate-based
222 |                 # Cost = sum(sum(emissions for zone z * dual(CO2 constraint[cap]) for z in Z) for cap in setup["NCO2"])
223 |                 temp_vec = value.(EP[:eEmissionsByPlant][GEN_IN_ZONE, :]) * inputs["omega"]
224 |                 dfNetRevenue.EmissionsCost[GEN_IN_ZONE] += -co2_cap_dual * temp_vec
225 |             elseif setup["CO2Cap"] == 3 # Generation + Rate-based
226 |                 SET_WITH_MAXCO2RATE = union(inputs["THERM_ALL"],
227 |                     inputs["VRE"],
228 |                     inputs["VRE"],
229 |                     inputs["MUST_RUN"],
230 |                     inputs["HYDRO_RES"])
231 |                 Y = intersect(GEN_IN_ZONE, SET_WITH_MAXCO2RATE)
232 |                 temp_vec = (value.(EP[:eEmissionsByPlant][Y, :]) -
233 |                             (value.(EP[:vP][Y, :]) .*
234 |                              inputs["dfMaxCO2Rate"][zone_id.(gen[Y]), cap])) *
235 |                            inputs["omega"]
236 |                 dfNetRevenue.EmissionsCost[Y] += -co2_cap_dual * temp_vec
237 |             end
238 |         end
239 |         if setup["ParameterScale"] == 1
240 |             dfNetRevenue.EmissionsCost *= ModelScalingFactor^2 # converting Million US$ to US$
241 |         end
242 |     end
243 | 
244 |     # Add regional technology subsidy revenue to the dataframe
245 |     dfNetRevenue.RegSubsidyRevenue = zeros(nrow(dfNetRevenue))
246 |     if setup["MinCapReq"] >= 1 && has_duals(EP)# The unit is confirmed to be US$
247 |         dfNetRevenue.RegSubsidyRevenue = dfRegSubRevenue[1:G, :SubsidyRevenue]
248 |     end
249 | 
250 |     dfNetRevenue.Revenue = dfNetRevenue.EnergyRevenue
251 |     .+dfNetRevenue.SubsidyRevenue
252 |     .+dfNetRevenue.ReserveMarginRevenue
253 |     .+dfNetRevenue.ESRRevenue
254 |     .+dfNetRevenue.RegSubsidyRevenue
255 |     .+dfNetRevenue.OperatingReserveRevenue
256 |     .+dfNetRevenue.OperatingRegulationRevenue
257 | 
258 |     dfNetRevenue.Cost = (dfNetRevenue.Inv_cost_MW .+
259 |                          dfNetRevenue.Inv_cost_MWh .+
260 |                          dfNetRevenue.Inv_cost_charge_MW .+
261 |                          dfNetRevenue.Fixed_OM_cost_MW .+
262 |                          dfNetRevenue.Fixed_OM_cost_MWh .+
263 |                          dfNetRevenue.Fixed_OM_cost_charge_MW .+
264 |                          dfNetRevenue.Var_OM_cost_out .+
265 |                          dfNetRevenue.Var_OM_cost_in .+
266 |                          dfNetRevenue.Fuel_cost .+
267 |                          dfNetRevenue.Charge_cost .+
268 |                          dfNetRevenue.EmissionsCost .+
269 |                          dfNetRevenue.StartCost .+
270 |                          dfNetRevenue.CO2SequestrationCost)
271 |     dfNetRevenue.Profit = dfNetRevenue.Revenue .- dfNetRevenue.Cost
272 | 
273 |     CSV.write(joinpath(path, "NetRevenue.csv"), dfNetRevenue)
274 | end
275 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_nse.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_nse(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting non-served energy for every model zone, time step and cost-segment.
 5 | """
 6 | function write_nse(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     T = inputs["T"]     # Number of time steps (hours)
 8 |     Z = inputs["Z"]     # Number of zones
 9 |     SEG = inputs["SEG"] # Number of demand curtailment segments
10 |     # Non-served energy/demand curtailment by segment in each time step
11 |     dfNse = DataFrame(Segment = repeat(1:SEG, outer = Z),
12 |         Zone = repeat(1:Z, inner = SEG),
13 |         AnnualSum = zeros(SEG * Z))
14 |     nse = zeros(SEG * Z, T)
15 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
16 |     for z in 1:Z
17 |         nse[((z - 1) * SEG + 1):(z * SEG), :] = value.(EP[:vNSE])[:, :, z] * scale_factor
18 |     end
19 |     dfNse.AnnualSum .= nse * inputs["omega"]
20 | 
21 |     if setup["WriteOutputs"] == "annual"
22 |         total = DataFrame(["Total" 0 sum(dfNse[!, :AnnualSum])],
23 |             [:Segment, :Zone, :AnnualSum])
24 |         dfNse = vcat(dfNse, total)
25 |         CSV.write(joinpath(path, "nse.csv"), dfNse)
26 |     else # setup["WriteOutputs"] == "full"
27 |         dfNse = hcat(dfNse, DataFrame(nse, :auto))
28 |         auxNew_Names = [Symbol("Segment");
29 |                         Symbol("Zone");
30 |                         Symbol("AnnualSum");
31 |                         [Symbol("t$t") for t in 1:T]]
32 |         rename!(dfNse, auxNew_Names)
33 | 
34 |         total = DataFrame(["Total" 0 sum(dfNse[!, :AnnualSum]) fill(0.0, (1, T))], :auto)
35 |         total[:, 4:(T + 3)] .= sum(nse, dims = 1)
36 |         rename!(total, auxNew_Names)
37 |         dfNse = vcat(dfNse, total)
38 | 
39 |         CSV.write(joinpath(path, "nse.csv"), dftranspose(dfNse, false), writeheader = false)
40 | 
41 |         if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
42 |             write_full_time_series_reconstruction(path, setup, dfNse, "nse")
43 |             @info("Writing Full Time Series for NSE")
44 |         end
45 |     end
46 |     return nothing
47 | end
48 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_outputs.jl:
--------------------------------------------------------------------------------
  1 | ################################################################################
  2 | ## function output
  3 | ##
  4 | ## description: Writes results to multiple .csv output files in path directory
  5 | ##
  6 | ## returns: path directory
  7 | ################################################################################
  8 | @doc raw"""
  9 | 	write_outputs(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)
 10 | 
 11 | Function for the entry-point for writing the different output files. From here, onward several other functions are called, each for writing specific output files, like costs, capacities, etc.
 12 | """
 13 | function write_outputs(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)
 14 |     if setup["OverwriteResults"] == 1
 15 |         # Overwrite existing results if dir exists
 16 |         # This is the default behaviour when there is no flag, to avoid breaking existing code
 17 |         if !(isdir(path))
 18 |             mkpath(path)
 19 |         end
 20 |     else
 21 |         # Find closest unused ouput directory name and create it
 22 |         path = choose_output_dir(path)
 23 |         mkpath(path)
 24 |     end
 25 | 
 26 |     if setup["OutputFullTimeSeries"] == 1
 27 |         mkpath(joinpath(path, setup["OutputFullTimeSeriesFolder"]))
 28 |     end
 29 | 
 30 |     # https://jump.dev/MathOptInterface.jl/v0.9.10/apireference/#MathOptInterface.TerminationStatusCode
 31 |     status = termination_status(EP)
 32 | 
 33 |     ## Check if solved sucessfully - time out is included
 34 |     if status != MOI.OPTIMAL && status != MOI.LOCALLY_SOLVED
 35 |         if status != MOI.TIME_LIMIT # Model failed to solve, so record solver status and exit
 36 |             write_status(path, inputs, setup, EP)
 37 |             return
 38 |             # Model reached timelimit but failed to find a feasible solution
 39 |             #### Aaron Schwartz - Not sure if the below condition is valid anymore. We should revisit ####
 40 |         elseif isnan(objective_value(EP)) == true
 41 |             # Model failed to solve, so record solver status and exit
 42 |             write_status(path, inputs, setup, EP)
 43 |             return
 44 |         end
 45 |     end
 46 | 
 47 |     # Dict containing the list of outputs to write
 48 |     output_settings_d = setup["WriteOutputsSettingsDict"]
 49 |     write_settings_file(path, setup)
 50 |     write_system_env_summary(path)
 51 | 
 52 |     output_settings_d["WriteStatus"] && write_status(path, inputs, setup, EP)
 53 | 
 54 |     # linearize and re-solve model if duals are not available but ShadowPrices are requested
 55 |     if !has_duals(EP) && setup["WriteShadowPrices"] == 1
 56 |         # function to fix integers and linearize problem
 57 |         fix_integers(EP)
 58 |         # re-solve statement for LP solution
 59 |         println("Solving LP solution for duals")
 60 |         set_silent(EP)
 61 |         optimize!(EP)
 62 |     end
 63 | 
 64 |     if output_settings_d["WriteCosts"]
 65 |         elapsed_time_costs = @elapsed write_costs(path, inputs, setup, EP)
 66 |         println("Time elapsed for writing costs is")
 67 |         println(elapsed_time_costs)
 68 |     end
 69 | 
 70 |     if output_settings_d["WriteCapacity"] || output_settings_d["WriteNetRevenue"]
 71 |         elapsed_time_capacity = @elapsed dfCap = write_capacity(path, inputs, setup, EP)
 72 |         println("Time elapsed for writing capacity is")
 73 |         println(elapsed_time_capacity)
 74 |     end
 75 | 
 76 |     if output_settings_d["WritePower"] || output_settings_d["WriteNetRevenue"]
 77 |         elapsed_time_power = @elapsed dfPower = write_power(path, inputs, setup, EP)
 78 |         println("Time elapsed for writing power is")
 79 |         println(elapsed_time_power)
 80 |     end
 81 | 
 82 |     if output_settings_d["WriteCharge"]
 83 |         elapsed_time_charge = @elapsed write_charge(path, inputs, setup, EP)
 84 |         println("Time elapsed for writing charge is")
 85 |         println(elapsed_time_charge)
 86 |     end
 87 | 
 88 |     if output_settings_d["WriteCapacityFactor"]
 89 |         elapsed_time_capacityfactor = @elapsed write_capacityfactor(path, inputs, setup, EP)
 90 |         println("Time elapsed for writing capacity factor is")
 91 |         println(elapsed_time_capacityfactor)
 92 |     end
 93 | 
 94 |     if output_settings_d["WriteStorage"]
 95 |         elapsed_time_storage = @elapsed write_storage(path, inputs, setup, EP)
 96 |         println("Time elapsed for writing storage is")
 97 |         println(elapsed_time_storage)
 98 |     end
 99 | 
100 |     if output_settings_d["WriteCurtailment"]
101 |         elapsed_time_curtailment = @elapsed write_curtailment(path, inputs, setup, EP)
102 |         println("Time elapsed for writing curtailment is")
103 |         println(elapsed_time_curtailment)
104 |     end
105 | 
106 |     if output_settings_d["WriteNSE"]
107 |         elapsed_time_nse = @elapsed write_nse(path, inputs, setup, EP)
108 |         println("Time elapsed for writing nse is")
109 |         println(elapsed_time_nse)
110 |     end
111 | 
112 |     if output_settings_d["WritePowerBalance"]
113 |         elapsed_time_power_balance = @elapsed write_power_balance(path, inputs, setup, EP)
114 |         println("Time elapsed for writing power balance is")
115 |         println(elapsed_time_power_balance)
116 |     end
117 | 
118 |     if inputs["Z"] > 1
119 |         if output_settings_d["WriteTransmissionFlows"]
120 |             elapsed_time_flows = @elapsed write_transmission_flows(path, inputs, setup, EP)
121 |             println("Time elapsed for writing transmission flows is")
122 |             println(elapsed_time_flows)
123 |         end
124 | 
125 |         if output_settings_d["WriteTransmissionLosses"]
126 |             elapsed_time_losses = @elapsed write_transmission_losses(path,
127 |                 inputs,
128 |                 setup,
129 |                 EP)
130 |             println("Time elapsed for writing transmission losses is")
131 |             println(elapsed_time_losses)
132 |         end
133 | 
134 |         if setup["NetworkExpansion"] == 1 && output_settings_d["WriteNWExpansion"]
135 |             elapsed_time_expansion = @elapsed write_nw_expansion(path, inputs, setup, EP)
136 |             println("Time elapsed for writing network expansion is")
137 |             println(elapsed_time_expansion)
138 |         end
139 |     end
140 | 
141 |     if output_settings_d["WriteEmissions"]
142 |         elapsed_time_emissions = @elapsed write_emissions(path, inputs, setup, EP)
143 |         println("Time elapsed for writing emissions is")
144 |         println(elapsed_time_emissions)
145 |     end
146 | 
147 |     dfVreStor = DataFrame()
148 |     if !isempty(inputs["VRE_STOR"])
149 |         if output_settings_d["WriteVREStor"] || output_settings_d["WriteNetRevenue"]
150 |             elapsed_time_vrestor = @elapsed dfVreStor = write_vre_stor(path,
151 |                 inputs,
152 |                 setup,
153 |                 EP)
154 |             println("Time elapsed for writing vre stor is")
155 |             println(elapsed_time_vrestor)
156 |         end
157 |         VS_LDS = inputs["VS_LDS"]
158 |         VS_STOR = inputs["VS_STOR"]
159 |     else
160 |         VS_LDS = []
161 |         VS_STOR = []
162 |     end
163 | 
164 |     if has_duals(EP) == 1
165 |         if output_settings_d["WriteReliability"]
166 |             elapsed_time_reliability = @elapsed write_reliability(path, inputs, setup, EP)
167 |             println("Time elapsed for writing reliability is")
168 |             println(elapsed_time_reliability)
169 |         end
170 |         if !isempty(inputs["STOR_ALL"]) || !isempty(VS_STOR)
171 |             if output_settings_d["WriteStorageDual"]
172 |                 elapsed_time_stordual = @elapsed write_storagedual(path, inputs, setup, EP)
173 |                 println("Time elapsed for writing storage duals is")
174 |                 println(elapsed_time_stordual)
175 |             end
176 |         end
177 |     end
178 | 
179 |     if setup["UCommit"] >= 1
180 |         if output_settings_d["WriteCommit"]
181 |             elapsed_time_commit = @elapsed write_commit(path, inputs, setup, EP)
182 |             println("Time elapsed for writing commitment is")
183 |             println(elapsed_time_commit)
184 |         end
185 | 
186 |         if output_settings_d["WriteStart"]
187 |             elapsed_time_start = @elapsed write_start(path, inputs, setup, EP)
188 |             println("Time elapsed for writing startup is")
189 |             println(elapsed_time_start)
190 |         end
191 | 
192 |         if output_settings_d["WriteShutdown"]
193 |             elapsed_time_shutdown = @elapsed write_shutdown(path, inputs, setup, EP)
194 |             println("Time elapsed for writing shutdown is")
195 |             println(elapsed_time_shutdown)
196 |         end
197 | 
198 |         if setup["OperationalReserves"] == 1
199 |             if output_settings_d["WriteReg"]
200 |                 elapsed_time_reg = @elapsed write_reg(path, inputs, setup, EP)
201 |                 println("Time elapsed for writing regulation is")
202 |                 println(elapsed_time_reg)
203 |             end
204 | 
205 |             if output_settings_d["WriteRsv"]
206 |                 elapsed_time_rsv = @elapsed write_rsv(path, inputs, setup, EP)
207 |                 println("Time elapsed for writing reserves is")
208 |                 println(elapsed_time_rsv)
209 |             end
210 |         end
211 | 
212 |         # fusion is only applicable to UCommit=1 resources
213 |         if output_settings_d["WriteFusion"] && has_fusion(inputs)
214 |             write_fusion_net_capacity_factor(path, inputs, setup, EP)
215 |             write_fusion_pulse_starts(path, inputs, setup, EP)
216 |         end
217 |     end
218 | 
219 |     # Output additional variables related inter-period energy transfer via storage
220 |     representative_periods = inputs["REP_PERIOD"]
221 |     if representative_periods > 1 &&
222 |        (!isempty(inputs["STOR_LONG_DURATION"]) || !isempty(VS_LDS))
223 |         if output_settings_d["WriteOpWrapLDSStorInit"]
224 |             elapsed_time_lds_init = @elapsed write_opwrap_lds_stor_init(path,
225 |                 inputs,
226 |                 setup,
227 |                 EP)
228 |             println("Time elapsed for writing lds init is")
229 |             println(elapsed_time_lds_init)
230 |         end
231 | 
232 |         if output_settings_d["WriteOpWrapLDSdStor"]
233 |             elapsed_time_lds_dstor = @elapsed write_opwrap_lds_dstor(path,
234 |                 inputs,
235 |                 setup,
236 |                 EP)
237 |             println("Time elapsed for writing lds dstor is")
238 |             println(elapsed_time_lds_dstor)
239 |         end
240 |     end
241 | 
242 |     if output_settings_d["WriteFuelConsumption"]
243 |         elapsed_time_fuel_consumption = @elapsed write_fuel_consumption(path,
244 |             inputs,
245 |             setup,
246 |             EP)
247 |         println("Time elapsed for writing fuel consumption is")
248 |         println(elapsed_time_fuel_consumption)
249 |     end
250 | 
251 |     if output_settings_d["WriteCO2"]
252 |         elapsed_time_emissions = @elapsed write_co2(path, inputs, setup, EP)
253 |         println("Time elapsed for writing co2 is")
254 |         println(elapsed_time_emissions)
255 |     end
256 | 
257 |     if has_maintenance(inputs) && output_settings_d["WriteMaintenance"]
258 |         write_maintenance(path, inputs, setup, EP)
259 |     end
260 | 
261 |     #Write angles when DC_OPF is activated
262 |     if setup["DC_OPF"] == 1 && output_settings_d["WriteAngles"]
263 |         elapsed_time_angles = @elapsed write_angles(path, inputs, setup, EP)
264 |         println("Time elapsed for writing angles is")
265 |         println(elapsed_time_angles)
266 |     end
267 | 
268 |     # Temporary! Suppress these outputs until we know that they are compatable with multi-stage modeling
269 |     if setup["MultiStage"] == 0
270 |         dfEnergyRevenue = DataFrame()
271 |         dfChargingcost = DataFrame()
272 |         dfSubRevenue = DataFrame()
273 |         dfRegSubRevenue = DataFrame()
274 |         if has_duals(EP) == 1
275 |             if output_settings_d["WritePrice"]
276 |                 elapsed_time_price = @elapsed write_price(path, inputs, setup, EP)
277 |                 println("Time elapsed for writing price is")
278 |                 println(elapsed_time_price)
279 |             end
280 | 
281 |             if output_settings_d["WriteEnergyRevenue"] ||
282 |                output_settings_d["WriteNetRevenue"]
283 |                 elapsed_time_energy_rev = @elapsed dfEnergyRevenue = write_energy_revenue(
284 |                     path,
285 |                     inputs,
286 |                     setup,
287 |                     EP)
288 |                 println("Time elapsed for writing energy revenue is")
289 |                 println(elapsed_time_energy_rev)
290 |             end
291 | 
292 |             if output_settings_d["WriteChargingCost"] ||
293 |                output_settings_d["WriteNetRevenue"]
294 |                 elapsed_time_charging_cost = @elapsed dfChargingcost = write_charging_cost(
295 |                     path,
296 |                     inputs,
297 |                     setup,
298 |                     EP)
299 |                 println("Time elapsed for writing charging cost is")
300 |                 println(elapsed_time_charging_cost)
301 |             end
302 | 
303 |             if output_settings_d["WriteSubsidyRevenue"] ||
304 |                output_settings_d["WriteNetRevenue"]
305 |                 elapsed_time_subsidy = @elapsed dfSubRevenue, dfRegSubRevenue = write_subsidy_revenue(
306 |                     path,
307 |                     inputs,
308 |                     setup,
309 |                     EP)
310 |                 println("Time elapsed for writing subsidy is")
311 |                 println(elapsed_time_subsidy)
312 |             end
313 |         end
314 | 
315 |         if output_settings_d["WriteTimeWeights"]
316 |             elapsed_time_time_weights = @elapsed write_time_weights(path, inputs)
317 |             println("Time elapsed for writing time weights is")
318 |             println(elapsed_time_time_weights)
319 |         end
320 | 
321 |         dfESRRev = DataFrame()
322 |         if setup["EnergyShareRequirement"] == 1 && has_duals(EP)
323 |             dfESR = DataFrame()
324 |             if output_settings_d["WriteESRPrices"] ||
325 |                output_settings_d["WriteESRRevenue"] || output_settings_d["WriteNetRevenue"]
326 |                 elapsed_time_esr_prices = @elapsed dfESR = write_esr_prices(path,
327 |                     inputs,
328 |                     setup,
329 |                     EP)
330 |                 println("Time elapsed for writing esr prices is")
331 |                 println(elapsed_time_esr_prices)
332 |             end
333 | 
334 |             if output_settings_d["WriteESRRevenue"] || output_settings_d["WriteNetRevenue"]
335 |                 elapsed_time_esr_revenue = @elapsed dfESRRev = write_esr_revenue(path,
336 |                     inputs,
337 |                     setup,
338 |                     dfPower,
339 |                     dfESR,
340 |                     EP)
341 |                 println("Time elapsed for writing esr revenue is")
342 |                 println(elapsed_time_esr_revenue)
343 |             end
344 |         end
345 | 
346 |         dfResRevenue = DataFrame()
347 |         if setup["CapacityReserveMargin"] == 1 && has_duals(EP)
348 |             if output_settings_d["WriteReserveMargin"]
349 |                 elapsed_time_reserve_margin = @elapsed write_reserve_margin(path, setup, EP)
350 |                 println("Time elapsed for writing reserve margin is")
351 |                 println(elapsed_time_reserve_margin)
352 |             end
353 | 
354 |             if output_settings_d["WriteReserveMarginWithWeights"]
355 |                 elapsed_time_rsv_margin_w = @elapsed write_reserve_margin_w(path,
356 |                     inputs,
357 |                     setup,
358 |                     EP)
359 |                 println("Time elapsed for writing reserve margin with weights is")
360 |                 println(elapsed_time_rsv_margin_w)
361 |             end
362 | 
363 |             if output_settings_d["WriteVirtualDischarge"]
364 |                 elapsed_time_virtual_discharge = @elapsed write_virtual_discharge(path,
365 |                     inputs,
366 |                     setup,
367 |                     EP)
368 |                 println("Time elapsed for writing virtual discharge is")
369 |                 println(elapsed_time_virtual_discharge)
370 |             end
371 | 
372 |             if output_settings_d["WriteReserveMarginRevenue"] ||
373 |                output_settings_d["WriteNetRevenue"]
374 |                 elapsed_time_res_rev = @elapsed dfResRevenue = write_reserve_margin_revenue(
375 |                     path,
376 |                     inputs,
377 |                     setup,
378 |                     EP)
379 |                 println("Time elapsed for writing reserve revenue is")
380 |                 println(elapsed_time_res_rev)
381 |             end
382 | 
383 |             if haskey(inputs, "dfCapRes_slack") &&
384 |                output_settings_d["WriteReserveMarginSlack"]
385 |                 elapsed_time_rsv_slack = @elapsed write_reserve_margin_slack(path,
386 |                     inputs,
387 |                     setup,
388 |                     EP)
389 |                 println("Time elapsed for writing reserve margin slack is")
390 |                 println(elapsed_time_rsv_slack)
391 |             end
392 | 
393 |             if output_settings_d["WriteCapacityValue"]
394 |                 elapsed_time_cap_value = @elapsed write_capacity_value(path,
395 |                     inputs,
396 |                     setup,
397 |                     EP)
398 |                 println("Time elapsed for writing capacity value is")
399 |                 println(elapsed_time_cap_value)
400 |             end
401 |         end
402 | 
403 |         dfOpRegRevenue = DataFrame()
404 |         dfOpRsvRevenue = DataFrame()
405 |         if setup["OperationalReserves"] == 1 && has_duals(EP)
406 |             elapsed_time_op_res_rev = @elapsed dfOpRegRevenue, dfOpRsvRevenue = write_operating_reserve_regulation_revenue(
407 |                 path,
408 |                 inputs,
409 |                 setup,
410 |                 EP)
411 |             println("Time elapsed for writing oerating reserve and regulation revenue is")
412 |             println(elapsed_time_op_res_rev)
413 |         end
414 | 
415 |         if setup["CO2Cap"] > 0 && has_duals(EP) == 1 && output_settings_d["WriteCO2Cap"]
416 |             elapsed_time_co2_cap = @elapsed write_co2_cap(path, inputs, setup, EP)
417 |             println("Time elapsed for writing co2 cap is")
418 |             println(elapsed_time_co2_cap)
419 |         end
420 |         if setup["MinCapReq"] == 1 && has_duals(EP) == 1 &&
421 |            output_settings_d["WriteMinCapReq"]
422 |             elapsed_time_min_cap_req = @elapsed write_minimum_capacity_requirement(path,
423 |                 inputs,
424 |                 setup,
425 |                 EP)
426 |             println("Time elapsed for writing minimum capacity requirement is")
427 |             println(elapsed_time_min_cap_req)
428 |         end
429 | 
430 |         if setup["MaxCapReq"] == 1 && has_duals(EP) == 1 &&
431 |            output_settings_d["WriteMaxCapReq"]
432 |             elapsed_time_max_cap_req = @elapsed write_maximum_capacity_requirement(path,
433 |                 inputs,
434 |                 setup,
435 |                 EP)
436 |             println("Time elapsed for writing maximum capacity requirement is")
437 |             println(elapsed_time_max_cap_req)
438 |         end
439 | 
440 |         if setup["HydrogenMinimumProduction"] == 1 && has_duals(EP)
441 |             if output_settings_d["WriteHydrogenPrices"]
442 |                 elapsed_time_hydrogen_prices = @elapsed write_hydrogen_prices(path,
443 |                     inputs,
444 |                     setup,
445 |                     EP)
446 |                 println("Time elapsed for writing hydrogen prices is")
447 |                 println(elapsed_time_hydrogen_prices)
448 |             end
449 |             if setup["HourlyMatching"] == 1 &&
450 |                output_settings_d["WriteHourlyMatchingPrices"]
451 |                 elapsed_time_hourly_matching_prices = @elapsed write_hourly_matching_prices(
452 |                     path,
453 |                     inputs,
454 |                     setup,
455 |                     EP)
456 |                 println("Time elapsed for writing hourly matching prices is")
457 |                 println(elapsed_time_hourly_matching_prices)
458 |             end
459 |         end
460 | 
461 |         if output_settings_d["WriteNetRevenue"]
462 |             elapsed_time_net_rev = @elapsed write_net_revenue(path,
463 |                 inputs,
464 |                 setup,
465 |                 EP,
466 |                 dfCap,
467 |                 dfESRRev,
468 |                 dfResRevenue,
469 |                 dfChargingcost,
470 |                 dfPower,
471 |                 dfEnergyRevenue,
472 |                 dfSubRevenue,
473 |                 dfRegSubRevenue,
474 |                 dfVreStor,
475 |                 dfOpRegRevenue,
476 |                 dfOpRsvRevenue)
477 |             println("Time elapsed for writing net revenue is")
478 |             println(elapsed_time_net_rev)
479 |         end
480 |     end
481 |     ## Print confirmation
482 |     println("Wrote outputs to $path")
483 | 
484 |     return path
485 | end # END output()
486 | 
487 | """
488 | 	write_annual(fullpath::AbstractString, dfOut::DataFrame)
489 | 
490 | Internal function for writing annual outputs. 
491 | """
492 | function write_annual(fullpath::AbstractString, dfOut::DataFrame)
493 |     push!(dfOut, ["Total" 0 sum(dfOut[!, :AnnualSum], init = 0.0)])
494 |     CSV.write(fullpath, dfOut)
495 |     return nothing
496 | end
497 | 
498 | """
499 | 	write_fulltimeseries(fullpath::AbstractString, dataOut::Matrix{Float64}, dfOut::DataFrame)
500 | 
501 | Internal function for writing full time series outputs. This function wraps the instructions for creating the full time series output files. 
502 | """
503 | function write_fulltimeseries(fullpath::AbstractString,
504 |         dataOut::Matrix{Float64},
505 |         dfOut::DataFrame)
506 |     T = size(dataOut, 2)
507 |     dfOut = hcat(dfOut, DataFrame(dataOut, :auto))
508 |     auxNew_Names = [Symbol("Resource");
509 |                     Symbol("Zone");
510 |                     Symbol("AnnualSum");
511 |                     [Symbol("t$t") for t in 1:T]]
512 |     rename!(dfOut, auxNew_Names)
513 |     total = DataFrame(
514 |         ["Total" 0 sum(dfOut[!, :AnnualSum], init = 0.0) fill(0.0, (1, T))], auxNew_Names)
515 |     total[!, 4:(T + 3)] .= sum(dataOut, dims = 1, init = 0.0)
516 |     dfOut = vcat(dfOut, total)
517 | 
518 |     CSV.write(fullpath, dftranspose(dfOut, false), writeheader = false)
519 |     return dfOut
520 | end
521 | 
522 | """
523 |     write_settings_file(path, setup)
524 | 
525 | Internal function for writing settings files
526 | """
527 | function write_settings_file(path, setup)
528 |     YAML.write_file(joinpath(path, "run_settings.yml"), setup)
529 | end
530 | 
531 | """
532 |     write_system_env_summary(path::AbstractString)
533 | 
534 | Write a summary of the current testing environment to a YAML file. The summary 
535 | includes information like the CPU name and architecture, number of CPU threads, 
536 | JIT status, operating system kernel, machine name, Julia standard library path, 
537 | Julia version and GenX version.
538 | 
539 | # Arguments
540 | - `path::AbstractString`: The directory path where the YAML file will be written.
541 | 
542 | # Output
543 | Writes a file named `env_summary.yml` in the specified directory.
544 | 
545 | """
546 | function write_system_env_summary(path::AbstractString)
547 |     v = pkgversion(GenX)
548 |     env_summary = Dict(
549 |         :ARCH => getproperty(Sys, :ARCH),
550 |         :CPU_NAME => getproperty(Sys, :CPU_NAME),
551 |         :CPU_THREADS => getproperty(Sys, :CPU_THREADS),
552 |         :JIT => getproperty(Sys, :JIT),
553 |         :KERNEL => getproperty(Sys, :KERNEL),
554 |         :MACHINE => getproperty(Sys, :MACHINE),
555 |         :JULIA_STDLIB => getproperty(Sys, :STDLIB),
556 |         :JULIA_VERSION => VERSION,
557 |         :GENX_VERSION => v
558 |     )
559 | 
560 |     YAML.write_file(joinpath(path, "system_summary.yml"), env_summary)
561 | end
562 | 
563 | # used by ucommit. Could be used by more functions as well.
564 | function _create_annualsum_df(inputs::Dict, set::Vector{Int64}, data::Matrix{Float64})
565 |     resources = inputs["RESOURCE_NAMES"][set]
566 |     zones = inputs["R_ZONES"][set]
567 |     weight = inputs["omega"]
568 |     df_annual = DataFrame(Resource = resources, Zone = zones)
569 |     df_annual.AnnualSum = data * weight
570 |     return df_annual
571 | end
572 | 
573 | function write_temporal_data(
574 |         df_annual, data, path::AbstractString, setup::Dict, filename::AbstractString)
575 |     filepath = joinpath(path, filename * ".csv")
576 |     if setup["WriteOutputs"] == "annual"
577 |         # df_annual is expected to have an AnnualSum column.
578 |         write_annual(filepath, df_annual)
579 |     else # setup["WriteOutputs"] == "full"
580 |         df_full = write_fulltimeseries(filepath, data, df_annual)
581 |         if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
582 |             write_full_time_series_reconstruction(path, setup, df_full, filename)
583 |             @info("Writing Full Time Series for "*filename)
584 |         end
585 |     end
586 |     return nothing
587 | end
588 | 
589 | @doc raw"""write_full_time_series_reconstruction(path::AbstractString,
590 |                             setup::Dict,
591 |                             DF::DataFrame,
592 |                             name::String)
593 | Create a DataFrame with all 8,760 hours of the year from the reduced output.
594 | 
595 | This function calls `full_time_series_reconstruction()``, which uses Period_map.csv to create a new DataFrame with 8,760 time steps, as well as other pre-existing rows such as "Zone".
596 | For each 52 weeks of the year, the corresponding representative week is taken from the input DataFrame and copied into the new DataFrame. Representative periods that 
597 | represent more than one week will appear multiple times in the output. 
598 | 
599 | Note: Currently, TDR only gives the representative periods in Period_map for 52 weeks, when a (non-leap) year is 52 weeks + 24 hours. This function takes the last 24 hours of 
600 | the time series and copies them to get up to all 8,760 hours in a year.
601 | 
602 | This function is called when output files with time series data (e.g. power.csv, emissions.csv) are created, if the setup key "OutputFullTimeSeries" is set to "1".
603 | 
604 | # Arguments
605 | - `path` (AbstractString): Path input to the results folder
606 | - `setup` (Dict): Case setup
607 | - `DF` (DataFrame): DataFrame to be reconstructed
608 | - `name` (String): Name desired for the .csv file
609 | 
610 | """
611 | function write_full_time_series_reconstruction(
612 |         path::AbstractString, setup::Dict, DF::DataFrame, name::String)
613 |     FullTimeSeriesFolder = setup["OutputFullTimeSeriesFolder"]
614 |     output_path = joinpath(path, FullTimeSeriesFolder)
615 |     dfOut_full = full_time_series_reconstruction(path, setup, dftranspose(DF, false))
616 |     CSV.write(joinpath(output_path, "$name.csv"), dfOut_full, header = false)
617 |     return nothing
618 | end
619 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_power.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_power(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for writing the different values of power generated by the different technologies in operation.
 5 | """
 6 | function write_power(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     gen = inputs["RESOURCES"]   # Resources (objects)
 8 |     resources = inputs["RESOURCE_NAMES"]    # Resource names
 9 |     zones = zone_id.(gen)
10 | 
11 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
12 |     T = inputs["T"]     # Number of time steps (hours)
13 |     
14 |     weight = inputs["omega"]
15 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
16 | 
17 |     # Power injected by each resource in each time step
18 |     power = value.(EP[:vP])
19 |     power *= scale_factor
20 | 
21 |     df = DataFrame(Resource = resources,
22 |         Zone = zones,
23 |         AnnualSum = zeros(G))
24 |     df.AnnualSum .= power * weight
25 | 
26 |     write_temporal_data(df, power, path, setup, "power")
27 |     return df
28 | end
29 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_power_balance.jl:
--------------------------------------------------------------------------------
  1 | function write_power_balance(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  2 |     gen = inputs["RESOURCES"]
  3 |     T = inputs["T"]     # Number of time steps (hours)
  4 |     Z = inputs["Z"]     # Number of zones
  5 |     SEG = inputs["SEG"] # Number of demand curtailment segments
  6 |     THERM_ALL = inputs["THERM_ALL"]
  7 |     VRE = inputs["VRE"]
  8 |     MUST_RUN = inputs["MUST_RUN"]
  9 |     HYDRO_RES = inputs["HYDRO_RES"]
 10 |     STOR_ALL = inputs["STOR_ALL"]
 11 |     FLEX = inputs["FLEX"]
 12 |     ELECTROLYZER = inputs["ELECTROLYZER"]
 13 |     VRE_STOR = inputs["VRE_STOR"]
 14 |     FUSION = ids_with(gen, :fusion)
 15 |     Com_list = ["Generation", "Storage_Discharge", "Storage_Charge",
 16 |         "Flexible_Demand_Defer", "Flexible_Demand_Stasify",
 17 |         "Demand_Response", "Nonserved_Energy",
 18 |         "Transmission_NetExport", "Transmission_Losses",
 19 |         "Demand"]
 20 |     if !isempty(ELECTROLYZER)
 21 |         push!(Com_list, "Electrolyzer_Consumption")
 22 |     end
 23 |     if !isempty(VRE_STOR)
 24 |         push!(Com_list, "VRE_Storage_Discharge")
 25 |         push!(Com_list, "VRE_Storage_Charge")
 26 |     end
 27 |     if !isempty(FUSION)
 28 |         push!(Com_list, "Fusion_parasitic_power")
 29 |     end
 30 |     L = length(Com_list)
 31 |     dfPowerBalance = DataFrame(BalanceComponent = repeat(Com_list, outer = Z),
 32 |         Zone = repeat(1:Z, inner = L),
 33 |         AnnualSum = zeros(L * Z))
 34 |     powerbalance = zeros(Z * L, T) # following the same style of power/charge/storage/nse
 35 |     for z in 1:Z
 36 |         POWER_ZONE = intersect(resources_in_zone_by_rid(gen, z),
 37 |             union(THERM_ALL, VRE, MUST_RUN, HYDRO_RES))
 38 |         powerbalance[(z - 1) * L + 1, :] = sum(value.(EP[:vP][POWER_ZONE, :]), dims = 1)
 39 |         if !isempty(intersect(resources_in_zone_by_rid(gen, z), STOR_ALL))
 40 |             STOR_ALL_ZONE = intersect(resources_in_zone_by_rid(gen, z), STOR_ALL)
 41 |             powerbalance[(z - 1) * L + 2, :] = sum(value.(EP[:vP][STOR_ALL_ZONE, :]),
 42 |                 dims = 1)
 43 |             powerbalance[(z - 1) * L + 3, :] = (-1) * sum(
 44 |                 (value.(EP[:vCHARGE][STOR_ALL_ZONE,:]).data),
 45 |                 dims = 1)
 46 |         end
 47 |         if !isempty(intersect(resources_in_zone_by_rid(gen, z), FLEX))
 48 |             FLEX_ZONE = intersect(resources_in_zone_by_rid(gen, z), FLEX)
 49 |             powerbalance[(z - 1) * L + 4, :] = sum(
 50 |                 (value.(EP[:vCHARGE_FLEX][FLEX_ZONE,:]).data),
 51 |                 dims = 1)
 52 |             powerbalance[(z - 1) * L + 5, :] = (-1) *
 53 |                                                sum(value.(EP[:vP][FLEX_ZONE, :]), dims = 1)
 54 |         end
 55 |         if SEG > 1
 56 |             powerbalance[(z - 1) * L + 6, :] = sum(value.(EP[:vNSE][2:SEG, :, z]), dims = 1)
 57 |         end
 58 |         powerbalance[(z - 1) * L + 7, :] = value.(EP[:vNSE][1, :, z])
 59 |         if Z >= 2
 60 |             powerbalance[(z - 1) * L + 8, :] = (value.(EP[:ePowerBalanceNetExportFlows][:,
 61 |                 z]))' # Transpose
 62 |             powerbalance[(z - 1) * L + 9, :] = -(value.(EP[:eLosses_By_Zone][z, :]))
 63 |         end
 64 |         powerbalance[(z - 1) * L + 10, :] = (((-1) * inputs["pD"][:, z]))' # Transpose
 65 |         if !isempty(ELECTROLYZER)
 66 |             ELECTROLYZER_ZONE = intersect(resources_in_zone_by_rid(gen, z), ELECTROLYZER)
 67 |             powerbalance[(z - 1) * L + 11, :] = (-1) * sum(
 68 |                 value.(EP[:vUSE][ELECTROLYZER_ZONE,:].data),
 69 |                 dims = 1)
 70 |         end
 71 |         # VRE storage discharge and charge
 72 |         if !isempty(intersect(resources_in_zone_by_rid(gen, z), VRE_STOR))
 73 |             VS_ALL_ZONE = intersect(resources_in_zone_by_rid(gen, z), inputs["VS_STOR"])
 74 | 
 75 |             # if ELECTROLYZER is not empty, increase indices by 1
 76 |             is_electrolyzer_empty = isempty(ELECTROLYZER)
 77 |             discharge_idx = is_electrolyzer_empty ? 11 : 12
 78 |             charge_idx = is_electrolyzer_empty ? 12 : 13
 79 | 
 80 |             powerbalance[(z - 1) * L + discharge_idx, :] = sum(
 81 |                 value.(EP[:vP][VS_ALL_ZONE, :]), dims = 1)
 82 |             powerbalance[(z - 1) * L + charge_idx, :] = (-1) * sum(
 83 |                 value.(EP[:vCHARGE_VRE_STOR][VS_ALL_ZONE, :]).data, dims = 1)
 84 |         end
 85 |         FUSION_ZONE = intersect(resources_in_zone_by_rid(gen, z), FUSION)
 86 |         if !isempty(FUSION_ZONE)
 87 |             # this index-modification strategy is becoming unsustainable. We should just use
 88 |             # a dataframe with named columns or something else.
 89 |             idx = 11
 90 |             if !isempty(ELECTROLYZER)
 91 |                 idx += 1
 92 |             end
 93 |             if !isempty(VRE_STOR)
 94 |                 idx += 2
 95 |             end
 96 |             powerbalance[(z - 1) * L + idx, :] = -fusion_total_parasitic_power_unscaled(
 97 |                 EP, inputs, z)
 98 |         end
 99 |     end
100 |     if setup["ParameterScale"] == 1
101 |         powerbalance *= ModelScalingFactor
102 |     end
103 |     dfPowerBalance.AnnualSum .= powerbalance * inputs["omega"]
104 | 
105 |     if setup["WriteOutputs"] == "annual"
106 |         CSV.write(joinpath(path, "power_balance.csv"), dfPowerBalance)
107 |     else # setup["WriteOutputs"] == "full"	
108 |         dfPowerBalance = hcat(dfPowerBalance, DataFrame(powerbalance, :auto))
109 |         auxNew_Names = [Symbol("BalanceComponent");
110 |                         Symbol("Zone");
111 |                         Symbol("AnnualSum");
112 |                         [Symbol("t$t") for t in 1:T]]
113 |         rename!(dfPowerBalance, auxNew_Names)
114 |         CSV.write(joinpath(path, "power_balance.csv"),
115 |             dftranspose(dfPowerBalance, false),
116 |             writeheader = false)
117 | 
118 |         if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
119 |             write_full_time_series_reconstruction(
120 |                 path, setup, dfPowerBalance, "power_balance")
121 |             @info("Writing Full Time Series for Power Balance")
122 |         end
123 |     end
124 |     return nothing
125 | end
126 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_price.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_price(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting marginal electricity price for each model zone and time step. Marginal electricity price is equal to the dual variable of the power balance constraint. If GenX is configured as a mixed integer linear program, then this output is only generated if `WriteShadowPrices` flag is activated. If configured as a linear program (i.e. linearized unit commitment or economic dispatch) then output automatically available.
 5 | """
 6 | function write_price(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     T = inputs["T"]     # Number of time steps (hours)
 8 |     Z = inputs["Z"]     # Number of zones
 9 | 
10 |     ## Extract dual variables of constraints
11 |     # Electricity price: Dual variable of hourly power balance constraint = hourly price
12 |     dfPrice = DataFrame(Zone = 1:Z) # The unit is $/MWh
13 |     # Dividing dual variable for each hour with corresponding hourly weight to retrieve marginal cost of generation
14 |     price = locational_marginal_price(EP, inputs, setup)
15 |     dfPrice = hcat(dfPrice, DataFrame(transpose(price), :auto))
16 | 
17 |     auxNew_Names = [Symbol("Zone"); [Symbol("t$t") for t in 1:T]]
18 |     rename!(dfPrice, auxNew_Names)
19 | 
20 |     ## Linear configuration final output
21 |     CSV.write(joinpath(path, "prices.csv"),
22 |         dftranspose(dfPrice, false),
23 |         writeheader = false)
24 | 
25 |     if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
26 |         write_full_time_series_reconstruction(path, setup, dfPrice, "prices")
27 |         @info("Writing Full Time Series for Price")
28 |     end
29 |     return nothing
30 | end
31 | 
32 | @doc raw"""
33 | 	locational_marginal_price(EP::Model, inputs::Dict, setup::Dict)
34 | 
35 | Marginal electricity price for each model zone and time step.
36 | This is equal to the dual variable of the power balance constraint.
37 | When solving a linear program (i.e. linearized unit commitment or economic dispatch)
38 | this output is always available; when solving a mixed integer linear program, this can
39 | be calculated only if `WriteShadowPrices` is activated.
40 | 
41 |     Returns a matrix of size (T, Z).
42 |     Values have units of $/MWh
43 | """
44 | function locational_marginal_price(EP::Model, inputs::Dict, setup::Dict)::Matrix{Float64}
45 |     Ï‰ = inputs["omega"]
46 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
47 |     return dual.(EP[:cPowerBalance]) ./ Ï‰ * scale_factor
48 | end
49 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_reliability.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_reliability(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting dual variable of maximum non-served energy constraint (shadow price of reliability constraint) for each model zone and time step.
 5 | """
 6 | function write_reliability(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     T = inputs["T"]     # Number of time steps (hours)
 8 |     Z = inputs["Z"]     # Number of zones
 9 | 
10 |     # reliability: Dual variable of maximum NSE constraint = shadow value of reliability constraint
11 |     dfReliability = DataFrame(Zone = 1:Z)
12 |     # Dividing dual variable for each hour with corresponding hourly weight to retrieve marginal cost of generation
13 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
14 |     dfReliability = hcat(dfReliability,
15 |         DataFrame(transpose(dual.(EP[:cMaxNSE]) ./ inputs["omega"] * scale_factor), :auto))
16 | 
17 |     auxNew_Names = [Symbol("Zone"); [Symbol("t$t") for t in 1:T]]
18 |     rename!(dfReliability, auxNew_Names)
19 | 
20 |     CSV.write(joinpath(path, "reliability.csv"),
21 |         dftranspose(dfReliability, false),
22 |         header = false)
23 | 
24 |     if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
25 |         write_full_time_series_reconstruction(path, setup, dfReliability, "reliability")
26 |         @info("Writing Full Time Series for Reliability")
27 |     end
28 | end
29 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_status.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_status(path::AbstractString, inputs::Dict, EP::Model)
 3 | 
 4 | Function for writing the final solve status of the optimization problem solved.
 5 | """
 6 | function write_status(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 | 
 8 |     # https://jump.dev/MathOptInterface.jl/v0.9.10/apireference/#MathOptInterface.TerminationStatusCode
 9 |     status = termination_status(EP)
10 | 
11 |     # Note: Gurobi excludes constants from solver reported objective function value - MIPGap calculated may be erroneous
12 |     if (setup["UCommit"] == 0 || setup["UCommit"] == 2)
13 |         dfStatus = DataFrame(Status = status, Solve = inputs["solve_time"],
14 |             Objval = objective_value(EP))
15 |     else
16 |         dfStatus = DataFrame(Status = status, Solve = inputs["solve_time"],
17 |             Objval = objective_value(EP), Objbound = objective_bound(EP),
18 |             FinalMIPGap = (objective_value(EP) - objective_bound(EP)) / objective_value(EP))
19 |     end
20 |     CSV.write(joinpath(path, "status.csv"), dfStatus)
21 | end
22 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_storage.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_storage(path::AbstractString, inputs::Dict,setup::Dict, EP::Model)
 3 | 
 4 | Function for writing the capacities of different storage technologies, including hydro reservoir, flexible storage tech etc.
 5 | """
 6 | function write_storage(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     gen = inputs["RESOURCES"]   # Resources (objects)
 8 |     resources = inputs["RESOURCE_NAMES"]   # Resource names
 9 |     zones = zone_id.(gen)
10 | 
11 |     T = inputs["T"]     # Number of time steps (hours)
12 |     G = inputs["G"]
13 |     STOR_ALL = inputs["STOR_ALL"]
14 |     HYDRO_RES = inputs["HYDRO_RES"]
15 |     FLEX = inputs["FLEX"]
16 |     VRE_STOR = inputs["VRE_STOR"]
17 |     VS_STOR = !isempty(VRE_STOR) ? inputs["VS_STOR"] : []
18 | 
19 |     weight = inputs["omega"]
20 |     scale_factor = setup["ParameterScale"] == 1 ? ModelScalingFactor : 1
21 | 
22 |     stored = Matrix[]
23 |     if !isempty(STOR_ALL)
24 |         push!(stored, value.(EP[:vS]))
25 |     end
26 |     if !isempty(HYDRO_RES)
27 |         push!(stored, value.(EP[:vS_HYDRO]))
28 |     end
29 |     if !isempty(FLEX)
30 |         push!(stored, value.(EP[:vS_FLEX]))
31 |     end
32 |     if !isempty(VS_STOR)
33 |         push!(stored, value.(EP[:vS_VRE_STOR]))
34 |     end
35 |     stored = reduce(vcat, stored, init = zeros(0, T))
36 |     stored *= scale_factor
37 | 
38 |     stored_ids = convert(Vector{Int}, vcat(STOR_ALL, HYDRO_RES, FLEX, VS_STOR))
39 |     df = DataFrame(Resource = resources[stored_ids],
40 |         Zone = zones[stored_ids])
41 |     df.AnnualSum = stored * weight
42 | 
43 |     write_temporal_data(df, stored, path, setup, "storage")
44 | end
45 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_storagedual.jl:
--------------------------------------------------------------------------------
 1 | @doc raw"""
 2 | 	write_storagedual(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 3 | 
 4 | Function for reporting dual of storage level (state of charge) balance of each resource in each time step.
 5 | """
 6 | function write_storagedual(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 7 |     gen = inputs["RESOURCES"]
 8 |     zones = zone_id.(gen)
 9 | 
10 |     G = inputs["G"]     # Number of resources (generators, storage, DR, and DERs)
11 |     T = inputs["T"]     # Number of time steps (hours)
12 | 
13 |     START_SUBPERIODS = inputs["START_SUBPERIODS"]
14 |     INTERIOR_SUBPERIODS = inputs["INTERIOR_SUBPERIODS"]
15 |     REP_PERIOD = inputs["REP_PERIOD"]
16 |     STOR_ALL = inputs["STOR_ALL"]
17 |     VRE_STOR = inputs["VRE_STOR"]
18 |     if !isempty(VRE_STOR)
19 |         VS_STOR = inputs["VS_STOR"]
20 |         VS_LDS = inputs["VS_LDS"]
21 |         VS_NONLDS = setdiff(VS_STOR, VS_LDS)
22 |     end
23 | 
24 |     # # Dual of storage level (state of charge) balance of each resource in each time step
25 |     dfStorageDual = DataFrame(Resource = inputs["RESOURCE_NAMES"], Zone = zones)
26 |     dual_values = zeros(G, T)
27 | 
28 |     # Loop over W separately hours_per_subperiod
29 |     if !isempty(STOR_ALL)
30 |         STOR_ALL_NONLDS = setdiff(STOR_ALL, inputs["STOR_LONG_DURATION"])
31 |         STOR_ALL_LDS = intersect(STOR_ALL, inputs["STOR_LONG_DURATION"])
32 |         dual_values[STOR_ALL, INTERIOR_SUBPERIODS] = (dual.(EP[:cSoCBalInterior][
33 |             INTERIOR_SUBPERIODS,
34 |             STOR_ALL]).data ./ inputs["omega"][INTERIOR_SUBPERIODS])'
35 |         dual_values[STOR_ALL_NONLDS, START_SUBPERIODS] = (dual.(EP[:cSoCBalStart][
36 |             START_SUBPERIODS,
37 |             STOR_ALL_NONLDS]).data ./ inputs["omega"][START_SUBPERIODS])'
38 |         if !isempty(STOR_ALL_LDS)
39 |             if inputs["REP_PERIOD"] > 1
40 |                 dual_values[STOR_ALL_LDS, START_SUBPERIODS] = (dual.(EP[:cSoCBalLongDurationStorageStart][
41 |                     1:REP_PERIOD,
42 |                     STOR_ALL_LDS]).data ./ inputs["omega"][START_SUBPERIODS])'
43 |             else
44 |                 dual_values[STOR_ALL_LDS, START_SUBPERIODS] = (dual.(EP[:cSoCBalStart][
45 |                     START_SUBPERIODS,
46 |                     STOR_ALL_LDS]).data ./ inputs["omega"][START_SUBPERIODS])'
47 |             end
48 |         end
49 |     end
50 | 
51 |     if !isempty(VRE_STOR)
52 |         dual_values[VS_STOR, INTERIOR_SUBPERIODS] = ((dual.(EP[:cSoCBalInterior_VRE_STOR][
53 |             VS_STOR,
54 |             INTERIOR_SUBPERIODS]).data)' ./ inputs["omega"][INTERIOR_SUBPERIODS])'
55 |         dual_values[VS_NONLDS, START_SUBPERIODS] = ((dual.(EP[:cSoCBalStart_VRE_STOR][
56 |             VS_NONLDS,
57 |             START_SUBPERIODS]).data)' ./ inputs["omega"][START_SUBPERIODS])'
58 |         if !isempty(VS_LDS)
59 |             if inputs["REP_PERIOD"] > 1
60 |                 dual_values[VS_LDS, START_SUBPERIODS] = ((dual.(EP[:cVreStorSoCBalLongDurationStorageStart][
61 |                     VS_LDS,
62 |                     1:REP_PERIOD]).data)' ./ inputs["omega"][START_SUBPERIODS])'
63 |             else
64 |                 dual_values[VS_LDS, START_SUBPERIODS] = ((dual.(EP[:cSoCBalStart_VRE_STOR][
65 |                     VS_LDS,
66 |                     START_SUBPERIODS]).data)' ./ inputs["omega"][START_SUBPERIODS])'
67 |             end
68 |         end
69 |     end
70 | 
71 |     if setup["ParameterScale"] == 1
72 |         dual_values *= ModelScalingFactor
73 |     end
74 | 
75 |     dfStorageDual = hcat(dfStorageDual, DataFrame(dual_values, :auto))
76 |     rename!(dfStorageDual,
77 |         [Symbol("Resource"); Symbol("Zone"); [Symbol("t$t") for t in 1:T]])
78 | 
79 |     CSV.write(joinpath(path, "storagebal_duals.csv"),
80 |         dftranspose(dfStorageDual, false),
81 |         header = false)
82 | 
83 |     if setup["OutputFullTimeSeries"] == 1 && setup["TimeDomainReduction"] == 1
84 |         write_full_time_series_reconstruction(
85 |             path, setup, dfStorageDual, "storagebal_duals")
86 |         @info("Writing Full Time Series for Storage Duals")
87 |     end
88 | end
89 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_subsidy_revenue.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_subsidy_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  3 | 
  4 | Function for reporting subsidy revenue earned if a generator specified `Min_Cap` is provided in the input file, or if a generator is subject to a Minimum Capacity Requirement constraint. The unit is \$.
  5 | """
  6 | function write_subsidy_revenue(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  7 |     gen = inputs["RESOURCES"]
  8 |     regions = region.(gen)
  9 |     clusters = cluster.(gen)
 10 |     zones = zone_id.(gen)
 11 |     rid = resource_id.(gen)
 12 | 
 13 |     G = inputs["G"]
 14 | 
 15 |     dfSubRevenue = DataFrame(Region = regions,
 16 |         Resource = inputs["RESOURCE_NAMES"],
 17 |         Zone = zones,
 18 |         Cluster = clusters,
 19 |         R_ID = rid,
 20 |         SubsidyRevenue = zeros(G))
 21 |     MIN_CAP = ids_with_positive(gen, min_cap_mw)
 22 |     if !isempty(inputs["VRE_STOR"])
 23 |         MIN_CAP_SOLAR = ids_with_positive(gen.VreStorage, min_cap_solar_mw)
 24 |         MIN_CAP_WIND = ids_with_positive(gen.VreStorage, min_cap_wind_mw)
 25 |         MIN_CAP_STOR = ids_with_positive(gen, min_cap_mwh)
 26 |         if !isempty(MIN_CAP_SOLAR)
 27 |             dfSubRevenue.SubsidyRevenue[MIN_CAP_SOLAR] .+= (value.(EP[:eTotalCap_SOLAR])[MIN_CAP_SOLAR]) .*
 28 |                                                            (dual.(EP[:cMinCap_Solar][MIN_CAP_SOLAR])).data
 29 |         end
 30 |         if !isempty(MIN_CAP_WIND)
 31 |             dfSubRevenue.SubsidyRevenue[MIN_CAP_WIND] .+= (value.(EP[:eTotalCap_WIND])[MIN_CAP_WIND]) .*
 32 |                                                           (dual.(EP[:cMinCap_Wind][MIN_CAP_WIND])).data
 33 |         end
 34 |         if !isempty(MIN_CAP_STOR)
 35 |             dfSubRevenue.SubsidyRevenue[MIN_CAP_STOR] .+= (value.(EP[:eTotalCap_STOR])[MIN_CAP_STOR]) .*
 36 |                                                           (dual.(EP[:cMinCap_Stor][MIN_CAP_STOR])).data
 37 |         end
 38 |     end
 39 |     dfSubRevenue.SubsidyRevenue[MIN_CAP] .= (value.(EP[:eTotalCap])[MIN_CAP]) .*
 40 |                                             (dual.(EP[:cMinCap][MIN_CAP])).data
 41 |     ### calculating tech specific subsidy revenue
 42 |     dfRegSubRevenue = DataFrame(Region = regions,
 43 |         Resource = inputs["RESOURCE_NAMES"],
 44 |         Zone = zones,
 45 |         Cluster = clusters,
 46 |         R_ID = rid,
 47 |         SubsidyRevenue = zeros(G))
 48 |     if (setup["MinCapReq"] >= 1)
 49 |         for mincap in 1:inputs["NumberOfMinCapReqs"] # This key only exists if MinCapReq >= 1, so we can't get it at the top outside of this condition.
 50 |             MIN_CAP_GEN = ids_with_policy(gen, min_cap, tag = mincap)
 51 |             dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN] .= dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN] +
 52 |                                                            (value.(EP[:eTotalCap][MIN_CAP_GEN])) *
 53 |                                                            (dual.(EP[:cZoneMinCapReq][mincap]))
 54 |             if !isempty(inputs["VRE_STOR"])
 55 |                 gen_VRE_STOR = gen.VreStorage
 56 |                 HAS_MIN_CAP_STOR = ids_with_policy(gen_VRE_STOR, min_cap_stor, tag = mincap)
 57 |                 MIN_CAP_GEN_SOLAR = ids_with_policy(gen_VRE_STOR, min_cap_solar, tag = mincap)
 58 |                 MIN_CAP_GEN_WIND = ids_with_policy(gen_VRE_STOR, min_cap_wind, tag = mincap)
 59 |                 MIN_CAP_GEN_ASYM_DC_DIS = intersect(inputs["VS_ASYM_DC_DISCHARGE"], HAS_MIN_CAP_STOR)
 60 |                 MIN_CAP_GEN_ASYM_AC_DIS = intersect(inputs["VS_ASYM_AC_DISCHARGE"], HAS_MIN_CAP_STOR)
 61 |                 MIN_CAP_GEN_SYM_DC = intersect(inputs["VS_SYM_DC"], HAS_MIN_CAP_STOR)
 62 |                 MIN_CAP_GEN_SYM_AC = intersect(inputs["VS_SYM_AC"], HAS_MIN_CAP_STOR)
 63 |                 if !isempty(MIN_CAP_GEN_SOLAR)
 64 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_SOLAR] .+= ((value.(EP[:eTotalCap_SOLAR][MIN_CAP_GEN_SOLAR]).data) .*
 65 |                                                                             etainverter.(gen[MIN_CAP_GEN_SOLAR]) * 
 66 |                                                                             (dual.(EP[:cZoneMinCapReq][mincap])))
 67 |                 end
 68 |                 if !isempty(MIN_CAP_GEN_WIND)
 69 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_WIND] .+= ((value.(EP[:eTotalCap_WIND][MIN_CAP_GEN_WIND]).data) * 
 70 |                                                                           (dual.(EP[:cZoneMinCapReq][mincap])))
 71 |                 end
 72 |                 if !isempty(MIN_CAP_GEN_ASYM_DC_DIS)
 73 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_ASYM_DC_DIS] .+= ((value.(EP[:eTotalCapDischarge_DC][MIN_CAP_GEN_ASYM_DC_DIS].data) .* 
 74 |                                                                                 etainverter.(gen[MIN_CAP_GEN_ASYM_DC_DIS])) * 
 75 |                                                                                 (dual.(EP[:cZoneMinCapReq][mincap])))
 76 |                 end
 77 |                 if !isempty(MIN_CAP_GEN_ASYM_AC_DIS)
 78 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_ASYM_AC_DIS] .+= ((value.(EP[:eTotalCapDischarge_AC][MIN_CAP_GEN_ASYM_AC_DIS]).data) * 
 79 |                                                                                 (dual.(EP[:cZoneMinCapReq][mincap])))
 80 |                 end
 81 |                 if !isempty(MIN_CAP_GEN_SYM_DC)
 82 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_SYM_DC] .+= ((value.(EP[:eTotalCap_STOR][MIN_CAP_GEN_SYM_DC]).data .* 
 83 |                                                                             power_to_energy_dc.(gen[MIN_CAP_GEN_SYM_DC]) .* 
 84 |                                                                             etainverter.(gen[MIN_CAP_GEN_SYM_DC])) * 
 85 |                                                                             (dual.(EP[:cZoneMinCapReq][mincap])))
 86 |                 end
 87 |                 if !isempty(MIN_CAP_GEN_SYM_AC)
 88 |                     dfRegSubRevenue.SubsidyRevenue[MIN_CAP_GEN_SYM_AC] .+= ((value.(EP[:eTotalCap_STOR][MIN_CAP_GEN_SYM_AC]).data .* 
 89 |                                                                             power_to_energy_ac.(gen[MIN_CAP_GEN_SYM_AC])) * 
 90 |                                                                             (dual.(EP[:cZoneMinCapReq][mincap])))
 91 |                 end
 92 |             end
 93 |         end
 94 |     end
 95 | 
 96 |     if setup["ParameterScale"] == 1
 97 |         dfSubRevenue.SubsidyRevenue *= ModelScalingFactor^2 #convert from Million US$ to US$
 98 |         dfRegSubRevenue.SubsidyRevenue *= ModelScalingFactor^2 #convert from Million US$ to US$
 99 |     end
100 | 
101 |     CSV.write(joinpath(path, "SubsidyRevenue.csv"), dfSubRevenue)
102 |     CSV.write(joinpath(path, "RegSubsidyRevenue.csv"), dfRegSubRevenue)
103 |     return dfSubRevenue, dfRegSubRevenue
104 | end
105 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_time_weights.jl:
--------------------------------------------------------------------------------
1 | function write_time_weights(path::AbstractString, inputs::Dict)
2 |     T = inputs["T"]     # Number of time steps (hours)
3 |     # Save array of weights for each time period (when using time sampling)
4 |     dfTimeWeights = DataFrame(Time = 1:T, Weight = inputs["omega"])
5 |     CSV.write(joinpath(path, "time_weights.csv"), dfTimeWeights)
6 | end
7 | 


--------------------------------------------------------------------------------
/src/write_outputs/write_vre_stor.jl:
--------------------------------------------------------------------------------
  1 | @doc raw"""
  2 | 	write_vre_stor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  3 | 
  4 | Function for writing the vre-storage specific files.
  5 | """
  6 | function write_vre_stor(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
  7 | 
  8 |     ### CAPACITY DECISIONS ###
  9 |     dfVreStor = write_vre_stor_capacity(path, inputs, setup, EP)
 10 | 
 11 |     ### CHARGING DECISIONS ###
 12 |     write_vre_stor_charge(path, inputs, setup, EP)
 13 | 
 14 |     ### DISCHARGING DECISIONS ###
 15 |     write_vre_stor_discharge(path, inputs, setup, EP)
 16 | 
 17 |     return dfVreStor
 18 | end
 19 | 
 20 | @doc raw"""
 21 | 	write_vre_stor_capacity(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 22 | 
 23 | Function for writing the vre-storage capacities.
 24 | """
 25 | function write_vre_stor_capacity(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
 26 |     gen = inputs["RESOURCES"]
 27 |     gen_VRE_STOR = gen.VreStorage
 28 | 
 29 |     VRE_STOR = inputs["VRE_STOR"]
 30 |     SOLAR = inputs["VS_SOLAR"]
 31 |     WIND = inputs["VS_WIND"]
 32 |     ELEC = inputs["VS_ELEC"]
 33 |     DC = inputs["VS_DC"]
 34 |     STOR = inputs["VS_STOR"]
 35 |     MultiStage = setup["MultiStage"]
 36 |     size_vrestor_resources = size(inputs["RESOURCE_NAMES_VRE_STOR"])
 37 | 
 38 |     # Solar capacity
 39 |     capsolar = zeros(size_vrestor_resources)
 40 |     retcapsolar = zeros(size_vrestor_resources)
 41 |     existingcapsolar = zeros(size_vrestor_resources)
 42 | 
 43 |     # Wind capacity
 44 |     capwind = zeros(size_vrestor_resources)
 45 |     retcapwind = zeros(size_vrestor_resources)
 46 |     existingcapwind = zeros(size_vrestor_resources)
 47 | 
 48 |     # Electrolyzer capacity
 49 |     capelec = zeros(size_vrestor_resources)
 50 |     retcapelec = zeros(size_vrestor_resources)
 51 |     existingcapelec = zeros(size_vrestor_resources)
 52 | 
 53 |     # Inverter capacity
 54 |     capdc = zeros(size_vrestor_resources)
 55 |     retcapdc = zeros(size_vrestor_resources)
 56 |     existingcapdc = zeros(size_vrestor_resources)
 57 | 
 58 |     # Grid connection capacity
 59 |     capgrid = zeros(size_vrestor_resources)
 60 |     retcapgrid = zeros(size_vrestor_resources)
 61 |     existingcapgrid = zeros(size_vrestor_resources)
 62 | 
 63 |     # Energy storage capacity
 64 |     capenergy = zeros(size_vrestor_resources)
 65 |     retcapenergy = zeros(size_vrestor_resources)
 66 |     existingcapenergy = zeros(size_vrestor_resources)
 67 | 
 68 |     # Charge storage capacity DC
 69 |     capchargedc = zeros(size_vrestor_resources)
 70 |     retcapchargedc = zeros(size_vrestor_resources)
 71 |     existingcapchargedc = zeros(size_vrestor_resources)
 72 | 
 73 |     # Charge storage capacity AC
 74 |     capchargeac = zeros(size_vrestor_resources)
 75 |     retcapchargeac = zeros(size_vrestor_resources)
 76 |     existingcapchargeac = zeros(size_vrestor_resources)
 77 | 
 78 |     # Discharge storage capacity DC
 79 |     capdischargedc = zeros(size_vrestor_resources)
 80 |     retcapdischargedc = zeros(size_vrestor_resources)
 81 |     existingcapdischargedc = zeros(size_vrestor_resources)
 82 | 
 83 |     # Discharge storage capacity AC
 84 |     capdischargeac = zeros(size_vrestor_resources)
 85 |     retcapdischargeac = zeros(size_vrestor_resources)
 86 |     existingcapdischargeac = zeros(size_vrestor_resources)
 87 | 
 88 |     j = 1
 89 |     for i in VRE_STOR
 90 |         existingcapgrid[j] = MultiStage == 1 ? value(EP[:vEXISTINGCAP][i]) :
 91 |                              existing_cap_mw(gen[i])
 92 |         if i in inputs["NEW_CAP"]
 93 |             capgrid[j] = value(EP[:vCAP][i])
 94 |         end
 95 |         if i in inputs["RET_CAP"]
 96 |             retcapgrid[j] = value(EP[:vRETCAP][i])
 97 |         end
 98 | 
 99 |         if i in SOLAR
100 |             existingcapsolar[j] = MultiStage == 1 ? value(EP[:vEXISTINGSOLARCAP][i]) :
101 |                                   existing_cap_solar_mw(gen_VRE_STOR[j])
102 |             if i in inputs["NEW_CAP_SOLAR"]
103 |                 capsolar[j] = value(EP[:vSOLARCAP][i])
104 |             end
105 |             if i in inputs["RET_CAP_SOLAR"]
106 |                 retcapsolar[j] = first(value.(EP[:vRETSOLARCAP][i]))
107 |             end
108 |         end
109 | 
110 |         if i in WIND
111 |             existingcapwind[j] = MultiStage == 1 ? value(EP[:vEXISTINGWINDCAP][i]) :
112 |                                  existing_cap_wind_mw(gen_VRE_STOR[j])
113 |             if i in inputs["NEW_CAP_WIND"]
114 |                 capwind[j] = value(EP[:vWINDCAP][i])
115 |             end
116 |             if i in inputs["RET_CAP_WIND"]
117 |                 retcapwind[j] = first(value.(EP[:vRETWINDCAP][i]))
118 |             end
119 |         end
120 | 
121 |         if i in ELEC
122 |             existingcapelec[j] = MultiStage == 1 ? value(EP[:vEXISTINGELECCAP][i]) :
123 |                                  existing_cap_elec_mw(gen_VRE_STOR[j])
124 |             if i in inputs["NEW_CAP_ELEC"]
125 |                 capelec[j] = value(EP[:vELECCAP][i])
126 |             end
127 |             if i in inputs["RET_CAP_ELEC"]
128 |                 retcapelec[j] = first(value.(EP[:vRETELECCAP][i]))
129 |             end
130 |         end
131 | 
132 |         if i in DC
133 |             existingcapdc[j] = MultiStage == 1 ? value(EP[:vEXISTINGDCCAP][i]) :
134 |                                existing_cap_inverter_mw(gen_VRE_STOR[j])
135 |             if i in inputs["NEW_CAP_DC"]
136 |                 capdc[j] = value(EP[:vDCCAP][i])
137 |             end
138 |             if i in inputs["RET_CAP_DC"]
139 |                 retcapdc[j] = first(value.(EP[:vRETDCCAP][i]))
140 |             end
141 |         end
142 | 
143 |         if i in STOR
144 |             existingcapenergy[j] = MultiStage == 1 ? value(EP[:vEXISTINGCAPENERGY_VS][i]) :
145 |                                    existing_cap_mwh(gen[i])
146 |             if i in inputs["NEW_CAP_STOR"]
147 |                 capenergy[j] = value(EP[:vCAPENERGY_VS][i])
148 |             end
149 |             if i in inputs["RET_CAP_STOR"]
150 |                 retcapenergy[j] = first(value.(EP[:vRETCAPENERGY_VS][i]))
151 |             end
152 | 
153 |             if i in inputs["VS_ASYM_DC_CHARGE"]
154 |                 if i in inputs["NEW_CAP_CHARGE_DC"]
155 |                     capchargedc[j] = value(EP[:vCAPCHARGE_DC][i])
156 |                 end
157 |                 if i in inputs["RET_CAP_CHARGE_DC"]
158 |                     retcapchargedc[j] = value(EP[:vRETCAPCHARGE_DC][i])
159 |                 end
160 |                 existingcapchargedc[j] = MultiStage == 1 ?
161 |                                          value(EP[:vEXISTINGCAPCHARGEDC][i]) :
162 |                                          existing_cap_charge_dc_mw(gen_VRE_STOR[j])
163 |             end
164 |             if i in inputs["VS_ASYM_AC_CHARGE"]
165 |                 if i in inputs["NEW_CAP_CHARGE_AC"]
166 |                     capchargeac[j] = value(EP[:vCAPCHARGE_AC][i])
167 |                 end
168 |                 if i in inputs["RET_CAP_CHARGE_AC"]
169 |                     retcapchargeac[j] = value(EP[:vRETCAPCHARGE_AC][i])
170 |                 end
171 |                 existingcapchargeac[j] = MultiStage == 1 ?
172 |                                          value(EP[:vEXISTINGCAPCHARGEAC][i]) :
173 |                                          existing_cap_charge_ac_mw(gen_VRE_STOR[j])
174 |             end
175 |             if i in inputs["VS_ASYM_DC_DISCHARGE"]
176 |                 if i in inputs["NEW_CAP_DISCHARGE_DC"]
177 |                     capdischargedc[j] = value(EP[:vCAPDISCHARGE_DC][i])
178 |                 end
179 |                 if i in inputs["RET_CAP_DISCHARGE_DC"]
180 |                     retcapdischargedc[j] = value(EP[:vRETCAPDISCHARGE_DC][i])
181 |                 end
182 |                 existingcapdischargedc[j] = MultiStage == 1 ?
183 |                                             value(EP[:vEXISTINGCAPDISCHARGEDC][i]) :
184 |                                             existing_cap_discharge_dc_mw(gen_VRE_STOR[j])
185 |             end
186 |             if i in inputs["VS_ASYM_AC_DISCHARGE"]
187 |                 if i in inputs["NEW_CAP_DISCHARGE_AC"]
188 |                     capdischargeac[j] = value(EP[:vCAPDISCHARGE_AC][i])
189 |                 end
190 |                 if i in inputs["RET_CAP_DISCHARGE_AC"]
191 |                     retcapdischargeac[j] = value(EP[:vRETCAPDISCHARGE_AC][i])
192 |                 end
193 |                 existingcapdischargeac[j] = MultiStage == 1 ?
194 |                                             value(EP[:vEXISTINGCAPDISCHARGEAC][i]) :
195 |                                             existing_cap_discharge_ac_mw(gen_VRE_STOR[j])
196 |             end
197 |         end
198 |         j += 1
199 |     end
200 | 
201 |     technologies = resource_type_mga.(gen_VRE_STOR)
202 |     clusters = cluster.(gen_VRE_STOR)
203 |     zones = zone_id.(gen_VRE_STOR)
204 | 
205 |     dfCap = DataFrame(Resource = inputs["RESOURCE_NAMES_VRE_STOR"], Zone = zones,
206 |         Resource_Type = technologies, Cluster = clusters,
207 |         StartCapSolar = existingcapsolar[:],
208 |         RetCapSolar = retcapsolar[:],
209 |         NewCapSolar = capsolar[:],
210 |         EndCapSolar = existingcapsolar[:] - retcapsolar[:] + capsolar[:],
211 |         StartCapWind = existingcapwind[:],
212 |         RetCapWind = retcapwind[:],
213 |         NewCapWind = capwind[:],
214 |         EndCapWind = existingcapwind[:] - retcapwind[:] + capwind[:],
215 |         StartCapElec = existingcapelec[:],
216 |         RetCapElec = retcapelec[:],
217 |         NewCapElec = capelec[:],
218 |         EndCapElec = existingcapelec[:] - retcapelec[:] + capelec[:],
219 |         StartCapDC = existingcapdc[:],
220 |         RetCapDC = retcapdc[:],
221 |         NewCapDC = capdc[:],
222 |         EndCapDC = existingcapdc[:] - retcapdc[:] + capdc[:],
223 |         StartCapGrid = existingcapgrid[:],
224 |         RetCapGrid = retcapgrid[:],
225 |         NewCapGrid = capgrid[:],
226 |         EndCapGrid = existingcapgrid[:] - retcapgrid[:] + capgrid[:],
227 |         StartEnergyCap = existingcapenergy[:],
228 |         RetEnergyCap = retcapenergy[:],
229 |         NewEnergyCap = capenergy[:],
230 |         EndEnergyCap = existingcapenergy[:] - retcapenergy[:] + capenergy[:],
231 |         StartChargeDCCap = existingcapchargedc[:],
232 |         RetChargeDCCap = retcapchargedc[:],
233 |         NewChargeDCCap = capchargedc[:],
234 |         EndChargeDCCap = existingcapchargedc[:] - retcapchargedc[:] + capchargedc[:],
235 |         StartChargeACCap = existingcapchargeac[:],
236 |         RetChargeACCap = retcapchargeac[:],
237 |         NewChargeACCap = capchargeac[:],
238 |         EndChargeACCap = existingcapchargeac[:] - retcapchargeac[:] + capchargeac[:],
239 |         StartDischargeDCCap = existingcapdischargedc[:],
240 |         RetDischargeDCCap = retcapdischargedc[:],
241 |         NewDischargeDCCap = capdischargedc[:],
242 |         EndDischargeDCCap = existingcapdischargedc[:] - retcapdischargedc[:] +
243 |                             capdischargedc[:],
244 |         StartDischargeACCap = existingcapdischargeac[:],
245 |         RetDischargeACCap = retcapdischargeac[:],
246 |         NewDischargeACCap = capdischargeac[:],
247 |         EndDischargeACCap = existingcapdischargeac[:] - retcapdischargeac[:] +
248 |                             capdischargeac[:])
249 | 
250 |     if setup["ParameterScale"] == 1
251 |         columns_to_scale = [
252 |             :StartCapSolar,
253 |             :RetCapSolar,
254 |             :NewCapSolar,
255 |             :EndCapSolar,
256 |             :StartCapWind,
257 |             :RetCapWind,
258 |             :NewCapWind,
259 |             :EndCapWind,
260 |             :StartCapElec,
261 |             :RetCapElec,
262 |             :NewCapElec,
263 |             :EndCapElec,
264 |             :StartCapDC,
265 |             :RetCapDC,
266 |             :NewCapDC,
267 |             :EndCapDC,
268 |             :StartCapGrid,
269 |             :RetCapGrid,
270 |             :NewCapGrid,
271 |             :EndCapGrid,
272 |             :StartEnergyCap,
273 |             :RetEnergyCap,
274 |             :NewEnergyCap,
275 |             :EndEnergyCap,
276 |             :StartChargeACCap,
277 |             :RetChargeACCap,
278 |             :NewChargeACCap,
279 |             :EndChargeACCap,
280 |             :StartChargeDCCap,
281 |             :RetChargeDCCap,
282 |             :NewChargeDCCap,
283 |             :EndChargeDCCap,
284 |             :StartDischargeDCCap,
285 |             :RetDischargeDCCap,
286 |             :NewDischargeDCCap,
287 |             :EndDischargeDCCap,
288 |             :StartDischargeACCap,
289 |             :RetDischargeACCap,
290 |             :NewDischargeACCap,
291 |             :EndDischargeACCap
292 |         ]
293 |         dfCap[!, columns_to_scale] .*= ModelScalingFactor
294 |     end
295 | 
296 |     total = DataFrame(Resource = "Total", Zone = "n/a", Resource_Type = "Total",
297 |         Cluster = "n/a",
298 |         StartCapSolar = sum(dfCap[!, :StartCapSolar]),
299 |         RetCapSolar = sum(dfCap[!, :RetCapSolar]),
300 |         NewCapSolar = sum(dfCap[!, :NewCapSolar]),
301 |         EndCapSolar = sum(dfCap[!, :EndCapSolar]),
302 |         StartCapWind = sum(dfCap[!, :StartCapWind]),
303 |         RetCapWind = sum(dfCap[!, :RetCapWind]),
304 |         NewCapWind = sum(dfCap[!, :NewCapWind]), EndCapWind = sum(dfCap[!, :EndCapWind]),
305 |         StartCapElec = sum(dfCap[!, :StartCapElec]), RetCapElec = sum(dfCap[!, :RetCapElec]),
306 |         NewCapElec = sum(dfCap[!, :NewCapElec]), EndCapElec = sum(dfCap[!, :EndCapElec]),
307 |         StartCapDC = sum(dfCap[!, :StartCapDC]), RetCapDC = sum(dfCap[!, :RetCapDC]),
308 |         NewCapDC = sum(dfCap[!, :NewCapDC]), EndCapDC = sum(dfCap[!, :EndCapDC]),
309 |         StartCapGrid = sum(dfCap[!, :StartCapGrid]),
310 |         RetCapGrid = sum(dfCap[!, :RetCapGrid]),
311 |         NewCapGrid = sum(dfCap[!, :NewCapGrid]), EndCapGrid = sum(dfCap[!, :EndCapGrid]),
312 |         StartEnergyCap = sum(dfCap[!, :StartEnergyCap]),
313 |         RetEnergyCap = sum(dfCap[!, :RetEnergyCap]),
314 |         NewEnergyCap = sum(dfCap[!, :NewEnergyCap]),
315 |         EndEnergyCap = sum(dfCap[!, :EndEnergyCap]),
316 |         StartChargeACCap = sum(dfCap[!, :StartChargeACCap]),
317 |         RetChargeACCap = sum(dfCap[!, :RetChargeACCap]),
318 |         NewChargeACCap = sum(dfCap[!, :NewChargeACCap]),
319 |         EndChargeACCap = sum(dfCap[!, :EndChargeACCap]),
320 |         StartChargeDCCap = sum(dfCap[!, :StartChargeDCCap]),
321 |         RetChargeDCCap = sum(dfCap[!, :RetChargeDCCap]),
322 |         NewChargeDCCap = sum(dfCap[!, :NewChargeDCCap]),
323 |         EndChargeDCCap = sum(dfCap[!, :EndChargeDCCap]),
324 |         StartDischargeDCCap = sum(dfCap[!, :StartDischargeDCCap]),
325 |         RetDischargeDCCap = sum(dfCap[!, :RetDischargeDCCap]),
326 |         NewDischargeDCCap = sum(dfCap[!, :NewDischargeDCCap]),
327 |         EndDischargeDCCap = sum(dfCap[!, :EndDischargeDCCap]),
328 |         StartDischargeACCap = sum(dfCap[!, :StartDischargeACCap]),
329 |         RetDischargeACCap = sum(dfCap[!, :RetDischargeACCap]),
330 |         NewDischargeACCap = sum(dfCap[!, :NewDischargeACCap]),
331 |         EndDischargeACCap = sum(dfCap[!, :EndDischargeACCap]))
332 | 
333 |     dfCap = vcat(dfCap, total)
334 |     CSV.write(joinpath(path, "vre_stor_capacity.csv"), dfCap)
335 |     return dfCap
336 | end
337 | 
338 | @doc raw"""
339 | 	write_vre_stor_charge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
340 | 
341 | Function for writing the vre-storage charging decision variables/expressions.
342 | """
343 | function write_vre_stor_charge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
344 |     gen = inputs["RESOURCES"]
345 |     gen_VRE_STOR = gen.VreStorage
346 |     T = inputs["T"]
347 |     DC_CHARGE = inputs["VS_STOR_DC_CHARGE"]
348 |     AC_CHARGE = inputs["VS_STOR_AC_CHARGE"]
349 | 
350 |     # DC charging of battery dataframe
351 |     if !isempty(DC_CHARGE)
352 |         dfCharge_DC = DataFrame(Resource = inputs["RESOURCE_NAMES_DC_CHARGE"],
353 |             Zone = inputs["ZONES_DC_CHARGE"],
354 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(DC_CHARGE)[1]))
355 |         charge_dc = zeros(size(DC_CHARGE)[1], T)
356 |         charge_dc = value.(EP[:vP_DC_CHARGE]).data ./
357 |                     etainverter.(gen[DC_CHARGE]) *
358 |                     (setup["ParameterScale"] == 1 ? ModelScalingFactor : 1)
359 |         dfCharge_DC.AnnualSum .= charge_dc * inputs["omega"]
360 | 
361 |         filepath = joinpath(path, "vre_stor_dc_charge.csv")
362 |         if setup["WriteOutputs"] == "annual"
363 |             write_annual(filepath, dfCharge_DC)
364 |         else # setup["WriteOutputs"] == "full"
365 |             write_fulltimeseries(filepath, charge_dc, dfCharge_DC)
366 |         end
367 |     end
368 | 
369 |     # AC charging of battery dataframe
370 |     if !isempty(AC_CHARGE)
371 |         dfCharge_AC = DataFrame(Resource = inputs["RESOURCE_NAMES_AC_CHARGE"],
372 |             Zone = inputs["ZONES_AC_CHARGE"],
373 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(AC_CHARGE)[1]))
374 |         charge_ac = zeros(size(AC_CHARGE)[1], T)
375 |         charge_ac = value.(EP[:vP_AC_CHARGE]).data *
376 |                     (setup["ParameterScale"] == 1 ? ModelScalingFactor : 1)
377 |         dfCharge_AC.AnnualSum .= charge_ac * inputs["omega"]
378 | 
379 |         filepath = joinpath(path, "vre_stor_ac_charge.csv")
380 |         if setup["WriteOutputs"] == "annual"
381 |             write_annual(filepath, dfCharge_AC)
382 |         else # setup["WriteOutputs"] == "full"
383 |             write_fulltimeseries(filepath, charge_ac, dfCharge_AC)
384 |         end
385 |     end
386 |     return nothing
387 | end
388 | 
389 | @doc raw"""
390 | 	write_vre_stor_discharge(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)
391 | 
392 | Function for writing the vre-storage discharging decision variables/expressions.
393 | """
394 | function write_vre_stor_discharge(path::AbstractString,
395 |         inputs::Dict,
396 |         setup::Dict,
397 |         EP::Model)
398 |     gen = inputs["RESOURCES"]
399 |     gen_VRE_STOR = gen.VreStorage
400 |     T = inputs["T"]
401 |     DC_DISCHARGE = inputs["VS_STOR_DC_DISCHARGE"]
402 |     AC_DISCHARGE = inputs["VS_STOR_AC_DISCHARGE"]
403 |     WIND = inputs["VS_WIND"]
404 |     SOLAR = inputs["VS_SOLAR"]
405 |     ELEC = inputs["VS_ELEC"]
406 | 
407 |     # DC discharging of battery dataframe
408 |     if !isempty(DC_DISCHARGE)
409 |         dfDischarge_DC = DataFrame(Resource = inputs["RESOURCE_NAMES_DC_DISCHARGE"],
410 |             Zone = inputs["ZONES_DC_DISCHARGE"],
411 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(DC_DISCHARGE)[1]))
412 |         power_vre_stor = value.(EP[:vP_DC_DISCHARGE]).data .*
413 |                          etainverter.(gen[DC_DISCHARGE])
414 |         if setup["ParameterScale"] == 1
415 |             power_vre_stor *= ModelScalingFactor
416 |         end
417 |         dfDischarge_DC.AnnualSum .= power_vre_stor * inputs["omega"]
418 | 
419 |         filepath = joinpath(path, "vre_stor_dc_discharge.csv")
420 |         if setup["WriteOutputs"] == "annual"
421 |             write_annual(filepath, dfDischarge_DC)
422 |         else # setup["WriteOutputs"] == "full"
423 |             write_fulltimeseries(filepath, power_vre_stor, dfDischarge_DC)
424 |         end
425 |     end
426 | 
427 |     # AC discharging of battery dataframe
428 |     if !isempty(AC_DISCHARGE)
429 |         dfDischarge_AC = DataFrame(Resource = inputs["RESOURCE_NAMES_AC_DISCHARGE"],
430 |             Zone = inputs["ZONES_AC_DISCHARGE"],
431 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(AC_DISCHARGE)[1]))
432 |         power_vre_stor = value.(EP[:vP_AC_DISCHARGE]).data
433 |         if setup["ParameterScale"] == 1
434 |             power_vre_stor *= ModelScalingFactor
435 |         end
436 |         dfDischarge_AC.AnnualSum .= power_vre_stor * inputs["omega"]
437 | 
438 |         filepath = joinpath(path, "vre_stor_ac_discharge.csv")
439 |         if setup["WriteOutputs"] == "annual"
440 |             write_annual(filepath, dfDischarge_AC)
441 |         else # setup["WriteOutputs"] == "full"
442 |             write_fulltimeseries(filepath, power_vre_stor, dfDischarge_AC)
443 |         end
444 |     end
445 | 
446 |     # Wind generation of co-located resource dataframe
447 |     if !isempty(WIND)
448 |         dfVP_VRE_STOR = DataFrame(Resource = inputs["RESOURCE_NAMES_WIND"],
449 |             Zone = inputs["ZONES_WIND"],
450 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(WIND)[1]))
451 |         vre_vre_stor = value.(EP[:vP_WIND]).data
452 |         if setup["ParameterScale"] == 1
453 |             vre_vre_stor *= ModelScalingFactor
454 |         end
455 |         dfVP_VRE_STOR.AnnualSum .= vre_vre_stor * inputs["omega"]
456 | 
457 |         filepath = joinpath(path, "vre_stor_wind_power.csv")
458 |         if setup["WriteOutputs"] == "annual"
459 |             write_annual(filepath, dfVP_VRE_STOR)
460 |         else # setup["WriteOutputs"] == "full"
461 |             write_fulltimeseries(filepath, vre_vre_stor, dfVP_VRE_STOR)
462 |         end
463 |     end
464 | 
465 |     # Electrolyzer consumption of co-located resource dataframe
466 |     if !isempty(ELEC)
467 |         dfVP_VRE_STOR = DataFrame(Resource = inputs["RESOURCE_NAMES_ELEC"],
468 |             Zone = inputs["ZONES_ELEC"],
469 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(ELEC)[1]))
470 |         elec_vre_stor = value.(EP[:vP_ELEC]).data
471 |         if setup["ParameterScale"] == 1
472 |             elec_vre_stor *= ModelScalingFactor
473 |         end
474 |         dfVP_VRE_STOR.AnnualSum .= elec_vre_stor * inputs["omega"]
475 | 
476 |         filepath = joinpath(path, "vre_stor_elec_power_consumption.csv")
477 |         if setup["WriteOutputs"] == "annual"
478 |             write_annual(filepath, dfVP_VRE_STOR)
479 |         else # setup["WriteOutputs"] == "full"
480 |             write_fulltimeseries(filepath, elec_vre_stor, dfVP_VRE_STOR)
481 |         end
482 |     end
483 | 
484 |     if !isempty(SOLAR)
485 |         dfVP_VRE_STOR = DataFrame(Resource = inputs["RESOURCE_NAMES_SOLAR"],
486 |             Zone = inputs["ZONES_SOLAR"],
487 |             AnnualSum = Array{Union{Missing, Float32}}(undef, size(SOLAR)[1]))
488 |         vre_vre_stor = value.(EP[:vP_SOLAR]).data .*
489 |                        etainverter.(gen[SOLAR])
490 |         if setup["ParameterScale"] == 1
491 |             vre_vre_stor *= ModelScalingFactor
492 |         end
493 |         dfVP_VRE_STOR.AnnualSum .= vre_vre_stor * inputs["omega"]
494 | 
495 |         filepath = joinpath(path, "vre_stor_solar_power.csv")
496 |         if setup["WriteOutputs"] == "annual"
497 |             write_annual(filepath, dfVP_VRE_STOR)
498 |         else # setup["WriteOutputs"] == "full"
499 |             write_fulltimeseries(filepath, vre_vre_stor, dfVP_VRE_STOR)
500 |         end
501 |     end
502 |     return nothing
503 | end
504 | 


--------------------------------------------------------------------------------
/test/DCOPF/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23              # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "off"
12 | 


--------------------------------------------------------------------------------
/test/DCOPF/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Cap_Size,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | z1_natural_gas,1,1,0,1,250,10,0,0,5,0.1,0,0,250,0.1,natural_gas,0.04,1,1,0,0,1,1,0,0,1,natural_gas,BUS1,1
3 | z2_natural_gas,2,1,0,1,300,10,0,0,1.2,0.1,0,0,300,0.1,natural_gas,0.033333333,1,1,0,0,1,1,0,0,1,natural_gas,BUS2,1
4 | z3_natural_gas,3,1,0,1,270,10,0,0,1,0.1,0,0,270,0.1,natural_gas,0.037037037,1,1,0,0,1,1,0,0,1,natural_gas,BUS3,1


--------------------------------------------------------------------------------
/test/DCOPF/system/Demand_data.csv:
--------------------------------------------------------------------------------
1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3,Demand_MW_z4,Demand_MW_z5,Demand_MW_z6,Demand_MW_z7,Demand_MW_z8,Demand_MW_z9
2 | 2000000,1,1,1,2000,1,1,1,1,0,0,0,0,90,0,100,0,125
3 | ,2,0.9,0.04,1800,,,,,,,,,,,,,
4 | ,3,0.55,0.024,1100,,,,,,,,,,,,,
5 | ,4,0.2,0.003,400,,,,,,,,,,,,,
6 | 


--------------------------------------------------------------------------------
/test/DCOPF/system/Fuels_data.csv:
--------------------------------------------------------------------------------
1 | Time_Index,natural_gas,coal,nuclear,None
2 | 0,0.05306,0.05306,0.05306,0.05306
3 | 1,0.05306,0.05306,0.05306,0.05306


--------------------------------------------------------------------------------
/test/DCOPF/system/Generators_variability.csv:
--------------------------------------------------------------------------------
1 | Time_Index,z1_natural_gas,z2_natural_gas,z3_natural_gas
2 | 0,1,1,1
3 | 1,1,1,1


--------------------------------------------------------------------------------
/test/DCOPF/system/Network.csv:
--------------------------------------------------------------------------------
 1 | ,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1,Angle_Limit_Rad,Line_Voltage_kV,Line_Resistance_Ohms,Line_Reactance_Ohms
 2 | BUS1,z1,1,1,4,250,BUS1_to_BUS4,0.5,0.015,500,12000,0.95,0,0.785398,345,0,68.5584
 3 | BUS2,z2,2,4,5,250,BUS4_to_BUS5,0.5,0.015,500,12000,0.95,0,0.785398,345,20.23425,109.503
 4 | BUS3,z3,3,5,6,150,BUS5_to_BUS6,0.5,0.015,500,12000,0.95,0,0.785398,345,46.41975,202.3425
 5 | BUS4,z4,4,3,6,300,BUS3_to_BUS6,0.5,0.015,500,12000,0.95,0,0.785398,345,0,69.74865
 6 | BUS5,z5,5,6,7,150,BUS6_to_BUS7,0.5,0.015,500,12000,0.95,0,0.785398,345,14.163975,119.9772
 7 | BUS6,z6,6,7,8,250,BUS7_to_BUS8,0.5,0.015,500,12000,0.95,0,0.785398,345,10.117125,85.698
 8 | BUS7,z7,7,8,2,250,BUS8_to_BUS2,0.5,0.015,500,12000,0.95,0,0.785398,345,0,74.390625
 9 | BUS8,z8,8,8,9,250,BUS8_to_BUS9,0.5,0.015,500,12000,0.95,0,0.785398,345,38.088,191.63025
10 | BUS9,z9,9,9,4,250,BUS9_to_BUS4,0.5,0.015,500,12000,0.95,0,0.785398,345,11.9025,101.17125


--------------------------------------------------------------------------------
/test/TDR/TDR_results_true/Fuels_data.csv:
--------------------------------------------------------------------------------
   1 | Time_Index,NG,None
   2 | 0,0.05306,0.0
   3 | 1,5.28,0.0
   4 | 2,5.28,0.0
   5 | 3,5.28,0.0
   6 | 4,5.28,0.0
   7 | 5,5.28,0.0
   8 | 6,5.28,0.0
   9 | 7,5.28,0.0
  10 | 8,5.28,0.0
  11 | 9,5.28,0.0
  12 | 10,5.28,0.0
  13 | 11,5.28,0.0
  14 | 12,5.28,0.0
  15 | 13,5.28,0.0
  16 | 14,5.28,0.0
  17 | 15,5.28,0.0
  18 | 16,5.28,0.0
  19 | 17,5.28,0.0
  20 | 18,5.28,0.0
  21 | 19,5.28,0.0
  22 | 20,5.28,0.0
  23 | 21,5.28,0.0
  24 | 22,5.28,0.0
  25 | 23,5.28,0.0
  26 | 24,5.28,0.0
  27 | 25,5.28,0.0
  28 | 26,5.28,0.0
  29 | 27,5.28,0.0
  30 | 28,5.28,0.0
  31 | 29,5.28,0.0
  32 | 30,5.28,0.0
  33 | 31,5.28,0.0
  34 | 32,5.28,0.0
  35 | 33,5.28,0.0
  36 | 34,5.28,0.0
  37 | 35,5.28,0.0
  38 | 36,5.28,0.0
  39 | 37,5.28,0.0
  40 | 38,5.28,0.0
  41 | 39,5.28,0.0
  42 | 40,5.28,0.0
  43 | 41,5.28,0.0
  44 | 42,5.28,0.0
  45 | 43,5.28,0.0
  46 | 44,5.28,0.0
  47 | 45,5.28,0.0
  48 | 46,5.28,0.0
  49 | 47,5.28,0.0
  50 | 48,5.28,0.0
  51 | 49,5.28,0.0
  52 | 50,5.28,0.0
  53 | 51,5.28,0.0
  54 | 52,5.28,0.0
  55 | 53,5.28,0.0
  56 | 54,5.28,0.0
  57 | 55,5.28,0.0
  58 | 56,5.28,0.0
  59 | 57,5.28,0.0
  60 | 58,5.28,0.0
  61 | 59,5.28,0.0
  62 | 60,5.28,0.0
  63 | 61,5.28,0.0
  64 | 62,5.28,0.0
  65 | 63,5.28,0.0
  66 | 64,5.28,0.0
  67 | 65,5.28,0.0
  68 | 66,5.28,0.0
  69 | 67,5.28,0.0
  70 | 68,5.28,0.0
  71 | 69,5.28,0.0
  72 | 70,5.28,0.0
  73 | 71,5.28,0.0
  74 | 72,5.28,0.0
  75 | 73,5.28,0.0
  76 | 74,5.28,0.0
  77 | 75,5.28,0.0
  78 | 76,5.28,0.0
  79 | 77,5.28,0.0
  80 | 78,5.28,0.0
  81 | 79,5.28,0.0
  82 | 80,5.28,0.0
  83 | 81,5.28,0.0
  84 | 82,5.28,0.0
  85 | 83,5.28,0.0
  86 | 84,5.28,0.0
  87 | 85,5.28,0.0
  88 | 86,5.28,0.0
  89 | 87,5.28,0.0
  90 | 88,5.28,0.0
  91 | 89,5.28,0.0
  92 | 90,5.28,0.0
  93 | 91,5.28,0.0
  94 | 92,5.28,0.0
  95 | 93,5.28,0.0
  96 | 94,5.28,0.0
  97 | 95,5.28,0.0
  98 | 96,5.28,0.0
  99 | 97,5.28,0.0
 100 | 98,5.28,0.0
 101 | 99,5.28,0.0
 102 | 100,5.28,0.0
 103 | 101,5.28,0.0
 104 | 102,5.28,0.0
 105 | 103,5.28,0.0
 106 | 104,5.28,0.0
 107 | 105,5.28,0.0
 108 | 106,5.28,0.0
 109 | 107,5.28,0.0
 110 | 108,5.28,0.0
 111 | 109,5.28,0.0
 112 | 110,5.28,0.0
 113 | 111,5.28,0.0
 114 | 112,5.28,0.0
 115 | 113,5.28,0.0
 116 | 114,5.28,0.0
 117 | 115,5.28,0.0
 118 | 116,5.28,0.0
 119 | 117,5.28,0.0
 120 | 118,5.28,0.0
 121 | 119,5.28,0.0
 122 | 120,5.28,0.0
 123 | 121,5.28,0.0
 124 | 122,5.28,0.0
 125 | 123,5.28,0.0
 126 | 124,5.28,0.0
 127 | 125,5.28,0.0
 128 | 126,5.28,0.0
 129 | 127,5.28,0.0
 130 | 128,5.28,0.0
 131 | 129,5.28,0.0
 132 | 130,5.28,0.0
 133 | 131,5.28,0.0
 134 | 132,5.28,0.0
 135 | 133,5.28,0.0
 136 | 134,5.28,0.0
 137 | 135,5.28,0.0
 138 | 136,5.28,0.0
 139 | 137,5.28,0.0
 140 | 138,5.28,0.0
 141 | 139,5.28,0.0
 142 | 140,5.28,0.0
 143 | 141,5.28,0.0
 144 | 142,5.28,0.0
 145 | 143,5.28,0.0
 146 | 144,5.28,0.0
 147 | 145,5.28,0.0
 148 | 146,5.28,0.0
 149 | 147,5.28,0.0
 150 | 148,5.28,0.0
 151 | 149,5.28,0.0
 152 | 150,5.28,0.0
 153 | 151,5.28,0.0
 154 | 152,5.28,0.0
 155 | 153,5.28,0.0
 156 | 154,5.28,0.0
 157 | 155,5.28,0.0
 158 | 156,5.28,0.0
 159 | 157,5.28,0.0
 160 | 158,5.28,0.0
 161 | 159,5.28,0.0
 162 | 160,5.28,0.0
 163 | 161,5.28,0.0
 164 | 162,5.28,0.0
 165 | 163,5.28,0.0
 166 | 164,5.28,0.0
 167 | 165,5.28,0.0
 168 | 166,5.28,0.0
 169 | 167,5.28,0.0
 170 | 168,5.28,0.0
 171 | 169,3.98,0.0
 172 | 170,3.98,0.0
 173 | 171,3.98,0.0
 174 | 172,3.98,0.0
 175 | 173,3.98,0.0
 176 | 174,3.98,0.0
 177 | 175,3.98,0.0
 178 | 176,3.98,0.0
 179 | 177,3.98,0.0
 180 | 178,3.98,0.0
 181 | 179,3.98,0.0
 182 | 180,3.98,0.0
 183 | 181,3.98,0.0
 184 | 182,3.98,0.0
 185 | 183,3.98,0.0
 186 | 184,3.98,0.0
 187 | 185,3.98,0.0
 188 | 186,3.98,0.0
 189 | 187,3.98,0.0
 190 | 188,3.98,0.0
 191 | 189,3.98,0.0
 192 | 190,3.98,0.0
 193 | 191,3.98,0.0
 194 | 192,3.98,0.0
 195 | 193,3.98,0.0
 196 | 194,3.98,0.0
 197 | 195,3.98,0.0
 198 | 196,3.98,0.0
 199 | 197,3.98,0.0
 200 | 198,3.98,0.0
 201 | 199,3.98,0.0
 202 | 200,3.98,0.0
 203 | 201,3.98,0.0
 204 | 202,3.98,0.0
 205 | 203,3.98,0.0
 206 | 204,3.98,0.0
 207 | 205,3.98,0.0
 208 | 206,3.98,0.0
 209 | 207,3.98,0.0
 210 | 208,3.98,0.0
 211 | 209,3.98,0.0
 212 | 210,3.98,0.0
 213 | 211,3.98,0.0
 214 | 212,3.98,0.0
 215 | 213,3.98,0.0
 216 | 214,3.98,0.0
 217 | 215,3.98,0.0
 218 | 216,3.98,0.0
 219 | 217,3.98,0.0
 220 | 218,3.98,0.0
 221 | 219,3.98,0.0
 222 | 220,3.98,0.0
 223 | 221,3.98,0.0
 224 | 222,3.98,0.0
 225 | 223,3.98,0.0
 226 | 224,3.98,0.0
 227 | 225,3.98,0.0
 228 | 226,3.98,0.0
 229 | 227,3.98,0.0
 230 | 228,3.98,0.0
 231 | 229,3.98,0.0
 232 | 230,3.98,0.0
 233 | 231,3.98,0.0
 234 | 232,3.98,0.0
 235 | 233,3.98,0.0
 236 | 234,3.98,0.0
 237 | 235,3.98,0.0
 238 | 236,3.98,0.0
 239 | 237,3.98,0.0
 240 | 238,3.98,0.0
 241 | 239,3.98,0.0
 242 | 240,3.98,0.0
 243 | 241,3.98,0.0
 244 | 242,3.98,0.0
 245 | 243,3.98,0.0
 246 | 244,3.98,0.0
 247 | 245,3.98,0.0
 248 | 246,3.98,0.0
 249 | 247,3.98,0.0
 250 | 248,3.98,0.0
 251 | 249,3.98,0.0
 252 | 250,3.98,0.0
 253 | 251,3.98,0.0
 254 | 252,3.98,0.0
 255 | 253,3.98,0.0
 256 | 254,3.98,0.0
 257 | 255,3.98,0.0
 258 | 256,3.98,0.0
 259 | 257,3.98,0.0
 260 | 258,3.98,0.0
 261 | 259,3.98,0.0
 262 | 260,3.98,0.0
 263 | 261,3.98,0.0
 264 | 262,3.98,0.0
 265 | 263,3.98,0.0
 266 | 264,3.98,0.0
 267 | 265,3.98,0.0
 268 | 266,3.98,0.0
 269 | 267,3.98,0.0
 270 | 268,3.98,0.0
 271 | 269,3.98,0.0
 272 | 270,3.98,0.0
 273 | 271,3.98,0.0
 274 | 272,3.98,0.0
 275 | 273,3.98,0.0
 276 | 274,3.98,0.0
 277 | 275,3.98,0.0
 278 | 276,3.98,0.0
 279 | 277,3.98,0.0
 280 | 278,3.98,0.0
 281 | 279,3.98,0.0
 282 | 280,3.98,0.0
 283 | 281,3.98,0.0
 284 | 282,3.98,0.0
 285 | 283,3.98,0.0
 286 | 284,3.98,0.0
 287 | 285,3.98,0.0
 288 | 286,3.98,0.0
 289 | 287,3.98,0.0
 290 | 288,3.98,0.0
 291 | 289,3.98,0.0
 292 | 290,3.98,0.0
 293 | 291,3.98,0.0
 294 | 292,3.98,0.0
 295 | 293,3.98,0.0
 296 | 294,3.98,0.0
 297 | 295,3.98,0.0
 298 | 296,3.98,0.0
 299 | 297,3.98,0.0
 300 | 298,3.98,0.0
 301 | 299,3.98,0.0
 302 | 300,3.98,0.0
 303 | 301,3.98,0.0
 304 | 302,3.98,0.0
 305 | 303,3.98,0.0
 306 | 304,3.98,0.0
 307 | 305,3.98,0.0
 308 | 306,3.98,0.0
 309 | 307,3.98,0.0
 310 | 308,3.98,0.0
 311 | 309,3.98,0.0
 312 | 310,3.98,0.0
 313 | 311,3.98,0.0
 314 | 312,3.98,0.0
 315 | 313,3.98,0.0
 316 | 314,3.98,0.0
 317 | 315,3.98,0.0
 318 | 316,3.98,0.0
 319 | 317,3.98,0.0
 320 | 318,3.98,0.0
 321 | 319,3.98,0.0
 322 | 320,3.98,0.0
 323 | 321,3.98,0.0
 324 | 322,3.98,0.0
 325 | 323,3.98,0.0
 326 | 324,3.98,0.0
 327 | 325,3.98,0.0
 328 | 326,3.98,0.0
 329 | 327,3.98,0.0
 330 | 328,3.98,0.0
 331 | 329,3.98,0.0
 332 | 330,3.98,0.0
 333 | 331,3.98,0.0
 334 | 332,3.98,0.0
 335 | 333,3.98,0.0
 336 | 334,3.98,0.0
 337 | 335,3.98,0.0
 338 | 336,3.98,0.0
 339 | 337,3.18,0.0
 340 | 338,3.18,0.0
 341 | 339,3.18,0.0
 342 | 340,3.18,0.0
 343 | 341,3.18,0.0
 344 | 342,3.18,0.0
 345 | 343,3.18,0.0
 346 | 344,3.18,0.0
 347 | 345,3.18,0.0
 348 | 346,3.18,0.0
 349 | 347,3.18,0.0
 350 | 348,3.18,0.0
 351 | 349,3.18,0.0
 352 | 350,3.18,0.0
 353 | 351,3.18,0.0
 354 | 352,3.18,0.0
 355 | 353,3.18,0.0
 356 | 354,3.18,0.0
 357 | 355,3.18,0.0
 358 | 356,3.18,0.0
 359 | 357,3.18,0.0
 360 | 358,3.18,0.0
 361 | 359,3.18,0.0
 362 | 360,3.18,0.0
 363 | 361,3.18,0.0
 364 | 362,3.18,0.0
 365 | 363,3.18,0.0
 366 | 364,3.18,0.0
 367 | 365,3.18,0.0
 368 | 366,3.18,0.0
 369 | 367,3.18,0.0
 370 | 368,3.18,0.0
 371 | 369,3.18,0.0
 372 | 370,3.18,0.0
 373 | 371,3.18,0.0
 374 | 372,3.18,0.0
 375 | 373,3.18,0.0
 376 | 374,3.18,0.0
 377 | 375,3.18,0.0
 378 | 376,3.18,0.0
 379 | 377,3.18,0.0
 380 | 378,3.18,0.0
 381 | 379,3.18,0.0
 382 | 380,3.18,0.0
 383 | 381,3.18,0.0
 384 | 382,3.18,0.0
 385 | 383,3.18,0.0
 386 | 384,3.18,0.0
 387 | 385,3.18,0.0
 388 | 386,3.18,0.0
 389 | 387,3.18,0.0
 390 | 388,3.18,0.0
 391 | 389,3.18,0.0
 392 | 390,3.18,0.0
 393 | 391,3.18,0.0
 394 | 392,3.18,0.0
 395 | 393,3.18,0.0
 396 | 394,3.18,0.0
 397 | 395,3.18,0.0
 398 | 396,3.18,0.0
 399 | 397,3.18,0.0
 400 | 398,3.18,0.0
 401 | 399,3.18,0.0
 402 | 400,3.18,0.0
 403 | 401,3.18,0.0
 404 | 402,3.18,0.0
 405 | 403,3.18,0.0
 406 | 404,3.18,0.0
 407 | 405,3.18,0.0
 408 | 406,3.18,0.0
 409 | 407,3.18,0.0
 410 | 408,3.18,0.0
 411 | 409,3.18,0.0
 412 | 410,3.18,0.0
 413 | 411,3.18,0.0
 414 | 412,3.18,0.0
 415 | 413,3.18,0.0
 416 | 414,3.18,0.0
 417 | 415,3.18,0.0
 418 | 416,3.18,0.0
 419 | 417,3.18,0.0
 420 | 418,3.18,0.0
 421 | 419,3.18,0.0
 422 | 420,3.18,0.0
 423 | 421,3.18,0.0
 424 | 422,3.18,0.0
 425 | 423,3.18,0.0
 426 | 424,3.18,0.0
 427 | 425,3.18,0.0
 428 | 426,3.18,0.0
 429 | 427,3.18,0.0
 430 | 428,3.18,0.0
 431 | 429,3.18,0.0
 432 | 430,3.18,0.0
 433 | 431,3.18,0.0
 434 | 432,3.18,0.0
 435 | 433,3.18,0.0
 436 | 434,3.18,0.0
 437 | 435,3.18,0.0
 438 | 436,3.18,0.0
 439 | 437,3.18,0.0
 440 | 438,3.18,0.0
 441 | 439,3.18,0.0
 442 | 440,3.18,0.0
 443 | 441,3.18,0.0
 444 | 442,3.18,0.0
 445 | 443,3.18,0.0
 446 | 444,3.18,0.0
 447 | 445,3.18,0.0
 448 | 446,3.18,0.0
 449 | 447,3.18,0.0
 450 | 448,3.18,0.0
 451 | 449,3.18,0.0
 452 | 450,3.18,0.0
 453 | 451,3.18,0.0
 454 | 452,3.18,0.0
 455 | 453,3.18,0.0
 456 | 454,3.18,0.0
 457 | 455,3.18,0.0
 458 | 456,3.18,0.0
 459 | 457,3.18,0.0
 460 | 458,3.18,0.0
 461 | 459,3.18,0.0
 462 | 460,3.18,0.0
 463 | 461,3.18,0.0
 464 | 462,3.18,0.0
 465 | 463,3.18,0.0
 466 | 464,3.18,0.0
 467 | 465,3.18,0.0
 468 | 466,3.18,0.0
 469 | 467,3.18,0.0
 470 | 468,3.18,0.0
 471 | 469,3.18,0.0
 472 | 470,3.18,0.0
 473 | 471,3.18,0.0
 474 | 472,3.18,0.0
 475 | 473,3.18,0.0
 476 | 474,3.18,0.0
 477 | 475,3.18,0.0
 478 | 476,3.18,0.0
 479 | 477,3.18,0.0
 480 | 478,3.18,0.0
 481 | 479,3.18,0.0
 482 | 480,3.18,0.0
 483 | 481,3.18,0.0
 484 | 482,3.18,0.0
 485 | 483,3.18,0.0
 486 | 484,3.18,0.0
 487 | 485,3.18,0.0
 488 | 486,3.18,0.0
 489 | 487,3.18,0.0
 490 | 488,3.18,0.0
 491 | 489,3.18,0.0
 492 | 490,3.18,0.0
 493 | 491,3.18,0.0
 494 | 492,3.18,0.0
 495 | 493,3.18,0.0
 496 | 494,3.18,0.0
 497 | 495,3.18,0.0
 498 | 496,3.18,0.0
 499 | 497,3.18,0.0
 500 | 498,3.18,0.0
 501 | 499,3.18,0.0
 502 | 500,3.18,0.0
 503 | 501,3.18,0.0
 504 | 502,3.18,0.0
 505 | 503,3.18,0.0
 506 | 504,3.18,0.0
 507 | 505,2.23,0.0
 508 | 506,2.23,0.0
 509 | 507,2.23,0.0
 510 | 508,2.23,0.0
 511 | 509,2.23,0.0
 512 | 510,2.23,0.0
 513 | 511,2.23,0.0
 514 | 512,2.23,0.0
 515 | 513,2.23,0.0
 516 | 514,2.23,0.0
 517 | 515,2.23,0.0
 518 | 516,2.23,0.0
 519 | 517,2.23,0.0
 520 | 518,2.23,0.0
 521 | 519,2.23,0.0
 522 | 520,2.23,0.0
 523 | 521,2.23,0.0
 524 | 522,2.23,0.0
 525 | 523,2.23,0.0
 526 | 524,2.23,0.0
 527 | 525,2.23,0.0
 528 | 526,2.23,0.0
 529 | 527,2.23,0.0
 530 | 528,2.23,0.0
 531 | 529,2.23,0.0
 532 | 530,2.23,0.0
 533 | 531,2.23,0.0
 534 | 532,2.23,0.0
 535 | 533,2.23,0.0
 536 | 534,2.23,0.0
 537 | 535,2.23,0.0
 538 | 536,2.23,0.0
 539 | 537,2.23,0.0
 540 | 538,2.23,0.0
 541 | 539,2.23,0.0
 542 | 540,2.23,0.0
 543 | 541,2.23,0.0
 544 | 542,2.23,0.0
 545 | 543,2.23,0.0
 546 | 544,2.23,0.0
 547 | 545,2.23,0.0
 548 | 546,2.23,0.0
 549 | 547,2.23,0.0
 550 | 548,2.23,0.0
 551 | 549,2.23,0.0
 552 | 550,2.23,0.0
 553 | 551,2.23,0.0
 554 | 552,2.23,0.0
 555 | 553,2.23,0.0
 556 | 554,2.23,0.0
 557 | 555,2.23,0.0
 558 | 556,2.23,0.0
 559 | 557,2.23,0.0
 560 | 558,2.23,0.0
 561 | 559,2.23,0.0
 562 | 560,2.23,0.0
 563 | 561,2.23,0.0
 564 | 562,2.23,0.0
 565 | 563,2.23,0.0
 566 | 564,2.23,0.0
 567 | 565,2.23,0.0
 568 | 566,2.23,0.0
 569 | 567,2.23,0.0
 570 | 568,2.23,0.0
 571 | 569,2.23,0.0
 572 | 570,2.23,0.0
 573 | 571,2.23,0.0
 574 | 572,2.23,0.0
 575 | 573,2.23,0.0
 576 | 574,2.23,0.0
 577 | 575,2.23,0.0
 578 | 576,2.23,0.0
 579 | 577,2.23,0.0
 580 | 578,2.23,0.0
 581 | 579,2.23,0.0
 582 | 580,2.23,0.0
 583 | 581,2.23,0.0
 584 | 582,2.23,0.0
 585 | 583,2.23,0.0
 586 | 584,2.23,0.0
 587 | 585,2.23,0.0
 588 | 586,2.23,0.0
 589 | 587,2.23,0.0
 590 | 588,2.23,0.0
 591 | 589,2.23,0.0
 592 | 590,2.23,0.0
 593 | 591,2.23,0.0
 594 | 592,2.23,0.0
 595 | 593,2.23,0.0
 596 | 594,2.23,0.0
 597 | 595,2.23,0.0
 598 | 596,2.23,0.0
 599 | 597,2.23,0.0
 600 | 598,2.23,0.0
 601 | 599,2.23,0.0
 602 | 600,2.23,0.0
 603 | 601,2.23,0.0
 604 | 602,2.23,0.0
 605 | 603,2.23,0.0
 606 | 604,2.23,0.0
 607 | 605,2.23,0.0
 608 | 606,2.23,0.0
 609 | 607,2.23,0.0
 610 | 608,2.23,0.0
 611 | 609,2.23,0.0
 612 | 610,2.23,0.0
 613 | 611,2.23,0.0
 614 | 612,2.23,0.0
 615 | 613,2.23,0.0
 616 | 614,2.23,0.0
 617 | 615,2.23,0.0
 618 | 616,2.23,0.0
 619 | 617,2.23,0.0
 620 | 618,2.23,0.0
 621 | 619,2.23,0.0
 622 | 620,2.23,0.0
 623 | 621,2.23,0.0
 624 | 622,2.23,0.0
 625 | 623,2.23,0.0
 626 | 624,2.23,0.0
 627 | 625,2.23,0.0
 628 | 626,2.23,0.0
 629 | 627,2.23,0.0
 630 | 628,2.23,0.0
 631 | 629,2.23,0.0
 632 | 630,2.23,0.0
 633 | 631,2.23,0.0
 634 | 632,2.23,0.0
 635 | 633,2.23,0.0
 636 | 634,2.23,0.0
 637 | 635,2.23,0.0
 638 | 636,2.23,0.0
 639 | 637,2.23,0.0
 640 | 638,2.23,0.0
 641 | 639,2.23,0.0
 642 | 640,2.23,0.0
 643 | 641,2.23,0.0
 644 | 642,2.23,0.0
 645 | 643,2.23,0.0
 646 | 644,2.23,0.0
 647 | 645,2.23,0.0
 648 | 646,2.23,0.0
 649 | 647,2.23,0.0
 650 | 648,2.23,0.0
 651 | 649,2.23,0.0
 652 | 650,2.23,0.0
 653 | 651,2.23,0.0
 654 | 652,2.23,0.0
 655 | 653,2.23,0.0
 656 | 654,2.23,0.0
 657 | 655,2.23,0.0
 658 | 656,2.23,0.0
 659 | 657,2.23,0.0
 660 | 658,2.23,0.0
 661 | 659,2.23,0.0
 662 | 660,2.23,0.0
 663 | 661,2.23,0.0
 664 | 662,2.23,0.0
 665 | 663,2.23,0.0
 666 | 664,2.23,0.0
 667 | 665,2.23,0.0
 668 | 666,2.23,0.0
 669 | 667,2.23,0.0
 670 | 668,2.23,0.0
 671 | 669,2.23,0.0
 672 | 670,2.23,0.0
 673 | 671,2.23,0.0
 674 | 672,2.23,0.0
 675 | 673,2.34,0.0
 676 | 674,2.34,0.0
 677 | 675,2.34,0.0
 678 | 676,2.34,0.0
 679 | 677,2.34,0.0
 680 | 678,2.34,0.0
 681 | 679,2.34,0.0
 682 | 680,2.34,0.0
 683 | 681,2.34,0.0
 684 | 682,2.34,0.0
 685 | 683,2.34,0.0
 686 | 684,2.34,0.0
 687 | 685,2.34,0.0
 688 | 686,2.34,0.0
 689 | 687,2.34,0.0
 690 | 688,2.34,0.0
 691 | 689,2.34,0.0
 692 | 690,2.34,0.0
 693 | 691,2.34,0.0
 694 | 692,2.34,0.0
 695 | 693,2.34,0.0
 696 | 694,2.34,0.0
 697 | 695,2.34,0.0
 698 | 696,2.34,0.0
 699 | 697,2.34,0.0
 700 | 698,2.34,0.0
 701 | 699,2.34,0.0
 702 | 700,2.34,0.0
 703 | 701,2.34,0.0
 704 | 702,2.34,0.0
 705 | 703,2.34,0.0
 706 | 704,2.34,0.0
 707 | 705,2.34,0.0
 708 | 706,2.34,0.0
 709 | 707,2.34,0.0
 710 | 708,2.34,0.0
 711 | 709,2.34,0.0
 712 | 710,2.34,0.0
 713 | 711,2.34,0.0
 714 | 712,2.34,0.0
 715 | 713,2.34,0.0
 716 | 714,2.34,0.0
 717 | 715,2.34,0.0
 718 | 716,2.34,0.0
 719 | 717,2.34,0.0
 720 | 718,2.34,0.0
 721 | 719,2.34,0.0
 722 | 720,2.34,0.0
 723 | 721,2.34,0.0
 724 | 722,2.34,0.0
 725 | 723,2.34,0.0
 726 | 724,2.34,0.0
 727 | 725,2.34,0.0
 728 | 726,2.34,0.0
 729 | 727,2.34,0.0
 730 | 728,2.34,0.0
 731 | 729,2.34,0.0
 732 | 730,2.34,0.0
 733 | 731,2.34,0.0
 734 | 732,2.34,0.0
 735 | 733,2.34,0.0
 736 | 734,2.34,0.0
 737 | 735,2.34,0.0
 738 | 736,2.34,0.0
 739 | 737,2.34,0.0
 740 | 738,2.34,0.0
 741 | 739,2.34,0.0
 742 | 740,2.34,0.0
 743 | 741,2.34,0.0
 744 | 742,2.34,0.0
 745 | 743,2.34,0.0
 746 | 744,2.34,0.0
 747 | 745,2.34,0.0
 748 | 746,2.34,0.0
 749 | 747,2.34,0.0
 750 | 748,2.34,0.0
 751 | 749,2.34,0.0
 752 | 750,2.34,0.0
 753 | 751,2.34,0.0
 754 | 752,2.34,0.0
 755 | 753,2.34,0.0
 756 | 754,2.34,0.0
 757 | 755,2.34,0.0
 758 | 756,2.34,0.0
 759 | 757,2.34,0.0
 760 | 758,2.34,0.0
 761 | 759,2.34,0.0
 762 | 760,2.34,0.0
 763 | 761,2.34,0.0
 764 | 762,2.34,0.0
 765 | 763,2.34,0.0
 766 | 764,2.34,0.0
 767 | 765,2.34,0.0
 768 | 766,2.34,0.0
 769 | 767,2.34,0.0
 770 | 768,2.34,0.0
 771 | 769,2.34,0.0
 772 | 770,2.34,0.0
 773 | 771,2.34,0.0
 774 | 772,2.34,0.0
 775 | 773,2.34,0.0
 776 | 774,2.34,0.0
 777 | 775,2.34,0.0
 778 | 776,2.34,0.0
 779 | 777,2.34,0.0
 780 | 778,2.34,0.0
 781 | 779,2.34,0.0
 782 | 780,2.34,0.0
 783 | 781,2.34,0.0
 784 | 782,2.34,0.0
 785 | 783,2.34,0.0
 786 | 784,2.34,0.0
 787 | 785,2.34,0.0
 788 | 786,2.34,0.0
 789 | 787,2.34,0.0
 790 | 788,2.34,0.0
 791 | 789,2.34,0.0
 792 | 790,2.34,0.0
 793 | 791,2.34,0.0
 794 | 792,2.34,0.0
 795 | 793,2.34,0.0
 796 | 794,2.34,0.0
 797 | 795,2.34,0.0
 798 | 796,2.34,0.0
 799 | 797,2.34,0.0
 800 | 798,2.34,0.0
 801 | 799,2.34,0.0
 802 | 800,2.34,0.0
 803 | 801,2.34,0.0
 804 | 802,2.34,0.0
 805 | 803,2.34,0.0
 806 | 804,2.34,0.0
 807 | 805,2.34,0.0
 808 | 806,2.34,0.0
 809 | 807,2.34,0.0
 810 | 808,2.34,0.0
 811 | 809,2.34,0.0
 812 | 810,2.34,0.0
 813 | 811,2.34,0.0
 814 | 812,2.34,0.0
 815 | 813,2.34,0.0
 816 | 814,2.34,0.0
 817 | 815,2.34,0.0
 818 | 816,2.34,0.0
 819 | 817,2.34,0.0
 820 | 818,2.34,0.0
 821 | 819,2.34,0.0
 822 | 820,2.34,0.0
 823 | 821,2.34,0.0
 824 | 822,2.34,0.0
 825 | 823,2.34,0.0
 826 | 824,2.34,0.0
 827 | 825,2.34,0.0
 828 | 826,2.34,0.0
 829 | 827,2.34,0.0
 830 | 828,2.34,0.0
 831 | 829,2.34,0.0
 832 | 830,2.34,0.0
 833 | 831,2.34,0.0
 834 | 832,2.34,0.0
 835 | 833,2.34,0.0
 836 | 834,2.34,0.0
 837 | 835,2.34,0.0
 838 | 836,2.34,0.0
 839 | 837,2.34,0.0
 840 | 838,2.34,0.0
 841 | 839,2.34,0.0
 842 | 840,2.34,0.0
 843 | 841,2.34,0.0
 844 | 842,2.34,0.0
 845 | 843,2.34,0.0
 846 | 844,2.34,0.0
 847 | 845,2.34,0.0
 848 | 846,2.34,0.0
 849 | 847,2.34,0.0
 850 | 848,2.34,0.0
 851 | 849,2.34,0.0
 852 | 850,2.34,0.0
 853 | 851,2.34,0.0
 854 | 852,2.34,0.0
 855 | 853,2.34,0.0
 856 | 854,2.34,0.0
 857 | 855,2.34,0.0
 858 | 856,2.34,0.0
 859 | 857,2.34,0.0
 860 | 858,2.34,0.0
 861 | 859,2.34,0.0
 862 | 860,2.34,0.0
 863 | 861,2.34,0.0
 864 | 862,2.34,0.0
 865 | 863,2.34,0.0
 866 | 864,2.34,0.0
 867 | 865,2.34,0.0
 868 | 866,2.34,0.0
 869 | 867,2.34,0.0
 870 | 868,2.34,0.0
 871 | 869,2.34,0.0
 872 | 870,2.34,0.0
 873 | 871,2.34,0.0
 874 | 872,2.34,0.0
 875 | 873,2.34,0.0
 876 | 874,2.34,0.0
 877 | 875,2.34,0.0
 878 | 876,2.34,0.0
 879 | 877,2.34,0.0
 880 | 878,2.34,0.0
 881 | 879,2.34,0.0
 882 | 880,2.34,0.0
 883 | 881,2.34,0.0
 884 | 882,2.34,0.0
 885 | 883,2.34,0.0
 886 | 884,2.34,0.0
 887 | 885,2.34,0.0
 888 | 886,2.34,0.0
 889 | 887,2.34,0.0
 890 | 888,2.34,0.0
 891 | 889,2.34,0.0
 892 | 890,2.34,0.0
 893 | 891,2.34,0.0
 894 | 892,2.34,0.0
 895 | 893,2.34,0.0
 896 | 894,2.34,0.0
 897 | 895,2.34,0.0
 898 | 896,2.34,0.0
 899 | 897,2.34,0.0
 900 | 898,2.34,0.0
 901 | 899,2.34,0.0
 902 | 900,2.34,0.0
 903 | 901,2.34,0.0
 904 | 902,2.34,0.0
 905 | 903,2.34,0.0
 906 | 904,2.34,0.0
 907 | 905,2.34,0.0
 908 | 906,2.34,0.0
 909 | 907,2.34,0.0
 910 | 908,2.34,0.0
 911 | 909,2.34,0.0
 912 | 910,2.34,0.0
 913 | 911,2.34,0.0
 914 | 912,2.34,0.0
 915 | 913,2.34,0.0
 916 | 914,2.34,0.0
 917 | 915,2.34,0.0
 918 | 916,2.34,0.0
 919 | 917,2.34,0.0
 920 | 918,2.34,0.0
 921 | 919,2.34,0.0
 922 | 920,2.34,0.0
 923 | 921,2.34,0.0
 924 | 922,2.34,0.0
 925 | 923,2.34,0.0
 926 | 924,2.34,0.0
 927 | 925,2.34,0.0
 928 | 926,2.34,0.0
 929 | 927,2.34,0.0
 930 | 928,2.34,0.0
 931 | 929,2.34,0.0
 932 | 930,2.34,0.0
 933 | 931,2.34,0.0
 934 | 932,2.34,0.0
 935 | 933,2.34,0.0
 936 | 934,2.34,0.0
 937 | 935,2.34,0.0
 938 | 936,2.34,0.0
 939 | 937,2.34,0.0
 940 | 938,2.34,0.0
 941 | 939,2.34,0.0
 942 | 940,2.34,0.0
 943 | 941,2.34,0.0
 944 | 942,2.34,0.0
 945 | 943,2.34,0.0
 946 | 944,2.34,0.0
 947 | 945,2.34,0.0
 948 | 946,2.34,0.0
 949 | 947,2.34,0.0
 950 | 948,2.34,0.0
 951 | 949,2.34,0.0
 952 | 950,2.34,0.0
 953 | 951,2.34,0.0
 954 | 952,2.34,0.0
 955 | 953,2.34,0.0
 956 | 954,2.34,0.0
 957 | 955,2.34,0.0
 958 | 956,2.34,0.0
 959 | 957,2.34,0.0
 960 | 958,2.34,0.0
 961 | 959,2.34,0.0
 962 | 960,2.34,0.0
 963 | 961,2.34,0.0
 964 | 962,2.34,0.0
 965 | 963,2.34,0.0
 966 | 964,2.34,0.0
 967 | 965,2.34,0.0
 968 | 966,2.34,0.0
 969 | 967,2.34,0.0
 970 | 968,2.34,0.0
 971 | 969,2.34,0.0
 972 | 970,2.34,0.0
 973 | 971,2.34,0.0
 974 | 972,2.34,0.0
 975 | 973,2.34,0.0
 976 | 974,2.34,0.0
 977 | 975,2.34,0.0
 978 | 976,2.34,0.0
 979 | 977,2.34,0.0
 980 | 978,2.34,0.0
 981 | 979,2.34,0.0
 982 | 980,2.34,0.0
 983 | 981,2.34,0.0
 984 | 982,2.34,0.0
 985 | 983,2.34,0.0
 986 | 984,2.34,0.0
 987 | 985,2.34,0.0
 988 | 986,2.34,0.0
 989 | 987,2.34,0.0
 990 | 988,2.34,0.0
 991 | 989,2.34,0.0
 992 | 990,2.34,0.0
 993 | 991,2.34,0.0
 994 | 992,2.34,0.0
 995 | 993,2.34,0.0
 996 | 994,2.34,0.0
 997 | 995,2.34,0.0
 998 | 996,2.34,0.0
 999 | 997,2.34,0.0
1000 | 998,2.34,0.0
1001 | 999,2.34,0.0
1002 | 1000,2.34,0.0
1003 | 1001,2.34,0.0
1004 | 1002,2.34,0.0
1005 | 1003,2.34,0.0
1006 | 1004,2.34,0.0
1007 | 1005,2.34,0.0
1008 | 1006,2.34,0.0
1009 | 1007,2.34,0.0
1010 | 1008,2.34,0.0
1011 | 1009,2.11,0.0
1012 | 1010,2.11,0.0
1013 | 1011,2.11,0.0
1014 | 1012,2.11,0.0
1015 | 1013,2.11,0.0
1016 | 1014,2.11,0.0
1017 | 1015,2.11,0.0
1018 | 1016,2.11,0.0
1019 | 1017,2.11,0.0
1020 | 1018,2.11,0.0
1021 | 1019,2.11,0.0
1022 | 1020,2.11,0.0
1023 | 1021,2.11,0.0
1024 | 1022,2.11,0.0
1025 | 1023,2.11,0.0
1026 | 1024,2.11,0.0
1027 | 1025,2.11,0.0
1028 | 1026,2.11,0.0
1029 | 1027,2.11,0.0
1030 | 1028,2.11,0.0
1031 | 1029,2.11,0.0
1032 | 1030,2.11,0.0
1033 | 1031,2.11,0.0
1034 | 1032,2.11,0.0
1035 | 1033,2.11,0.0
1036 | 1034,2.11,0.0
1037 | 1035,2.11,0.0
1038 | 1036,2.11,0.0
1039 | 1037,2.11,0.0
1040 | 1038,2.11,0.0
1041 | 1039,2.11,0.0
1042 | 1040,2.11,0.0
1043 | 1041,2.11,0.0
1044 | 1042,2.11,0.0
1045 | 1043,2.11,0.0
1046 | 1044,2.11,0.0
1047 | 1045,2.11,0.0
1048 | 1046,2.11,0.0
1049 | 1047,2.11,0.0
1050 | 1048,2.11,0.0
1051 | 1049,2.11,0.0
1052 | 1050,2.11,0.0
1053 | 1051,2.11,0.0
1054 | 1052,2.11,0.0
1055 | 1053,2.11,0.0
1056 | 1054,2.11,0.0
1057 | 1055,2.11,0.0
1058 | 1056,2.11,0.0
1059 | 1057,2.11,0.0
1060 | 1058,2.11,0.0
1061 | 1059,2.11,0.0
1062 | 1060,2.11,0.0
1063 | 1061,2.11,0.0
1064 | 1062,2.11,0.0
1065 | 1063,2.11,0.0
1066 | 1064,2.11,0.0
1067 | 1065,2.11,0.0
1068 | 1066,2.11,0.0
1069 | 1067,2.11,0.0
1070 | 1068,2.11,0.0
1071 | 1069,2.11,0.0
1072 | 1070,2.11,0.0
1073 | 1071,2.11,0.0
1074 | 1072,2.11,0.0
1075 | 1073,2.11,0.0
1076 | 1074,2.11,0.0
1077 | 1075,2.11,0.0
1078 | 1076,2.11,0.0
1079 | 1077,2.11,0.0
1080 | 1078,2.11,0.0
1081 | 1079,2.11,0.0
1082 | 1080,2.11,0.0
1083 | 1081,2.11,0.0
1084 | 1082,2.11,0.0
1085 | 1083,2.11,0.0
1086 | 1084,2.11,0.0
1087 | 1085,2.11,0.0
1088 | 1086,2.11,0.0
1089 | 1087,2.11,0.0
1090 | 1088,2.11,0.0
1091 | 1089,2.11,0.0
1092 | 1090,2.11,0.0
1093 | 1091,2.11,0.0
1094 | 1092,2.11,0.0
1095 | 1093,2.11,0.0
1096 | 1094,2.11,0.0
1097 | 1095,2.11,0.0
1098 | 1096,2.11,0.0
1099 | 1097,2.11,0.0
1100 | 1098,2.11,0.0
1101 | 1099,2.11,0.0
1102 | 1100,2.11,0.0
1103 | 1101,2.11,0.0
1104 | 1102,2.11,0.0
1105 | 1103,2.11,0.0
1106 | 1104,2.11,0.0
1107 | 1105,2.11,0.0
1108 | 1106,2.11,0.0
1109 | 1107,2.11,0.0
1110 | 1108,2.11,0.0
1111 | 1109,2.11,0.0
1112 | 1110,2.11,0.0
1113 | 1111,2.11,0.0
1114 | 1112,2.11,0.0
1115 | 1113,2.11,0.0
1116 | 1114,2.11,0.0
1117 | 1115,2.11,0.0
1118 | 1116,2.11,0.0
1119 | 1117,2.11,0.0
1120 | 1118,2.11,0.0
1121 | 1119,2.11,0.0
1122 | 1120,2.11,0.0
1123 | 1121,2.11,0.0
1124 | 1122,2.11,0.0
1125 | 1123,2.11,0.0
1126 | 1124,2.11,0.0
1127 | 1125,2.11,0.0
1128 | 1126,2.11,0.0
1129 | 1127,2.11,0.0
1130 | 1128,2.11,0.0
1131 | 1129,2.11,0.0
1132 | 1130,2.11,0.0
1133 | 1131,2.11,0.0
1134 | 1132,2.11,0.0
1135 | 1133,2.11,0.0
1136 | 1134,2.11,0.0
1137 | 1135,2.11,0.0
1138 | 1136,2.11,0.0
1139 | 1137,2.11,0.0
1140 | 1138,2.11,0.0
1141 | 1139,2.11,0.0
1142 | 1140,2.11,0.0
1143 | 1141,2.11,0.0
1144 | 1142,2.11,0.0
1145 | 1143,2.11,0.0
1146 | 1144,2.11,0.0
1147 | 1145,2.11,0.0
1148 | 1146,2.11,0.0
1149 | 1147,2.11,0.0
1150 | 1148,2.11,0.0
1151 | 1149,2.11,0.0
1152 | 1150,2.11,0.0
1153 | 1151,2.11,0.0
1154 | 1152,2.11,0.0
1155 | 1153,2.11,0.0
1156 | 1154,2.11,0.0
1157 | 1155,2.11,0.0
1158 | 1156,2.11,0.0
1159 | 1157,2.11,0.0
1160 | 1158,2.11,0.0
1161 | 1159,2.11,0.0
1162 | 1160,2.11,0.0
1163 | 1161,2.11,0.0
1164 | 1162,2.11,0.0
1165 | 1163,2.11,0.0
1166 | 1164,2.11,0.0
1167 | 1165,2.11,0.0
1168 | 1166,2.11,0.0
1169 | 1167,2.11,0.0
1170 | 1168,2.11,0.0
1171 | 1169,2.11,0.0
1172 | 1170,2.11,0.0
1173 | 1171,2.11,0.0
1174 | 1172,2.11,0.0
1175 | 1173,2.11,0.0
1176 | 1174,2.11,0.0
1177 | 1175,2.11,0.0
1178 | 1176,2.11,0.0
1179 | 1177,2.74,0.0
1180 | 1178,2.74,0.0
1181 | 1179,2.74,0.0
1182 | 1180,2.74,0.0
1183 | 1181,2.74,0.0
1184 | 1182,2.74,0.0
1185 | 1183,2.74,0.0
1186 | 1184,2.74,0.0
1187 | 1185,2.74,0.0
1188 | 1186,2.74,0.0
1189 | 1187,2.74,0.0
1190 | 1188,2.74,0.0
1191 | 1189,2.74,0.0
1192 | 1190,2.74,0.0
1193 | 1191,2.74,0.0
1194 | 1192,2.74,0.0
1195 | 1193,2.74,0.0
1196 | 1194,2.74,0.0
1197 | 1195,2.74,0.0
1198 | 1196,2.74,0.0
1199 | 1197,2.74,0.0
1200 | 1198,2.74,0.0
1201 | 1199,2.74,0.0
1202 | 1200,2.74,0.0
1203 | 1201,2.74,0.0
1204 | 1202,2.74,0.0
1205 | 1203,2.74,0.0
1206 | 1204,2.74,0.0
1207 | 1205,2.74,0.0
1208 | 1206,2.74,0.0
1209 | 1207,2.74,0.0
1210 | 1208,2.74,0.0
1211 | 1209,2.74,0.0
1212 | 1210,2.74,0.0
1213 | 1211,2.74,0.0
1214 | 1212,2.74,0.0
1215 | 1213,2.74,0.0
1216 | 1214,2.74,0.0
1217 | 1215,2.74,0.0
1218 | 1216,2.74,0.0
1219 | 1217,2.74,0.0
1220 | 1218,2.74,0.0
1221 | 1219,2.74,0.0
1222 | 1220,2.74,0.0
1223 | 1221,2.74,0.0
1224 | 1222,2.74,0.0
1225 | 1223,2.74,0.0
1226 | 1224,2.74,0.0
1227 | 1225,2.74,0.0
1228 | 1226,2.74,0.0
1229 | 1227,2.74,0.0
1230 | 1228,2.74,0.0
1231 | 1229,2.74,0.0
1232 | 1230,2.74,0.0
1233 | 1231,2.74,0.0
1234 | 1232,2.74,0.0
1235 | 1233,2.74,0.0
1236 | 1234,2.74,0.0
1237 | 1235,2.74,0.0
1238 | 1236,2.74,0.0
1239 | 1237,2.74,0.0
1240 | 1238,2.74,0.0
1241 | 1239,2.74,0.0
1242 | 1240,2.74,0.0
1243 | 1241,2.74,0.0
1244 | 1242,2.74,0.0
1245 | 1243,2.74,0.0
1246 | 1244,2.74,0.0
1247 | 1245,2.74,0.0
1248 | 1246,2.74,0.0
1249 | 1247,2.74,0.0
1250 | 1248,2.74,0.0
1251 | 1249,2.74,0.0
1252 | 1250,2.74,0.0
1253 | 1251,2.74,0.0
1254 | 1252,2.74,0.0
1255 | 1253,2.74,0.0
1256 | 1254,2.74,0.0
1257 | 1255,2.74,0.0
1258 | 1256,2.74,0.0
1259 | 1257,2.74,0.0
1260 | 1258,2.74,0.0
1261 | 1259,2.74,0.0
1262 | 1260,2.74,0.0
1263 | 1261,2.74,0.0
1264 | 1262,2.74,0.0
1265 | 1263,2.74,0.0
1266 | 1264,2.74,0.0
1267 | 1265,2.74,0.0
1268 | 1266,2.74,0.0
1269 | 1267,2.74,0.0
1270 | 1268,2.74,0.0
1271 | 1269,2.74,0.0
1272 | 1270,2.74,0.0
1273 | 1271,2.74,0.0
1274 | 1272,2.74,0.0
1275 | 1273,2.74,0.0
1276 | 1274,2.74,0.0
1277 | 1275,2.74,0.0
1278 | 1276,2.74,0.0
1279 | 1277,2.74,0.0
1280 | 1278,2.74,0.0
1281 | 1279,2.74,0.0
1282 | 1280,2.74,0.0
1283 | 1281,2.74,0.0
1284 | 1282,2.74,0.0
1285 | 1283,2.74,0.0
1286 | 1284,2.74,0.0
1287 | 1285,2.74,0.0
1288 | 1286,2.74,0.0
1289 | 1287,2.74,0.0
1290 | 1288,2.74,0.0
1291 | 1289,2.74,0.0
1292 | 1290,2.74,0.0
1293 | 1291,2.74,0.0
1294 | 1292,2.74,0.0
1295 | 1293,2.74,0.0
1296 | 1294,2.74,0.0
1297 | 1295,2.74,0.0
1298 | 1296,2.74,0.0
1299 | 1297,2.74,0.0
1300 | 1298,2.74,0.0
1301 | 1299,2.74,0.0
1302 | 1300,2.74,0.0
1303 | 1301,2.74,0.0
1304 | 1302,2.74,0.0
1305 | 1303,2.74,0.0
1306 | 1304,2.74,0.0
1307 | 1305,2.74,0.0
1308 | 1306,2.74,0.0
1309 | 1307,2.74,0.0
1310 | 1308,2.74,0.0
1311 | 1309,2.74,0.0
1312 | 1310,2.74,0.0
1313 | 1311,2.74,0.0
1314 | 1312,2.74,0.0
1315 | 1313,2.74,0.0
1316 | 1314,2.74,0.0
1317 | 1315,2.74,0.0
1318 | 1316,2.74,0.0
1319 | 1317,2.74,0.0
1320 | 1318,2.74,0.0
1321 | 1319,2.74,0.0
1322 | 1320,2.74,0.0
1323 | 1321,2.74,0.0
1324 | 1322,2.74,0.0
1325 | 1323,2.74,0.0
1326 | 1324,2.74,0.0
1327 | 1325,2.74,0.0
1328 | 1326,2.74,0.0
1329 | 1327,2.74,0.0
1330 | 1328,2.74,0.0
1331 | 1329,2.74,0.0
1332 | 1330,2.74,0.0
1333 | 1331,2.74,0.0
1334 | 1332,2.74,0.0
1335 | 1333,2.74,0.0
1336 | 1334,2.74,0.0
1337 | 1335,2.74,0.0
1338 | 1336,2.74,0.0
1339 | 1337,2.74,0.0
1340 | 1338,2.74,0.0
1341 | 1339,2.74,0.0
1342 | 1340,2.74,0.0
1343 | 1341,2.74,0.0
1344 | 1342,2.74,0.0
1345 | 1343,2.74,0.0
1346 | 1344,2.74,0.0
1347 | 1345,2.74,0.0
1348 | 1346,2.74,0.0
1349 | 1347,2.74,0.0
1350 | 1348,2.74,0.0
1351 | 1349,2.74,0.0
1352 | 1350,2.74,0.0
1353 | 1351,2.74,0.0
1354 | 1352,2.74,0.0
1355 | 1353,2.74,0.0
1356 | 1354,2.74,0.0
1357 | 1355,2.74,0.0
1358 | 1356,2.74,0.0
1359 | 1357,2.74,0.0
1360 | 1358,2.74,0.0
1361 | 1359,2.74,0.0
1362 | 1360,2.74,0.0
1363 | 1361,2.74,0.0
1364 | 1362,2.74,0.0
1365 | 1363,2.74,0.0
1366 | 1364,2.74,0.0
1367 | 1365,2.74,0.0
1368 | 1366,2.74,0.0
1369 | 1367,2.74,0.0
1370 | 1368,2.74,0.0
1371 | 1369,2.74,0.0
1372 | 1370,2.74,0.0
1373 | 1371,2.74,0.0
1374 | 1372,2.74,0.0
1375 | 1373,2.74,0.0
1376 | 1374,2.74,0.0
1377 | 1375,2.74,0.0
1378 | 1376,2.74,0.0
1379 | 1377,2.74,0.0
1380 | 1378,2.74,0.0
1381 | 1379,2.74,0.0
1382 | 1380,2.74,0.0
1383 | 1381,2.74,0.0
1384 | 1382,2.74,0.0
1385 | 1383,2.74,0.0
1386 | 1384,2.74,0.0
1387 | 1385,2.74,0.0
1388 | 1386,2.74,0.0
1389 | 1387,2.74,0.0
1390 | 1388,2.74,0.0
1391 | 1389,2.74,0.0
1392 | 1390,2.74,0.0
1393 | 1391,2.74,0.0
1394 | 1392,2.74,0.0
1395 | 1393,2.74,0.0
1396 | 1394,2.74,0.0
1397 | 1395,2.74,0.0
1398 | 1396,2.74,0.0
1399 | 1397,2.74,0.0
1400 | 1398,2.74,0.0
1401 | 1399,2.74,0.0
1402 | 1400,2.74,0.0
1403 | 1401,2.74,0.0
1404 | 1402,2.74,0.0
1405 | 1403,2.74,0.0
1406 | 1404,2.74,0.0
1407 | 1405,2.74,0.0
1408 | 1406,2.74,0.0
1409 | 1407,2.74,0.0
1410 | 1408,2.74,0.0
1411 | 1409,2.74,0.0
1412 | 1410,2.74,0.0
1413 | 1411,2.74,0.0
1414 | 1412,2.74,0.0
1415 | 1413,2.74,0.0
1416 | 1414,2.74,0.0
1417 | 1415,2.74,0.0
1418 | 1416,2.74,0.0
1419 | 1417,2.74,0.0
1420 | 1418,2.74,0.0
1421 | 1419,2.74,0.0
1422 | 1420,2.74,0.0
1423 | 1421,2.74,0.0
1424 | 1422,2.74,0.0
1425 | 1423,2.74,0.0
1426 | 1424,2.74,0.0
1427 | 1425,2.74,0.0
1428 | 1426,2.74,0.0
1429 | 1427,2.74,0.0
1430 | 1428,2.74,0.0
1431 | 1429,2.74,0.0
1432 | 1430,2.74,0.0
1433 | 1431,2.74,0.0
1434 | 1432,2.74,0.0
1435 | 1433,2.74,0.0
1436 | 1434,2.74,0.0
1437 | 1435,2.74,0.0
1438 | 1436,2.74,0.0
1439 | 1437,2.74,0.0
1440 | 1438,2.74,0.0
1441 | 1439,2.74,0.0
1442 | 1440,2.74,0.0
1443 | 1441,2.74,0.0
1444 | 1442,2.74,0.0
1445 | 1443,2.74,0.0
1446 | 1444,2.74,0.0
1447 | 1445,2.74,0.0
1448 | 1446,2.74,0.0
1449 | 1447,2.74,0.0
1450 | 1448,2.74,0.0
1451 | 1449,2.74,0.0
1452 | 1450,2.74,0.0
1453 | 1451,2.74,0.0
1454 | 1452,2.74,0.0
1455 | 1453,2.74,0.0
1456 | 1454,2.74,0.0
1457 | 1455,2.74,0.0
1458 | 1456,2.74,0.0
1459 | 1457,2.74,0.0
1460 | 1458,2.74,0.0
1461 | 1459,2.74,0.0
1462 | 1460,2.74,0.0
1463 | 1461,2.74,0.0
1464 | 1462,2.74,0.0
1465 | 1463,2.74,0.0
1466 | 1464,2.74,0.0
1467 | 1465,2.74,0.0
1468 | 1466,2.74,0.0
1469 | 1467,2.74,0.0
1470 | 1468,2.74,0.0
1471 | 1469,2.74,0.0
1472 | 1470,2.74,0.0
1473 | 1471,2.74,0.0
1474 | 1472,2.74,0.0
1475 | 1473,2.74,0.0
1476 | 1474,2.74,0.0
1477 | 1475,2.74,0.0
1478 | 1476,2.74,0.0
1479 | 1477,2.74,0.0
1480 | 1478,2.74,0.0
1481 | 1479,2.74,0.0
1482 | 1480,2.74,0.0
1483 | 1481,2.74,0.0
1484 | 1482,2.74,0.0
1485 | 1483,2.74,0.0
1486 | 1484,2.74,0.0
1487 | 1485,2.74,0.0
1488 | 1486,2.74,0.0
1489 | 1487,2.74,0.0
1490 | 1488,2.74,0.0
1491 | 1489,4.28,0.0
1492 | 1490,4.28,0.0
1493 | 1491,4.28,0.0
1494 | 1492,4.28,0.0
1495 | 1493,4.28,0.0
1496 | 1494,4.28,0.0
1497 | 1495,4.28,0.0
1498 | 1496,4.28,0.0
1499 | 1497,4.28,0.0
1500 | 1498,4.28,0.0
1501 | 1499,4.28,0.0
1502 | 1500,4.28,0.0
1503 | 1501,4.28,0.0
1504 | 1502,4.28,0.0
1505 | 1503,4.28,0.0
1506 | 1504,4.28,0.0
1507 | 1505,4.28,0.0
1508 | 1506,4.28,0.0
1509 | 1507,4.28,0.0
1510 | 1508,4.28,0.0
1511 | 1509,4.28,0.0
1512 | 1510,4.28,0.0
1513 | 1511,4.28,0.0
1514 | 1512,4.28,0.0
1515 | 1513,4.28,0.0
1516 | 1514,4.28,0.0
1517 | 1515,4.28,0.0
1518 | 1516,4.28,0.0
1519 | 1517,4.28,0.0
1520 | 1518,4.28,0.0
1521 | 1519,4.28,0.0
1522 | 1520,4.28,0.0
1523 | 1521,4.28,0.0
1524 | 1522,4.28,0.0
1525 | 1523,4.28,0.0
1526 | 1524,4.28,0.0
1527 | 1525,4.28,0.0
1528 | 1526,4.28,0.0
1529 | 1527,4.28,0.0
1530 | 1528,4.28,0.0
1531 | 1529,4.28,0.0
1532 | 1530,4.28,0.0
1533 | 1531,4.28,0.0
1534 | 1532,4.28,0.0
1535 | 1533,4.28,0.0
1536 | 1534,4.28,0.0
1537 | 1535,4.28,0.0
1538 | 1536,4.28,0.0
1539 | 1537,4.28,0.0
1540 | 1538,4.28,0.0
1541 | 1539,4.28,0.0
1542 | 1540,4.28,0.0
1543 | 1541,4.28,0.0
1544 | 1542,4.28,0.0
1545 | 1543,4.28,0.0
1546 | 1544,4.28,0.0
1547 | 1545,4.28,0.0
1548 | 1546,4.28,0.0
1549 | 1547,4.28,0.0
1550 | 1548,4.28,0.0
1551 | 1549,4.28,0.0
1552 | 1550,4.28,0.0
1553 | 1551,4.28,0.0
1554 | 1552,4.28,0.0
1555 | 1553,4.28,0.0
1556 | 1554,4.28,0.0
1557 | 1555,4.28,0.0
1558 | 1556,4.28,0.0
1559 | 1557,4.28,0.0
1560 | 1558,4.28,0.0
1561 | 1559,4.28,0.0
1562 | 1560,4.28,0.0
1563 | 1561,4.28,0.0
1564 | 1562,4.28,0.0
1565 | 1563,4.28,0.0
1566 | 1564,4.28,0.0
1567 | 1565,4.28,0.0
1568 | 1566,4.28,0.0
1569 | 1567,4.28,0.0
1570 | 1568,4.28,0.0
1571 | 1569,4.28,0.0
1572 | 1570,4.28,0.0
1573 | 1571,4.28,0.0
1574 | 1572,4.28,0.0
1575 | 1573,4.28,0.0
1576 | 1574,4.28,0.0
1577 | 1575,4.28,0.0
1578 | 1576,4.28,0.0
1579 | 1577,4.28,0.0
1580 | 1578,4.28,0.0
1581 | 1579,4.28,0.0
1582 | 1580,4.28,0.0
1583 | 1581,4.28,0.0
1584 | 1582,4.28,0.0
1585 | 1583,4.28,0.0
1586 | 1584,4.28,0.0
1587 | 1585,4.28,0.0
1588 | 1586,4.28,0.0
1589 | 1587,4.28,0.0
1590 | 1588,4.28,0.0
1591 | 1589,4.28,0.0
1592 | 1590,4.28,0.0
1593 | 1591,4.28,0.0
1594 | 1592,4.28,0.0
1595 | 1593,4.28,0.0
1596 | 1594,4.28,0.0
1597 | 1595,4.28,0.0
1598 | 1596,4.28,0.0
1599 | 1597,4.28,0.0
1600 | 1598,4.28,0.0
1601 | 1599,4.28,0.0
1602 | 1600,4.28,0.0
1603 | 1601,4.28,0.0
1604 | 1602,4.28,0.0
1605 | 1603,4.28,0.0
1606 | 1604,4.28,0.0
1607 | 1605,4.28,0.0
1608 | 1606,4.28,0.0
1609 | 1607,4.28,0.0
1610 | 1608,4.28,0.0
1611 | 1609,4.28,0.0
1612 | 1610,4.28,0.0
1613 | 1611,4.28,0.0
1614 | 1612,4.28,0.0
1615 | 1613,4.28,0.0
1616 | 1614,4.28,0.0
1617 | 1615,4.28,0.0
1618 | 1616,4.28,0.0
1619 | 1617,4.28,0.0
1620 | 1618,4.28,0.0
1621 | 1619,4.28,0.0
1622 | 1620,4.28,0.0
1623 | 1621,4.28,0.0
1624 | 1622,4.28,0.0
1625 | 1623,4.28,0.0
1626 | 1624,4.28,0.0
1627 | 1625,4.28,0.0
1628 | 1626,4.28,0.0
1629 | 1627,4.28,0.0
1630 | 1628,4.28,0.0
1631 | 1629,4.28,0.0
1632 | 1630,4.28,0.0
1633 | 1631,4.28,0.0
1634 | 1632,4.28,0.0
1635 | 1633,4.28,0.0
1636 | 1634,4.28,0.0
1637 | 1635,4.28,0.0
1638 | 1636,4.28,0.0
1639 | 1637,4.28,0.0
1640 | 1638,4.28,0.0
1641 | 1639,4.28,0.0
1642 | 1640,4.28,0.0
1643 | 1641,4.28,0.0
1644 | 1642,4.28,0.0
1645 | 1643,4.28,0.0
1646 | 1644,4.28,0.0
1647 | 1645,4.28,0.0
1648 | 1646,4.28,0.0
1649 | 1647,4.28,0.0
1650 | 1648,4.28,0.0
1651 | 1649,4.28,0.0
1652 | 1650,4.28,0.0
1653 | 1651,4.28,0.0
1654 | 1652,4.28,0.0
1655 | 1653,4.28,0.0
1656 | 1654,4.28,0.0
1657 | 1655,4.28,0.0
1658 | 1656,4.28,0.0
1659 | 1657,4.28,0.0
1660 | 1658,4.28,0.0
1661 | 1659,4.28,0.0
1662 | 1660,4.28,0.0
1663 | 1661,4.28,0.0
1664 | 1662,4.28,0.0
1665 | 1663,4.28,0.0
1666 | 1664,4.28,0.0
1667 | 1665,4.28,0.0
1668 | 1666,4.28,0.0
1669 | 1667,4.28,0.0
1670 | 1668,4.28,0.0
1671 | 1669,4.28,0.0
1672 | 1670,4.28,0.0
1673 | 1671,4.28,0.0
1674 | 1672,4.28,0.0
1675 | 1673,4.28,0.0
1676 | 1674,4.28,0.0
1677 | 1675,4.28,0.0
1678 | 1676,4.28,0.0
1679 | 1677,4.28,0.0
1680 | 1678,4.28,0.0
1681 | 1679,4.28,0.0
1682 | 1680,4.28,0.0
1683 | 1681,4.28,0.0
1684 | 1682,4.28,0.0
1685 | 1683,4.28,0.0
1686 | 1684,4.28,0.0
1687 | 1685,4.28,0.0
1688 | 1686,4.28,0.0
1689 | 1687,4.28,0.0
1690 | 1688,4.28,0.0
1691 | 1689,4.28,0.0
1692 | 1690,4.28,0.0
1693 | 1691,4.28,0.0
1694 | 1692,4.28,0.0
1695 | 1693,4.28,0.0
1696 | 1694,4.28,0.0
1697 | 1695,4.28,0.0
1698 | 1696,4.28,0.0
1699 | 1697,4.28,0.0
1700 | 1698,4.28,0.0
1701 | 1699,4.28,0.0
1702 | 1700,4.28,0.0
1703 | 1701,4.28,0.0
1704 | 1702,4.28,0.0
1705 | 1703,4.28,0.0
1706 | 1704,4.28,0.0
1707 | 1705,4.28,0.0
1708 | 1706,4.28,0.0
1709 | 1707,4.28,0.0
1710 | 1708,4.28,0.0
1711 | 1709,4.28,0.0
1712 | 1710,4.28,0.0
1713 | 1711,4.28,0.0
1714 | 1712,4.28,0.0
1715 | 1713,4.28,0.0
1716 | 1714,4.28,0.0
1717 | 1715,4.28,0.0
1718 | 1716,4.28,0.0
1719 | 1717,4.28,0.0
1720 | 1718,4.28,0.0
1721 | 1719,4.28,0.0
1722 | 1720,4.28,0.0
1723 | 1721,4.28,0.0
1724 | 1722,4.28,0.0
1725 | 1723,4.28,0.0
1726 | 1724,4.28,0.0
1727 | 1725,4.28,0.0
1728 | 1726,4.28,0.0
1729 | 1727,4.28,0.0
1730 | 1728,4.28,0.0
1731 | 1729,4.28,0.0
1732 | 1730,4.28,0.0
1733 | 1731,4.28,0.0
1734 | 1732,4.28,0.0
1735 | 1733,4.28,0.0
1736 | 1734,4.28,0.0
1737 | 1735,4.28,0.0
1738 | 1736,4.28,0.0
1739 | 1737,4.28,0.0
1740 | 1738,4.28,0.0
1741 | 1739,4.28,0.0
1742 | 1740,4.28,0.0
1743 | 1741,4.28,0.0
1744 | 1742,4.28,0.0
1745 | 1743,4.28,0.0
1746 | 1744,4.28,0.0
1747 | 1745,4.28,0.0
1748 | 1746,4.28,0.0
1749 | 1747,4.28,0.0
1750 | 1748,4.28,0.0
1751 | 1749,4.28,0.0
1752 | 1750,4.28,0.0
1753 | 1751,4.28,0.0
1754 | 1752,4.28,0.0
1755 | 1753,4.28,0.0
1756 | 1754,4.28,0.0
1757 | 1755,4.28,0.0
1758 | 1756,4.28,0.0
1759 | 1757,4.28,0.0
1760 | 1758,4.28,0.0
1761 | 1759,4.28,0.0
1762 | 1760,4.28,0.0
1763 | 1761,4.28,0.0
1764 | 1762,4.28,0.0
1765 | 1763,4.28,0.0
1766 | 1764,4.28,0.0
1767 | 1765,4.28,0.0
1768 | 1766,4.28,0.0
1769 | 1767,4.28,0.0
1770 | 1768,4.28,0.0
1771 | 1769,4.28,0.0
1772 | 1770,4.28,0.0
1773 | 1771,4.28,0.0
1774 | 1772,4.28,0.0
1775 | 1773,4.28,0.0
1776 | 1774,4.28,0.0
1777 | 1775,4.28,0.0
1778 | 1776,4.28,0.0
1779 | 1777,4.28,0.0
1780 | 1778,4.28,0.0
1781 | 1779,4.28,0.0
1782 | 1780,4.28,0.0
1783 | 1781,4.28,0.0
1784 | 1782,4.28,0.0
1785 | 1783,4.28,0.0
1786 | 1784,4.28,0.0
1787 | 1785,4.28,0.0
1788 | 1786,4.28,0.0
1789 | 1787,4.28,0.0
1790 | 1788,4.28,0.0
1791 | 1789,4.28,0.0
1792 | 1790,4.28,0.0
1793 | 1791,4.28,0.0
1794 | 1792,4.28,0.0
1795 | 1793,4.28,0.0
1796 | 1794,4.28,0.0
1797 | 1795,4.28,0.0
1798 | 1796,4.28,0.0
1799 | 1797,4.28,0.0
1800 | 1798,4.28,0.0
1801 | 1799,4.28,0.0
1802 | 1800,4.28,0.0
1803 | 1801,4.28,0.0
1804 | 1802,4.28,0.0
1805 | 1803,4.28,0.0
1806 | 1804,4.28,0.0
1807 | 1805,4.28,0.0
1808 | 1806,4.28,0.0
1809 | 1807,4.28,0.0
1810 | 1808,4.28,0.0
1811 | 1809,4.28,0.0
1812 | 1810,4.28,0.0
1813 | 1811,4.28,0.0
1814 | 1812,4.28,0.0
1815 | 1813,4.28,0.0
1816 | 1814,4.28,0.0
1817 | 1815,4.28,0.0
1818 | 1816,4.28,0.0
1819 | 1817,4.28,0.0
1820 | 1818,4.28,0.0
1821 | 1819,4.28,0.0
1822 | 1820,4.28,0.0
1823 | 1821,4.28,0.0
1824 | 1822,4.28,0.0
1825 | 1823,4.28,0.0
1826 | 1824,4.28,0.0
1827 | 1825,4.28,0.0
1828 | 1826,4.28,0.0
1829 | 1827,4.28,0.0
1830 | 1828,4.28,0.0
1831 | 1829,4.28,0.0
1832 | 1830,4.28,0.0
1833 | 1831,4.28,0.0
1834 | 1832,4.28,0.0
1835 | 1833,4.28,0.0
1836 | 1834,4.28,0.0
1837 | 1835,4.28,0.0
1838 | 1836,4.28,0.0
1839 | 1837,4.28,0.0
1840 | 1838,4.28,0.0
1841 | 1839,4.28,0.0
1842 | 1840,4.28,0.0
1843 | 1841,4.28,0.0
1844 | 1842,4.28,0.0
1845 | 1843,4.28,0.0
1846 | 1844,4.28,0.0
1847 | 1845,4.28,0.0
1848 | 1846,4.28,0.0
1849 | 1847,4.28,0.0
1850 | 1848,4.28,0.0
1851 | 


--------------------------------------------------------------------------------
/test/TDR/TDR_results_true/Period_map.csv:
--------------------------------------------------------------------------------
 1 | Period_Index,Rep_Period,Rep_Period_Index
 2 | 1,4,1
 3 | 2,52,11
 4 | 3,4,1
 5 | 4,4,1
 6 | 5,8,2
 7 | 6,8,2
 8 | 7,8,2
 9 | 8,8,2
10 | 9,52,11
11 | 10,8,2
12 | 11,8,2
13 | 12,8,2
14 | 13,8,2
15 | 14,15,3
16 | 15,15,3
17 | 16,15,3
18 | 17,15,3
19 | 18,24,4
20 | 19,24,4
21 | 20,24,4
22 | 21,24,4
23 | 22,24,4
24 | 23,24,4
25 | 24,24,4
26 | 25,28,5
27 | 26,28,5
28 | 27,28,5
29 | 28,28,5
30 | 29,29,6
31 | 30,28,5
32 | 31,28,5
33 | 32,28,5
34 | 33,28,5
35 | 34,28,5
36 | 35,28,5
37 | 36,36,7
38 | 37,24,4
39 | 38,24,4
40 | 39,24,4
41 | 40,24,4
42 | 41,24,4
43 | 42,24,4
44 | 43,24,4
45 | 44,15,3
46 | 45,24,4
47 | 46,24,4
48 | 47,47,8
49 | 48,48,9
50 | 49,8,2
51 | 50,8,2
52 | 51,51,10
53 | 52,52,11
54 | 


--------------------------------------------------------------------------------
/test/TDR/TDR_results_true/clusters_true.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/TDR/TDR_results_true/clusters_true.jld2


--------------------------------------------------------------------------------
/test/TDR/TDR_results_true_LTS/Period_map.csv:
--------------------------------------------------------------------------------
 1 | Period_Index,Rep_Period,Rep_Period_Index
 2 | 1,8,1
 3 | 2,8,1
 4 | 3,8,1
 5 | 4,8,1
 6 | 5,8,1
 7 | 6,8,1
 8 | 7,8,1
 9 | 8,8,1
10 | 9,8,1
11 | 10,8,1
12 | 11,8,1
13 | 12,8,1
14 | 13,8,1
15 | 14,15,2
16 | 15,15,2
17 | 16,15,2
18 | 17,15,2
19 | 18,18,3
20 | 19,15,2
21 | 20,21,4
22 | 21,21,4
23 | 22,21,4
24 | 23,18,3
25 | 24,21,4
26 | 25,25,5
27 | 26,26,6
28 | 27,26,6
29 | 28,33,9
30 | 29,29,7
31 | 30,33,9
32 | 31,31,8
33 | 32,33,9
34 | 33,33,9
35 | 34,33,9
36 | 35,33,9
37 | 36,21,4
38 | 37,21,4
39 | 38,18,3
40 | 39,18,3
41 | 40,21,4
42 | 41,21,4
43 | 42,15,2
44 | 43,18,3
45 | 44,15,2
46 | 45,21,4
47 | 46,18,3
48 | 47,21,4
49 | 48,48,10
50 | 49,8,1
51 | 50,8,1
52 | 51,51,11
53 | 52,8,1
54 | 


--------------------------------------------------------------------------------
/test/TDR/TDR_results_true_LTS/clusters_true.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/TDR/TDR_results_true_LTS/clusters_true.jld2


--------------------------------------------------------------------------------
/test/TDR/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.018
3 | 


--------------------------------------------------------------------------------
/test/TDR/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CapRes_1
2 | NE,z1,0.156
3 | 


--------------------------------------------------------------------------------
/test/TDR/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,ESR_1,ESR_2
2 | NE,z1,0.259,0.348
3 | 


--------------------------------------------------------------------------------
/test/TDR/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,ConstraintDescription,Max_MW
2 | 1,PV,50000
3 | 2,Wind,100000
4 | 3,Batteries,60000
5 | 


--------------------------------------------------------------------------------
/test/TDR/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,PV,5000
3 | 2,Wind,10000
4 | 3,Batteries,6000
5 | 


--------------------------------------------------------------------------------
/test/TDR/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,1,1,0,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/TDR/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,0,0,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/TDR/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,0,0,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,0,0,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/TDR/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | Resource,Derating_Factor
2 | natural_gas_combined_cycle,0.93
3 | solar_pv,0.8
4 | onshore_wind,0.8
5 | battery,0.95


--------------------------------------------------------------------------------
/test/TDR/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,ESR_1,ESR_2
2 | solar_pv,1,1
3 | onshore_wind,1,1


--------------------------------------------------------------------------------
/test/TDR/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/TDR/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/TDR/system/Reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/TDR/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
  1 | #####
  2 | #
  3 | #  TIME DOMAIN REDUCTION SETTINGS
  4 | #
  5 | #  Set parameters here that organize how your full timeseries
  6 | #   data will be divided into representative period clusters.
  7 | #   Ensure that time_domain_reduction is set to 1 in GenX_settings.yml
  8 | #   before running. Run within GenX or use PreCluster.jl to test and
  9 | #   examine representative period output before proceeding.
 10 | #   Specify your data input directory as inpath within Run_test.jl
 11 | #   or PreCluster.jl.
 12 | #
 13 | #####
 14 | 
 15 |   #   - TimestepsPerRepPeriod
 16 |   #   Typically 168 timesteps (e.g., hours) per period, this designates
 17 |   #   the length of each representative period.
 18 | TimestepsPerRepPeriod: 168
 19 | 
 20 |   #   - ClusterMethod
 21 |   #   Either 'kmeans' or 'kmedoids', this designates the method used to cluster
 22 |   #   periods and determine each point's representative period.
 23 | ClusterMethod: 'kmeans'
 24 | 
 25 |   #   - ScalingMethod
 26 |   #   Either 'N' or 'S', this designates directs the module to normalize ([0,1])
 27 |   #   or standardize (mean 0, variance 1) the input data.
 28 | ScalingMethod: "S"
 29 | 
 30 |   #   - MaxPeriods
 31 |   #   The maximum number of periods - both clustered periods and extreme periods -
 32 |   #   that may be used to represent the input data. If IterativelyAddPeriods is on and the
 33 |   #   error threshold is never met, this will be the total number of periods.
 34 | MaxPeriods: 11
 35 | 
 36 |   #   - MinPeriods
 37 |   #   The minimum number of periods used to represent the input data. If using
 38 |   #   UseExtremePeriods, this must be at least the number of extreme periods requests. If
 39 |   #   IterativelyAddPeriods if off, this will be the total number of periods.
 40 | MinPeriods: 8
 41 | 
 42 |   #   - IterativelyAddPeriods
 43 |   #   Either 'yes' or 'no', this designates whether or not to add periods
 44 |   #   until the error threshold between input data and represented data is met or the maximum
 45 |   #   number of periods is reached.
 46 | IterativelyAddPeriods: 1
 47 | 
 48 |   #   - IterateMethod
 49 |   #   Either 'cluster' or 'extreme', this designates whether to add clusters to
 50 |   #   the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.
 51 |   #   The default option is 'cluster'.
 52 | IterateMethod: "cluster"
 53 | 
 54 |   #   - Threshold
 55 |   #   Iterative period addition will end if the period farthest (Euclidean Distance)
 56 |   #   from its representative period is within this percentage of the total possible error (for normalization)
 57 |   #   or ~95% of the total possible error (for standardization). E.g., for a threshold of 0.01,
 58 |   #   every period must be within 1% of the spread of possible error before the clustering
 59 |   #   iterations will terminate (or until the max number of periods is reached).
 60 | Threshold: 0.05
 61 | 
 62 |   #   - nReps
 63 |   #   The number of times to repeat each kmeans/kmedoids clustering at the same setting.
 64 | nReps: 100
 65 | 
 66 |   #   - DemandWeight
 67 |   #   Default 1, this is an optional multiplier on demand columns in order to prioritize
 68 |   #   better fits for demand profiles over resource capacity factor profiles.
 69 | DemandWeight: 1
 70 | 
 71 |   #   - WeightTotal
 72 |   #   Default 8760, the sum to which the relative weights of representative periods will be scaled.
 73 | WeightTotal: 8760
 74 | 
 75 |   #   - ClusterFuelPrices
 76 |   #   Either 1 (yes) or 0 (no), this indicates whether or not to use the fuel price
 77 |   #   time series in Fuels_data.csv in the clustering process. If 0, this function will still write
 78 |   #   Fuels_data_clustered.csv with reshaped fuel prices based on the number and size of the
 79 |   #   representative weeks, assuming a constant time series of fuel prices with length equal to the
 80 |   #   number of timesteps in the raw input data.
 81 | ClusterFuelPrices: 1
 82 | 
 83 |   #   - UseExtremePeriods
 84 |   #   Either 'yes' or 'no', this designates whether or not to include
 85 |   #   outliers (by performance or demand/resource extreme) as their own representative periods.
 86 |   #   This setting automatically includes the periods with maximum demand, minimum solar cf and
 87 |   #   minimum wind cf as extreme periods.
 88 | UseExtremePeriods: 1
 89 | 
 90 |   #   - MultiStageConcatenate
 91 |   #   (Only considered if MultiStage = 1 in genx_settings.yml)
 92 |   #   If 1, this designates that the model should time domain reduce the input data
 93 |   #   of all model stages together. Else if 0, the model will time domain reduce each
 94 |   #   stage separately
 95 | MultiStageConcatenate: 0
 96 | 
 97 | # STILL IN DEVELOPMENT - Currently just uses integral max demand, integral min PV and wind.
 98 | #   - ExtremePeriods
 99 | #   Use this to define which periods to be included among the final representative periods
100 | #   as "Extreme Periods".
101 | #   Select by profile type: demand ("Demand"), solar PV capacity factors ("PV"), and wind capacity factors ("Wind").
102 | #   Select whether to examine these profiles by zone ("Zone") or across the whole system ("System").
103 | #   Select whether to look for absolute max/min at the timestep level ("Absolute")
104 | #      or max/min sum across the period ("Integral").
105 | #   Select whether you want the maximum ("Max") or minimum ("Min") (of the prior type) for each profile type.
106 | ExtremePeriods:
107 |    Demand:
108 |       Zone:
109 |          Absolute:
110 |             Max: 0
111 |             Min: 0
112 |          Integral:
113 |             Max: 0
114 |             Min: 0
115 |       System:
116 |          Absolute:
117 |             Max: 1
118 |             Min: 0
119 |          Integral:
120 |             Max: 0
121 |             Min: 0
122 |    PV:
123 |       Zone:
124 |          Absolute:
125 |             Max: 0
126 |             Min: 0
127 |          Integral:
128 |             Max: 0
129 |             Min: 1
130 |       System:
131 |          Absolute:
132 |             Max: 0
133 |             Min: 0
134 |          Integral:
135 |             Max: 0
136 |             Min: 0
137 |    Wind:
138 |       Zone:
139 |          Absolute:
140 |             Max: 0
141 |             Min: 0
142 |          Integral:
143 |             Max: 0
144 |             Min: 1
145 |       System:
146 |          Absolute:
147 |             Max: 0
148 |             Min: 0
149 |          Integral:
150 |             Max: 0
151 |             Min: 0
152 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-05   # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | Optimal_Tol: 1.0e-05  # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
5 | TimeLimit: 1.0e23     # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
6 | Pre_Solve: on         # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
7 | Method: simplex       # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
8 | 
9 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Max_Mtons_1,CO_2_Cap_Zone_1
2 | EIC,z1,0.0,1
3 | TRE,z2,0.0,1
4 | WECC,z3,0.0,1
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | region,Network_zones,CapRes_1,CapRes_2,CapRes_3
2 | EIC,z1,0.1572,0.0,0.0
3 | TRE,z2,0.0,0.1375,0.0
4 | WECC,z3,0.0,0.0,0.1538
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,Constraint_Description,Max_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,Constraint_Description,Min_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Flex_demand.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Max_Flexible_Demand_Delay,Max_Flexible_Demand_Advance,Flexible_Demand_Energy_Eff,region,technology,cluster
 2 | WECC_trans_light_duty_1,3,0,88930.5,0,0,0,0,0,5,0,1,WECC,trans_light_duty,1
 3 | EIC_trans_light_duty_1,1,0,227552.1,0,0,0,0,0,5,0,1,EIC,trans_light_duty,1
 4 | TRE_trans_light_duty_1,2,0,34387.8,0,0,0,0,0,5,0,1,TRE,trans_light_duty,1
 5 | WECC_comm_water_heat_1,3,0,1130.3,0,0,0,0,0,2,2,1,WECC,comm_water_heat,1
 6 | EIC_comm_water_heat_1,1,0,2922.1,0,0,0,0,0,2,2,1,EIC,comm_water_heat,1
 7 | TRE_comm_water_heat_1,2,0,368.7,0,0,0,0,0,2,2,1,TRE,comm_water_heat,1
 8 | WECC_res_water_heat_1,3,0,2578.7,0,0,0,0,0,2,2,1,WECC,res_water_heat,1
 9 | EIC_res_water_heat_1,1,0,8238.2,0,0,0,0,0,2,2,1,EIC,res_water_heat,1
10 | TRE_res_water_heat_1,2,0,1049.5,0,0,0,0,0,2,2,1,TRE,res_water_heat,1
11 | WECC_comm_space_heat_cool_1,3,0,7483.3,0,0,0,0,0,1,1,1,WECC,comm_space_heat_cool,1
12 | EIC_comm_space_heat_cool_1,1,0,41624.8,0,0,0,0,0,1,1,1,EIC,comm_space_heat_cool,1
13 | TRE_comm_space_heat_cool_1,2,0,6978.6,0,0,0,0,0,1,1,1,TRE,comm_space_heat_cool,1
14 | WECC_res_space_heat_cool_1,3,0,12467.5,0,0,0,0,0,1,1,1,WECC,res_space_heat_cool,1
15 | EIC_res_space_heat_cool_1,1,0,47457,0,0,0,0,0,1,1,1,EIC,res_space_heat_cool,1
16 | TRE_res_space_heat_cool_1,2,0,7585.9,0,0,0,0,0,1,1,1,TRE,res_space_heat_cool,1


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Hydro.csv:
--------------------------------------------------------------------------------
1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Hydro_Energy_to_Power_Ratio	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
2 | EIC_conventional_hydroelectric_1	1	0	24200.8	0	0	32.35	0	0	0	47048	0	10.34	None	0.273	0	1	1	1	1	1	0	0	EIC	Conventional Hydroelectric	1
3 | TRE_conventional_hydroelectric_1	2	0	477	0	0	25.1	0	0	0	47048	0	10.34	None	0	0	1	1	1	1	1	0	0	TRE	Conventional Hydroelectric	1
4 | WECC_conventional_hydroelectric_1	3	0	46528	0	0	72.7	0	0	0	47048	0	10.34	None	0.214	0	1	1	1	1	1	0	0	WECC	Conventional Hydroelectric	1


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Must_run.csv:
--------------------------------------------------------------------------------
 1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Start_Cost_per_MW	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
 2 | EIC_biomass_1	1	0	1722.5	0	0	1.27	0	0	0	150850	7.32	172	17.03	biomass	0.308	0	1	1	1	1	0	0	EIC	Biomass	1
 3 | EIC_small_hydroelectric_1	1	0	1672.2	0	0	1.06	0	0	0	47048	0	0	10.34	None	0.273	0	1	1	1	1	0	0	EIC	Small Hydroelectric	1
 4 | TRE_biomass_1	2	0	44.5	0	0	1.48	0	0	0	150850	6.51	172	15.15	biomass	0.591	0	1	1	1	1	0	0	TRE	Biomass	1
 5 | TRE_small_hydroelectric_1	2	0	11.2	0	0	0.75	0	0	0	47048	0	0	10.34	None	0	0	1	1	1	1	0	0	TRE	Small Hydroelectric	1
 6 | WECC_biomass_1	3	0	551	0	0	2.01	0	0	0	150850	7.14	172	16.63	biomass	0.362	0	1	1	1	1	0	0	WECC	Biomass	1
 7 | WECC_small_hydroelectric_1	3	0	1064.3	0	0	1.62	0	0	0	47048	0	0	10.34	None	0.181	0	1	1	1	1	0	0	WECC	Small Hydroelectric	1
 8 | WECC_distributed_generation_1	3	0	250535	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	WECC	distributed_generation	1
 9 | EIC_distributed_generation_1	1	0	1770000	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	EIC	distributed_generation	1
10 | TRE_distributed_generation_1	2	0	17006	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	TRE	distributed_generation	1


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Max_Cap_MW,Max_Cap_MWh,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,region,technology,cluster
2 | EIC_batteries_1,1,1,1424.4,712.2,0,0,16.96,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.041,0,0.92,0.92,1,10,EIC,Batteries,1
3 | EIC_hydroelectric_pumped_storage_1,1,1,275638,17783.1,0,0,170.99,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.524,0,0.866,0.866,1,20,EIC,Hydroelectric Pumped Storage,1
4 | TRE_batteries_1,2,1,721.4,360.7,0,0,45.09,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.001,0,0.92,0.92,1,10,TRE,Batteries,1
5 | WECC_batteries_1,3,1,3611,1357.5,0,0,28.28,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.02,0,0.92,0.92,1,10,WECC,Batteries,1
6 | WECC_hydroelectric_pumped_storage_1,3,1,70790,4567.1,0,0,101.49,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.175,0,0.866,0.866,1,20,WECC,Hydroelectric Pumped Storage,1
7 | EIC_battery_moderate_0,1,1,0,0,1,1,1,-1,-1,19978,5955,11897,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,EIC,Battery_*_Moderate,0
8 | TRE_battery_moderate_0,2,1,0,0,1,1,1,-1,-1,19389,5955,11546,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,TRE,Battery_*_Moderate,0
9 | WECC_battery_moderate_0,3,1,0,0,1,1,1,-1,-1,20202,5955,12030,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,WECC,Battery_*_Moderate,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,CO2_Capture_Rate,CO2_Capture_Cost_per_Metric_Ton,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,region,technology,cluster
 2 | EIC_conventional_steam_coal_1,1,1,0,12806.9,0,1,177.87,0,0,0,78258,1.88,124,16.5,13.34,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,1
 3 | EIC_conventional_steam_coal_2,1,1,0,109345.4,0,1,584.74,0,0,0,64567,1.88,124,16.5,10.89,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,2
 4 | EIC_natural_gas_fired_combined_cycle_1,1,1,0,27155.3,0,1,163.59,0,0,0,16322,4.53,92,2,9.24,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,1
 5 | EIC_natural_gas_fired_combined_cycle_2,1,1,0,169897.4,0,1,638.71,0,0,0,11042,3.58,92,2,7.34,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,2
 6 | EIC_natural_gas_fired_combustion_turbine_1,1,1,0,98926.5,0,1,100.13,0,0,0,10031,5.28,119,3.5,12.03,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,1
 7 | EIC_natural_gas_fired_combustion_turbine_2,1,1,0,10412.9,0,1,31.27,0,0,0,13557,5.28,119,3.5,14.66,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,2
 8 | EIC_natural_gas_internal_combustion_engine_1,1,1,0,2578.5,0,1,4.44,0,0,0,21000,5.29,38,0,10.29,east_north_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Internal Combustion Engine,1
 9 | EIC_natural_gas_steam_turbine_1,1,1,0,39625.2,0,1,203.21,0,0,0,35537,1.06,87,13.7,12.8,east_north_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Steam Turbine,1
10 | EIC_nuclear_1,1,1,0,82406.6,0,1,1030.08,0,0,0,214812,2.84,248,0,10.45,east_north_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,EIC,Nuclear,1
11 | EIC_petroleum_liquids_1,1,1,0,23196.2,0,1,9.96,0,0,0,21000,7.97,38,0,15.5,east_north_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,Petroleum Liquids,1
12 | TRE_conventional_steam_coal_1,2,1,0,5063.6,0,1,723.37,0,0,0,60405,1.88,124,16.5,10.33,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,1
13 | TRE_conventional_steam_coal_2,2,1,0,3713,0,1,530.43,0,0,0,68432,1.88,124,16.5,12.13,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,2
14 | TRE_natural_gas_fired_combined_cycle_1,2,1,0,30139.1,0,1,579.6,0,0,0,10912,3.59,92,2,7.72,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,1
15 | TRE_natural_gas_fired_combined_cycle_2,2,1,0,6317.6,0,1,315.88,0,0,0,15698,4.36,92,2,9.8,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,2
16 | TRE_natural_gas_fired_combustion_turbine_1,2,1,0,2924,0,1,81.22,0,0,0,10001,5.28,119,3.5,14.08,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,1
17 | TRE_natural_gas_fired_combustion_turbine_2,2,1,0,2826.9,0,1,50.48,0,0,0,11926,5.28,119,3.5,11.11,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,2
18 | TRE_natural_gas_internal_combustion_engine_1,2,1,0,502.7,0,1,10.7,0,0,0,21000,4.72,38,0,9.18,west_south_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Internal Combustion Engine,1
19 | TRE_natural_gas_steam_turbine_1,2,1,0,8249.5,0,1,235.7,0,0,0,34182,1.06,87,13.7,13.24,west_south_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Steam Turbine,1
20 | TRE_nuclear_1,2,1,0,5120,0,1,1280,0,0,0,193275,2.84,248,0,10.45,west_south_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,TRE,Nuclear,1
21 | TRE_petroleum_liquids_1,2,1,0,23.7,0,1,1.48,0,0,0,21000,6.38,38,0,12.4,west_south_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,Petroleum Liquids,1
22 | WECC_conventional_steam_coal_1,3,1,0,11415.2,0,1,496.31,0,0,0,64165,1.88,124,16.5,10.63,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,1
23 | WECC_conventional_steam_coal_2,3,1,0,2074.5,0,1,129.66,0,0,0,77721,1.88,124,16.5,12.2,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,2
24 | WECC_natural_gas_fired_combined_cycle_1,3,1,0,37593.3,0,1,475.86,0,0,0,10399,3.6,92,2,7.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,1
25 | WECC_natural_gas_fired_combined_cycle_2,3,1,0,12502.4,0,1,158.26,0,0,0,16492,4.55,92,2,8.51,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,2
26 | WECC_natural_gas_fired_combustion_turbine_1,3,1,0,15252.7,0,1,71.61,0,0,0,10479,5.28,119,3.5,11.06,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,1
27 | WECC_natural_gas_fired_combustion_turbine_2,3,1,0,6281.6,0,1,27.92,0,0,0,13486,5.28,119,3.5,12.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,2
28 | WECC_natural_gas_internal_combustion_engine_1,3,1,0,1282.7,0,1,6.51,0,0,0,21000,4.88,38,0,9.49,mountain_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Internal Combustion Engine,1
29 | WECC_natural_gas_steam_turbine_1,3,1,0,2669.5,0,1,95.34,0,0,0,51303,1.06,87,13.7,12.4,mountain_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Steam Turbine,1
30 | WECC_nuclear_1,3,1,0,5175,0,1,1293.75,0,0,0,211822,2.84,248,0,10.45,mountain_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,WECC,Nuclear,1
31 | WECC_petroleum_liquids_1,3,1,0,636.2,0,1,4.24,0,0,0,21000,7.2,38,0,14,mountain_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,Petroleum Liquids,1
32 | EIC_naturalgas_ccavgcf_moderate_0,1,1,0,0,1,1,500,0,-1,56026,28000,2,106,2,6.36,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,EIC,NaturalGas_CCAvgCF_Moderate,0
33 | EIC_naturalgas_ctavgcf_moderate_0,1,1,0,0,1,1,100,0,-1,45192,21000,5,137,3.5,9.72,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate,0
34 | EIC_naturalgas_ccccsavgcf_conservative_0,1,1,0,0,1,1,500,0,-1,120812,67000,6,106,0,7.16,east_north_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,EIC,NaturalGas_CCCCSAvgCF_Conservative,0
35 | EIC_advnuclear_atb_moderate_0,1,1,0,0,1,1,500,0,-1,45000,0,2.84,285,0,10.44,east_north_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,EIC,AdvNuclear_ATB_Moderate,0
36 | TRE_naturalgas_ccavgcf_moderate_0,2,1,0,0,1,1,500,0,-1,42007,28000,2,106,2,6.36,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,TRE,NaturalGas_CCAvgCF_Moderate,0
37 | TRE_naturalgas_ctavgcf_moderate_0,2,1,0,0,1,1,100,0,-1,35319,21000,5,137,3.5,9.72,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate,0
38 | TRE_naturalgas_ccccsavgcf_conservative_0,2,1,0,0,1,1,500,0,-1,106685,67000,6,106,0,7.16,west_south_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,TRE,NaturalGas_CCCCSAvgCF_Conservative,0
39 | TRE_advnuclear_atb_moderate_0,2,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,west_south_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,TRE,AdvNuclear_ATB_Moderate,0
40 | WECC_naturalgas_ccavgcf_moderate_0,3,1,0,0,1,1,500,0,-1,59543,28000,2,106,2,6.36,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,WECC,NaturalGas_CCAvgCF_Moderate,0
41 | WECC_naturalgas_ctavgcf_moderate_0,3,1,0,0,1,1,100,0,-1,45587,21000,5,137,3.5,9.72,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate,0
42 | WECC_naturalgas_ccccsavgcf_conservative_0,3,1,0,0,1,1,500,0,-1,119927,67000,6,106,0,7.16,mountain_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,WECC,NaturalGas_CCCCSAvgCF_Conservative,0
43 | WECC_advnuclear_atb_moderate_0,3,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,mountain_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,WECC,AdvNuclear_ATB_Moderate,0
44 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,1,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
45 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,2,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
46 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,3,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Num_VRE_Bins,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Self_Disch,Eff_Up,Eff_Down,Ramp_Up_Percentage,Ramp_Dn_Percentage,region,technology,cluster
  2 | EIC_offshore_wind_turbine_1,1,1,0,29.3,0,1,29.3,0,0,0,111496,0,10.34,None,0,1,1,1,1,EIC,Offshore Wind Turbine,1
  3 | EIC_onshore_wind_turbine_1,1,1,0,47407.4,0,1,66.77,0,0,0,43000,0,10.34,None,0,1,1,1,1,EIC,Onshore Wind Turbine,1
  4 | EIC_solar_photovoltaic_1,1,1,0,8533.9,0,1,5.95,0,0,0,22623,0,10.34,None,0,1,1,1,1,EIC,Solar Photovoltaic,1
  5 | TRE_onshore_wind_turbine_1,2,1,0,21683.1,0,1,163.03,0,0,0,43000,0,10.34,None,0,1,1,1,1,TRE,Onshore Wind Turbine,1
  6 | TRE_solar_photovoltaic_1,2,1,0,1821.5,0,1,65.05,0,0,0,22623,0,10.34,None,0,1,1,1,1,TRE,Solar Photovoltaic,1
  7 | WECC_geothermal_1,3,1,0,1752.4,0,0,12,0,0,0,209101,0,10.34,None,0,1,1,1,1,WECC,Geothermal,1
  8 | WECC_onshore_wind_turbine_1,3,1,0,20644.2,0,1,68.81,0,0,0,43000,0,10.34,None,0,1,1,1,1,WECC,Onshore Wind Turbine,1
  9 | WECC_solar_photovoltaic_1,3,1,0,14659.8,0,1,14.87,0,0,0,22623,0,10.34,None,0,1,1,1,1,WECC,Solar Photovoltaic,1
 10 | EIC_offshorewind_class3_moderate_fixed_1_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,0
 11 | EIC_offshorewind_class3_moderate_fixed_1_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,1
 12 | EIC_offshorewind_class3_moderate_fixed_1_2,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,2
 13 | EIC_offshorewind_class3_moderate_fixed_1_3,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,3
 14 | EIC_offshorewind_class3_moderate_fixed_1_4,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,4
 15 | EIC_offshorewind_class3_moderate_fixed_1_5,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,5
 16 | EIC_offshorewind_class3_moderate_fixed_1_6,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,6
 17 | EIC_offshorewind_class3_moderate_fixed_1_7,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,7
 18 | EIC_offshorewind_class3_moderate_fixed_1_8,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,8
 19 | EIC_offshorewind_class3_moderate_fixed_1_9,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,9
 20 | EIC_offshorewind_class3_moderate_fixed_0_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,0
 21 | EIC_offshorewind_class3_moderate_fixed_0_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,1
 22 | EIC_offshorewind_class3_moderate_fixed_0_4,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,4
 23 | EIC_offshorewind_class3_moderate_fixed_0_5,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,5
 24 | EIC_offshorewind_class3_moderate_fixed_0_10,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,10
 25 | EIC_offshorewind_class3_moderate_fixed_0_11,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,11
 26 | EIC_offshorewind_class3_moderate_fixed_0_18,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,18
 27 | EIC_offshorewind_class3_moderate_fixed_0_19,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,19
 28 | EIC_offshorewind_class3_moderate_fixed_0_28,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,28
 29 | EIC_offshorewind_class3_moderate_fixed_0_29,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,29
 30 | EIC_offshorewind_class12_moderate_floating_1_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,0
 31 | EIC_offshorewind_class12_moderate_floating_1_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,1
 32 | EIC_offshorewind_class12_moderate_floating_1_6,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,6
 33 | EIC_offshorewind_class12_moderate_floating_1_7,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,7
 34 | EIC_offshorewind_class12_moderate_floating_1_18,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,18
 35 | EIC_offshorewind_class12_moderate_floating_1_19,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,19
 36 | EIC_offshorewind_class12_moderate_floating_1_38,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,38
 37 | EIC_offshorewind_class12_moderate_floating_1_39,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,39
 38 | EIC_offshorewind_class12_moderate_floating_1_68,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,68
 39 | EIC_offshorewind_class12_moderate_floating_1_69,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,69
 40 | EIC_offshorewind_class12_moderate_floating_0_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,0
 41 | EIC_offshorewind_class12_moderate_floating_0_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,1
 42 | EIC_offshorewind_class12_moderate_floating_0_8,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,8
 43 | EIC_offshorewind_class12_moderate_floating_0_9,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,9
 44 | EIC_offshorewind_class12_moderate_floating_0_28,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,28
 45 | EIC_offshorewind_class12_moderate_floating_0_29,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,29
 46 | EIC_offshorewind_class12_moderate_floating_0_68,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,68
 47 | EIC_offshorewind_class12_moderate_floating_0_69,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,69
 48 | EIC_offshorewind_class12_moderate_floating_0_138,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,138
 49 | EIC_offshorewind_class12_moderate_floating_0_139,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,139
 50 | TRE_offshorewind_class3_moderate_fixed_1_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,0
 51 | TRE_offshorewind_class3_moderate_fixed_1_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,1
 52 | TRE_offshorewind_class3_moderate_fixed_1_2,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,2
 53 | TRE_offshorewind_class3_moderate_fixed_1_3,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,3
 54 | TRE_offshorewind_class3_moderate_fixed_1_4,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,4
 55 | TRE_offshorewind_class3_moderate_fixed_1_5,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,5
 56 | TRE_offshorewind_class3_moderate_fixed_1_6,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,6
 57 | TRE_offshorewind_class3_moderate_fixed_1_7,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,7
 58 | TRE_offshorewind_class3_moderate_fixed_1_8,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,8
 59 | TRE_offshorewind_class3_moderate_fixed_1_9,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,9
 60 | TRE_offshorewind_class3_moderate_fixed_0_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,0
 61 | TRE_offshorewind_class3_moderate_fixed_0_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,1
 62 | TRE_offshorewind_class3_moderate_fixed_0_4,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,4
 63 | TRE_offshorewind_class3_moderate_fixed_0_5,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,5
 64 | TRE_offshorewind_class3_moderate_fixed_0_10,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,10
 65 | TRE_offshorewind_class3_moderate_fixed_0_11,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,11
 66 | TRE_offshorewind_class3_moderate_fixed_0_18,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,18
 67 | TRE_offshorewind_class3_moderate_fixed_0_19,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,19
 68 | TRE_offshorewind_class3_moderate_fixed_0_28,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,28
 69 | TRE_offshorewind_class3_moderate_fixed_0_29,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,29
 70 | TRE_offshorewind_class12_moderate_floating_1_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,0
 71 | TRE_offshorewind_class12_moderate_floating_1_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,1
 72 | TRE_offshorewind_class12_moderate_floating_1_6,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,6
 73 | TRE_offshorewind_class12_moderate_floating_1_7,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,7
 74 | TRE_offshorewind_class12_moderate_floating_1_18,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,18
 75 | TRE_offshorewind_class12_moderate_floating_1_19,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,19
 76 | TRE_offshorewind_class12_moderate_floating_1_38,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,38
 77 | TRE_offshorewind_class12_moderate_floating_1_39,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,39
 78 | TRE_offshorewind_class12_moderate_floating_1_68,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,68
 79 | TRE_offshorewind_class12_moderate_floating_1_69,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,69
 80 | TRE_offshorewind_class12_moderate_floating_0_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,0
 81 | TRE_offshorewind_class12_moderate_floating_0_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,1
 82 | TRE_offshorewind_class12_moderate_floating_0_8,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,8
 83 | TRE_offshorewind_class12_moderate_floating_0_9,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,9
 84 | TRE_offshorewind_class12_moderate_floating_0_28,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,28
 85 | TRE_offshorewind_class12_moderate_floating_0_29,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,29
 86 | TRE_offshorewind_class12_moderate_floating_0_68,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,68
 87 | TRE_offshorewind_class12_moderate_floating_0_69,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,69
 88 | TRE_offshorewind_class12_moderate_floating_0_138,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,138
 89 | TRE_offshorewind_class12_moderate_floating_0_139,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,139
 90 | WECC_offshorewind_class3_moderate_fixed_1_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,0
 91 | WECC_offshorewind_class3_moderate_fixed_1_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,1
 92 | WECC_offshorewind_class3_moderate_fixed_1_2,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,2
 93 | WECC_offshorewind_class3_moderate_fixed_1_3,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,3
 94 | WECC_offshorewind_class3_moderate_fixed_1_4,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,4
 95 | WECC_offshorewind_class3_moderate_fixed_1_5,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,5
 96 | WECC_offshorewind_class3_moderate_fixed_1_6,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,6
 97 | WECC_offshorewind_class3_moderate_fixed_1_7,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,7
 98 | WECC_offshorewind_class3_moderate_fixed_1_8,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,8
 99 | WECC_offshorewind_class3_moderate_fixed_1_9,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,9
100 | WECC_offshorewind_class3_moderate_fixed_0_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,0
101 | WECC_offshorewind_class3_moderate_fixed_0_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,1
102 | WECC_offshorewind_class3_moderate_fixed_0_4,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,4
103 | WECC_offshorewind_class3_moderate_fixed_0_5,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,5
104 | WECC_offshorewind_class3_moderate_fixed_0_10,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,10
105 | WECC_offshorewind_class3_moderate_fixed_0_11,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,11
106 | WECC_offshorewind_class3_moderate_fixed_0_18,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,18
107 | WECC_offshorewind_class3_moderate_fixed_0_19,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,19
108 | WECC_offshorewind_class3_moderate_fixed_0_28,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,28
109 | WECC_offshorewind_class3_moderate_fixed_0_29,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,29
110 | WECC_offshorewind_class12_moderate_floating_1_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,0
111 | WECC_offshorewind_class12_moderate_floating_1_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,1
112 | WECC_offshorewind_class12_moderate_floating_1_6,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,6
113 | WECC_offshorewind_class12_moderate_floating_1_7,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,7
114 | WECC_offshorewind_class12_moderate_floating_1_18,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,18
115 | WECC_offshorewind_class12_moderate_floating_1_19,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,19
116 | WECC_offshorewind_class12_moderate_floating_1_38,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,38
117 | WECC_offshorewind_class12_moderate_floating_1_39,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,39
118 | WECC_offshorewind_class12_moderate_floating_1_68,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,68
119 | WECC_offshorewind_class12_moderate_floating_1_69,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,69
120 | WECC_offshorewind_class12_moderate_floating_0_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,0
121 | WECC_offshorewind_class12_moderate_floating_0_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,1
122 | WECC_offshorewind_class12_moderate_floating_0_8,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,8
123 | WECC_offshorewind_class12_moderate_floating_0_9,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,9
124 | WECC_offshorewind_class12_moderate_floating_0_28,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,28
125 | WECC_offshorewind_class12_moderate_floating_0_29,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,29
126 | WECC_offshorewind_class12_moderate_floating_0_68,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,68
127 | WECC_offshorewind_class12_moderate_floating_0_69,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,69
128 | WECC_offshorewind_class12_moderate_floating_0_138,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,138
129 | WECC_offshorewind_class12_moderate_floating_0_139,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,139


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,New_Build,Can_Retire,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,Resource_Type,technology,cluster
 2 | EIC_storage_metalair_advanced_0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,standalone_storage,Storage_MetalAir_Advanced,0
 3 | EIC_utilitypv_class1_moderate_0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,0
 4 | EIC_utilitypv_class1_moderate_1,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,787394.14,-1,-1,-1,-1,-1,4464,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,1
 5 | EIC_utilitypv_class1_moderate_2,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1683583.59,-1,-1,-1,-1,-1,14630,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,2
 6 | EIC_utilitypv_class1_moderate_3,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1148387.24,-1,-1,-1,-1,-1,10126,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,3
 7 | EIC_utilitypv_class1_moderate_4,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2254699.98,-1,-1,-1,-1,-1,16248,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,4
 8 | EIC_utilitypv_class1_moderate_5,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,879389.55,-1,-1,-1,-1,-1,22825,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,5
 9 | EIC_utilitypv_class1_moderate_6,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1998829.95,-1,-1,-1,-1,-1,24566,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,6
10 | EIC_utilitypv_class1_moderate_7,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1123362.89,-1,-1,-1,-1,-1,21181,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,7
11 | EIC_utilitypv_class1_moderate_8,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2501477.94,-1,-1,-1,-1,-1,32414,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,8
12 | EIC_utilitypv_class1_moderate_9,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,326479.4,-1,-1,-1,-1,-1,148669,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,9
13 | TRE_storage_metalair_advanced_0,2,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,standalone_storage,Storage_MetalAir_Advanced,0
14 | TRE_utilitypv_class1_moderate_0,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,249716.61,-1,-1,-1,-1,-1,6412,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,0
15 | TRE_utilitypv_class1_moderate_1,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,150550.53,-1,-1,-1,-1,-1,8461,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,1
16 | TRE_utilitypv_class1_moderate_2,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,340227.68,-1,-1,-1,-1,-1,10479,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,2
17 | TRE_utilitypv_class1_moderate_3,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,232869.52,-1,-1,-1,-1,-1,14103,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,3
18 | TRE_utilitypv_class1_moderate_4,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,409644.17,-1,-1,-1,-1,-1,14224,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,4
19 | TRE_utilitypv_class1_moderate_5,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,224977.87,-1,-1,-1,-1,-1,18539,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,5
20 | TRE_utilitypv_class1_moderate_6,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,393113.89,-1,-1,-1,-1,-1,22325,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,6
21 | TRE_utilitypv_class1_moderate_7,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,248585.87,-1,-1,-1,-1,-1,17464,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,7
22 | TRE_utilitypv_class1_moderate_8,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,124347.08,-1,-1,-1,-1,-1,74721,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,8
23 | TRE_utilitypv_class1_moderate_9,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,477756.89,-1,-1,-1,-1,-1,29582,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,9
24 | WECC_storage_metalair_advanced_0,3,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,standalone_storage,Storage_MetalAir_Advanced,0
25 | WECC_utilitypv_class1_moderate_0,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,775652.15,-1,-1,-1,-1,-1,10320,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,0
26 | WECC_utilitypv_class1_moderate_1,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,207870.65,-1,-1,-1,-1,-1,6016,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,1
27 | WECC_utilitypv_class1_moderate_2,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1143504.83,-1,-1,-1,-1,-1,19411,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,2
28 | WECC_utilitypv_class1_moderate_3,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,35742.72,-1,-1,-1,-1,-1,3992,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,3
29 | WECC_utilitypv_class1_moderate_4,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1185544.36,-1,-1,-1,-1,-1,25714,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,4
30 | WECC_utilitypv_class1_moderate_5,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,31049.98,-1,-1,-1,-1,-1,8052,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,5
31 | WECC_utilitypv_class1_moderate_6,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1023622.34,-1,-1,-1,-1,-1,33457,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,6
32 | WECC_utilitypv_class1_moderate_7,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,82238,-1,-1,-1,-1,-1,16842,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,7
33 | WECC_utilitypv_class1_moderate_8,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1134234.27,-1,-1,-1,-1,-1,105939,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,8
34 | WECC_utilitypv_class1_moderate_9,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,94348.41,-1,-1,-1,-1,-1,28290,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,9


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
  1 | Resource,Derating_Factor_1,Derating_Factor_2,Derating_Factor_3
  2 | EIC_advnuclear_atb_moderate_0,0.93,0,0
  3 | EIC_batteries_1,0.95,0,0
  4 | EIC_battery_moderate_0,0.95,0,0
  5 | EIC_biomass_1,0.93,0,0
  6 | EIC_comm_space_heat_cool_1,0.95,0,0
  7 | EIC_comm_water_heat_1,0.95,0,0
  8 | EIC_conventional_hydroelectric_1,0.8,0,0
  9 | EIC_conventional_steam_coal_1,0.93,0,0
 10 | EIC_conventional_steam_coal_2,0.93,0,0
 11 | EIC_distributed_generation_1,0.8,0,0
 12 | EIC_hydroelectric_pumped_storage_1,0.95,0,0
 13 | EIC_natural_gas_fired_combined_cycle_1,0.93,0,0
 14 | EIC_natural_gas_fired_combined_cycle_2,0.93,0,0
 15 | EIC_natural_gas_fired_combustion_turbine_1,0.93,0,0
 16 | EIC_natural_gas_fired_combustion_turbine_2,0.93,0,0
 17 | EIC_natural_gas_internal_combustion_engine_1,0.93,0,0
 18 | EIC_natural_gas_steam_turbine_1,0.93,0,0
 19 | EIC_naturalgas_ccavgcf_moderate_0,0.93,0,0
 20 | EIC_naturalgas_ccccsavgcf_conservative_0,0.93,0,0
 21 | EIC_naturalgas_ctavgcf_moderate_0,0.93,0,0
 22 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0.93,0,0
 23 | EIC_nuclear_1,0.93,0,0
 24 | EIC_offshore_wind_turbine_1,0.8,0,0
 25 | EIC_offshorewind_class12_moderate_floating_0_0,0.8,0,0
 26 | EIC_offshorewind_class12_moderate_floating_0_1,0.8,0,0
 27 | EIC_offshorewind_class12_moderate_floating_0_138,0.8,0,0
 28 | EIC_offshorewind_class12_moderate_floating_0_139,0.8,0,0
 29 | EIC_offshorewind_class12_moderate_floating_0_28,0.8,0,0
 30 | EIC_offshorewind_class12_moderate_floating_0_29,0.8,0,0
 31 | EIC_offshorewind_class12_moderate_floating_0_68,0.8,0,0
 32 | EIC_offshorewind_class12_moderate_floating_0_69,0.8,0,0
 33 | EIC_offshorewind_class12_moderate_floating_0_8,0.8,0,0
 34 | EIC_offshorewind_class12_moderate_floating_0_9,0.8,0,0
 35 | EIC_offshorewind_class12_moderate_floating_1_0,0.8,0,0
 36 | EIC_offshorewind_class12_moderate_floating_1_1,0.8,0,0
 37 | EIC_offshorewind_class12_moderate_floating_1_18,0.8,0,0
 38 | EIC_offshorewind_class12_moderate_floating_1_19,0.8,0,0
 39 | EIC_offshorewind_class12_moderate_floating_1_38,0.8,0,0
 40 | EIC_offshorewind_class12_moderate_floating_1_39,0.8,0,0
 41 | EIC_offshorewind_class12_moderate_floating_1_6,0.8,0,0
 42 | EIC_offshorewind_class12_moderate_floating_1_68,0.8,0,0
 43 | EIC_offshorewind_class12_moderate_floating_1_69,0.8,0,0
 44 | EIC_offshorewind_class12_moderate_floating_1_7,0.8,0,0
 45 | EIC_offshorewind_class3_moderate_fixed_0_0,0.8,0,0
 46 | EIC_offshorewind_class3_moderate_fixed_0_1,0.8,0,0
 47 | EIC_offshorewind_class3_moderate_fixed_0_10,0.8,0,0
 48 | EIC_offshorewind_class3_moderate_fixed_0_11,0.8,0,0
 49 | EIC_offshorewind_class3_moderate_fixed_0_18,0.8,0,0
 50 | EIC_offshorewind_class3_moderate_fixed_0_19,0.8,0,0
 51 | EIC_offshorewind_class3_moderate_fixed_0_28,0.8,0,0
 52 | EIC_offshorewind_class3_moderate_fixed_0_29,0.8,0,0
 53 | EIC_offshorewind_class3_moderate_fixed_0_4,0.8,0,0
 54 | EIC_offshorewind_class3_moderate_fixed_0_5,0.8,0,0
 55 | EIC_offshorewind_class3_moderate_fixed_1_0,0.8,0,0
 56 | EIC_offshorewind_class3_moderate_fixed_1_1,0.8,0,0
 57 | EIC_offshorewind_class3_moderate_fixed_1_2,0.8,0,0
 58 | EIC_offshorewind_class3_moderate_fixed_1_3,0.8,0,0
 59 | EIC_offshorewind_class3_moderate_fixed_1_4,0.8,0,0
 60 | EIC_offshorewind_class3_moderate_fixed_1_5,0.8,0,0
 61 | EIC_offshorewind_class3_moderate_fixed_1_6,0.8,0,0
 62 | EIC_offshorewind_class3_moderate_fixed_1_7,0.8,0,0
 63 | EIC_offshorewind_class3_moderate_fixed_1_8,0.8,0,0
 64 | EIC_offshorewind_class3_moderate_fixed_1_9,0.8,0,0
 65 | EIC_onshore_wind_turbine_1,0.8,0,0
 66 | EIC_petroleum_liquids_1,0.93,0,0
 67 | EIC_res_space_heat_cool_1,0.95,0,0
 68 | EIC_res_water_heat_1,0.95,0,0
 69 | EIC_small_hydroelectric_1,0.8,0,0
 70 | EIC_solar_photovoltaic_1,0.8,0,0
 71 | EIC_trans_light_duty_1,0.95,0,0
 72 | TRE_advnuclear_atb_moderate_0,0,0.93,0
 73 | TRE_batteries_1,0,0.95,0
 74 | TRE_battery_moderate_0,0,0.95,0
 75 | TRE_biomass_1,0,0.93,0
 76 | TRE_comm_space_heat_cool_1,0,0.95,0
 77 | TRE_comm_water_heat_1,0,0.95,0
 78 | TRE_conventional_hydroelectric_1,0,0.8,0
 79 | TRE_conventional_steam_coal_1,0,0.93,0
 80 | TRE_conventional_steam_coal_2,0,0.93,0
 81 | TRE_distributed_generation_1,0,0.8,0
 82 | TRE_natural_gas_fired_combined_cycle_1,0,0.93,0
 83 | TRE_natural_gas_fired_combined_cycle_2,0,0.93,0
 84 | TRE_natural_gas_fired_combustion_turbine_1,0,0.93,0
 85 | TRE_natural_gas_fired_combustion_turbine_2,0,0.93,0
 86 | TRE_natural_gas_internal_combustion_engine_1,0,0.93,0
 87 | TRE_natural_gas_steam_turbine_1,0,0.93,0
 88 | TRE_naturalgas_ccavgcf_moderate_0,0,0.93,0
 89 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0.93,0
 90 | TRE_naturalgas_ctavgcf_moderate_0,0,0.93,0
 91 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0.93,0
 92 | TRE_nuclear_1,0,0.93,0
 93 | TRE_offshorewind_class12_moderate_floating_0_0,0,0.8,0
 94 | TRE_offshorewind_class12_moderate_floating_0_1,0,0.8,0
 95 | TRE_offshorewind_class12_moderate_floating_0_138,0,0.8,0
 96 | TRE_offshorewind_class12_moderate_floating_0_139,0,0.8,0
 97 | TRE_offshorewind_class12_moderate_floating_0_28,0,0.8,0
 98 | TRE_offshorewind_class12_moderate_floating_0_29,0,0.8,0
 99 | TRE_offshorewind_class12_moderate_floating_0_68,0,0.8,0
100 | TRE_offshorewind_class12_moderate_floating_0_69,0,0.8,0
101 | TRE_offshorewind_class12_moderate_floating_0_8,0,0.8,0
102 | TRE_offshorewind_class12_moderate_floating_0_9,0,0.8,0
103 | TRE_offshorewind_class12_moderate_floating_1_0,0,0.8,0
104 | TRE_offshorewind_class12_moderate_floating_1_1,0,0.8,0
105 | TRE_offshorewind_class12_moderate_floating_1_18,0,0.8,0
106 | TRE_offshorewind_class12_moderate_floating_1_19,0,0.8,0
107 | TRE_offshorewind_class12_moderate_floating_1_38,0,0.8,0
108 | TRE_offshorewind_class12_moderate_floating_1_39,0,0.8,0
109 | TRE_offshorewind_class12_moderate_floating_1_6,0,0.8,0
110 | TRE_offshorewind_class12_moderate_floating_1_68,0,0.8,0
111 | TRE_offshorewind_class12_moderate_floating_1_69,0,0.8,0
112 | TRE_offshorewind_class12_moderate_floating_1_7,0,0.8,0
113 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0.8,0
114 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0.8,0
115 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0.8,0
116 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0.8,0
117 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0.8,0
118 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0.8,0
119 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0.8,0
120 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0.8,0
121 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0.8,0
122 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0.8,0
123 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0.8,0
124 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0.8,0
125 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0.8,0
126 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0.8,0
127 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0.8,0
128 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0.8,0
129 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0.8,0
130 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0.8,0
131 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0.8,0
132 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0.8,0
133 | TRE_onshore_wind_turbine_1,0,0.8,0
134 | TRE_petroleum_liquids_1,0,0.93,0
135 | TRE_res_space_heat_cool_1,0,0.95,0
136 | TRE_res_water_heat_1,0,0.95,0
137 | TRE_small_hydroelectric_1,0,0.8,0
138 | TRE_solar_photovoltaic_1,0,0.8,0
139 | TRE_trans_light_duty_1,0,0.95,0
140 | WECC_advnuclear_atb_moderate_0,0,0,0.93
141 | WECC_batteries_1,0,0,0.95
142 | WECC_battery_moderate_0,0,0,0.95
143 | WECC_biomass_1,0,0,0.93
144 | WECC_comm_space_heat_cool_1,0,0,0.95
145 | WECC_comm_water_heat_1,0,0,0.95
146 | WECC_conventional_hydroelectric_1,0,0,0.8
147 | WECC_conventional_steam_coal_1,0,0,0.93
148 | WECC_conventional_steam_coal_2,0,0,0.93
149 | WECC_distributed_generation_1,0,0,0.8
150 | WECC_geothermal_1,0,0,0.93
151 | WECC_hydroelectric_pumped_storage_1,0,0,0.95
152 | WECC_natural_gas_fired_combined_cycle_1,0,0,0.93
153 | WECC_natural_gas_fired_combined_cycle_2,0,0,0.93
154 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0.93
155 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0.93
156 | WECC_natural_gas_internal_combustion_engine_1,0,0,0.93
157 | WECC_natural_gas_steam_turbine_1,0,0,0.93
158 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0.93
159 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0.93
160 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0.93
161 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.93
162 | WECC_nuclear_1,0,0,0.93
163 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0.8
164 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0.8
165 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0.8
166 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0.8
167 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0.8
168 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0.8
169 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0.8
170 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0.8
171 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0.8
172 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0.8
173 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0.8
174 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0.8
175 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0.8
176 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0.8
177 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0.8
178 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0.8
179 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0.8
180 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0.8
181 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0.8
182 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0.8
183 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0.8
184 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0.8
185 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0.8
186 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0.8
187 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0.8
188 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0.8
189 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0.8
190 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0.8
191 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0.8
192 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0.8
193 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0.8
194 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0.8
195 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0.8
196 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0.8
197 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0.8
198 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0.8
199 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0.8
200 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0.8
201 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0.8
202 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0.8
203 | WECC_onshore_wind_turbine_1,0,0,0.8
204 | WECC_petroleum_liquids_1,0,0,0.93
205 | WECC_res_space_heat_cool_1,0,0,0.95
206 | WECC_res_water_heat_1,0,0,0.95
207 | WECC_small_hydroelectric_1,0,0,0.8
208 | WECC_solar_photovoltaic_1,0,0,0.8
209 | WECC_trans_light_duty_1,0,0,0.95
210 | EIC_storage_metalair_advanced_0,0.95,0,0
211 | EIC_utilitypv_class1_moderate_0,0.95,0,0
212 | EIC_utilitypv_class1_moderate_1,0.95,0,0
213 | EIC_utilitypv_class1_moderate_2,0.95,0,0
214 | EIC_utilitypv_class1_moderate_3,0.95,0,0
215 | EIC_utilitypv_class1_moderate_4,0.95,0,0
216 | EIC_utilitypv_class1_moderate_5,0.95,0,0
217 | EIC_utilitypv_class1_moderate_6,0.95,0,0
218 | EIC_utilitypv_class1_moderate_7,0.95,0,0
219 | EIC_utilitypv_class1_moderate_8,0.95,0,0
220 | EIC_utilitypv_class1_moderate_9,0.95,0,0
221 | TRE_storage_metalair_advanced_0,0,0.95,0
222 | TRE_utilitypv_class1_moderate_0,0,0.95,0
223 | TRE_utilitypv_class1_moderate_1,0,0.95,0
224 | TRE_utilitypv_class1_moderate_2,0,0.95,0
225 | TRE_utilitypv_class1_moderate_3,0,0.95,0
226 | TRE_utilitypv_class1_moderate_4,0,0.95,0
227 | TRE_utilitypv_class1_moderate_5,0,0.95,0
228 | TRE_utilitypv_class1_moderate_6,0,0.95,0
229 | TRE_utilitypv_class1_moderate_7,0,0.95,0
230 | TRE_utilitypv_class1_moderate_8,0,0.95,0
231 | TRE_utilitypv_class1_moderate_9,0,0.95,0
232 | WECC_storage_metalair_advanced_0,0,0,0.95
233 | WECC_utilitypv_class1_moderate_0,0,0,0.95
234 | WECC_utilitypv_class1_moderate_1,0,0,0.95
235 | WECC_utilitypv_class1_moderate_2,0,0,0.95
236 | WECC_utilitypv_class1_moderate_3,0,0,0.95
237 | WECC_utilitypv_class1_moderate_4,0,0,0.95
238 | WECC_utilitypv_class1_moderate_5,0,0,0.95
239 | WECC_utilitypv_class1_moderate_6,0,0,0.95
240 | WECC_utilitypv_class1_moderate_7,0,0,0.95
241 | WECC_utilitypv_class1_moderate_8,0,0,0.95
242 | WECC_utilitypv_class1_moderate_9,0,0,0.95


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3,Max_Cap_Stor_1,Max_Cap_Solar_1,Max_Cap_Wind_1,Max_Cap_Stor_2,Max_Cap_Solar_2,Max_Cap_Wind_2,Max_Cap_Stor_3,Max_Cap_Solar_3,Max_Cap_Wind_3
2 | EIC_utilitypv_class1_moderate_0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
  1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
  2 | EIC_storage_metalair_advanced_0,0,0,0
  3 | EIC_utilitypv_class1_moderate_0,0,0,0
  4 | EIC_utilitypv_class1_moderate_1,0,0,0
  5 | EIC_utilitypv_class1_moderate_2,0,0,0
  6 | EIC_utilitypv_class1_moderate_3,0,0,0
  7 | EIC_utilitypv_class1_moderate_4,0,0,0
  8 | EIC_utilitypv_class1_moderate_5,0,0,0
  9 | EIC_utilitypv_class1_moderate_6,0,0,0
 10 | EIC_utilitypv_class1_moderate_7,0,0,0
 11 | EIC_utilitypv_class1_moderate_8,0,0,0
 12 | EIC_utilitypv_class1_moderate_9,0,0,0
 13 | TRE_storage_metalair_advanced_0,0,0,0
 14 | TRE_utilitypv_class1_moderate_0,0,0,0
 15 | TRE_utilitypv_class1_moderate_1,0,0,0
 16 | TRE_utilitypv_class1_moderate_2,0,0,0
 17 | TRE_utilitypv_class1_moderate_3,0,0,0
 18 | TRE_utilitypv_class1_moderate_4,0,0,0
 19 | TRE_utilitypv_class1_moderate_5,0,0,0
 20 | TRE_utilitypv_class1_moderate_6,0,0,0
 21 | TRE_utilitypv_class1_moderate_7,0,0,0
 22 | TRE_utilitypv_class1_moderate_8,0,0,0
 23 | TRE_utilitypv_class1_moderate_9,0,0,0
 24 | WECC_storage_metalair_advanced_0,0,0,0
 25 | WECC_utilitypv_class1_moderate_0,0,0,0
 26 | WECC_utilitypv_class1_moderate_1,0,0,0
 27 | WECC_utilitypv_class1_moderate_2,0,0,0
 28 | WECC_utilitypv_class1_moderate_3,0,0,0
 29 | WECC_utilitypv_class1_moderate_4,0,0,0
 30 | WECC_utilitypv_class1_moderate_5,0,0,0
 31 | WECC_utilitypv_class1_moderate_6,0,0,0
 32 | WECC_utilitypv_class1_moderate_7,0,0,0
 33 | WECC_utilitypv_class1_moderate_8,0,0,0
 34 | WECC_utilitypv_class1_moderate_9,0,0,0
 35 | WECC_trans_light_duty_1,0,0,0
 36 | EIC_trans_light_duty_1,0,0,0
 37 | TRE_trans_light_duty_1,0,0,0
 38 | WECC_comm_water_heat_1,0,0,0
 39 | EIC_comm_water_heat_1,0,0,0
 40 | TRE_comm_water_heat_1,0,0,0
 41 | WECC_res_water_heat_1,0,0,0
 42 | EIC_res_water_heat_1,0,0,0
 43 | TRE_res_water_heat_1,0,0,0
 44 | WECC_comm_space_heat_cool_1,0,0,0
 45 | EIC_comm_space_heat_cool_1,0,0,0
 46 | TRE_comm_space_heat_cool_1,0,0,0
 47 | WECC_res_space_heat_cool_1,0,0,0
 48 | EIC_res_space_heat_cool_1,0,0,0
 49 | TRE_res_space_heat_cool_1,0,0,0
 50 | EIC_conventional_hydroelectric_1,0,0,0
 51 | TRE_conventional_hydroelectric_1,0,0,0
 52 | WECC_conventional_hydroelectric_1,0,0,0
 53 | EIC_biomass_1,0,0,0
 54 | EIC_small_hydroelectric_1,0,0,0
 55 | TRE_biomass_1,0,0,0
 56 | TRE_small_hydroelectric_1,0,0,0
 57 | WECC_biomass_1,0,0,0
 58 | WECC_small_hydroelectric_1,0,0,0
 59 | WECC_distributed_generation_1,0,0,0
 60 | EIC_distributed_generation_1,0,0,0
 61 | TRE_distributed_generation_1,0,0,0
 62 | EIC_batteries_1,0,0,0
 63 | EIC_hydroelectric_pumped_storage_1,0,0,0
 64 | TRE_batteries_1,0,0,0
 65 | WECC_batteries_1,0,0,0
 66 | WECC_hydroelectric_pumped_storage_1,0,0,0
 67 | EIC_battery_moderate_0,0,0,0
 68 | TRE_battery_moderate_0,0,0,0
 69 | WECC_battery_moderate_0,0,0,0
 70 | EIC_conventional_steam_coal_1,0,0,0
 71 | EIC_conventional_steam_coal_2,0,0,0
 72 | EIC_natural_gas_fired_combined_cycle_1,0,0,0
 73 | EIC_natural_gas_fired_combined_cycle_2,0,0,0
 74 | EIC_natural_gas_fired_combustion_turbine_1,0,0,0
 75 | EIC_natural_gas_fired_combustion_turbine_2,0,0,0
 76 | EIC_natural_gas_internal_combustion_engine_1,0,0,0
 77 | EIC_natural_gas_steam_turbine_1,0,0,0
 78 | EIC_nuclear_1,0,0,0
 79 | EIC_petroleum_liquids_1,0,0,0
 80 | TRE_conventional_steam_coal_1,0,0,0
 81 | TRE_conventional_steam_coal_2,0,0,0
 82 | TRE_natural_gas_fired_combined_cycle_1,0,0,0
 83 | TRE_natural_gas_fired_combined_cycle_2,0,0,0
 84 | TRE_natural_gas_fired_combustion_turbine_1,0,0,0
 85 | TRE_natural_gas_fired_combustion_turbine_2,0,0,0
 86 | TRE_natural_gas_internal_combustion_engine_1,0,0,0
 87 | TRE_natural_gas_steam_turbine_1,0,0,0
 88 | TRE_nuclear_1,0,0,0
 89 | TRE_petroleum_liquids_1,0,0,0
 90 | WECC_conventional_steam_coal_1,0,0,0
 91 | WECC_conventional_steam_coal_2,0,0,0
 92 | WECC_natural_gas_fired_combined_cycle_1,0,0,0
 93 | WECC_natural_gas_fired_combined_cycle_2,0,0,0
 94 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0
 95 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0
 96 | WECC_natural_gas_internal_combustion_engine_1,0,0,0
 97 | WECC_natural_gas_steam_turbine_1,0,0,0
 98 | WECC_nuclear_1,0,0,0
 99 | WECC_petroleum_liquids_1,0,0,0
100 | EIC_naturalgas_ccavgcf_moderate_0,0,0,0
101 | EIC_naturalgas_ctavgcf_moderate_0,0,0,0
102 | EIC_naturalgas_ccccsavgcf_conservative_0,0,0,0
103 | EIC_advnuclear_atb_moderate_0,0,0,0
104 | TRE_naturalgas_ccavgcf_moderate_0,0,0,0
105 | TRE_naturalgas_ctavgcf_moderate_0,0,0,0
106 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0,0
107 | TRE_advnuclear_atb_moderate_0,0,0,0
108 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0
109 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0
110 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0
111 | WECC_advnuclear_atb_moderate_0,0,0,0
112 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
113 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
114 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
115 | EIC_offshore_wind_turbine_1,0,0,0
116 | EIC_onshore_wind_turbine_1,0,0,0
117 | EIC_solar_photovoltaic_1,0,0,0
118 | TRE_onshore_wind_turbine_1,0,0,0
119 | TRE_solar_photovoltaic_1,0,0,0
120 | WECC_geothermal_1,0,0,0
121 | WECC_onshore_wind_turbine_1,0,0,0
122 | WECC_solar_photovoltaic_1,0,0,0
123 | EIC_offshorewind_class3_moderate_fixed_1_0,0,0,0
124 | EIC_offshorewind_class3_moderate_fixed_1_1,0,0,0
125 | EIC_offshorewind_class3_moderate_fixed_1_2,0,0,0
126 | EIC_offshorewind_class3_moderate_fixed_1_3,0,0,0
127 | EIC_offshorewind_class3_moderate_fixed_1_4,0,0,0
128 | EIC_offshorewind_class3_moderate_fixed_1_5,0,0,0
129 | EIC_offshorewind_class3_moderate_fixed_1_6,0,0,0
130 | EIC_offshorewind_class3_moderate_fixed_1_7,0,0,0
131 | EIC_offshorewind_class3_moderate_fixed_1_8,0,0,0
132 | EIC_offshorewind_class3_moderate_fixed_1_9,0,0,0
133 | EIC_offshorewind_class3_moderate_fixed_0_0,0,0,0
134 | EIC_offshorewind_class3_moderate_fixed_0_1,0,0,0
135 | EIC_offshorewind_class3_moderate_fixed_0_4,0,0,0
136 | EIC_offshorewind_class3_moderate_fixed_0_5,0,0,0
137 | EIC_offshorewind_class3_moderate_fixed_0_10,0,0,0
138 | EIC_offshorewind_class3_moderate_fixed_0_11,0,0,0
139 | EIC_offshorewind_class3_moderate_fixed_0_18,0,0,0
140 | EIC_offshorewind_class3_moderate_fixed_0_19,0,0,0
141 | EIC_offshorewind_class3_moderate_fixed_0_28,0,0,0
142 | EIC_offshorewind_class3_moderate_fixed_0_29,0,0,0
143 | EIC_offshorewind_class12_moderate_floating_1_0,0,0,0
144 | EIC_offshorewind_class12_moderate_floating_1_1,0,0,0
145 | EIC_offshorewind_class12_moderate_floating_1_6,0,0,0
146 | EIC_offshorewind_class12_moderate_floating_1_7,0,0,0
147 | EIC_offshorewind_class12_moderate_floating_1_18,0,0,0
148 | EIC_offshorewind_class12_moderate_floating_1_19,0,0,0
149 | EIC_offshorewind_class12_moderate_floating_1_38,0,0,0
150 | EIC_offshorewind_class12_moderate_floating_1_39,0,0,0
151 | EIC_offshorewind_class12_moderate_floating_1_68,0,0,0
152 | EIC_offshorewind_class12_moderate_floating_1_69,0,0,0
153 | EIC_offshorewind_class12_moderate_floating_0_0,0,0,0
154 | EIC_offshorewind_class12_moderate_floating_0_1,0,0,0
155 | EIC_offshorewind_class12_moderate_floating_0_8,0,0,0
156 | EIC_offshorewind_class12_moderate_floating_0_9,0,0,0
157 | EIC_offshorewind_class12_moderate_floating_0_28,0,0,0
158 | EIC_offshorewind_class12_moderate_floating_0_29,0,0,0
159 | EIC_offshorewind_class12_moderate_floating_0_68,0,0,0
160 | EIC_offshorewind_class12_moderate_floating_0_69,0,0,0
161 | EIC_offshorewind_class12_moderate_floating_0_138,0,0,0
162 | EIC_offshorewind_class12_moderate_floating_0_139,0,0,0
163 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0,0
164 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0,0
165 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0,0
166 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0,0
167 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0,0
168 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0,0
169 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0,0
170 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0,0
171 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0,0
172 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0,0
173 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0,0
174 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0,0
175 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0,0
176 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0,0
177 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0,0
178 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0,0
179 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0,0
180 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0,0
181 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0,0
182 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0,0
183 | TRE_offshorewind_class12_moderate_floating_1_0,0,0,0
184 | TRE_offshorewind_class12_moderate_floating_1_1,0,0,0
185 | TRE_offshorewind_class12_moderate_floating_1_6,0,0,0
186 | TRE_offshorewind_class12_moderate_floating_1_7,0,0,0
187 | TRE_offshorewind_class12_moderate_floating_1_18,0,0,0
188 | TRE_offshorewind_class12_moderate_floating_1_19,0,0,0
189 | TRE_offshorewind_class12_moderate_floating_1_38,0,0,0
190 | TRE_offshorewind_class12_moderate_floating_1_39,0,0,0
191 | TRE_offshorewind_class12_moderate_floating_1_68,0,0,0
192 | TRE_offshorewind_class12_moderate_floating_1_69,0,0,0
193 | TRE_offshorewind_class12_moderate_floating_0_0,0,0,0
194 | TRE_offshorewind_class12_moderate_floating_0_1,0,0,0
195 | TRE_offshorewind_class12_moderate_floating_0_8,0,0,0
196 | TRE_offshorewind_class12_moderate_floating_0_9,0,0,0
197 | TRE_offshorewind_class12_moderate_floating_0_28,0,0,0
198 | TRE_offshorewind_class12_moderate_floating_0_29,0,0,0
199 | TRE_offshorewind_class12_moderate_floating_0_68,0,0,0
200 | TRE_offshorewind_class12_moderate_floating_0_69,0,0,0
201 | TRE_offshorewind_class12_moderate_floating_0_138,0,0,0
202 | TRE_offshorewind_class12_moderate_floating_0_139,0,0,0
203 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0
204 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0
205 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0
206 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0
207 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0
208 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0
209 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0
210 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0
211 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0
212 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0
213 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0
214 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0
215 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0
216 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0
217 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0
218 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0
219 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0
220 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0
221 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0
222 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0
223 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0
224 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0
225 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0
226 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0
227 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0
228 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0
229 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0
230 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0
231 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0
232 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0
233 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0
234 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0
235 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0
236 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0
237 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0
238 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0
239 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0
240 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0
241 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0
242 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
 2 | 2000,1,1,1,2000,1,24,8760,1,433055,56250,158195
 3 | ,2,0.9,0.04,1800,,,,2,406808,53975,151211
 4 | ,3,0.55,0.024,1100,,,,3,394480,51413,144460
 5 | ,4,0.2,0.003,400,,,,4,389845,50217,137745
 6 | ,,,,,,,,5,387098,49407,131059
 7 | ,,,,,,,,6,392355,48847,129242
 8 | ,,,,,,,,7,404654,49928,127643
 9 | ,,,,,,,,8,416313,52099,127594
10 | ,,,,,,,,9,428156,53971,131035
11 | ,,,,,,,,10,443175,56180,136863
12 | ,,,,,,,,11,461485,59324,140327
13 | ,,,,,,,,12,478750,61430,146574
14 | ,,,,,,,,13,500639,63720,153859
15 | ,,,,,,,,14,510242,66292,160582
16 | ,,,,,,,,15,512939,66236,167097
17 | ,,,,,,,,16,520359,66270,172644
18 | ,,,,,,,,17,542617,66603,173528
19 | ,,,,,,,,18,567183,68052,174662
20 | ,,,,,,,,19,589765,70029,179348
21 | ,,,,,,,,20,597606,78675,189488
22 | ,,,,,,,,21,578601,79796,200159
23 | ,,,,,,,,22,551207,77624,206282
24 | ,,,,,,,,23,519544,74795,201139
25 | ,,,,,,,,24,480627,70153,190159
26 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,None,biomass,east_north_central_coal,east_north_central_naturalgas,east_north_central_uranium,east_north_central_distillate,west_south_central_coal,west_south_central_naturalgas,west_south_central_uranium,west_south_central_distillate,mountain_coal,mountain_naturalgas,mountain_uranium,mountain_distillate,zerocarbon_fuel
 2 | 0,0,0,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0
 3 | 1,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 4 | 2,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 5 | 3,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 6 | 4,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 7 | 5,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 8 | 6,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 9 | 7,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
10 | 8,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
11 | 9,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
12 | 10,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
13 | 11,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
14 | 12,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
15 | 13,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
16 | 14,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
17 | 15,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
18 | 16,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
19 | 17,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
20 | 18,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
21 | 19,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
22 | 20,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
23 | 21,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
24 | 22,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
25 | 23,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
26 | 24,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20


--------------------------------------------------------------------------------
/test/VRE_storage/solar/system/Network.csv:
--------------------------------------------------------------------------------
1 | Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,Line_Min_Flow_MW,transmission_path_name,Line_Reinforcement_Cost_per_MWyr,Line_Reinforcement_Cost_per_MW,Line_Loss_Percentage,Line_Max_Reinforcement_MW,DerateCapRes_1,CapRes_Excl_1,DerateCapRes_2,CapRes_Excl_2,DerateCapRes_3,CapRes_Excl_3
2 | z1,1.0,1,2,820.0,820.0,EIC_to_TRE,45958.0,948772.0,0.0649,410.0,0.95,0.0,0.95,0.0,0.95,0.0
3 | z2,2.0,1,3,1830.0,1830.0,EIC_to_WECC,71600.0,1478140.0,0.1001,915.0,0.95,0.0,0.95,0.0,0.95,0.0
4 | z3,,,,,,,,,,,,,,,,
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar/system/Vre_and_stor_solar_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_utilitypv_class1_moderate_0,EIC_utilitypv_class1_moderate_1,EIC_utilitypv_class1_moderate_2,EIC_utilitypv_class1_moderate_3,EIC_utilitypv_class1_moderate_4,EIC_utilitypv_class1_moderate_5,EIC_utilitypv_class1_moderate_6,EIC_utilitypv_class1_moderate_7,EIC_utilitypv_class1_moderate_8,EIC_utilitypv_class1_moderate_9,TRE_utilitypv_class1_moderate_0,TRE_utilitypv_class1_moderate_1,TRE_utilitypv_class1_moderate_2,TRE_utilitypv_class1_moderate_3,TRE_utilitypv_class1_moderate_4,TRE_utilitypv_class1_moderate_5,TRE_utilitypv_class1_moderate_6,TRE_utilitypv_class1_moderate_7,TRE_utilitypv_class1_moderate_8,TRE_utilitypv_class1_moderate_9,WECC_utilitypv_class1_moderate_0,WECC_utilitypv_class1_moderate_1,WECC_utilitypv_class1_moderate_2,WECC_utilitypv_class1_moderate_3,WECC_utilitypv_class1_moderate_4,WECC_utilitypv_class1_moderate_5,WECC_utilitypv_class1_moderate_6,WECC_utilitypv_class1_moderate_7,WECC_utilitypv_class1_moderate_8,WECC_utilitypv_class1_moderate_9
 2 | 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 3 | 2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 4 | 3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 5 | 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 6 | 5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 7 | 6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 8 | 7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 9 | 8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
10 | 9,0,0.081,0,0.077,0.043,0,0.005,0.09,0.058,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
11 | 10,0.151,0.403,0.168,0.367,0.294,0.114,0.162,0.408,0.343,0.027,0.247,0.23,0.258,0.224,0.253,0.209,0.2,0.258,0.11,0.217,0,0,0,0,0,0,0,0,0,0
12 | 11,0.44,0.574,0.452,0.542,0.515,0.463,0.465,0.568,0.533,0.429,0.524,0.52,0.531,0.516,0.529,0.507,0.499,0.532,0.458,0.477,0.193,0.189,0.199,0,0.184,0,0.096,0,0.135,0
13 | 12,0.597,0.657,0.624,0.619,0.628,0.656,0.614,0.648,0.623,0.615,0.692,0.694,0.699,0.685,0.694,0.682,0.68,0.696,0.655,0.636,0.469,0.429,0.473,0.043,0.458,0.001,0.367,0,0.395,0
14 | 13,0.697,0.695,0.717,0.635,0.674,0.764,0.677,0.672,0.661,0.723,0.79,0.782,0.793,0.779,0.789,0.786,0.783,0.789,0.769,0.723,0.626,0.599,0.614,0.249,0.601,0.215,0.554,0.215,0.548,0.248
15 | 14,0.734,0.697,0.752,0.637,0.678,0.811,0.695,0.666,0.666,0.79,0.826,0.827,0.835,0.834,0.834,0.838,0.834,0.826,0.826,0.761,0.721,0.689,0.682,0.371,0.667,0.383,0.659,0.423,0.623,0.444
16 | 15,0.731,0.667,0.745,0.62,0.661,0.808,0.686,0.645,0.636,0.806,0.831,0.839,0.838,0.841,0.828,0.844,0.828,0.816,0.837,0.751,0.768,0.694,0.725,0.427,0.7,0.478,0.714,0.447,0.662,0.5
17 | 16,0.674,0.605,0.689,0.565,0.599,0.757,0.635,0.554,0.55,0.747,0.794,0.796,0.795,0.799,0.785,0.805,0.802,0.782,0.8,0.725,0.772,0.667,0.723,0.447,0.713,0.452,0.729,0.443,0.651,0.434
18 | 17,0.543,0.463,0.565,0.415,0.455,0.642,0.52,0.407,0.399,0.646,0.698,0.698,0.7,0.706,0.697,0.715,0.715,0.691,0.72,0.648,0.732,0.595,0.678,0.421,0.667,0.432,0.697,0.441,0.591,0.44
19 | 18,0.377,0.205,0.386,0.147,0.218,0.483,0.323,0.161,0.183,0.469,0.556,0.559,0.562,0.573,0.561,0.586,0.583,0.546,0.599,0.474,0.675,0.51,0.594,0.321,0.567,0.373,0.608,0.4,0.482,0.467
20 | 19,0.106,0.011,0.076,0.001,0.001,0.124,0.033,0.005,0.007,0.112,0.297,0.291,0.299,0.308,0.298,0.326,0.33,0.28,0.344,0.232,0.515,0.297,0.408,0.178,0.369,0.347,0.44,0.314,0.294,0.295
21 | 20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.254,0.031,0.165,0.05,0.126,0.138,0.144,0.13,0.077,0.083
22 | 21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
23 | 22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
24 | 23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
25 | 24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-05   # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | Optimal_Tol: 1.0e-05  # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
5 | TimeLimit: 1.0e23     # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
6 | Pre_Solve: on         # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
7 | Method: simplex       # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
8 | 
9 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Max_Mtons_1,CO_2_Cap_Zone_1
2 | EIC,z1,0.0,1
3 | TRE,z2,0.0,1
4 | WECC,z3,0.0,1
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | region,Network_zones,CapRes_1,CapRes_2,CapRes_3
2 | EIC,z1,0.1572,0.0,0.0
3 | TRE,z2,0.0,0.1375,0.0
4 | WECC,z3,0.0,0.0,0.1538
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,Constraint_Description,Max_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,Constraint_Description,Min_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Flex_demand.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Max_Flexible_Demand_Delay,Max_Flexible_Demand_Advance,Flexible_Demand_Energy_Eff,region,technology,cluster
 2 | WECC_trans_light_duty_1,3,0,88930.5,0,0,0,0,0,5,0,1,WECC,trans_light_duty,1
 3 | EIC_trans_light_duty_1,1,0,227552.1,0,0,0,0,0,5,0,1,EIC,trans_light_duty,1
 4 | TRE_trans_light_duty_1,2,0,34387.8,0,0,0,0,0,5,0,1,TRE,trans_light_duty,1
 5 | WECC_comm_water_heat_1,3,0,1130.3,0,0,0,0,0,2,2,1,WECC,comm_water_heat,1
 6 | EIC_comm_water_heat_1,1,0,2922.1,0,0,0,0,0,2,2,1,EIC,comm_water_heat,1
 7 | TRE_comm_water_heat_1,2,0,368.7,0,0,0,0,0,2,2,1,TRE,comm_water_heat,1
 8 | WECC_res_water_heat_1,3,0,2578.7,0,0,0,0,0,2,2,1,WECC,res_water_heat,1
 9 | EIC_res_water_heat_1,1,0,8238.2,0,0,0,0,0,2,2,1,EIC,res_water_heat,1
10 | TRE_res_water_heat_1,2,0,1049.5,0,0,0,0,0,2,2,1,TRE,res_water_heat,1
11 | WECC_comm_space_heat_cool_1,3,0,7483.3,0,0,0,0,0,1,1,1,WECC,comm_space_heat_cool,1
12 | EIC_comm_space_heat_cool_1,1,0,41624.8,0,0,0,0,0,1,1,1,EIC,comm_space_heat_cool,1
13 | TRE_comm_space_heat_cool_1,2,0,6978.6,0,0,0,0,0,1,1,1,TRE,comm_space_heat_cool,1
14 | WECC_res_space_heat_cool_1,3,0,12467.5,0,0,0,0,0,1,1,1,WECC,res_space_heat_cool,1
15 | EIC_res_space_heat_cool_1,1,0,47457,0,0,0,0,0,1,1,1,EIC,res_space_heat_cool,1
16 | TRE_res_space_heat_cool_1,2,0,7585.9,0,0,0,0,0,1,1,1,TRE,res_space_heat_cool,1


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Hydro.csv:
--------------------------------------------------------------------------------
1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Hydro_Energy_to_Power_Ratio	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
2 | EIC_conventional_hydroelectric_1	1	0	24200.8	0	0	32.35	0	0	0	47048	0	10.34	None	0.273	0	1	1	1	1	1	0	0	EIC	Conventional Hydroelectric	1
3 | TRE_conventional_hydroelectric_1	2	0	477	0	0	25.1	0	0	0	47048	0	10.34	None	0	0	1	1	1	1	1	0	0	TRE	Conventional Hydroelectric	1
4 | WECC_conventional_hydroelectric_1	3	0	46528	0	0	72.7	0	0	0	47048	0	10.34	None	0.214	0	1	1	1	1	1	0	0	WECC	Conventional Hydroelectric	1


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Must_run.csv:
--------------------------------------------------------------------------------
 1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Start_Cost_per_MW	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
 2 | EIC_biomass_1	1	0	1722.5	0	0	1.27	0	0	0	150850	7.32	172	17.03	biomass	0.308	0	1	1	1	1	0	0	EIC	Biomass	1
 3 | EIC_small_hydroelectric_1	1	0	1672.2	0	0	1.06	0	0	0	47048	0	0	10.34	None	0.273	0	1	1	1	1	0	0	EIC	Small Hydroelectric	1
 4 | TRE_biomass_1	2	0	44.5	0	0	1.48	0	0	0	150850	6.51	172	15.15	biomass	0.591	0	1	1	1	1	0	0	TRE	Biomass	1
 5 | TRE_small_hydroelectric_1	2	0	11.2	0	0	0.75	0	0	0	47048	0	0	10.34	None	0	0	1	1	1	1	0	0	TRE	Small Hydroelectric	1
 6 | WECC_biomass_1	3	0	551	0	0	2.01	0	0	0	150850	7.14	172	16.63	biomass	0.362	0	1	1	1	1	0	0	WECC	Biomass	1
 7 | WECC_small_hydroelectric_1	3	0	1064.3	0	0	1.62	0	0	0	47048	0	0	10.34	None	0.181	0	1	1	1	1	0	0	WECC	Small Hydroelectric	1
 8 | WECC_distributed_generation_1	3	0	250535	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	WECC	distributed_generation	1
 9 | EIC_distributed_generation_1	1	0	1770000	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	EIC	distributed_generation	1
10 | TRE_distributed_generation_1	2	0	17006	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	TRE	distributed_generation	1


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Max_Cap_MW,Max_Cap_MWh,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,region,technology,cluster
2 | EIC_batteries_1,1,1,1424.4,712.2,0,0,16.96,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.041,0,0.92,0.92,1,10,EIC,Batteries,1
3 | EIC_hydroelectric_pumped_storage_1,1,1,275638,17783.1,0,0,170.99,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.524,0,0.866,0.866,1,20,EIC,Hydroelectric Pumped Storage,1
4 | TRE_batteries_1,2,1,721.4,360.7,0,0,45.09,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.001,0,0.92,0.92,1,10,TRE,Batteries,1
5 | WECC_batteries_1,3,1,3611,1357.5,0,0,28.28,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.02,0,0.92,0.92,1,10,WECC,Batteries,1
6 | WECC_hydroelectric_pumped_storage_1,3,1,70790,4567.1,0,0,101.49,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.175,0,0.866,0.866,1,20,WECC,Hydroelectric Pumped Storage,1
7 | EIC_battery_moderate_0,1,1,0,0,1,1,1,-1,-1,19978,5955,11897,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,EIC,Battery_*_Moderate,0
8 | TRE_battery_moderate_0,2,1,0,0,1,1,1,-1,-1,19389,5955,11546,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,TRE,Battery_*_Moderate,0
9 | WECC_battery_moderate_0,3,1,0,0,1,1,1,-1,-1,20202,5955,12030,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,WECC,Battery_*_Moderate,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,CO2_Capture_Rate,CO2_Capture_Cost_per_Metric_Ton,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,region,technology,cluster
 2 | EIC_conventional_steam_coal_1,1,1,0,12806.9,0,1,177.87,0,0,0,78258,1.88,124,16.5,13.34,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,1
 3 | EIC_conventional_steam_coal_2,1,1,0,109345.4,0,1,584.74,0,0,0,64567,1.88,124,16.5,10.89,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,2
 4 | EIC_natural_gas_fired_combined_cycle_1,1,1,0,27155.3,0,1,163.59,0,0,0,16322,4.53,92,2,9.24,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,1
 5 | EIC_natural_gas_fired_combined_cycle_2,1,1,0,169897.4,0,1,638.71,0,0,0,11042,3.58,92,2,7.34,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,2
 6 | EIC_natural_gas_fired_combustion_turbine_1,1,1,0,98926.5,0,1,100.13,0,0,0,10031,5.28,119,3.5,12.03,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,1
 7 | EIC_natural_gas_fired_combustion_turbine_2,1,1,0,10412.9,0,1,31.27,0,0,0,13557,5.28,119,3.5,14.66,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,2
 8 | EIC_natural_gas_internal_combustion_engine_1,1,1,0,2578.5,0,1,4.44,0,0,0,21000,5.29,38,0,10.29,east_north_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Internal Combustion Engine,1
 9 | EIC_natural_gas_steam_turbine_1,1,1,0,39625.2,0,1,203.21,0,0,0,35537,1.06,87,13.7,12.8,east_north_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Steam Turbine,1
10 | EIC_nuclear_1,1,1,0,82406.6,0,1,1030.08,0,0,0,214812,2.84,248,0,10.45,east_north_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,EIC,Nuclear,1
11 | EIC_petroleum_liquids_1,1,1,0,23196.2,0,1,9.96,0,0,0,21000,7.97,38,0,15.5,east_north_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,Petroleum Liquids,1
12 | TRE_conventional_steam_coal_1,2,1,0,5063.6,0,1,723.37,0,0,0,60405,1.88,124,16.5,10.33,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,1
13 | TRE_conventional_steam_coal_2,2,1,0,3713,0,1,530.43,0,0,0,68432,1.88,124,16.5,12.13,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,2
14 | TRE_natural_gas_fired_combined_cycle_1,2,1,0,30139.1,0,1,579.6,0,0,0,10912,3.59,92,2,7.72,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,1
15 | TRE_natural_gas_fired_combined_cycle_2,2,1,0,6317.6,0,1,315.88,0,0,0,15698,4.36,92,2,9.8,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,2
16 | TRE_natural_gas_fired_combustion_turbine_1,2,1,0,2924,0,1,81.22,0,0,0,10001,5.28,119,3.5,14.08,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,1
17 | TRE_natural_gas_fired_combustion_turbine_2,2,1,0,2826.9,0,1,50.48,0,0,0,11926,5.28,119,3.5,11.11,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,2
18 | TRE_natural_gas_internal_combustion_engine_1,2,1,0,502.7,0,1,10.7,0,0,0,21000,4.72,38,0,9.18,west_south_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Internal Combustion Engine,1
19 | TRE_natural_gas_steam_turbine_1,2,1,0,8249.5,0,1,235.7,0,0,0,34182,1.06,87,13.7,13.24,west_south_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Steam Turbine,1
20 | TRE_nuclear_1,2,1,0,5120,0,1,1280,0,0,0,193275,2.84,248,0,10.45,west_south_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,TRE,Nuclear,1
21 | TRE_petroleum_liquids_1,2,1,0,23.7,0,1,1.48,0,0,0,21000,6.38,38,0,12.4,west_south_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,Petroleum Liquids,1
22 | WECC_conventional_steam_coal_1,3,1,0,11415.2,0,1,496.31,0,0,0,64165,1.88,124,16.5,10.63,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,1
23 | WECC_conventional_steam_coal_2,3,1,0,2074.5,0,1,129.66,0,0,0,77721,1.88,124,16.5,12.2,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,2
24 | WECC_natural_gas_fired_combined_cycle_1,3,1,0,37593.3,0,1,475.86,0,0,0,10399,3.6,92,2,7.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,1
25 | WECC_natural_gas_fired_combined_cycle_2,3,1,0,12502.4,0,1,158.26,0,0,0,16492,4.55,92,2,8.51,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,2
26 | WECC_natural_gas_fired_combustion_turbine_1,3,1,0,15252.7,0,1,71.61,0,0,0,10479,5.28,119,3.5,11.06,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,1
27 | WECC_natural_gas_fired_combustion_turbine_2,3,1,0,6281.6,0,1,27.92,0,0,0,13486,5.28,119,3.5,12.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,2
28 | WECC_natural_gas_internal_combustion_engine_1,3,1,0,1282.7,0,1,6.51,0,0,0,21000,4.88,38,0,9.49,mountain_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Internal Combustion Engine,1
29 | WECC_natural_gas_steam_turbine_1,3,1,0,2669.5,0,1,95.34,0,0,0,51303,1.06,87,13.7,12.4,mountain_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Steam Turbine,1
30 | WECC_nuclear_1,3,1,0,5175,0,1,1293.75,0,0,0,211822,2.84,248,0,10.45,mountain_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,WECC,Nuclear,1
31 | WECC_petroleum_liquids_1,3,1,0,636.2,0,1,4.24,0,0,0,21000,7.2,38,0,14,mountain_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,Petroleum Liquids,1
32 | EIC_naturalgas_ccavgcf_moderate_0,1,1,0,0,1,1,500,0,-1,56026,28000,2,106,2,6.36,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,EIC,NaturalGas_CCAvgCF_Moderate,0
33 | EIC_naturalgas_ctavgcf_moderate_0,1,1,0,0,1,1,100,0,-1,45192,21000,5,137,3.5,9.72,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate,0
34 | EIC_naturalgas_ccccsavgcf_conservative_0,1,1,0,0,1,1,500,0,-1,120812,67000,6,106,0,7.16,east_north_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,EIC,NaturalGas_CCCCSAvgCF_Conservative,0
35 | EIC_advnuclear_atb_moderate_0,1,1,0,0,1,1,500,0,-1,45000,0,2.84,285,0,10.44,east_north_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,EIC,AdvNuclear_ATB_Moderate,0
36 | TRE_naturalgas_ccavgcf_moderate_0,2,1,0,0,1,1,500,0,-1,42007,28000,2,106,2,6.36,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,TRE,NaturalGas_CCAvgCF_Moderate,0
37 | TRE_naturalgas_ctavgcf_moderate_0,2,1,0,0,1,1,100,0,-1,35319,21000,5,137,3.5,9.72,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate,0
38 | TRE_naturalgas_ccccsavgcf_conservative_0,2,1,0,0,1,1,500,0,-1,106685,67000,6,106,0,7.16,west_south_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,TRE,NaturalGas_CCCCSAvgCF_Conservative,0
39 | TRE_advnuclear_atb_moderate_0,2,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,west_south_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,TRE,AdvNuclear_ATB_Moderate,0
40 | WECC_naturalgas_ccavgcf_moderate_0,3,1,0,0,1,1,500,0,-1,59543,28000,2,106,2,6.36,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,WECC,NaturalGas_CCAvgCF_Moderate,0
41 | WECC_naturalgas_ctavgcf_moderate_0,3,1,0,0,1,1,100,0,-1,45587,21000,5,137,3.5,9.72,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate,0
42 | WECC_naturalgas_ccccsavgcf_conservative_0,3,1,0,0,1,1,500,0,-1,119927,67000,6,106,0,7.16,mountain_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,WECC,NaturalGas_CCCCSAvgCF_Conservative,0
43 | WECC_advnuclear_atb_moderate_0,3,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,mountain_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,WECC,AdvNuclear_ATB_Moderate,0
44 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,1,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
45 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,2,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
46 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,3,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Num_VRE_Bins,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Self_Disch,Eff_Up,Eff_Down,Ramp_Up_Percentage,Ramp_Dn_Percentage,region,technology,cluster
  2 | EIC_offshore_wind_turbine_1,1,1,0,29.3,0,1,29.3,0,0,0,111496,0,10.34,None,0,1,1,1,1,EIC,Offshore Wind Turbine,1
  3 | EIC_onshore_wind_turbine_1,1,1,0,47407.4,0,1,66.77,0,0,0,43000,0,10.34,None,0,1,1,1,1,EIC,Onshore Wind Turbine,1
  4 | EIC_solar_photovoltaic_1,1,1,0,8533.9,0,1,5.95,0,0,0,22623,0,10.34,None,0,1,1,1,1,EIC,Solar Photovoltaic,1
  5 | TRE_onshore_wind_turbine_1,2,1,0,21683.1,0,1,163.03,0,0,0,43000,0,10.34,None,0,1,1,1,1,TRE,Onshore Wind Turbine,1
  6 | TRE_solar_photovoltaic_1,2,1,0,1821.5,0,1,65.05,0,0,0,22623,0,10.34,None,0,1,1,1,1,TRE,Solar Photovoltaic,1
  7 | WECC_geothermal_1,3,1,0,1752.4,0,0,12,0,0,0,209101,0,10.34,None,0,1,1,1,1,WECC,Geothermal,1
  8 | WECC_onshore_wind_turbine_1,3,1,0,20644.2,0,1,68.81,0,0,0,43000,0,10.34,None,0,1,1,1,1,WECC,Onshore Wind Turbine,1
  9 | WECC_solar_photovoltaic_1,3,1,0,14659.8,0,1,14.87,0,0,0,22623,0,10.34,None,0,1,1,1,1,WECC,Solar Photovoltaic,1
 10 | EIC_offshorewind_class3_moderate_fixed_1_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,0
 11 | EIC_offshorewind_class3_moderate_fixed_1_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,1
 12 | EIC_offshorewind_class3_moderate_fixed_1_2,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,2
 13 | EIC_offshorewind_class3_moderate_fixed_1_3,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,3
 14 | EIC_offshorewind_class3_moderate_fixed_1_4,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,4
 15 | EIC_offshorewind_class3_moderate_fixed_1_5,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,5
 16 | EIC_offshorewind_class3_moderate_fixed_1_6,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,6
 17 | EIC_offshorewind_class3_moderate_fixed_1_7,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,7
 18 | EIC_offshorewind_class3_moderate_fixed_1_8,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,8
 19 | EIC_offshorewind_class3_moderate_fixed_1_9,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,9
 20 | EIC_offshorewind_class3_moderate_fixed_0_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,0
 21 | EIC_offshorewind_class3_moderate_fixed_0_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,1
 22 | EIC_offshorewind_class3_moderate_fixed_0_4,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,4
 23 | EIC_offshorewind_class3_moderate_fixed_0_5,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,5
 24 | EIC_offshorewind_class3_moderate_fixed_0_10,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,10
 25 | EIC_offshorewind_class3_moderate_fixed_0_11,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,11
 26 | EIC_offshorewind_class3_moderate_fixed_0_18,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,18
 27 | EIC_offshorewind_class3_moderate_fixed_0_19,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,19
 28 | EIC_offshorewind_class3_moderate_fixed_0_28,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,28
 29 | EIC_offshorewind_class3_moderate_fixed_0_29,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,29
 30 | EIC_offshorewind_class12_moderate_floating_1_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,0
 31 | EIC_offshorewind_class12_moderate_floating_1_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,1
 32 | EIC_offshorewind_class12_moderate_floating_1_6,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,6
 33 | EIC_offshorewind_class12_moderate_floating_1_7,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,7
 34 | EIC_offshorewind_class12_moderate_floating_1_18,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,18
 35 | EIC_offshorewind_class12_moderate_floating_1_19,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,19
 36 | EIC_offshorewind_class12_moderate_floating_1_38,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,38
 37 | EIC_offshorewind_class12_moderate_floating_1_39,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,39
 38 | EIC_offshorewind_class12_moderate_floating_1_68,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,68
 39 | EIC_offshorewind_class12_moderate_floating_1_69,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,69
 40 | EIC_offshorewind_class12_moderate_floating_0_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,0
 41 | EIC_offshorewind_class12_moderate_floating_0_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,1
 42 | EIC_offshorewind_class12_moderate_floating_0_8,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,8
 43 | EIC_offshorewind_class12_moderate_floating_0_9,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,9
 44 | EIC_offshorewind_class12_moderate_floating_0_28,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,28
 45 | EIC_offshorewind_class12_moderate_floating_0_29,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,29
 46 | EIC_offshorewind_class12_moderate_floating_0_68,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,68
 47 | EIC_offshorewind_class12_moderate_floating_0_69,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,69
 48 | EIC_offshorewind_class12_moderate_floating_0_138,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,138
 49 | EIC_offshorewind_class12_moderate_floating_0_139,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,139
 50 | TRE_offshorewind_class3_moderate_fixed_1_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,0
 51 | TRE_offshorewind_class3_moderate_fixed_1_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,1
 52 | TRE_offshorewind_class3_moderate_fixed_1_2,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,2
 53 | TRE_offshorewind_class3_moderate_fixed_1_3,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,3
 54 | TRE_offshorewind_class3_moderate_fixed_1_4,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,4
 55 | TRE_offshorewind_class3_moderate_fixed_1_5,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,5
 56 | TRE_offshorewind_class3_moderate_fixed_1_6,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,6
 57 | TRE_offshorewind_class3_moderate_fixed_1_7,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,7
 58 | TRE_offshorewind_class3_moderate_fixed_1_8,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,8
 59 | TRE_offshorewind_class3_moderate_fixed_1_9,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,9
 60 | TRE_offshorewind_class3_moderate_fixed_0_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,0
 61 | TRE_offshorewind_class3_moderate_fixed_0_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,1
 62 | TRE_offshorewind_class3_moderate_fixed_0_4,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,4
 63 | TRE_offshorewind_class3_moderate_fixed_0_5,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,5
 64 | TRE_offshorewind_class3_moderate_fixed_0_10,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,10
 65 | TRE_offshorewind_class3_moderate_fixed_0_11,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,11
 66 | TRE_offshorewind_class3_moderate_fixed_0_18,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,18
 67 | TRE_offshorewind_class3_moderate_fixed_0_19,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,19
 68 | TRE_offshorewind_class3_moderate_fixed_0_28,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,28
 69 | TRE_offshorewind_class3_moderate_fixed_0_29,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,29
 70 | TRE_offshorewind_class12_moderate_floating_1_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,0
 71 | TRE_offshorewind_class12_moderate_floating_1_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,1
 72 | TRE_offshorewind_class12_moderate_floating_1_6,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,6
 73 | TRE_offshorewind_class12_moderate_floating_1_7,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,7
 74 | TRE_offshorewind_class12_moderate_floating_1_18,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,18
 75 | TRE_offshorewind_class12_moderate_floating_1_19,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,19
 76 | TRE_offshorewind_class12_moderate_floating_1_38,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,38
 77 | TRE_offshorewind_class12_moderate_floating_1_39,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,39
 78 | TRE_offshorewind_class12_moderate_floating_1_68,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,68
 79 | TRE_offshorewind_class12_moderate_floating_1_69,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,69
 80 | TRE_offshorewind_class12_moderate_floating_0_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,0
 81 | TRE_offshorewind_class12_moderate_floating_0_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,1
 82 | TRE_offshorewind_class12_moderate_floating_0_8,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,8
 83 | TRE_offshorewind_class12_moderate_floating_0_9,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,9
 84 | TRE_offshorewind_class12_moderate_floating_0_28,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,28
 85 | TRE_offshorewind_class12_moderate_floating_0_29,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,29
 86 | TRE_offshorewind_class12_moderate_floating_0_68,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,68
 87 | TRE_offshorewind_class12_moderate_floating_0_69,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,69
 88 | TRE_offshorewind_class12_moderate_floating_0_138,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,138
 89 | TRE_offshorewind_class12_moderate_floating_0_139,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,139
 90 | WECC_offshorewind_class3_moderate_fixed_1_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,0
 91 | WECC_offshorewind_class3_moderate_fixed_1_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,1
 92 | WECC_offshorewind_class3_moderate_fixed_1_2,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,2
 93 | WECC_offshorewind_class3_moderate_fixed_1_3,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,3
 94 | WECC_offshorewind_class3_moderate_fixed_1_4,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,4
 95 | WECC_offshorewind_class3_moderate_fixed_1_5,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,5
 96 | WECC_offshorewind_class3_moderate_fixed_1_6,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,6
 97 | WECC_offshorewind_class3_moderate_fixed_1_7,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,7
 98 | WECC_offshorewind_class3_moderate_fixed_1_8,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,8
 99 | WECC_offshorewind_class3_moderate_fixed_1_9,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,9
100 | WECC_offshorewind_class3_moderate_fixed_0_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,0
101 | WECC_offshorewind_class3_moderate_fixed_0_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,1
102 | WECC_offshorewind_class3_moderate_fixed_0_4,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,4
103 | WECC_offshorewind_class3_moderate_fixed_0_5,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,5
104 | WECC_offshorewind_class3_moderate_fixed_0_10,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,10
105 | WECC_offshorewind_class3_moderate_fixed_0_11,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,11
106 | WECC_offshorewind_class3_moderate_fixed_0_18,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,18
107 | WECC_offshorewind_class3_moderate_fixed_0_19,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,19
108 | WECC_offshorewind_class3_moderate_fixed_0_28,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,28
109 | WECC_offshorewind_class3_moderate_fixed_0_29,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,29
110 | WECC_offshorewind_class12_moderate_floating_1_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,0
111 | WECC_offshorewind_class12_moderate_floating_1_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,1
112 | WECC_offshorewind_class12_moderate_floating_1_6,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,6
113 | WECC_offshorewind_class12_moderate_floating_1_7,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,7
114 | WECC_offshorewind_class12_moderate_floating_1_18,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,18
115 | WECC_offshorewind_class12_moderate_floating_1_19,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,19
116 | WECC_offshorewind_class12_moderate_floating_1_38,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,38
117 | WECC_offshorewind_class12_moderate_floating_1_39,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,39
118 | WECC_offshorewind_class12_moderate_floating_1_68,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,68
119 | WECC_offshorewind_class12_moderate_floating_1_69,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,69
120 | WECC_offshorewind_class12_moderate_floating_0_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,0
121 | WECC_offshorewind_class12_moderate_floating_0_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,1
122 | WECC_offshorewind_class12_moderate_floating_0_8,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,8
123 | WECC_offshorewind_class12_moderate_floating_0_9,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,9
124 | WECC_offshorewind_class12_moderate_floating_0_28,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,28
125 | WECC_offshorewind_class12_moderate_floating_0_29,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,29
126 | WECC_offshorewind_class12_moderate_floating_0_68,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,68
127 | WECC_offshorewind_class12_moderate_floating_0_69,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,69
128 | WECC_offshorewind_class12_moderate_floating_0_138,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,138
129 | WECC_offshorewind_class12_moderate_floating_0_139,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,139


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,New_Build,Can_Retire,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,Resource_Type,technology,cluster
 2 | EIC_landbasedwind_class1_moderate_0,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
 3 | EIC_landbasedwind_class1_moderate_1,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,139803.7,-1,-1,-1,-1,17082,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
 4 | EIC_landbasedwind_class1_moderate_2,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,114313.7,-1,-1,-1,-1,17267,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
 5 | EIC_landbasedwind_class1_moderate_3,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81237.6,-1,-1,-1,-1,25483,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
 6 | EIC_landbasedwind_class1_moderate_4,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81092.2,-1,-1,-1,-1,16488,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
 7 | EIC_landbasedwind_class1_moderate_5,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,54453.3,-1,-1,-1,-1,25720,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
 8 | EIC_landbasedwind_class1_moderate_6,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,82417.2,-1,-1,-1,-1,21224,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
 9 | EIC_landbasedwind_class1_moderate_7,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,26531.1,-1,-1,-1,-1,32633,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
10 | EIC_landbasedwind_class1_moderate_8,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,58187.4,-1,-1,-1,-1,28526,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
11 | EIC_landbasedwind_class1_moderate_9,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,194921.8,-1,-1,-1,-1,244462,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
12 | EIC_storage_metalair_advanced_0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,standalone_storage,Storage_MetalAir_Advanced,0
13 | EIC_utilitypv_class1_moderate_0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,0
14 | EIC_utilitypv_class1_moderate_1,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,787394.14,-1,-1,-1,-1,-1,4464,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,1
15 | EIC_utilitypv_class1_moderate_2,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1683583.59,-1,-1,-1,-1,-1,14630,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,2
16 | EIC_utilitypv_class1_moderate_3,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1148387.24,-1,-1,-1,-1,-1,10126,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,3
17 | EIC_utilitypv_class1_moderate_4,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2254699.98,-1,-1,-1,-1,-1,16248,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,4
18 | EIC_utilitypv_class1_moderate_5,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,879389.55,-1,-1,-1,-1,-1,22825,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,5
19 | EIC_utilitypv_class1_moderate_6,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1998829.95,-1,-1,-1,-1,-1,24566,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,6
20 | EIC_utilitypv_class1_moderate_7,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1123362.89,-1,-1,-1,-1,-1,21181,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,7
21 | EIC_utilitypv_class1_moderate_8,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2501477.94,-1,-1,-1,-1,-1,32414,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,8
22 | EIC_utilitypv_class1_moderate_9,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,326479.4,-1,-1,-1,-1,-1,148669,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,9
23 | TRE_landbasedwind_class1_moderate_0,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,20796.6,-1,-1,-1,-1,14393,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,0
24 | TRE_landbasedwind_class1_moderate_1,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,27529.5,-1,-1,-1,-1,20298,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,1
25 | TRE_landbasedwind_class1_moderate_2,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22035.5,-1,-1,-1,-1,14755,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,2
26 | TRE_landbasedwind_class1_moderate_3,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22639.4,-1,-1,-1,-1,23630,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,3
27 | TRE_landbasedwind_class1_moderate_4,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21021.7,-1,-1,-1,-1,12498,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,4
28 | TRE_landbasedwind_class1_moderate_5,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21153.5,-1,-1,-1,-1,23788,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,5
29 | TRE_landbasedwind_class1_moderate_6,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,32345.3,-1,-1,-1,-1,15633,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,6
30 | TRE_landbasedwind_class1_moderate_7,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,12398.9,-1,-1,-1,-1,29021,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,7
31 | TRE_landbasedwind_class1_moderate_8,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34789.4,-1,-1,-1,-1,40897,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,8
32 | TRE_landbasedwind_class1_moderate_9,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,2448.4,-1,-1,-1,-1,146712,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,9
33 | TRE_storage_metalair_advanced_0,2,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,standalone_storage,Storage_MetalAir_Advanced,0
34 | TRE_utilitypv_class1_moderate_0,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,249716.61,-1,-1,-1,-1,-1,6412,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,0
35 | TRE_utilitypv_class1_moderate_1,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,150550.53,-1,-1,-1,-1,-1,8461,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,1
36 | TRE_utilitypv_class1_moderate_2,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,340227.68,-1,-1,-1,-1,-1,10479,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,2
37 | TRE_utilitypv_class1_moderate_3,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,232869.52,-1,-1,-1,-1,-1,14103,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,3
38 | TRE_utilitypv_class1_moderate_4,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,409644.17,-1,-1,-1,-1,-1,14224,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,4
39 | TRE_utilitypv_class1_moderate_5,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,224977.87,-1,-1,-1,-1,-1,18539,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,5
40 | TRE_utilitypv_class1_moderate_6,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,393113.89,-1,-1,-1,-1,-1,22325,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,6
41 | TRE_utilitypv_class1_moderate_7,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,248585.87,-1,-1,-1,-1,-1,17464,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,7
42 | TRE_utilitypv_class1_moderate_8,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,124347.08,-1,-1,-1,-1,-1,74721,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,8
43 | TRE_utilitypv_class1_moderate_9,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,477756.89,-1,-1,-1,-1,-1,29582,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,9
44 | WECC_landbasedwind_class1_moderate_0,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109860.7,-1,-1,-1,-1,20294,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
45 | WECC_landbasedwind_class1_moderate_1,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,47257.4,-1,-1,-1,-1,19872,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
46 | WECC_landbasedwind_class1_moderate_2,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,88662.6,-1,-1,-1,-1,27185,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
47 | WECC_landbasedwind_class1_moderate_3,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,40824.7,-1,-1,-1,-1,19137,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
48 | WECC_landbasedwind_class1_moderate_4,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109163.8,-1,-1,-1,-1,26039,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
49 | WECC_landbasedwind_class1_moderate_5,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,25095.7,-1,-1,-1,-1,133609,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
50 | WECC_landbasedwind_class1_moderate_6,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,100227,-1,-1,-1,-1,29900,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
51 | WECC_landbasedwind_class1_moderate_7,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34790.4,-1,-1,-1,-1,160193,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
52 | WECC_landbasedwind_class1_moderate_8,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,64367.5,-1,-1,-1,-1,38235,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
53 | WECC_landbasedwind_class1_moderate_9,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,77014.4,-1,-1,-1,-1,274991,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
54 | WECC_storage_metalair_advanced_0,3,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,standalone_storage,Storage_MetalAir_Advanced,0
55 | WECC_utilitypv_class1_moderate_0,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,775652.15,-1,-1,-1,-1,-1,10320,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,0
56 | WECC_utilitypv_class1_moderate_1,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,207870.65,-1,-1,-1,-1,-1,6016,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,1
57 | WECC_utilitypv_class1_moderate_2,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1143504.83,-1,-1,-1,-1,-1,19411,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,2
58 | WECC_utilitypv_class1_moderate_3,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,35742.72,-1,-1,-1,-1,-1,3992,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,3
59 | WECC_utilitypv_class1_moderate_4,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1185544.36,-1,-1,-1,-1,-1,25714,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,4
60 | WECC_utilitypv_class1_moderate_5,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,31049.98,-1,-1,-1,-1,-1,8052,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,5
61 | WECC_utilitypv_class1_moderate_6,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1023622.34,-1,-1,-1,-1,-1,33457,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,6
62 | WECC_utilitypv_class1_moderate_7,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,82238,-1,-1,-1,-1,-1,16842,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,7
63 | WECC_utilitypv_class1_moderate_8,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1134234.27,-1,-1,-1,-1,-1,105939,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,8
64 | WECC_utilitypv_class1_moderate_9,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,94348.41,-1,-1,-1,-1,-1,28290,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,9


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
  1 | Resource,Derating_Factor_1,Derating_Factor_2,Derating_Factor_3
  2 | EIC_advnuclear_atb_moderate_0,0.93,0,0
  3 | EIC_batteries_1,0.95,0,0
  4 | EIC_battery_moderate_0,0.95,0,0
  5 | EIC_biomass_1,0.93,0,0
  6 | EIC_comm_space_heat_cool_1,0.95,0,0
  7 | EIC_comm_water_heat_1,0.95,0,0
  8 | EIC_conventional_hydroelectric_1,0.8,0,0
  9 | EIC_conventional_steam_coal_1,0.93,0,0
 10 | EIC_conventional_steam_coal_2,0.93,0,0
 11 | EIC_distributed_generation_1,0.8,0,0
 12 | EIC_hydroelectric_pumped_storage_1,0.95,0,0
 13 | EIC_natural_gas_fired_combined_cycle_1,0.93,0,0
 14 | EIC_natural_gas_fired_combined_cycle_2,0.93,0,0
 15 | EIC_natural_gas_fired_combustion_turbine_1,0.93,0,0
 16 | EIC_natural_gas_fired_combustion_turbine_2,0.93,0,0
 17 | EIC_natural_gas_internal_combustion_engine_1,0.93,0,0
 18 | EIC_natural_gas_steam_turbine_1,0.93,0,0
 19 | EIC_naturalgas_ccavgcf_moderate_0,0.93,0,0
 20 | EIC_naturalgas_ccccsavgcf_conservative_0,0.93,0,0
 21 | EIC_naturalgas_ctavgcf_moderate_0,0.93,0,0
 22 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0.93,0,0
 23 | EIC_nuclear_1,0.93,0,0
 24 | EIC_offshore_wind_turbine_1,0.8,0,0
 25 | EIC_offshorewind_class12_moderate_floating_0_0,0.8,0,0
 26 | EIC_offshorewind_class12_moderate_floating_0_1,0.8,0,0
 27 | EIC_offshorewind_class12_moderate_floating_0_138,0.8,0,0
 28 | EIC_offshorewind_class12_moderate_floating_0_139,0.8,0,0
 29 | EIC_offshorewind_class12_moderate_floating_0_28,0.8,0,0
 30 | EIC_offshorewind_class12_moderate_floating_0_29,0.8,0,0
 31 | EIC_offshorewind_class12_moderate_floating_0_68,0.8,0,0
 32 | EIC_offshorewind_class12_moderate_floating_0_69,0.8,0,0
 33 | EIC_offshorewind_class12_moderate_floating_0_8,0.8,0,0
 34 | EIC_offshorewind_class12_moderate_floating_0_9,0.8,0,0
 35 | EIC_offshorewind_class12_moderate_floating_1_0,0.8,0,0
 36 | EIC_offshorewind_class12_moderate_floating_1_1,0.8,0,0
 37 | EIC_offshorewind_class12_moderate_floating_1_18,0.8,0,0
 38 | EIC_offshorewind_class12_moderate_floating_1_19,0.8,0,0
 39 | EIC_offshorewind_class12_moderate_floating_1_38,0.8,0,0
 40 | EIC_offshorewind_class12_moderate_floating_1_39,0.8,0,0
 41 | EIC_offshorewind_class12_moderate_floating_1_6,0.8,0,0
 42 | EIC_offshorewind_class12_moderate_floating_1_68,0.8,0,0
 43 | EIC_offshorewind_class12_moderate_floating_1_69,0.8,0,0
 44 | EIC_offshorewind_class12_moderate_floating_1_7,0.8,0,0
 45 | EIC_offshorewind_class3_moderate_fixed_0_0,0.8,0,0
 46 | EIC_offshorewind_class3_moderate_fixed_0_1,0.8,0,0
 47 | EIC_offshorewind_class3_moderate_fixed_0_10,0.8,0,0
 48 | EIC_offshorewind_class3_moderate_fixed_0_11,0.8,0,0
 49 | EIC_offshorewind_class3_moderate_fixed_0_18,0.8,0,0
 50 | EIC_offshorewind_class3_moderate_fixed_0_19,0.8,0,0
 51 | EIC_offshorewind_class3_moderate_fixed_0_28,0.8,0,0
 52 | EIC_offshorewind_class3_moderate_fixed_0_29,0.8,0,0
 53 | EIC_offshorewind_class3_moderate_fixed_0_4,0.8,0,0
 54 | EIC_offshorewind_class3_moderate_fixed_0_5,0.8,0,0
 55 | EIC_offshorewind_class3_moderate_fixed_1_0,0.8,0,0
 56 | EIC_offshorewind_class3_moderate_fixed_1_1,0.8,0,0
 57 | EIC_offshorewind_class3_moderate_fixed_1_2,0.8,0,0
 58 | EIC_offshorewind_class3_moderate_fixed_1_3,0.8,0,0
 59 | EIC_offshorewind_class3_moderate_fixed_1_4,0.8,0,0
 60 | EIC_offshorewind_class3_moderate_fixed_1_5,0.8,0,0
 61 | EIC_offshorewind_class3_moderate_fixed_1_6,0.8,0,0
 62 | EIC_offshorewind_class3_moderate_fixed_1_7,0.8,0,0
 63 | EIC_offshorewind_class3_moderate_fixed_1_8,0.8,0,0
 64 | EIC_offshorewind_class3_moderate_fixed_1_9,0.8,0,0
 65 | EIC_onshore_wind_turbine_1,0.8,0,0
 66 | EIC_petroleum_liquids_1,0.93,0,0
 67 | EIC_res_space_heat_cool_1,0.95,0,0
 68 | EIC_res_water_heat_1,0.95,0,0
 69 | EIC_small_hydroelectric_1,0.8,0,0
 70 | EIC_solar_photovoltaic_1,0.8,0,0
 71 | EIC_trans_light_duty_1,0.95,0,0
 72 | TRE_advnuclear_atb_moderate_0,0,0.93,0
 73 | TRE_batteries_1,0,0.95,0
 74 | TRE_battery_moderate_0,0,0.95,0
 75 | TRE_biomass_1,0,0.93,0
 76 | TRE_comm_space_heat_cool_1,0,0.95,0
 77 | TRE_comm_water_heat_1,0,0.95,0
 78 | TRE_conventional_hydroelectric_1,0,0.8,0
 79 | TRE_conventional_steam_coal_1,0,0.93,0
 80 | TRE_conventional_steam_coal_2,0,0.93,0
 81 | TRE_distributed_generation_1,0,0.8,0
 82 | TRE_natural_gas_fired_combined_cycle_1,0,0.93,0
 83 | TRE_natural_gas_fired_combined_cycle_2,0,0.93,0
 84 | TRE_natural_gas_fired_combustion_turbine_1,0,0.93,0
 85 | TRE_natural_gas_fired_combustion_turbine_2,0,0.93,0
 86 | TRE_natural_gas_internal_combustion_engine_1,0,0.93,0
 87 | TRE_natural_gas_steam_turbine_1,0,0.93,0
 88 | TRE_naturalgas_ccavgcf_moderate_0,0,0.93,0
 89 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0.93,0
 90 | TRE_naturalgas_ctavgcf_moderate_0,0,0.93,0
 91 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0.93,0
 92 | TRE_nuclear_1,0,0.93,0
 93 | TRE_offshorewind_class12_moderate_floating_0_0,0,0.8,0
 94 | TRE_offshorewind_class12_moderate_floating_0_1,0,0.8,0
 95 | TRE_offshorewind_class12_moderate_floating_0_138,0,0.8,0
 96 | TRE_offshorewind_class12_moderate_floating_0_139,0,0.8,0
 97 | TRE_offshorewind_class12_moderate_floating_0_28,0,0.8,0
 98 | TRE_offshorewind_class12_moderate_floating_0_29,0,0.8,0
 99 | TRE_offshorewind_class12_moderate_floating_0_68,0,0.8,0
100 | TRE_offshorewind_class12_moderate_floating_0_69,0,0.8,0
101 | TRE_offshorewind_class12_moderate_floating_0_8,0,0.8,0
102 | TRE_offshorewind_class12_moderate_floating_0_9,0,0.8,0
103 | TRE_offshorewind_class12_moderate_floating_1_0,0,0.8,0
104 | TRE_offshorewind_class12_moderate_floating_1_1,0,0.8,0
105 | TRE_offshorewind_class12_moderate_floating_1_18,0,0.8,0
106 | TRE_offshorewind_class12_moderate_floating_1_19,0,0.8,0
107 | TRE_offshorewind_class12_moderate_floating_1_38,0,0.8,0
108 | TRE_offshorewind_class12_moderate_floating_1_39,0,0.8,0
109 | TRE_offshorewind_class12_moderate_floating_1_6,0,0.8,0
110 | TRE_offshorewind_class12_moderate_floating_1_68,0,0.8,0
111 | TRE_offshorewind_class12_moderate_floating_1_69,0,0.8,0
112 | TRE_offshorewind_class12_moderate_floating_1_7,0,0.8,0
113 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0.8,0
114 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0.8,0
115 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0.8,0
116 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0.8,0
117 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0.8,0
118 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0.8,0
119 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0.8,0
120 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0.8,0
121 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0.8,0
122 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0.8,0
123 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0.8,0
124 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0.8,0
125 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0.8,0
126 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0.8,0
127 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0.8,0
128 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0.8,0
129 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0.8,0
130 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0.8,0
131 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0.8,0
132 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0.8,0
133 | TRE_onshore_wind_turbine_1,0,0.8,0
134 | TRE_petroleum_liquids_1,0,0.93,0
135 | TRE_res_space_heat_cool_1,0,0.95,0
136 | TRE_res_water_heat_1,0,0.95,0
137 | TRE_small_hydroelectric_1,0,0.8,0
138 | TRE_solar_photovoltaic_1,0,0.8,0
139 | TRE_trans_light_duty_1,0,0.95,0
140 | WECC_advnuclear_atb_moderate_0,0,0,0.93
141 | WECC_batteries_1,0,0,0.95
142 | WECC_battery_moderate_0,0,0,0.95
143 | WECC_biomass_1,0,0,0.93
144 | WECC_comm_space_heat_cool_1,0,0,0.95
145 | WECC_comm_water_heat_1,0,0,0.95
146 | WECC_conventional_hydroelectric_1,0,0,0.8
147 | WECC_conventional_steam_coal_1,0,0,0.93
148 | WECC_conventional_steam_coal_2,0,0,0.93
149 | WECC_distributed_generation_1,0,0,0.8
150 | WECC_geothermal_1,0,0,0.93
151 | WECC_hydroelectric_pumped_storage_1,0,0,0.95
152 | WECC_natural_gas_fired_combined_cycle_1,0,0,0.93
153 | WECC_natural_gas_fired_combined_cycle_2,0,0,0.93
154 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0.93
155 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0.93
156 | WECC_natural_gas_internal_combustion_engine_1,0,0,0.93
157 | WECC_natural_gas_steam_turbine_1,0,0,0.93
158 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0.93
159 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0.93
160 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0.93
161 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.93
162 | WECC_nuclear_1,0,0,0.93
163 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0.8
164 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0.8
165 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0.8
166 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0.8
167 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0.8
168 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0.8
169 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0.8
170 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0.8
171 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0.8
172 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0.8
173 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0.8
174 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0.8
175 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0.8
176 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0.8
177 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0.8
178 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0.8
179 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0.8
180 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0.8
181 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0.8
182 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0.8
183 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0.8
184 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0.8
185 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0.8
186 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0.8
187 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0.8
188 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0.8
189 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0.8
190 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0.8
191 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0.8
192 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0.8
193 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0.8
194 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0.8
195 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0.8
196 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0.8
197 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0.8
198 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0.8
199 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0.8
200 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0.8
201 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0.8
202 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0.8
203 | WECC_onshore_wind_turbine_1,0,0,0.8
204 | WECC_petroleum_liquids_1,0,0,0.93
205 | WECC_res_space_heat_cool_1,0,0,0.95
206 | WECC_res_water_heat_1,0,0,0.95
207 | WECC_small_hydroelectric_1,0,0,0.8
208 | WECC_solar_photovoltaic_1,0,0,0.8
209 | WECC_trans_light_duty_1,0,0,0.95
210 | EIC_landbasedwind_class1_moderate_0,0.95,0,0
211 | EIC_landbasedwind_class1_moderate_1,0.95,0,0
212 | EIC_landbasedwind_class1_moderate_2,0.95,0,0
213 | EIC_landbasedwind_class1_moderate_3,0.95,0,0
214 | EIC_landbasedwind_class1_moderate_4,0.95,0,0
215 | EIC_landbasedwind_class1_moderate_5,0.95,0,0
216 | EIC_landbasedwind_class1_moderate_6,0.95,0,0
217 | EIC_landbasedwind_class1_moderate_7,0.95,0,0
218 | EIC_landbasedwind_class1_moderate_8,0.95,0,0
219 | EIC_landbasedwind_class1_moderate_9,0.95,0,0
220 | EIC_storage_metalair_advanced_0,0.95,0,0
221 | EIC_utilitypv_class1_moderate_0,0.95,0,0
222 | EIC_utilitypv_class1_moderate_1,0.95,0,0
223 | EIC_utilitypv_class1_moderate_2,0.95,0,0
224 | EIC_utilitypv_class1_moderate_3,0.95,0,0
225 | EIC_utilitypv_class1_moderate_4,0.95,0,0
226 | EIC_utilitypv_class1_moderate_5,0.95,0,0
227 | EIC_utilitypv_class1_moderate_6,0.95,0,0
228 | EIC_utilitypv_class1_moderate_7,0.95,0,0
229 | EIC_utilitypv_class1_moderate_8,0.95,0,0
230 | EIC_utilitypv_class1_moderate_9,0.95,0,0
231 | TRE_landbasedwind_class1_moderate_0,0,0.95,0
232 | TRE_landbasedwind_class1_moderate_1,0,0.95,0
233 | TRE_landbasedwind_class1_moderate_2,0,0.95,0
234 | TRE_landbasedwind_class1_moderate_3,0,0.95,0
235 | TRE_landbasedwind_class1_moderate_4,0,0.95,0
236 | TRE_landbasedwind_class1_moderate_5,0,0.95,0
237 | TRE_landbasedwind_class1_moderate_6,0,0.95,0
238 | TRE_landbasedwind_class1_moderate_7,0,0.95,0
239 | TRE_landbasedwind_class1_moderate_8,0,0.95,0
240 | TRE_landbasedwind_class1_moderate_9,0,0.95,0
241 | TRE_storage_metalair_advanced_0,0,0.95,0
242 | TRE_utilitypv_class1_moderate_0,0,0.95,0
243 | TRE_utilitypv_class1_moderate_1,0,0.95,0
244 | TRE_utilitypv_class1_moderate_2,0,0.95,0
245 | TRE_utilitypv_class1_moderate_3,0,0.95,0
246 | TRE_utilitypv_class1_moderate_4,0,0.95,0
247 | TRE_utilitypv_class1_moderate_5,0,0.95,0
248 | TRE_utilitypv_class1_moderate_6,0,0.95,0
249 | TRE_utilitypv_class1_moderate_7,0,0.95,0
250 | TRE_utilitypv_class1_moderate_8,0,0.95,0
251 | TRE_utilitypv_class1_moderate_9,0,0.95,0
252 | WECC_landbasedwind_class1_moderate_0,0,0,0.95
253 | WECC_landbasedwind_class1_moderate_1,0,0,0.95
254 | WECC_landbasedwind_class1_moderate_2,0,0,0.95
255 | WECC_landbasedwind_class1_moderate_3,0,0,0.95
256 | WECC_landbasedwind_class1_moderate_4,0,0,0.95
257 | WECC_landbasedwind_class1_moderate_5,0,0,0.95
258 | WECC_landbasedwind_class1_moderate_6,0,0,0.95
259 | WECC_landbasedwind_class1_moderate_7,0,0,0.95
260 | WECC_landbasedwind_class1_moderate_8,0,0,0.95
261 | WECC_landbasedwind_class1_moderate_9,0,0,0.95
262 | WECC_storage_metalair_advanced_0,0,0,0.95
263 | WECC_utilitypv_class1_moderate_0,0,0,0.95
264 | WECC_utilitypv_class1_moderate_1,0,0,0.95
265 | WECC_utilitypv_class1_moderate_2,0,0,0.95
266 | WECC_utilitypv_class1_moderate_3,0,0,0.95
267 | WECC_utilitypv_class1_moderate_4,0,0,0.95
268 | WECC_utilitypv_class1_moderate_5,0,0,0.95
269 | WECC_utilitypv_class1_moderate_6,0,0,0.95
270 | WECC_utilitypv_class1_moderate_7,0,0,0.95
271 | WECC_utilitypv_class1_moderate_8,0,0,0.95
272 | WECC_utilitypv_class1_moderate_9,0,0,0.95


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3,Max_Cap_Stor_1,Max_Cap_Solar_1,Max_Cap_Wind_1,Max_Cap_Stor_2,Max_Cap_Solar_2,Max_Cap_Wind_2,Max_Cap_Stor_3,Max_Cap_Solar_3,Max_Cap_Wind_3
2 | EIC_landbasedwind_class1_moderate_0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
  1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
  2 | EIC_storage_metalair_advanced_0,0,0,0
  3 | EIC_landbasedwind_class1_moderate_0,0,0,0
  4 | EIC_landbasedwind_class1_moderate_1,0,0,0
  5 | EIC_landbasedwind_class1_moderate_2,0,0,0
  6 | EIC_landbasedwind_class1_moderate_3,0,0,0
  7 | EIC_landbasedwind_class1_moderate_4,0,0,0
  8 | EIC_landbasedwind_class1_moderate_5,0,0,0
  9 | EIC_landbasedwind_class1_moderate_6,0,0,0
 10 | EIC_landbasedwind_class1_moderate_7,0,0,0
 11 | EIC_landbasedwind_class1_moderate_8,0,0,0
 12 | EIC_landbasedwind_class1_moderate_9,0,0,0
 13 | EIC_utilitypv_class1_moderate_0,0,0,0
 14 | EIC_utilitypv_class1_moderate_1,0,0,0
 15 | EIC_utilitypv_class1_moderate_2,0,0,0
 16 | EIC_utilitypv_class1_moderate_3,0,0,0
 17 | EIC_utilitypv_class1_moderate_4,0,0,0
 18 | EIC_utilitypv_class1_moderate_5,0,0,0
 19 | EIC_utilitypv_class1_moderate_6,0,0,0
 20 | EIC_utilitypv_class1_moderate_7,0,0,0
 21 | EIC_utilitypv_class1_moderate_8,0,0,0
 22 | EIC_utilitypv_class1_moderate_9,0,0,0
 23 | TRE_storage_metalair_advanced_0,0,0,0
 24 | TRE_landbasedwind_class1_moderate_0,0,0,0
 25 | TRE_landbasedwind_class1_moderate_1,0,0,0
 26 | TRE_landbasedwind_class1_moderate_2,0,0,0
 27 | TRE_landbasedwind_class1_moderate_3,0,0,0
 28 | TRE_landbasedwind_class1_moderate_4,0,0,0
 29 | TRE_landbasedwind_class1_moderate_5,0,0,0
 30 | TRE_landbasedwind_class1_moderate_6,0,0,0
 31 | TRE_landbasedwind_class1_moderate_7,0,0,0
 32 | TRE_landbasedwind_class1_moderate_8,0,0,0
 33 | TRE_landbasedwind_class1_moderate_9,0,0,0
 34 | TRE_utilitypv_class1_moderate_0,0,0,0
 35 | TRE_utilitypv_class1_moderate_1,0,0,0
 36 | TRE_utilitypv_class1_moderate_2,0,0,0
 37 | TRE_utilitypv_class1_moderate_3,0,0,0
 38 | TRE_utilitypv_class1_moderate_4,0,0,0
 39 | TRE_utilitypv_class1_moderate_5,0,0,0
 40 | TRE_utilitypv_class1_moderate_6,0,0,0
 41 | TRE_utilitypv_class1_moderate_7,0,0,0
 42 | TRE_utilitypv_class1_moderate_8,0,0,0
 43 | TRE_utilitypv_class1_moderate_9,0,0,0
 44 | WECC_storage_metalair_advanced_0,0,0,0
 45 | WECC_landbasedwind_class1_moderate_0,0,0,0
 46 | WECC_landbasedwind_class1_moderate_1,0,0,0
 47 | WECC_landbasedwind_class1_moderate_2,0,0,0
 48 | WECC_landbasedwind_class1_moderate_3,0,0,0
 49 | WECC_landbasedwind_class1_moderate_4,0,0,0
 50 | WECC_landbasedwind_class1_moderate_5,0,0,0
 51 | WECC_landbasedwind_class1_moderate_6,0,0,0
 52 | WECC_landbasedwind_class1_moderate_7,0,0,0
 53 | WECC_landbasedwind_class1_moderate_8,0,0,0
 54 | WECC_landbasedwind_class1_moderate_9,0,0,0
 55 | WECC_utilitypv_class1_moderate_0,0,0,0
 56 | WECC_utilitypv_class1_moderate_1,0,0,0
 57 | WECC_utilitypv_class1_moderate_2,0,0,0
 58 | WECC_utilitypv_class1_moderate_3,0,0,0
 59 | WECC_utilitypv_class1_moderate_4,0,0,0
 60 | WECC_utilitypv_class1_moderate_5,0,0,0
 61 | WECC_utilitypv_class1_moderate_6,0,0,0
 62 | WECC_utilitypv_class1_moderate_7,0,0,0
 63 | WECC_utilitypv_class1_moderate_8,0,0,0
 64 | WECC_utilitypv_class1_moderate_9,0,0,0
 65 | WECC_trans_light_duty_1,0,0,0
 66 | EIC_trans_light_duty_1,0,0,0
 67 | TRE_trans_light_duty_1,0,0,0
 68 | WECC_comm_water_heat_1,0,0,0
 69 | EIC_comm_water_heat_1,0,0,0
 70 | TRE_comm_water_heat_1,0,0,0
 71 | WECC_res_water_heat_1,0,0,0
 72 | EIC_res_water_heat_1,0,0,0
 73 | TRE_res_water_heat_1,0,0,0
 74 | WECC_comm_space_heat_cool_1,0,0,0
 75 | EIC_comm_space_heat_cool_1,0,0,0
 76 | TRE_comm_space_heat_cool_1,0,0,0
 77 | WECC_res_space_heat_cool_1,0,0,0
 78 | EIC_res_space_heat_cool_1,0,0,0
 79 | TRE_res_space_heat_cool_1,0,0,0
 80 | EIC_conventional_hydroelectric_1,0,0,0
 81 | TRE_conventional_hydroelectric_1,0,0,0
 82 | WECC_conventional_hydroelectric_1,0,0,0
 83 | EIC_biomass_1,0,0,0
 84 | EIC_small_hydroelectric_1,0,0,0
 85 | TRE_biomass_1,0,0,0
 86 | TRE_small_hydroelectric_1,0,0,0
 87 | WECC_biomass_1,0,0,0
 88 | WECC_small_hydroelectric_1,0,0,0
 89 | WECC_distributed_generation_1,0,0,0
 90 | EIC_distributed_generation_1,0,0,0
 91 | TRE_distributed_generation_1,0,0,0
 92 | EIC_batteries_1,0,0,0
 93 | EIC_hydroelectric_pumped_storage_1,0,0,0
 94 | TRE_batteries_1,0,0,0
 95 | WECC_batteries_1,0,0,0
 96 | WECC_hydroelectric_pumped_storage_1,0,0,0
 97 | EIC_battery_moderate_0,0,0,0
 98 | TRE_battery_moderate_0,0,0,0
 99 | WECC_battery_moderate_0,0,0,0
100 | EIC_conventional_steam_coal_1,0,0,0
101 | EIC_conventional_steam_coal_2,0,0,0
102 | EIC_natural_gas_fired_combined_cycle_1,0,0,0
103 | EIC_natural_gas_fired_combined_cycle_2,0,0,0
104 | EIC_natural_gas_fired_combustion_turbine_1,0,0,0
105 | EIC_natural_gas_fired_combustion_turbine_2,0,0,0
106 | EIC_natural_gas_internal_combustion_engine_1,0,0,0
107 | EIC_natural_gas_steam_turbine_1,0,0,0
108 | EIC_nuclear_1,0,0,0
109 | EIC_petroleum_liquids_1,0,0,0
110 | TRE_conventional_steam_coal_1,0,0,0
111 | TRE_conventional_steam_coal_2,0,0,0
112 | TRE_natural_gas_fired_combined_cycle_1,0,0,0
113 | TRE_natural_gas_fired_combined_cycle_2,0,0,0
114 | TRE_natural_gas_fired_combustion_turbine_1,0,0,0
115 | TRE_natural_gas_fired_combustion_turbine_2,0,0,0
116 | TRE_natural_gas_internal_combustion_engine_1,0,0,0
117 | TRE_natural_gas_steam_turbine_1,0,0,0
118 | TRE_nuclear_1,0,0,0
119 | TRE_petroleum_liquids_1,0,0,0
120 | WECC_conventional_steam_coal_1,0,0,0
121 | WECC_conventional_steam_coal_2,0,0,0
122 | WECC_natural_gas_fired_combined_cycle_1,0,0,0
123 | WECC_natural_gas_fired_combined_cycle_2,0,0,0
124 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0
125 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0
126 | WECC_natural_gas_internal_combustion_engine_1,0,0,0
127 | WECC_natural_gas_steam_turbine_1,0,0,0
128 | WECC_nuclear_1,0,0,0
129 | WECC_petroleum_liquids_1,0,0,0
130 | EIC_naturalgas_ccavgcf_moderate_0,0,0,0
131 | EIC_naturalgas_ctavgcf_moderate_0,0,0,0
132 | EIC_naturalgas_ccccsavgcf_conservative_0,0,0,0
133 | EIC_advnuclear_atb_moderate_0,0,0,0
134 | TRE_naturalgas_ccavgcf_moderate_0,0,0,0
135 | TRE_naturalgas_ctavgcf_moderate_0,0,0,0
136 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0,0
137 | TRE_advnuclear_atb_moderate_0,0,0,0
138 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0
139 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0
140 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0
141 | WECC_advnuclear_atb_moderate_0,0,0,0
142 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
143 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
144 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
145 | EIC_offshore_wind_turbine_1,0,0,0
146 | EIC_onshore_wind_turbine_1,0,0,0
147 | EIC_solar_photovoltaic_1,0,0,0
148 | TRE_onshore_wind_turbine_1,0,0,0
149 | TRE_solar_photovoltaic_1,0,0,0
150 | WECC_geothermal_1,0,0,0
151 | WECC_onshore_wind_turbine_1,0,0,0
152 | WECC_solar_photovoltaic_1,0,0,0
153 | EIC_offshorewind_class3_moderate_fixed_1_0,0,0,0
154 | EIC_offshorewind_class3_moderate_fixed_1_1,0,0,0
155 | EIC_offshorewind_class3_moderate_fixed_1_2,0,0,0
156 | EIC_offshorewind_class3_moderate_fixed_1_3,0,0,0
157 | EIC_offshorewind_class3_moderate_fixed_1_4,0,0,0
158 | EIC_offshorewind_class3_moderate_fixed_1_5,0,0,0
159 | EIC_offshorewind_class3_moderate_fixed_1_6,0,0,0
160 | EIC_offshorewind_class3_moderate_fixed_1_7,0,0,0
161 | EIC_offshorewind_class3_moderate_fixed_1_8,0,0,0
162 | EIC_offshorewind_class3_moderate_fixed_1_9,0,0,0
163 | EIC_offshorewind_class3_moderate_fixed_0_0,0,0,0
164 | EIC_offshorewind_class3_moderate_fixed_0_1,0,0,0
165 | EIC_offshorewind_class3_moderate_fixed_0_4,0,0,0
166 | EIC_offshorewind_class3_moderate_fixed_0_5,0,0,0
167 | EIC_offshorewind_class3_moderate_fixed_0_10,0,0,0
168 | EIC_offshorewind_class3_moderate_fixed_0_11,0,0,0
169 | EIC_offshorewind_class3_moderate_fixed_0_18,0,0,0
170 | EIC_offshorewind_class3_moderate_fixed_0_19,0,0,0
171 | EIC_offshorewind_class3_moderate_fixed_0_28,0,0,0
172 | EIC_offshorewind_class3_moderate_fixed_0_29,0,0,0
173 | EIC_offshorewind_class12_moderate_floating_1_0,0,0,0
174 | EIC_offshorewind_class12_moderate_floating_1_1,0,0,0
175 | EIC_offshorewind_class12_moderate_floating_1_6,0,0,0
176 | EIC_offshorewind_class12_moderate_floating_1_7,0,0,0
177 | EIC_offshorewind_class12_moderate_floating_1_18,0,0,0
178 | EIC_offshorewind_class12_moderate_floating_1_19,0,0,0
179 | EIC_offshorewind_class12_moderate_floating_1_38,0,0,0
180 | EIC_offshorewind_class12_moderate_floating_1_39,0,0,0
181 | EIC_offshorewind_class12_moderate_floating_1_68,0,0,0
182 | EIC_offshorewind_class12_moderate_floating_1_69,0,0,0
183 | EIC_offshorewind_class12_moderate_floating_0_0,0,0,0
184 | EIC_offshorewind_class12_moderate_floating_0_1,0,0,0
185 | EIC_offshorewind_class12_moderate_floating_0_8,0,0,0
186 | EIC_offshorewind_class12_moderate_floating_0_9,0,0,0
187 | EIC_offshorewind_class12_moderate_floating_0_28,0,0,0
188 | EIC_offshorewind_class12_moderate_floating_0_29,0,0,0
189 | EIC_offshorewind_class12_moderate_floating_0_68,0,0,0
190 | EIC_offshorewind_class12_moderate_floating_0_69,0,0,0
191 | EIC_offshorewind_class12_moderate_floating_0_138,0,0,0
192 | EIC_offshorewind_class12_moderate_floating_0_139,0,0,0
193 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0,0
194 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0,0
195 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0,0
196 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0,0
197 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0,0
198 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0,0
199 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0,0
200 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0,0
201 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0,0
202 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0,0
203 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0,0
204 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0,0
205 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0,0
206 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0,0
207 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0,0
208 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0,0
209 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0,0
210 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0,0
211 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0,0
212 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0,0
213 | TRE_offshorewind_class12_moderate_floating_1_0,0,0,0
214 | TRE_offshorewind_class12_moderate_floating_1_1,0,0,0
215 | TRE_offshorewind_class12_moderate_floating_1_6,0,0,0
216 | TRE_offshorewind_class12_moderate_floating_1_7,0,0,0
217 | TRE_offshorewind_class12_moderate_floating_1_18,0,0,0
218 | TRE_offshorewind_class12_moderate_floating_1_19,0,0,0
219 | TRE_offshorewind_class12_moderate_floating_1_38,0,0,0
220 | TRE_offshorewind_class12_moderate_floating_1_39,0,0,0
221 | TRE_offshorewind_class12_moderate_floating_1_68,0,0,0
222 | TRE_offshorewind_class12_moderate_floating_1_69,0,0,0
223 | TRE_offshorewind_class12_moderate_floating_0_0,0,0,0
224 | TRE_offshorewind_class12_moderate_floating_0_1,0,0,0
225 | TRE_offshorewind_class12_moderate_floating_0_8,0,0,0
226 | TRE_offshorewind_class12_moderate_floating_0_9,0,0,0
227 | TRE_offshorewind_class12_moderate_floating_0_28,0,0,0
228 | TRE_offshorewind_class12_moderate_floating_0_29,0,0,0
229 | TRE_offshorewind_class12_moderate_floating_0_68,0,0,0
230 | TRE_offshorewind_class12_moderate_floating_0_69,0,0,0
231 | TRE_offshorewind_class12_moderate_floating_0_138,0,0,0
232 | TRE_offshorewind_class12_moderate_floating_0_139,0,0,0
233 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0
234 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0
235 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0
236 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0
237 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0
238 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0
239 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0
240 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0
241 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0
242 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0
243 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0
244 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0
245 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0
246 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0
247 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0
248 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0
249 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0
250 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0
251 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0
252 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0
253 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0
254 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0
255 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0
256 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0
257 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0
258 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0
259 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0
260 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0
261 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0
262 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0
263 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0
264 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0
265 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0
266 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0
267 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0
268 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0
269 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0
270 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0
271 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0
272 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
 2 | 2000,1,1,1,2000,1,24,8760,1,433055,56250,158195
 3 | ,2,0.9,0.04,1800,,,,2,406808,53975,151211
 4 | ,3,0.55,0.024,1100,,,,3,394480,51413,144460
 5 | ,4,0.2,0.003,400,,,,4,389845,50217,137745
 6 | ,,,,,,,,5,387098,49407,131059
 7 | ,,,,,,,,6,392355,48847,129242
 8 | ,,,,,,,,7,404654,49928,127643
 9 | ,,,,,,,,8,416313,52099,127594
10 | ,,,,,,,,9,428156,53971,131035
11 | ,,,,,,,,10,443175,56180,136863
12 | ,,,,,,,,11,461485,59324,140327
13 | ,,,,,,,,12,478750,61430,146574
14 | ,,,,,,,,13,500639,63720,153859
15 | ,,,,,,,,14,510242,66292,160582
16 | ,,,,,,,,15,512939,66236,167097
17 | ,,,,,,,,16,520359,66270,172644
18 | ,,,,,,,,17,542617,66603,173528
19 | ,,,,,,,,18,567183,68052,174662
20 | ,,,,,,,,19,589765,70029,179348
21 | ,,,,,,,,20,597606,78675,189488
22 | ,,,,,,,,21,578601,79796,200159
23 | ,,,,,,,,22,551207,77624,206282
24 | ,,,,,,,,23,519544,74795,201139
25 | ,,,,,,,,24,480627,70153,190159
26 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,None,biomass,east_north_central_coal,east_north_central_naturalgas,east_north_central_uranium,east_north_central_distillate,west_south_central_coal,west_south_central_naturalgas,west_south_central_uranium,west_south_central_distillate,mountain_coal,mountain_naturalgas,mountain_uranium,mountain_distillate,zerocarbon_fuel
 2 | 0,0,0,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0
 3 | 1,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 4 | 2,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 5 | 3,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 6 | 4,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 7 | 5,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 8 | 6,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 9 | 7,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
10 | 8,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
11 | 9,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
12 | 10,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
13 | 11,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
14 | 12,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
15 | 13,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
16 | 14,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
17 | 15,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
18 | 16,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
19 | 17,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
20 | 18,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
21 | 19,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
22 | 20,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
23 | 21,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
24 | 22,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
25 | 23,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
26 | 24,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/system/Network.csv:
--------------------------------------------------------------------------------
1 | Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,Line_Min_Flow_MW,transmission_path_name,Line_Reinforcement_Cost_per_MWyr,Line_Reinforcement_Cost_per_MW,Line_Loss_Percentage,Line_Max_Reinforcement_MW,DerateCapRes_1,CapRes_Excl_1,DerateCapRes_2,CapRes_Excl_2,DerateCapRes_3,CapRes_Excl_3
2 | z1,1.0,1,2,820.0,820.0,EIC_to_TRE,45958.0,948772.0,0.0649,410.0,0.95,0.0,0.95,0.0,0.95,0.0
3 | z2,2.0,1,3,1830.0,1830.0,EIC_to_WECC,71600.0,1478140.0,0.1001,915.0,0.95,0.0,0.95,0.0,0.95,0.0
4 | z3,,,,,,,,,,,,,,,,
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/system/Vre_and_stor_solar_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_utilitypv_class1_moderate_0,EIC_utilitypv_class1_moderate_1,EIC_utilitypv_class1_moderate_2,EIC_utilitypv_class1_moderate_3,EIC_utilitypv_class1_moderate_4,EIC_utilitypv_class1_moderate_5,EIC_utilitypv_class1_moderate_6,EIC_utilitypv_class1_moderate_7,EIC_utilitypv_class1_moderate_8,EIC_utilitypv_class1_moderate_9,TRE_utilitypv_class1_moderate_0,TRE_utilitypv_class1_moderate_1,TRE_utilitypv_class1_moderate_2,TRE_utilitypv_class1_moderate_3,TRE_utilitypv_class1_moderate_4,TRE_utilitypv_class1_moderate_5,TRE_utilitypv_class1_moderate_6,TRE_utilitypv_class1_moderate_7,TRE_utilitypv_class1_moderate_8,TRE_utilitypv_class1_moderate_9,WECC_utilitypv_class1_moderate_0,WECC_utilitypv_class1_moderate_1,WECC_utilitypv_class1_moderate_2,WECC_utilitypv_class1_moderate_3,WECC_utilitypv_class1_moderate_4,WECC_utilitypv_class1_moderate_5,WECC_utilitypv_class1_moderate_6,WECC_utilitypv_class1_moderate_7,WECC_utilitypv_class1_moderate_8,WECC_utilitypv_class1_moderate_9
 2 | 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 3 | 2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 4 | 3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 5 | 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 6 | 5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 7 | 6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 8 | 7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 9 | 8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
10 | 9,0,0.081,0,0.077,0.043,0,0.005,0.09,0.058,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
11 | 10,0.151,0.403,0.168,0.367,0.294,0.114,0.162,0.408,0.343,0.027,0.247,0.23,0.258,0.224,0.253,0.209,0.2,0.258,0.11,0.217,0,0,0,0,0,0,0,0,0,0
12 | 11,0.44,0.574,0.452,0.542,0.515,0.463,0.465,0.568,0.533,0.429,0.524,0.52,0.531,0.516,0.529,0.507,0.499,0.532,0.458,0.477,0.193,0.189,0.199,0,0.184,0,0.096,0,0.135,0
13 | 12,0.597,0.657,0.624,0.619,0.628,0.656,0.614,0.648,0.623,0.615,0.692,0.694,0.699,0.685,0.694,0.682,0.68,0.696,0.655,0.636,0.469,0.429,0.473,0.043,0.458,0.001,0.367,0,0.395,0
14 | 13,0.697,0.695,0.717,0.635,0.674,0.764,0.677,0.672,0.661,0.723,0.79,0.782,0.793,0.779,0.789,0.786,0.783,0.789,0.769,0.723,0.626,0.599,0.614,0.249,0.601,0.215,0.554,0.215,0.548,0.248
15 | 14,0.734,0.697,0.752,0.637,0.678,0.811,0.695,0.666,0.666,0.79,0.826,0.827,0.835,0.834,0.834,0.838,0.834,0.826,0.826,0.761,0.721,0.689,0.682,0.371,0.667,0.383,0.659,0.423,0.623,0.444
16 | 15,0.731,0.667,0.745,0.62,0.661,0.808,0.686,0.645,0.636,0.806,0.831,0.839,0.838,0.841,0.828,0.844,0.828,0.816,0.837,0.751,0.768,0.694,0.725,0.427,0.7,0.478,0.714,0.447,0.662,0.5
17 | 16,0.674,0.605,0.689,0.565,0.599,0.757,0.635,0.554,0.55,0.747,0.794,0.796,0.795,0.799,0.785,0.805,0.802,0.782,0.8,0.725,0.772,0.667,0.723,0.447,0.713,0.452,0.729,0.443,0.651,0.434
18 | 17,0.543,0.463,0.565,0.415,0.455,0.642,0.52,0.407,0.399,0.646,0.698,0.698,0.7,0.706,0.697,0.715,0.715,0.691,0.72,0.648,0.732,0.595,0.678,0.421,0.667,0.432,0.697,0.441,0.591,0.44
19 | 18,0.377,0.205,0.386,0.147,0.218,0.483,0.323,0.161,0.183,0.469,0.556,0.559,0.562,0.573,0.561,0.586,0.583,0.546,0.599,0.474,0.675,0.51,0.594,0.321,0.567,0.373,0.608,0.4,0.482,0.467
20 | 19,0.106,0.011,0.076,0.001,0.001,0.124,0.033,0.005,0.007,0.112,0.297,0.291,0.299,0.308,0.298,0.326,0.33,0.28,0.344,0.232,0.515,0.297,0.408,0.178,0.369,0.347,0.44,0.314,0.294,0.295
21 | 20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.254,0.031,0.165,0.05,0.126,0.138,0.144,0.13,0.077,0.083
22 | 21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
23 | 22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
24 | 23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
25 | 24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/solar_wind/system/Vre_and_stor_wind_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_landbasedwind_class1_moderate_0,EIC_landbasedwind_class1_moderate_1,EIC_landbasedwind_class1_moderate_2,EIC_landbasedwind_class1_moderate_3,EIC_landbasedwind_class1_moderate_4,EIC_landbasedwind_class1_moderate_5,EIC_landbasedwind_class1_moderate_6,EIC_landbasedwind_class1_moderate_7,EIC_landbasedwind_class1_moderate_8,EIC_landbasedwind_class1_moderate_9,TRE_landbasedwind_class1_moderate_0,TRE_landbasedwind_class1_moderate_1,TRE_landbasedwind_class1_moderate_2,TRE_landbasedwind_class1_moderate_3,TRE_landbasedwind_class1_moderate_4,TRE_landbasedwind_class1_moderate_5,TRE_landbasedwind_class1_moderate_6,TRE_landbasedwind_class1_moderate_7,TRE_landbasedwind_class1_moderate_8,TRE_landbasedwind_class1_moderate_9,WECC_landbasedwind_class1_moderate_0,WECC_landbasedwind_class1_moderate_1,WECC_landbasedwind_class1_moderate_2,WECC_landbasedwind_class1_moderate_3,WECC_landbasedwind_class1_moderate_4,WECC_landbasedwind_class1_moderate_5,WECC_landbasedwind_class1_moderate_6,WECC_landbasedwind_class1_moderate_7,WECC_landbasedwind_class1_moderate_8,WECC_landbasedwind_class1_moderate_9
 2 | 1,0.966,0.978,0.936,0.939,0.867,0.752,0.666,0.527,0.548,0.98,0.84,0.705,0.752,0.794,0.614,0.749,0.485,0.799,0.637,1,0.814,0.752,0.532,0.49,0.407,0.945,0.371,0.889,0.325,0.969
 3 | 2,0.972,0.978,0.945,0.947,0.877,0.72,0.648,0.442,0.546,0.993,0.848,0.671,0.783,0.787,0.686,0.718,0.497,0.75,0.624,1,0.749,0.739,0.509,0.452,0.377,0.948,0.333,0.89,0.298,0.967
 4 | 3,0.967,0.978,0.951,0.946,0.899,0.694,0.644,0.435,0.533,0.985,0.872,0.858,0.805,0.826,0.641,0.622,0.469,0.513,0.646,1,0.594,0.705,0.459,0.373,0.366,0.929,0.341,0.855,0.327,0.962
 5 | 4,0.969,0.967,0.95,0.878,0.889,0.68,0.668,0.424,0.528,0.983,0.856,0.972,0.771,0.866,0.554,0.652,0.51,0.463,0.717,1,0.514,0.708,0.437,0.353,0.35,0.865,0.351,0.746,0.343,0.924
 6 | 5,0.953,0.949,0.95,0.834,0.898,0.688,0.681,0.389,0.456,0.974,0.8,0.929,0.71,0.806,0.619,0.66,0.702,0.634,0.861,0.996,0.436,0.614,0.418,0.367,0.351,0.751,0.342,0.644,0.323,0.735
 7 | 6,0.953,0.946,0.956,0.852,0.911,0.735,0.691,0.401,0.514,0.961,0.749,0.895,0.737,0.697,0.763,0.512,0.88,0.307,0.951,0.954,0.424,0.585,0.375,0.353,0.338,0.783,0.328,0.726,0.303,0.695
 8 | 7,0.95,0.949,0.954,0.842,0.915,0.766,0.69,0.415,0.581,0.936,0.758,0.896,0.802,0.68,0.851,0.476,0.889,0.219,0.92,0.788,0.391,0.56,0.357,0.349,0.345,0.791,0.335,0.822,0.29,0.689
 9 | 8,0.917,0.885,0.937,0.85,0.93,0.785,0.683,0.467,0.529,0.839,0.789,0.911,0.847,0.709,0.962,0.523,0.899,0.252,0.838,0.434,0.338,0.493,0.321,0.299,0.304,0.643,0.286,0.682,0.247,0.485
10 | 9,0.876,0.828,0.928,0.881,0.952,0.816,0.728,0.528,0.628,0.82,0.816,0.934,0.927,0.819,0.986,0.688,0.93,0.369,0.844,0.266,0.387,0.552,0.359,0.323,0.325,0.764,0.319,0.845,0.288,0.531
11 | 10,0.594,0.483,0.704,0.571,0.579,0.519,0.219,0.152,0.055,0.58,0.414,0.467,0.578,0.451,0.652,0.512,0.563,0.354,0.332,0.117,0.183,0.342,0.184,0.217,0.198,0.273,0.16,0.237,0.13,0.247
12 | 11,0.662,0.526,0.752,0.604,0.669,0.53,0.314,0.176,0.097,0.598,0.514,0.564,0.658,0.596,0.753,0.65,0.679,0.559,0.427,0.092,0.179,0.315,0.177,0.217,0.186,0.262,0.161,0.159,0.142,0.171
13 | 12,0.78,0.672,0.825,0.762,0.704,0.606,0.435,0.271,0.25,0.662,0.783,0.857,0.826,0.828,0.878,0.848,0.79,0.902,0.496,0.101,0.202,0.323,0.189,0.203,0.194,0.324,0.157,0.23,0.147,0.235
14 | 13,0.785,0.714,0.807,0.726,0.7,0.596,0.489,0.355,0.406,0.664,0.771,0.815,0.838,0.768,0.888,0.838,0.762,0.897,0.487,0.069,0.268,0.346,0.203,0.189,0.184,0.318,0.138,0.194,0.129,0.365
15 | 14,0.714,0.629,0.772,0.636,0.698,0.587,0.499,0.435,0.518,0.654,0.59,0.661,0.733,0.583,0.839,0.714,0.694,0.739,0.441,0.004,0.303,0.334,0.211,0.161,0.18,0.497,0.126,0.455,0.132,0.679
16 | 15,0.728,0.659,0.771,0.624,0.704,0.575,0.497,0.464,0.42,0.693,0.549,0.623,0.733,0.473,0.853,0.536,0.632,0.407,0.395,0,0.269,0.285,0.19,0.161,0.149,0.478,0.106,0.398,0.113,0.681
17 | 16,0.754,0.698,0.792,0.657,0.736,0.6,0.481,0.427,0.414,0.732,0.549,0.547,0.738,0.445,0.861,0.566,0.643,0.514,0.376,0,0.223,0.278,0.168,0.169,0.144,0.441,0.104,0.352,0.106,0.717
18 | 17,0.761,0.692,0.794,0.659,0.729,0.601,0.468,0.374,0.366,0.742,0.589,0.581,0.746,0.462,0.82,0.533,0.625,0.47,0.421,0,0.202,0.239,0.158,0.157,0.139,0.378,0.097,0.215,0.083,0.668
19 | 18,0.703,0.645,0.787,0.654,0.923,0.745,0.786,0.92,0.786,0.754,0.516,0.508,0.677,0.433,0.849,0.502,0.603,0.374,0.402,0,0.232,0.377,0.232,0.182,0.211,0.609,0.164,0.467,0.147,0.868
20 | 19,0.673,0.637,0.755,0.641,0.847,0.748,0.813,0.926,0.87,0.74,0.633,0.57,0.744,0.505,0.834,0.536,0.568,0.405,0.363,0,0.291,0.323,0.257,0.182,0.227,0.535,0.171,0.38,0.137,0.869
21 | 20,0.717,0.598,0.801,0.668,0.885,0.777,0.835,0.915,0.919,0.713,0.642,0.514,0.753,0.469,0.813,0.494,0.566,0.294,0.445,0.003,0.241,0.308,0.298,0.198,0.256,0.446,0.19,0.315,0.144,0.73
22 | 21,0.768,0.665,0.817,0.692,0.892,0.792,0.884,0.94,0.941,0.725,0.764,0.746,0.86,0.643,0.874,0.618,0.741,0.341,0.619,0.046,0.246,0.322,0.407,0.315,0.375,0.403,0.305,0.318,0.224,0.649
23 | 22,0.797,0.689,0.841,0.702,0.959,0.802,0.927,0.94,0.951,0.714,0.816,0.702,0.864,0.736,0.889,0.783,0.839,0.646,0.738,0.189,0.226,0.332,0.44,0.373,0.429,0.46,0.361,0.35,0.281,0.575
24 | 23,0.846,0.751,0.858,0.711,0.968,0.8,0.929,0.938,0.955,0.687,0.819,0.734,0.857,0.708,0.938,0.826,0.905,0.816,0.845,0.324,0.172,0.39,0.463,0.42,0.455,0.44,0.395,0.328,0.31,0.364
25 | 24,0.842,0.766,0.855,0.694,0.972,0.793,0.92,0.941,0.952,0.675,0.837,0.767,0.854,0.705,0.948,0.826,0.918,0.869,0.83,0.157,0.202,0.448,0.463,0.416,0.444,0.483,0.4,0.393,0.344,0.428


--------------------------------------------------------------------------------
/test/VRE_storage/wind/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-05   # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | Optimal_Tol: 1.0e-05  # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
5 | TimeLimit: 1.0e23     # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
6 | Pre_Solve: on         # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
7 | Method: simplex       # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
8 | 
9 | 


--------------------------------------------------------------------------------
/test/VRE_storage/wind/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Max_Mtons_1,CO_2_Cap_Zone_1
2 | EIC,z1,0.0,1
3 | TRE,z2,0.0,1
4 | WECC,z3,0.0,1
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/wind/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | region,Network_zones,CapRes_1,CapRes_2,CapRes_3
2 | EIC,z1,0.1572,0.0,0.0
3 | TRE,z2,0.0,0.1375,0.0
4 | WECC,z3,0.0,0.0,0.1538
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/wind/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,Constraint_Description,Max_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,Constraint_Description,Min_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Flex_demand.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Max_Flexible_Demand_Delay,Max_Flexible_Demand_Advance,Flexible_Demand_Energy_Eff,region,technology,cluster
 2 | WECC_trans_light_duty_1,3,0,88930.5,0,0,0,0,0,5,0,1,WECC,trans_light_duty,1
 3 | EIC_trans_light_duty_1,1,0,227552.1,0,0,0,0,0,5,0,1,EIC,trans_light_duty,1
 4 | TRE_trans_light_duty_1,2,0,34387.8,0,0,0,0,0,5,0,1,TRE,trans_light_duty,1
 5 | WECC_comm_water_heat_1,3,0,1130.3,0,0,0,0,0,2,2,1,WECC,comm_water_heat,1
 6 | EIC_comm_water_heat_1,1,0,2922.1,0,0,0,0,0,2,2,1,EIC,comm_water_heat,1
 7 | TRE_comm_water_heat_1,2,0,368.7,0,0,0,0,0,2,2,1,TRE,comm_water_heat,1
 8 | WECC_res_water_heat_1,3,0,2578.7,0,0,0,0,0,2,2,1,WECC,res_water_heat,1
 9 | EIC_res_water_heat_1,1,0,8238.2,0,0,0,0,0,2,2,1,EIC,res_water_heat,1
10 | TRE_res_water_heat_1,2,0,1049.5,0,0,0,0,0,2,2,1,TRE,res_water_heat,1
11 | WECC_comm_space_heat_cool_1,3,0,7483.3,0,0,0,0,0,1,1,1,WECC,comm_space_heat_cool,1
12 | EIC_comm_space_heat_cool_1,1,0,41624.8,0,0,0,0,0,1,1,1,EIC,comm_space_heat_cool,1
13 | TRE_comm_space_heat_cool_1,2,0,6978.6,0,0,0,0,0,1,1,1,TRE,comm_space_heat_cool,1
14 | WECC_res_space_heat_cool_1,3,0,12467.5,0,0,0,0,0,1,1,1,WECC,res_space_heat_cool,1
15 | EIC_res_space_heat_cool_1,1,0,47457,0,0,0,0,0,1,1,1,EIC,res_space_heat_cool,1
16 | TRE_res_space_heat_cool_1,2,0,7585.9,0,0,0,0,0,1,1,1,TRE,res_space_heat_cool,1


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Hydro.csv:
--------------------------------------------------------------------------------
1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Hydro_Energy_to_Power_Ratio	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
2 | EIC_conventional_hydroelectric_1	1	0	24200.8	0	0	32.35	0	0	0	47048	0	10.34	None	0.273	0	1	1	1	1	1	0	0	EIC	Conventional Hydroelectric	1
3 | TRE_conventional_hydroelectric_1	2	0	477	0	0	25.1	0	0	0	47048	0	10.34	None	0	0	1	1	1	1	1	0	0	TRE	Conventional Hydroelectric	1
4 | WECC_conventional_hydroelectric_1	3	0	46528	0	0	72.7	0	0	0	47048	0	10.34	None	0.214	0	1	1	1	1	1	0	0	WECC	Conventional Hydroelectric	1


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Must_run.csv:
--------------------------------------------------------------------------------
 1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Start_Cost_per_MW	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
 2 | EIC_biomass_1	1	0	1722.5	0	0	1.27	0	0	0	150850	7.32	172	17.03	biomass	0.308	0	1	1	1	1	0	0	EIC	Biomass	1
 3 | EIC_small_hydroelectric_1	1	0	1672.2	0	0	1.06	0	0	0	47048	0	0	10.34	None	0.273	0	1	1	1	1	0	0	EIC	Small Hydroelectric	1
 4 | TRE_biomass_1	2	0	44.5	0	0	1.48	0	0	0	150850	6.51	172	15.15	biomass	0.591	0	1	1	1	1	0	0	TRE	Biomass	1
 5 | TRE_small_hydroelectric_1	2	0	11.2	0	0	0.75	0	0	0	47048	0	0	10.34	None	0	0	1	1	1	1	0	0	TRE	Small Hydroelectric	1
 6 | WECC_biomass_1	3	0	551	0	0	2.01	0	0	0	150850	7.14	172	16.63	biomass	0.362	0	1	1	1	1	0	0	WECC	Biomass	1
 7 | WECC_small_hydroelectric_1	3	0	1064.3	0	0	1.62	0	0	0	47048	0	0	10.34	None	0.181	0	1	1	1	1	0	0	WECC	Small Hydroelectric	1
 8 | WECC_distributed_generation_1	3	0	250535	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	WECC	distributed_generation	1
 9 | EIC_distributed_generation_1	1	0	1770000	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	EIC	distributed_generation	1
10 | TRE_distributed_generation_1	2	0	17006	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	TRE	distributed_generation	1


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Max_Cap_MW,Max_Cap_MWh,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,region,technology,cluster
2 | EIC_batteries_1,1,1,1424.4,712.2,0,0,16.96,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.041,0,0.92,0.92,1,10,EIC,Batteries,1
3 | EIC_hydroelectric_pumped_storage_1,1,1,275638,17783.1,0,0,170.99,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.524,0,0.866,0.866,1,20,EIC,Hydroelectric Pumped Storage,1
4 | TRE_batteries_1,2,1,721.4,360.7,0,0,45.09,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.001,0,0.92,0.92,1,10,TRE,Batteries,1
5 | WECC_batteries_1,3,1,3611,1357.5,0,0,28.28,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.02,0,0.92,0.92,1,10,WECC,Batteries,1
6 | WECC_hydroelectric_pumped_storage_1,3,1,70790,4567.1,0,0,101.49,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.175,0,0.866,0.866,1,20,WECC,Hydroelectric Pumped Storage,1
7 | EIC_battery_moderate_0,1,1,0,0,1,1,1,-1,-1,19978,5955,11897,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,EIC,Battery_*_Moderate,0
8 | TRE_battery_moderate_0,2,1,0,0,1,1,1,-1,-1,19389,5955,11546,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,TRE,Battery_*_Moderate,0
9 | WECC_battery_moderate_0,3,1,0,0,1,1,1,-1,-1,20202,5955,12030,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,WECC,Battery_*_Moderate,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,CO2_Capture_Rate,CO2_Capture_Cost_per_Metric_Ton,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,region,technology,cluster
 2 | EIC_conventional_steam_coal_1,1,1,0,12806.9,0,1,177.87,0,0,0,78258,1.88,124,16.5,13.34,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,1
 3 | EIC_conventional_steam_coal_2,1,1,0,109345.4,0,1,584.74,0,0,0,64567,1.88,124,16.5,10.89,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,2
 4 | EIC_natural_gas_fired_combined_cycle_1,1,1,0,27155.3,0,1,163.59,0,0,0,16322,4.53,92,2,9.24,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,1
 5 | EIC_natural_gas_fired_combined_cycle_2,1,1,0,169897.4,0,1,638.71,0,0,0,11042,3.58,92,2,7.34,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,2
 6 | EIC_natural_gas_fired_combustion_turbine_1,1,1,0,98926.5,0,1,100.13,0,0,0,10031,5.28,119,3.5,12.03,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,1
 7 | EIC_natural_gas_fired_combustion_turbine_2,1,1,0,10412.9,0,1,31.27,0,0,0,13557,5.28,119,3.5,14.66,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,2
 8 | EIC_natural_gas_internal_combustion_engine_1,1,1,0,2578.5,0,1,4.44,0,0,0,21000,5.29,38,0,10.29,east_north_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Internal Combustion Engine,1
 9 | EIC_natural_gas_steam_turbine_1,1,1,0,39625.2,0,1,203.21,0,0,0,35537,1.06,87,13.7,12.8,east_north_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Steam Turbine,1
10 | EIC_nuclear_1,1,1,0,82406.6,0,1,1030.08,0,0,0,214812,2.84,248,0,10.45,east_north_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,EIC,Nuclear,1
11 | EIC_petroleum_liquids_1,1,1,0,23196.2,0,1,9.96,0,0,0,21000,7.97,38,0,15.5,east_north_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,Petroleum Liquids,1
12 | TRE_conventional_steam_coal_1,2,1,0,5063.6,0,1,723.37,0,0,0,60405,1.88,124,16.5,10.33,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,1
13 | TRE_conventional_steam_coal_2,2,1,0,3713,0,1,530.43,0,0,0,68432,1.88,124,16.5,12.13,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,2
14 | TRE_natural_gas_fired_combined_cycle_1,2,1,0,30139.1,0,1,579.6,0,0,0,10912,3.59,92,2,7.72,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,1
15 | TRE_natural_gas_fired_combined_cycle_2,2,1,0,6317.6,0,1,315.88,0,0,0,15698,4.36,92,2,9.8,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,2
16 | TRE_natural_gas_fired_combustion_turbine_1,2,1,0,2924,0,1,81.22,0,0,0,10001,5.28,119,3.5,14.08,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,1
17 | TRE_natural_gas_fired_combustion_turbine_2,2,1,0,2826.9,0,1,50.48,0,0,0,11926,5.28,119,3.5,11.11,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,2
18 | TRE_natural_gas_internal_combustion_engine_1,2,1,0,502.7,0,1,10.7,0,0,0,21000,4.72,38,0,9.18,west_south_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Internal Combustion Engine,1
19 | TRE_natural_gas_steam_turbine_1,2,1,0,8249.5,0,1,235.7,0,0,0,34182,1.06,87,13.7,13.24,west_south_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Steam Turbine,1
20 | TRE_nuclear_1,2,1,0,5120,0,1,1280,0,0,0,193275,2.84,248,0,10.45,west_south_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,TRE,Nuclear,1
21 | TRE_petroleum_liquids_1,2,1,0,23.7,0,1,1.48,0,0,0,21000,6.38,38,0,12.4,west_south_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,Petroleum Liquids,1
22 | WECC_conventional_steam_coal_1,3,1,0,11415.2,0,1,496.31,0,0,0,64165,1.88,124,16.5,10.63,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,1
23 | WECC_conventional_steam_coal_2,3,1,0,2074.5,0,1,129.66,0,0,0,77721,1.88,124,16.5,12.2,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,2
24 | WECC_natural_gas_fired_combined_cycle_1,3,1,0,37593.3,0,1,475.86,0,0,0,10399,3.6,92,2,7.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,1
25 | WECC_natural_gas_fired_combined_cycle_2,3,1,0,12502.4,0,1,158.26,0,0,0,16492,4.55,92,2,8.51,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,2
26 | WECC_natural_gas_fired_combustion_turbine_1,3,1,0,15252.7,0,1,71.61,0,0,0,10479,5.28,119,3.5,11.06,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,1
27 | WECC_natural_gas_fired_combustion_turbine_2,3,1,0,6281.6,0,1,27.92,0,0,0,13486,5.28,119,3.5,12.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,2
28 | WECC_natural_gas_internal_combustion_engine_1,3,1,0,1282.7,0,1,6.51,0,0,0,21000,4.88,38,0,9.49,mountain_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Internal Combustion Engine,1
29 | WECC_natural_gas_steam_turbine_1,3,1,0,2669.5,0,1,95.34,0,0,0,51303,1.06,87,13.7,12.4,mountain_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Steam Turbine,1
30 | WECC_nuclear_1,3,1,0,5175,0,1,1293.75,0,0,0,211822,2.84,248,0,10.45,mountain_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,WECC,Nuclear,1
31 | WECC_petroleum_liquids_1,3,1,0,636.2,0,1,4.24,0,0,0,21000,7.2,38,0,14,mountain_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,Petroleum Liquids,1
32 | EIC_naturalgas_ccavgcf_moderate_0,1,1,0,0,1,1,500,0,-1,56026,28000,2,106,2,6.36,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,EIC,NaturalGas_CCAvgCF_Moderate,0
33 | EIC_naturalgas_ctavgcf_moderate_0,1,1,0,0,1,1,100,0,-1,45192,21000,5,137,3.5,9.72,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate,0
34 | EIC_naturalgas_ccccsavgcf_conservative_0,1,1,0,0,1,1,500,0,-1,120812,67000,6,106,0,7.16,east_north_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,EIC,NaturalGas_CCCCSAvgCF_Conservative,0
35 | EIC_advnuclear_atb_moderate_0,1,1,0,0,1,1,500,0,-1,45000,0,2.84,285,0,10.44,east_north_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,EIC,AdvNuclear_ATB_Moderate,0
36 | TRE_naturalgas_ccavgcf_moderate_0,2,1,0,0,1,1,500,0,-1,42007,28000,2,106,2,6.36,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,TRE,NaturalGas_CCAvgCF_Moderate,0
37 | TRE_naturalgas_ctavgcf_moderate_0,2,1,0,0,1,1,100,0,-1,35319,21000,5,137,3.5,9.72,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate,0
38 | TRE_naturalgas_ccccsavgcf_conservative_0,2,1,0,0,1,1,500,0,-1,106685,67000,6,106,0,7.16,west_south_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,TRE,NaturalGas_CCCCSAvgCF_Conservative,0
39 | TRE_advnuclear_atb_moderate_0,2,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,west_south_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,TRE,AdvNuclear_ATB_Moderate,0
40 | WECC_naturalgas_ccavgcf_moderate_0,3,1,0,0,1,1,500,0,-1,59543,28000,2,106,2,6.36,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,WECC,NaturalGas_CCAvgCF_Moderate,0
41 | WECC_naturalgas_ctavgcf_moderate_0,3,1,0,0,1,1,100,0,-1,45587,21000,5,137,3.5,9.72,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate,0
42 | WECC_naturalgas_ccccsavgcf_conservative_0,3,1,0,0,1,1,500,0,-1,119927,67000,6,106,0,7.16,mountain_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,WECC,NaturalGas_CCCCSAvgCF_Conservative,0
43 | WECC_advnuclear_atb_moderate_0,3,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,mountain_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,WECC,AdvNuclear_ATB_Moderate,0
44 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,1,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
45 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,2,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
46 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,3,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Num_VRE_Bins,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Self_Disch,Eff_Up,Eff_Down,Ramp_Up_Percentage,Ramp_Dn_Percentage,region,technology,cluster
  2 | EIC_offshore_wind_turbine_1,1,1,0,29.3,0,1,29.3,0,0,0,111496,0,10.34,None,0,1,1,1,1,EIC,Offshore Wind Turbine,1
  3 | EIC_onshore_wind_turbine_1,1,1,0,47407.4,0,1,66.77,0,0,0,43000,0,10.34,None,0,1,1,1,1,EIC,Onshore Wind Turbine,1
  4 | EIC_solar_photovoltaic_1,1,1,0,8533.9,0,1,5.95,0,0,0,22623,0,10.34,None,0,1,1,1,1,EIC,Solar Photovoltaic,1
  5 | TRE_onshore_wind_turbine_1,2,1,0,21683.1,0,1,163.03,0,0,0,43000,0,10.34,None,0,1,1,1,1,TRE,Onshore Wind Turbine,1
  6 | TRE_solar_photovoltaic_1,2,1,0,1821.5,0,1,65.05,0,0,0,22623,0,10.34,None,0,1,1,1,1,TRE,Solar Photovoltaic,1
  7 | WECC_geothermal_1,3,1,0,1752.4,0,0,12,0,0,0,209101,0,10.34,None,0,1,1,1,1,WECC,Geothermal,1
  8 | WECC_onshore_wind_turbine_1,3,1,0,20644.2,0,1,68.81,0,0,0,43000,0,10.34,None,0,1,1,1,1,WECC,Onshore Wind Turbine,1
  9 | WECC_solar_photovoltaic_1,3,1,0,14659.8,0,1,14.87,0,0,0,22623,0,10.34,None,0,1,1,1,1,WECC,Solar Photovoltaic,1
 10 | EIC_offshorewind_class3_moderate_fixed_1_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,0
 11 | EIC_offshorewind_class3_moderate_fixed_1_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,1
 12 | EIC_offshorewind_class3_moderate_fixed_1_2,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,2
 13 | EIC_offshorewind_class3_moderate_fixed_1_3,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,3
 14 | EIC_offshorewind_class3_moderate_fixed_1_4,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,4
 15 | EIC_offshorewind_class3_moderate_fixed_1_5,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,5
 16 | EIC_offshorewind_class3_moderate_fixed_1_6,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,6
 17 | EIC_offshorewind_class3_moderate_fixed_1_7,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,7
 18 | EIC_offshorewind_class3_moderate_fixed_1_8,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,8
 19 | EIC_offshorewind_class3_moderate_fixed_1_9,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,9
 20 | EIC_offshorewind_class3_moderate_fixed_0_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,0
 21 | EIC_offshorewind_class3_moderate_fixed_0_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,1
 22 | EIC_offshorewind_class3_moderate_fixed_0_4,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,4
 23 | EIC_offshorewind_class3_moderate_fixed_0_5,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,5
 24 | EIC_offshorewind_class3_moderate_fixed_0_10,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,10
 25 | EIC_offshorewind_class3_moderate_fixed_0_11,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,11
 26 | EIC_offshorewind_class3_moderate_fixed_0_18,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,18
 27 | EIC_offshorewind_class3_moderate_fixed_0_19,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,19
 28 | EIC_offshorewind_class3_moderate_fixed_0_28,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,28
 29 | EIC_offshorewind_class3_moderate_fixed_0_29,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,29
 30 | EIC_offshorewind_class12_moderate_floating_1_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,0
 31 | EIC_offshorewind_class12_moderate_floating_1_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,1
 32 | EIC_offshorewind_class12_moderate_floating_1_6,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,6
 33 | EIC_offshorewind_class12_moderate_floating_1_7,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,7
 34 | EIC_offshorewind_class12_moderate_floating_1_18,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,18
 35 | EIC_offshorewind_class12_moderate_floating_1_19,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,19
 36 | EIC_offshorewind_class12_moderate_floating_1_38,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,38
 37 | EIC_offshorewind_class12_moderate_floating_1_39,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,39
 38 | EIC_offshorewind_class12_moderate_floating_1_68,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,68
 39 | EIC_offshorewind_class12_moderate_floating_1_69,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,69
 40 | EIC_offshorewind_class12_moderate_floating_0_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,0
 41 | EIC_offshorewind_class12_moderate_floating_0_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,1
 42 | EIC_offshorewind_class12_moderate_floating_0_8,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,8
 43 | EIC_offshorewind_class12_moderate_floating_0_9,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,9
 44 | EIC_offshorewind_class12_moderate_floating_0_28,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,28
 45 | EIC_offshorewind_class12_moderate_floating_0_29,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,29
 46 | EIC_offshorewind_class12_moderate_floating_0_68,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,68
 47 | EIC_offshorewind_class12_moderate_floating_0_69,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,69
 48 | EIC_offshorewind_class12_moderate_floating_0_138,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,138
 49 | EIC_offshorewind_class12_moderate_floating_0_139,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,139
 50 | TRE_offshorewind_class3_moderate_fixed_1_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,0
 51 | TRE_offshorewind_class3_moderate_fixed_1_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,1
 52 | TRE_offshorewind_class3_moderate_fixed_1_2,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,2
 53 | TRE_offshorewind_class3_moderate_fixed_1_3,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,3
 54 | TRE_offshorewind_class3_moderate_fixed_1_4,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,4
 55 | TRE_offshorewind_class3_moderate_fixed_1_5,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,5
 56 | TRE_offshorewind_class3_moderate_fixed_1_6,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,6
 57 | TRE_offshorewind_class3_moderate_fixed_1_7,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,7
 58 | TRE_offshorewind_class3_moderate_fixed_1_8,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,8
 59 | TRE_offshorewind_class3_moderate_fixed_1_9,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,9
 60 | TRE_offshorewind_class3_moderate_fixed_0_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,0
 61 | TRE_offshorewind_class3_moderate_fixed_0_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,1
 62 | TRE_offshorewind_class3_moderate_fixed_0_4,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,4
 63 | TRE_offshorewind_class3_moderate_fixed_0_5,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,5
 64 | TRE_offshorewind_class3_moderate_fixed_0_10,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,10
 65 | TRE_offshorewind_class3_moderate_fixed_0_11,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,11
 66 | TRE_offshorewind_class3_moderate_fixed_0_18,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,18
 67 | TRE_offshorewind_class3_moderate_fixed_0_19,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,19
 68 | TRE_offshorewind_class3_moderate_fixed_0_28,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,28
 69 | TRE_offshorewind_class3_moderate_fixed_0_29,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,29
 70 | TRE_offshorewind_class12_moderate_floating_1_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,0
 71 | TRE_offshorewind_class12_moderate_floating_1_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,1
 72 | TRE_offshorewind_class12_moderate_floating_1_6,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,6
 73 | TRE_offshorewind_class12_moderate_floating_1_7,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,7
 74 | TRE_offshorewind_class12_moderate_floating_1_18,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,18
 75 | TRE_offshorewind_class12_moderate_floating_1_19,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,19
 76 | TRE_offshorewind_class12_moderate_floating_1_38,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,38
 77 | TRE_offshorewind_class12_moderate_floating_1_39,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,39
 78 | TRE_offshorewind_class12_moderate_floating_1_68,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,68
 79 | TRE_offshorewind_class12_moderate_floating_1_69,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,69
 80 | TRE_offshorewind_class12_moderate_floating_0_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,0
 81 | TRE_offshorewind_class12_moderate_floating_0_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,1
 82 | TRE_offshorewind_class12_moderate_floating_0_8,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,8
 83 | TRE_offshorewind_class12_moderate_floating_0_9,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,9
 84 | TRE_offshorewind_class12_moderate_floating_0_28,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,28
 85 | TRE_offshorewind_class12_moderate_floating_0_29,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,29
 86 | TRE_offshorewind_class12_moderate_floating_0_68,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,68
 87 | TRE_offshorewind_class12_moderate_floating_0_69,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,69
 88 | TRE_offshorewind_class12_moderate_floating_0_138,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,138
 89 | TRE_offshorewind_class12_moderate_floating_0_139,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,139
 90 | WECC_offshorewind_class3_moderate_fixed_1_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,0
 91 | WECC_offshorewind_class3_moderate_fixed_1_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,1
 92 | WECC_offshorewind_class3_moderate_fixed_1_2,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,2
 93 | WECC_offshorewind_class3_moderate_fixed_1_3,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,3
 94 | WECC_offshorewind_class3_moderate_fixed_1_4,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,4
 95 | WECC_offshorewind_class3_moderate_fixed_1_5,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,5
 96 | WECC_offshorewind_class3_moderate_fixed_1_6,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,6
 97 | WECC_offshorewind_class3_moderate_fixed_1_7,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,7
 98 | WECC_offshorewind_class3_moderate_fixed_1_8,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,8
 99 | WECC_offshorewind_class3_moderate_fixed_1_9,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,9
100 | WECC_offshorewind_class3_moderate_fixed_0_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,0
101 | WECC_offshorewind_class3_moderate_fixed_0_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,1
102 | WECC_offshorewind_class3_moderate_fixed_0_4,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,4
103 | WECC_offshorewind_class3_moderate_fixed_0_5,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,5
104 | WECC_offshorewind_class3_moderate_fixed_0_10,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,10
105 | WECC_offshorewind_class3_moderate_fixed_0_11,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,11
106 | WECC_offshorewind_class3_moderate_fixed_0_18,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,18
107 | WECC_offshorewind_class3_moderate_fixed_0_19,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,19
108 | WECC_offshorewind_class3_moderate_fixed_0_28,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,28
109 | WECC_offshorewind_class3_moderate_fixed_0_29,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,29
110 | WECC_offshorewind_class12_moderate_floating_1_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,0
111 | WECC_offshorewind_class12_moderate_floating_1_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,1
112 | WECC_offshorewind_class12_moderate_floating_1_6,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,6
113 | WECC_offshorewind_class12_moderate_floating_1_7,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,7
114 | WECC_offshorewind_class12_moderate_floating_1_18,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,18
115 | WECC_offshorewind_class12_moderate_floating_1_19,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,19
116 | WECC_offshorewind_class12_moderate_floating_1_38,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,38
117 | WECC_offshorewind_class12_moderate_floating_1_39,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,39
118 | WECC_offshorewind_class12_moderate_floating_1_68,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,68
119 | WECC_offshorewind_class12_moderate_floating_1_69,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,69
120 | WECC_offshorewind_class12_moderate_floating_0_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,0
121 | WECC_offshorewind_class12_moderate_floating_0_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,1
122 | WECC_offshorewind_class12_moderate_floating_0_8,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,8
123 | WECC_offshorewind_class12_moderate_floating_0_9,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,9
124 | WECC_offshorewind_class12_moderate_floating_0_28,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,28
125 | WECC_offshorewind_class12_moderate_floating_0_29,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,29
126 | WECC_offshorewind_class12_moderate_floating_0_68,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,68
127 | WECC_offshorewind_class12_moderate_floating_0_69,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,69
128 | WECC_offshorewind_class12_moderate_floating_0_138,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,138
129 | WECC_offshorewind_class12_moderate_floating_0_139,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,139


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,New_Build,Can_Retire,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,Resource_Type,technology,cluster
 2 | EIC_landbasedwind_class1_moderate_0,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
 3 | EIC_landbasedwind_class1_moderate_1,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,139803.7,-1,-1,-1,-1,17082,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
 4 | EIC_landbasedwind_class1_moderate_2,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,114313.7,-1,-1,-1,-1,17267,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
 5 | EIC_landbasedwind_class1_moderate_3,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81237.6,-1,-1,-1,-1,25483,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
 6 | EIC_landbasedwind_class1_moderate_4,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81092.2,-1,-1,-1,-1,16488,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
 7 | EIC_landbasedwind_class1_moderate_5,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,54453.3,-1,-1,-1,-1,25720,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
 8 | EIC_landbasedwind_class1_moderate_6,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,82417.2,-1,-1,-1,-1,21224,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
 9 | EIC_landbasedwind_class1_moderate_7,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,26531.1,-1,-1,-1,-1,32633,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
10 | EIC_landbasedwind_class1_moderate_8,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,58187.4,-1,-1,-1,-1,28526,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
11 | EIC_landbasedwind_class1_moderate_9,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,194921.8,-1,-1,-1,-1,244462,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
12 | EIC_storage_metalair_advanced_0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,standalone_storage,Storage_MetalAir_Advanced,0
13 | TRE_landbasedwind_class1_moderate_0,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,20796.6,-1,-1,-1,-1,14393,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,0
14 | TRE_landbasedwind_class1_moderate_1,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,27529.5,-1,-1,-1,-1,20298,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,1
15 | TRE_landbasedwind_class1_moderate_2,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22035.5,-1,-1,-1,-1,14755,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,2
16 | TRE_landbasedwind_class1_moderate_3,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22639.4,-1,-1,-1,-1,23630,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,3
17 | TRE_landbasedwind_class1_moderate_4,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21021.7,-1,-1,-1,-1,12498,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,4
18 | TRE_landbasedwind_class1_moderate_5,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21153.5,-1,-1,-1,-1,23788,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,5
19 | TRE_landbasedwind_class1_moderate_6,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,32345.3,-1,-1,-1,-1,15633,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,6
20 | TRE_landbasedwind_class1_moderate_7,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,12398.9,-1,-1,-1,-1,29021,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,7
21 | TRE_landbasedwind_class1_moderate_8,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34789.4,-1,-1,-1,-1,40897,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,8
22 | TRE_landbasedwind_class1_moderate_9,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,2448.4,-1,-1,-1,-1,146712,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,9
23 | TRE_storage_metalair_advanced_0,2,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,standalone_storage,Storage_MetalAir_Advanced,0
24 | WECC_landbasedwind_class1_moderate_0,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109860.7,-1,-1,-1,-1,20294,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
25 | WECC_landbasedwind_class1_moderate_1,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,47257.4,-1,-1,-1,-1,19872,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
26 | WECC_landbasedwind_class1_moderate_2,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,88662.6,-1,-1,-1,-1,27185,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
27 | WECC_landbasedwind_class1_moderate_3,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,40824.7,-1,-1,-1,-1,19137,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
28 | WECC_landbasedwind_class1_moderate_4,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109163.8,-1,-1,-1,-1,26039,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
29 | WECC_landbasedwind_class1_moderate_5,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,25095.7,-1,-1,-1,-1,133609,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
30 | WECC_landbasedwind_class1_moderate_6,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,100227,-1,-1,-1,-1,29900,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
31 | WECC_landbasedwind_class1_moderate_7,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34790.4,-1,-1,-1,-1,160193,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
32 | WECC_landbasedwind_class1_moderate_8,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,64367.5,-1,-1,-1,-1,38235,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
33 | WECC_landbasedwind_class1_moderate_9,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,77014.4,-1,-1,-1,-1,274991,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
34 | WECC_storage_metalair_advanced_0,3,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,standalone_storage,Storage_MetalAir_Advanced,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
  1 | Resource,Derating_Factor_1,Derating_Factor_2,Derating_Factor_3
  2 | EIC_advnuclear_atb_moderate_0,0.93,0,0
  3 | EIC_batteries_1,0.95,0,0
  4 | EIC_battery_moderate_0,0.95,0,0
  5 | EIC_biomass_1,0.93,0,0
  6 | EIC_comm_space_heat_cool_1,0.95,0,0
  7 | EIC_comm_water_heat_1,0.95,0,0
  8 | EIC_conventional_hydroelectric_1,0.8,0,0
  9 | EIC_conventional_steam_coal_1,0.93,0,0
 10 | EIC_conventional_steam_coal_2,0.93,0,0
 11 | EIC_distributed_generation_1,0.8,0,0
 12 | EIC_hydroelectric_pumped_storage_1,0.95,0,0
 13 | EIC_natural_gas_fired_combined_cycle_1,0.93,0,0
 14 | EIC_natural_gas_fired_combined_cycle_2,0.93,0,0
 15 | EIC_natural_gas_fired_combustion_turbine_1,0.93,0,0
 16 | EIC_natural_gas_fired_combustion_turbine_2,0.93,0,0
 17 | EIC_natural_gas_internal_combustion_engine_1,0.93,0,0
 18 | EIC_natural_gas_steam_turbine_1,0.93,0,0
 19 | EIC_naturalgas_ccavgcf_moderate_0,0.93,0,0
 20 | EIC_naturalgas_ccccsavgcf_conservative_0,0.93,0,0
 21 | EIC_naturalgas_ctavgcf_moderate_0,0.93,0,0
 22 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0.93,0,0
 23 | EIC_nuclear_1,0.93,0,0
 24 | EIC_offshore_wind_turbine_1,0.8,0,0
 25 | EIC_offshorewind_class12_moderate_floating_0_0,0.8,0,0
 26 | EIC_offshorewind_class12_moderate_floating_0_1,0.8,0,0
 27 | EIC_offshorewind_class12_moderate_floating_0_138,0.8,0,0
 28 | EIC_offshorewind_class12_moderate_floating_0_139,0.8,0,0
 29 | EIC_offshorewind_class12_moderate_floating_0_28,0.8,0,0
 30 | EIC_offshorewind_class12_moderate_floating_0_29,0.8,0,0
 31 | EIC_offshorewind_class12_moderate_floating_0_68,0.8,0,0
 32 | EIC_offshorewind_class12_moderate_floating_0_69,0.8,0,0
 33 | EIC_offshorewind_class12_moderate_floating_0_8,0.8,0,0
 34 | EIC_offshorewind_class12_moderate_floating_0_9,0.8,0,0
 35 | EIC_offshorewind_class12_moderate_floating_1_0,0.8,0,0
 36 | EIC_offshorewind_class12_moderate_floating_1_1,0.8,0,0
 37 | EIC_offshorewind_class12_moderate_floating_1_18,0.8,0,0
 38 | EIC_offshorewind_class12_moderate_floating_1_19,0.8,0,0
 39 | EIC_offshorewind_class12_moderate_floating_1_38,0.8,0,0
 40 | EIC_offshorewind_class12_moderate_floating_1_39,0.8,0,0
 41 | EIC_offshorewind_class12_moderate_floating_1_6,0.8,0,0
 42 | EIC_offshorewind_class12_moderate_floating_1_68,0.8,0,0
 43 | EIC_offshorewind_class12_moderate_floating_1_69,0.8,0,0
 44 | EIC_offshorewind_class12_moderate_floating_1_7,0.8,0,0
 45 | EIC_offshorewind_class3_moderate_fixed_0_0,0.8,0,0
 46 | EIC_offshorewind_class3_moderate_fixed_0_1,0.8,0,0
 47 | EIC_offshorewind_class3_moderate_fixed_0_10,0.8,0,0
 48 | EIC_offshorewind_class3_moderate_fixed_0_11,0.8,0,0
 49 | EIC_offshorewind_class3_moderate_fixed_0_18,0.8,0,0
 50 | EIC_offshorewind_class3_moderate_fixed_0_19,0.8,0,0
 51 | EIC_offshorewind_class3_moderate_fixed_0_28,0.8,0,0
 52 | EIC_offshorewind_class3_moderate_fixed_0_29,0.8,0,0
 53 | EIC_offshorewind_class3_moderate_fixed_0_4,0.8,0,0
 54 | EIC_offshorewind_class3_moderate_fixed_0_5,0.8,0,0
 55 | EIC_offshorewind_class3_moderate_fixed_1_0,0.8,0,0
 56 | EIC_offshorewind_class3_moderate_fixed_1_1,0.8,0,0
 57 | EIC_offshorewind_class3_moderate_fixed_1_2,0.8,0,0
 58 | EIC_offshorewind_class3_moderate_fixed_1_3,0.8,0,0
 59 | EIC_offshorewind_class3_moderate_fixed_1_4,0.8,0,0
 60 | EIC_offshorewind_class3_moderate_fixed_1_5,0.8,0,0
 61 | EIC_offshorewind_class3_moderate_fixed_1_6,0.8,0,0
 62 | EIC_offshorewind_class3_moderate_fixed_1_7,0.8,0,0
 63 | EIC_offshorewind_class3_moderate_fixed_1_8,0.8,0,0
 64 | EIC_offshorewind_class3_moderate_fixed_1_9,0.8,0,0
 65 | EIC_onshore_wind_turbine_1,0.8,0,0
 66 | EIC_petroleum_liquids_1,0.93,0,0
 67 | EIC_res_space_heat_cool_1,0.95,0,0
 68 | EIC_res_water_heat_1,0.95,0,0
 69 | EIC_small_hydroelectric_1,0.8,0,0
 70 | EIC_solar_photovoltaic_1,0.8,0,0
 71 | EIC_trans_light_duty_1,0.95,0,0
 72 | TRE_advnuclear_atb_moderate_0,0,0.93,0
 73 | TRE_batteries_1,0,0.95,0
 74 | TRE_battery_moderate_0,0,0.95,0
 75 | TRE_biomass_1,0,0.93,0
 76 | TRE_comm_space_heat_cool_1,0,0.95,0
 77 | TRE_comm_water_heat_1,0,0.95,0
 78 | TRE_conventional_hydroelectric_1,0,0.8,0
 79 | TRE_conventional_steam_coal_1,0,0.93,0
 80 | TRE_conventional_steam_coal_2,0,0.93,0
 81 | TRE_distributed_generation_1,0,0.8,0
 82 | TRE_natural_gas_fired_combined_cycle_1,0,0.93,0
 83 | TRE_natural_gas_fired_combined_cycle_2,0,0.93,0
 84 | TRE_natural_gas_fired_combustion_turbine_1,0,0.93,0
 85 | TRE_natural_gas_fired_combustion_turbine_2,0,0.93,0
 86 | TRE_natural_gas_internal_combustion_engine_1,0,0.93,0
 87 | TRE_natural_gas_steam_turbine_1,0,0.93,0
 88 | TRE_naturalgas_ccavgcf_moderate_0,0,0.93,0
 89 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0.93,0
 90 | TRE_naturalgas_ctavgcf_moderate_0,0,0.93,0
 91 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0.93,0
 92 | TRE_nuclear_1,0,0.93,0
 93 | TRE_offshorewind_class12_moderate_floating_0_0,0,0.8,0
 94 | TRE_offshorewind_class12_moderate_floating_0_1,0,0.8,0
 95 | TRE_offshorewind_class12_moderate_floating_0_138,0,0.8,0
 96 | TRE_offshorewind_class12_moderate_floating_0_139,0,0.8,0
 97 | TRE_offshorewind_class12_moderate_floating_0_28,0,0.8,0
 98 | TRE_offshorewind_class12_moderate_floating_0_29,0,0.8,0
 99 | TRE_offshorewind_class12_moderate_floating_0_68,0,0.8,0
100 | TRE_offshorewind_class12_moderate_floating_0_69,0,0.8,0
101 | TRE_offshorewind_class12_moderate_floating_0_8,0,0.8,0
102 | TRE_offshorewind_class12_moderate_floating_0_9,0,0.8,0
103 | TRE_offshorewind_class12_moderate_floating_1_0,0,0.8,0
104 | TRE_offshorewind_class12_moderate_floating_1_1,0,0.8,0
105 | TRE_offshorewind_class12_moderate_floating_1_18,0,0.8,0
106 | TRE_offshorewind_class12_moderate_floating_1_19,0,0.8,0
107 | TRE_offshorewind_class12_moderate_floating_1_38,0,0.8,0
108 | TRE_offshorewind_class12_moderate_floating_1_39,0,0.8,0
109 | TRE_offshorewind_class12_moderate_floating_1_6,0,0.8,0
110 | TRE_offshorewind_class12_moderate_floating_1_68,0,0.8,0
111 | TRE_offshorewind_class12_moderate_floating_1_69,0,0.8,0
112 | TRE_offshorewind_class12_moderate_floating_1_7,0,0.8,0
113 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0.8,0
114 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0.8,0
115 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0.8,0
116 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0.8,0
117 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0.8,0
118 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0.8,0
119 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0.8,0
120 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0.8,0
121 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0.8,0
122 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0.8,0
123 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0.8,0
124 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0.8,0
125 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0.8,0
126 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0.8,0
127 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0.8,0
128 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0.8,0
129 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0.8,0
130 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0.8,0
131 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0.8,0
132 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0.8,0
133 | TRE_onshore_wind_turbine_1,0,0.8,0
134 | TRE_petroleum_liquids_1,0,0.93,0
135 | TRE_res_space_heat_cool_1,0,0.95,0
136 | TRE_res_water_heat_1,0,0.95,0
137 | TRE_small_hydroelectric_1,0,0.8,0
138 | TRE_solar_photovoltaic_1,0,0.8,0
139 | TRE_trans_light_duty_1,0,0.95,0
140 | WECC_advnuclear_atb_moderate_0,0,0,0.93
141 | WECC_batteries_1,0,0,0.95
142 | WECC_battery_moderate_0,0,0,0.95
143 | WECC_biomass_1,0,0,0.93
144 | WECC_comm_space_heat_cool_1,0,0,0.95
145 | WECC_comm_water_heat_1,0,0,0.95
146 | WECC_conventional_hydroelectric_1,0,0,0.8
147 | WECC_conventional_steam_coal_1,0,0,0.93
148 | WECC_conventional_steam_coal_2,0,0,0.93
149 | WECC_distributed_generation_1,0,0,0.8
150 | WECC_geothermal_1,0,0,0.93
151 | WECC_hydroelectric_pumped_storage_1,0,0,0.95
152 | WECC_natural_gas_fired_combined_cycle_1,0,0,0.93
153 | WECC_natural_gas_fired_combined_cycle_2,0,0,0.93
154 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0.93
155 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0.93
156 | WECC_natural_gas_internal_combustion_engine_1,0,0,0.93
157 | WECC_natural_gas_steam_turbine_1,0,0,0.93
158 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0.93
159 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0.93
160 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0.93
161 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.93
162 | WECC_nuclear_1,0,0,0.93
163 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0.8
164 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0.8
165 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0.8
166 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0.8
167 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0.8
168 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0.8
169 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0.8
170 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0.8
171 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0.8
172 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0.8
173 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0.8
174 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0.8
175 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0.8
176 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0.8
177 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0.8
178 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0.8
179 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0.8
180 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0.8
181 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0.8
182 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0.8
183 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0.8
184 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0.8
185 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0.8
186 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0.8
187 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0.8
188 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0.8
189 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0.8
190 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0.8
191 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0.8
192 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0.8
193 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0.8
194 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0.8
195 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0.8
196 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0.8
197 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0.8
198 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0.8
199 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0.8
200 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0.8
201 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0.8
202 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0.8
203 | WECC_onshore_wind_turbine_1,0,0,0.8
204 | WECC_petroleum_liquids_1,0,0,0.93
205 | WECC_res_space_heat_cool_1,0,0,0.95
206 | WECC_res_water_heat_1,0,0,0.95
207 | WECC_small_hydroelectric_1,0,0,0.8
208 | WECC_solar_photovoltaic_1,0,0,0.8
209 | WECC_trans_light_duty_1,0,0,0.95
210 | EIC_landbasedwind_class1_moderate_0,0.95,0,0
211 | EIC_landbasedwind_class1_moderate_1,0.95,0,0
212 | EIC_landbasedwind_class1_moderate_2,0.95,0,0
213 | EIC_landbasedwind_class1_moderate_3,0.95,0,0
214 | EIC_landbasedwind_class1_moderate_4,0.95,0,0
215 | EIC_landbasedwind_class1_moderate_5,0.95,0,0
216 | EIC_landbasedwind_class1_moderate_6,0.95,0,0
217 | EIC_landbasedwind_class1_moderate_7,0.95,0,0
218 | EIC_landbasedwind_class1_moderate_8,0.95,0,0
219 | EIC_landbasedwind_class1_moderate_9,0.95,0,0
220 | EIC_storage_metalair_advanced_0,0.95,0,0
221 | TRE_landbasedwind_class1_moderate_0,0,0.95,0
222 | TRE_landbasedwind_class1_moderate_1,0,0.95,0
223 | TRE_landbasedwind_class1_moderate_2,0,0.95,0
224 | TRE_landbasedwind_class1_moderate_3,0,0.95,0
225 | TRE_landbasedwind_class1_moderate_4,0,0.95,0
226 | TRE_landbasedwind_class1_moderate_5,0,0.95,0
227 | TRE_landbasedwind_class1_moderate_6,0,0.95,0
228 | TRE_landbasedwind_class1_moderate_7,0,0.95,0
229 | TRE_landbasedwind_class1_moderate_8,0,0.95,0
230 | TRE_landbasedwind_class1_moderate_9,0,0.95,0
231 | TRE_storage_metalair_advanced_0,0,0.95,0
232 | WECC_landbasedwind_class1_moderate_0,0,0,0.95
233 | WECC_landbasedwind_class1_moderate_1,0,0,0.95
234 | WECC_landbasedwind_class1_moderate_2,0,0,0.95
235 | WECC_landbasedwind_class1_moderate_3,0,0,0.95
236 | WECC_landbasedwind_class1_moderate_4,0,0,0.95
237 | WECC_landbasedwind_class1_moderate_5,0,0,0.95
238 | WECC_landbasedwind_class1_moderate_6,0,0,0.95
239 | WECC_landbasedwind_class1_moderate_7,0,0,0.95
240 | WECC_landbasedwind_class1_moderate_8,0,0,0.95
241 | WECC_landbasedwind_class1_moderate_9,0,0,0.95
242 | WECC_storage_metalair_advanced_0,0,0,0.95


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3,Max_Cap_Stor_1,Max_Cap_Solar_1,Max_Cap_Wind_1,Max_Cap_Stor_2,Max_Cap_Solar_2,Max_Cap_Wind_2,Max_Cap_Stor_3,Max_Cap_Solar_3,Max_Cap_Wind_3
2 | EIC_landbasedwind_class1_moderate_0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
  1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
  2 | EIC_storage_metalair_advanced_0,0,0,0
  3 | EIC_landbasedwind_class1_moderate_0,0,0,0
  4 | EIC_landbasedwind_class1_moderate_1,0,0,0
  5 | EIC_landbasedwind_class1_moderate_2,0,0,0
  6 | EIC_landbasedwind_class1_moderate_3,0,0,0
  7 | EIC_landbasedwind_class1_moderate_4,0,0,0
  8 | EIC_landbasedwind_class1_moderate_5,0,0,0
  9 | EIC_landbasedwind_class1_moderate_6,0,0,0
 10 | EIC_landbasedwind_class1_moderate_7,0,0,0
 11 | EIC_landbasedwind_class1_moderate_8,0,0,0
 12 | EIC_landbasedwind_class1_moderate_9,0,0,0
 13 | TRE_storage_metalair_advanced_0,0,0,0
 14 | TRE_landbasedwind_class1_moderate_0,0,0,0
 15 | TRE_landbasedwind_class1_moderate_1,0,0,0
 16 | TRE_landbasedwind_class1_moderate_2,0,0,0
 17 | TRE_landbasedwind_class1_moderate_3,0,0,0
 18 | TRE_landbasedwind_class1_moderate_4,0,0,0
 19 | TRE_landbasedwind_class1_moderate_5,0,0,0
 20 | TRE_landbasedwind_class1_moderate_6,0,0,0
 21 | TRE_landbasedwind_class1_moderate_7,0,0,0
 22 | TRE_landbasedwind_class1_moderate_8,0,0,0
 23 | TRE_landbasedwind_class1_moderate_9,0,0,0
 24 | WECC_storage_metalair_advanced_0,0,0,0
 25 | WECC_landbasedwind_class1_moderate_0,0,0,0
 26 | WECC_landbasedwind_class1_moderate_1,0,0,0
 27 | WECC_landbasedwind_class1_moderate_2,0,0,0
 28 | WECC_landbasedwind_class1_moderate_3,0,0,0
 29 | WECC_landbasedwind_class1_moderate_4,0,0,0
 30 | WECC_landbasedwind_class1_moderate_5,0,0,0
 31 | WECC_landbasedwind_class1_moderate_6,0,0,0
 32 | WECC_landbasedwind_class1_moderate_7,0,0,0
 33 | WECC_landbasedwind_class1_moderate_8,0,0,0
 34 | WECC_landbasedwind_class1_moderate_9,0,0,0
 35 | WECC_trans_light_duty_1,0,0,0
 36 | EIC_trans_light_duty_1,0,0,0
 37 | TRE_trans_light_duty_1,0,0,0
 38 | WECC_comm_water_heat_1,0,0,0
 39 | EIC_comm_water_heat_1,0,0,0
 40 | TRE_comm_water_heat_1,0,0,0
 41 | WECC_res_water_heat_1,0,0,0
 42 | EIC_res_water_heat_1,0,0,0
 43 | TRE_res_water_heat_1,0,0,0
 44 | WECC_comm_space_heat_cool_1,0,0,0
 45 | EIC_comm_space_heat_cool_1,0,0,0
 46 | TRE_comm_space_heat_cool_1,0,0,0
 47 | WECC_res_space_heat_cool_1,0,0,0
 48 | EIC_res_space_heat_cool_1,0,0,0
 49 | TRE_res_space_heat_cool_1,0,0,0
 50 | EIC_conventional_hydroelectric_1,0,0,0
 51 | TRE_conventional_hydroelectric_1,0,0,0
 52 | WECC_conventional_hydroelectric_1,0,0,0
 53 | EIC_biomass_1,0,0,0
 54 | EIC_small_hydroelectric_1,0,0,0
 55 | TRE_biomass_1,0,0,0
 56 | TRE_small_hydroelectric_1,0,0,0
 57 | WECC_biomass_1,0,0,0
 58 | WECC_small_hydroelectric_1,0,0,0
 59 | WECC_distributed_generation_1,0,0,0
 60 | EIC_distributed_generation_1,0,0,0
 61 | TRE_distributed_generation_1,0,0,0
 62 | EIC_batteries_1,0,0,0
 63 | EIC_hydroelectric_pumped_storage_1,0,0,0
 64 | TRE_batteries_1,0,0,0
 65 | WECC_batteries_1,0,0,0
 66 | WECC_hydroelectric_pumped_storage_1,0,0,0
 67 | EIC_battery_moderate_0,0,0,0
 68 | TRE_battery_moderate_0,0,0,0
 69 | WECC_battery_moderate_0,0,0,0
 70 | EIC_conventional_steam_coal_1,0,0,0
 71 | EIC_conventional_steam_coal_2,0,0,0
 72 | EIC_natural_gas_fired_combined_cycle_1,0,0,0
 73 | EIC_natural_gas_fired_combined_cycle_2,0,0,0
 74 | EIC_natural_gas_fired_combustion_turbine_1,0,0,0
 75 | EIC_natural_gas_fired_combustion_turbine_2,0,0,0
 76 | EIC_natural_gas_internal_combustion_engine_1,0,0,0
 77 | EIC_natural_gas_steam_turbine_1,0,0,0
 78 | EIC_nuclear_1,0,0,0
 79 | EIC_petroleum_liquids_1,0,0,0
 80 | TRE_conventional_steam_coal_1,0,0,0
 81 | TRE_conventional_steam_coal_2,0,0,0
 82 | TRE_natural_gas_fired_combined_cycle_1,0,0,0
 83 | TRE_natural_gas_fired_combined_cycle_2,0,0,0
 84 | TRE_natural_gas_fired_combustion_turbine_1,0,0,0
 85 | TRE_natural_gas_fired_combustion_turbine_2,0,0,0
 86 | TRE_natural_gas_internal_combustion_engine_1,0,0,0
 87 | TRE_natural_gas_steam_turbine_1,0,0,0
 88 | TRE_nuclear_1,0,0,0
 89 | TRE_petroleum_liquids_1,0,0,0
 90 | WECC_conventional_steam_coal_1,0,0,0
 91 | WECC_conventional_steam_coal_2,0,0,0
 92 | WECC_natural_gas_fired_combined_cycle_1,0,0,0
 93 | WECC_natural_gas_fired_combined_cycle_2,0,0,0
 94 | WECC_natural_gas_fired_combustion_turbine_1,0,0,0
 95 | WECC_natural_gas_fired_combustion_turbine_2,0,0,0
 96 | WECC_natural_gas_internal_combustion_engine_1,0,0,0
 97 | WECC_natural_gas_steam_turbine_1,0,0,0
 98 | WECC_nuclear_1,0,0,0
 99 | WECC_petroleum_liquids_1,0,0,0
100 | EIC_naturalgas_ccavgcf_moderate_0,0,0,0
101 | EIC_naturalgas_ctavgcf_moderate_0,0,0,0
102 | EIC_naturalgas_ccccsavgcf_conservative_0,0,0,0
103 | EIC_advnuclear_atb_moderate_0,0,0,0
104 | TRE_naturalgas_ccavgcf_moderate_0,0,0,0
105 | TRE_naturalgas_ctavgcf_moderate_0,0,0,0
106 | TRE_naturalgas_ccccsavgcf_conservative_0,0,0,0
107 | TRE_advnuclear_atb_moderate_0,0,0,0
108 | WECC_naturalgas_ccavgcf_moderate_0,0,0,0
109 | WECC_naturalgas_ctavgcf_moderate_0,0,0,0
110 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0,0
111 | WECC_advnuclear_atb_moderate_0,0,0,0
112 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
113 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
114 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0
115 | EIC_offshore_wind_turbine_1,0,0,0
116 | EIC_onshore_wind_turbine_1,0,0,0
117 | EIC_solar_photovoltaic_1,0,0,0
118 | TRE_onshore_wind_turbine_1,0,0,0
119 | TRE_solar_photovoltaic_1,0,0,0
120 | WECC_geothermal_1,0,0,0
121 | WECC_onshore_wind_turbine_1,0,0,0
122 | WECC_solar_photovoltaic_1,0,0,0
123 | EIC_offshorewind_class3_moderate_fixed_1_0,0,0,0
124 | EIC_offshorewind_class3_moderate_fixed_1_1,0,0,0
125 | EIC_offshorewind_class3_moderate_fixed_1_2,0,0,0
126 | EIC_offshorewind_class3_moderate_fixed_1_3,0,0,0
127 | EIC_offshorewind_class3_moderate_fixed_1_4,0,0,0
128 | EIC_offshorewind_class3_moderate_fixed_1_5,0,0,0
129 | EIC_offshorewind_class3_moderate_fixed_1_6,0,0,0
130 | EIC_offshorewind_class3_moderate_fixed_1_7,0,0,0
131 | EIC_offshorewind_class3_moderate_fixed_1_8,0,0,0
132 | EIC_offshorewind_class3_moderate_fixed_1_9,0,0,0
133 | EIC_offshorewind_class3_moderate_fixed_0_0,0,0,0
134 | EIC_offshorewind_class3_moderate_fixed_0_1,0,0,0
135 | EIC_offshorewind_class3_moderate_fixed_0_4,0,0,0
136 | EIC_offshorewind_class3_moderate_fixed_0_5,0,0,0
137 | EIC_offshorewind_class3_moderate_fixed_0_10,0,0,0
138 | EIC_offshorewind_class3_moderate_fixed_0_11,0,0,0
139 | EIC_offshorewind_class3_moderate_fixed_0_18,0,0,0
140 | EIC_offshorewind_class3_moderate_fixed_0_19,0,0,0
141 | EIC_offshorewind_class3_moderate_fixed_0_28,0,0,0
142 | EIC_offshorewind_class3_moderate_fixed_0_29,0,0,0
143 | EIC_offshorewind_class12_moderate_floating_1_0,0,0,0
144 | EIC_offshorewind_class12_moderate_floating_1_1,0,0,0
145 | EIC_offshorewind_class12_moderate_floating_1_6,0,0,0
146 | EIC_offshorewind_class12_moderate_floating_1_7,0,0,0
147 | EIC_offshorewind_class12_moderate_floating_1_18,0,0,0
148 | EIC_offshorewind_class12_moderate_floating_1_19,0,0,0
149 | EIC_offshorewind_class12_moderate_floating_1_38,0,0,0
150 | EIC_offshorewind_class12_moderate_floating_1_39,0,0,0
151 | EIC_offshorewind_class12_moderate_floating_1_68,0,0,0
152 | EIC_offshorewind_class12_moderate_floating_1_69,0,0,0
153 | EIC_offshorewind_class12_moderate_floating_0_0,0,0,0
154 | EIC_offshorewind_class12_moderate_floating_0_1,0,0,0
155 | EIC_offshorewind_class12_moderate_floating_0_8,0,0,0
156 | EIC_offshorewind_class12_moderate_floating_0_9,0,0,0
157 | EIC_offshorewind_class12_moderate_floating_0_28,0,0,0
158 | EIC_offshorewind_class12_moderate_floating_0_29,0,0,0
159 | EIC_offshorewind_class12_moderate_floating_0_68,0,0,0
160 | EIC_offshorewind_class12_moderate_floating_0_69,0,0,0
161 | EIC_offshorewind_class12_moderate_floating_0_138,0,0,0
162 | EIC_offshorewind_class12_moderate_floating_0_139,0,0,0
163 | TRE_offshorewind_class3_moderate_fixed_1_0,0,0,0
164 | TRE_offshorewind_class3_moderate_fixed_1_1,0,0,0
165 | TRE_offshorewind_class3_moderate_fixed_1_2,0,0,0
166 | TRE_offshorewind_class3_moderate_fixed_1_3,0,0,0
167 | TRE_offshorewind_class3_moderate_fixed_1_4,0,0,0
168 | TRE_offshorewind_class3_moderate_fixed_1_5,0,0,0
169 | TRE_offshorewind_class3_moderate_fixed_1_6,0,0,0
170 | TRE_offshorewind_class3_moderate_fixed_1_7,0,0,0
171 | TRE_offshorewind_class3_moderate_fixed_1_8,0,0,0
172 | TRE_offshorewind_class3_moderate_fixed_1_9,0,0,0
173 | TRE_offshorewind_class3_moderate_fixed_0_0,0,0,0
174 | TRE_offshorewind_class3_moderate_fixed_0_1,0,0,0
175 | TRE_offshorewind_class3_moderate_fixed_0_4,0,0,0
176 | TRE_offshorewind_class3_moderate_fixed_0_5,0,0,0
177 | TRE_offshorewind_class3_moderate_fixed_0_10,0,0,0
178 | TRE_offshorewind_class3_moderate_fixed_0_11,0,0,0
179 | TRE_offshorewind_class3_moderate_fixed_0_18,0,0,0
180 | TRE_offshorewind_class3_moderate_fixed_0_19,0,0,0
181 | TRE_offshorewind_class3_moderate_fixed_0_28,0,0,0
182 | TRE_offshorewind_class3_moderate_fixed_0_29,0,0,0
183 | TRE_offshorewind_class12_moderate_floating_1_0,0,0,0
184 | TRE_offshorewind_class12_moderate_floating_1_1,0,0,0
185 | TRE_offshorewind_class12_moderate_floating_1_6,0,0,0
186 | TRE_offshorewind_class12_moderate_floating_1_7,0,0,0
187 | TRE_offshorewind_class12_moderate_floating_1_18,0,0,0
188 | TRE_offshorewind_class12_moderate_floating_1_19,0,0,0
189 | TRE_offshorewind_class12_moderate_floating_1_38,0,0,0
190 | TRE_offshorewind_class12_moderate_floating_1_39,0,0,0
191 | TRE_offshorewind_class12_moderate_floating_1_68,0,0,0
192 | TRE_offshorewind_class12_moderate_floating_1_69,0,0,0
193 | TRE_offshorewind_class12_moderate_floating_0_0,0,0,0
194 | TRE_offshorewind_class12_moderate_floating_0_1,0,0,0
195 | TRE_offshorewind_class12_moderate_floating_0_8,0,0,0
196 | TRE_offshorewind_class12_moderate_floating_0_9,0,0,0
197 | TRE_offshorewind_class12_moderate_floating_0_28,0,0,0
198 | TRE_offshorewind_class12_moderate_floating_0_29,0,0,0
199 | TRE_offshorewind_class12_moderate_floating_0_68,0,0,0
200 | TRE_offshorewind_class12_moderate_floating_0_69,0,0,0
201 | TRE_offshorewind_class12_moderate_floating_0_138,0,0,0
202 | TRE_offshorewind_class12_moderate_floating_0_139,0,0,0
203 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0,0
204 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0,0
205 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0,0
206 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0,0
207 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0,0
208 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0,0
209 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0,0
210 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0,0
211 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0,0
212 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0,0
213 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0,0
214 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0,0
215 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0,0
216 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0,0
217 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0,0
218 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0,0
219 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0,0
220 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0,0
221 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0
222 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0
223 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0
224 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0
225 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0
226 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0
227 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0
228 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0
229 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0
230 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0
231 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0
232 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0
233 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0
234 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0
235 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0
236 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0
237 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0
238 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0
239 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0
240 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0
241 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0
242 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0


--------------------------------------------------------------------------------
/test/VRE_storage/wind/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
 2 | 2000,1,1,1,2000,1,24,8760,1,433055,56250,158195
 3 | ,2,0.9,0.04,1800,,,,2,406808,53975,151211
 4 | ,3,0.55,0.024,1100,,,,3,394480,51413,144460
 5 | ,4,0.2,0.003,400,,,,4,389845,50217,137745
 6 | ,,,,,,,,5,387098,49407,131059
 7 | ,,,,,,,,6,392355,48847,129242
 8 | ,,,,,,,,7,404654,49928,127643
 9 | ,,,,,,,,8,416313,52099,127594
10 | ,,,,,,,,9,428156,53971,131035
11 | ,,,,,,,,10,443175,56180,136863
12 | ,,,,,,,,11,461485,59324,140327
13 | ,,,,,,,,12,478750,61430,146574
14 | ,,,,,,,,13,500639,63720,153859
15 | ,,,,,,,,14,510242,66292,160582
16 | ,,,,,,,,15,512939,66236,167097
17 | ,,,,,,,,16,520359,66270,172644
18 | ,,,,,,,,17,542617,66603,173528
19 | ,,,,,,,,18,567183,68052,174662
20 | ,,,,,,,,19,589765,70029,179348
21 | ,,,,,,,,20,597606,78675,189488
22 | ,,,,,,,,21,578601,79796,200159
23 | ,,,,,,,,22,551207,77624,206282
24 | ,,,,,,,,23,519544,74795,201139
25 | ,,,,,,,,24,480627,70153,190159
26 | 


--------------------------------------------------------------------------------
/test/VRE_storage/wind/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,None,biomass,east_north_central_coal,east_north_central_naturalgas,east_north_central_uranium,east_north_central_distillate,west_south_central_coal,west_south_central_naturalgas,west_south_central_uranium,west_south_central_distillate,mountain_coal,mountain_naturalgas,mountain_uranium,mountain_distillate,zerocarbon_fuel
 2 | 0,0,0,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0
 3 | 1,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 4 | 2,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 5 | 3,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 6 | 4,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 7 | 5,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 8 | 6,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 9 | 7,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
10 | 8,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
11 | 9,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
12 | 10,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
13 | 11,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
14 | 12,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
15 | 13,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
16 | 14,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
17 | 15,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
18 | 16,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
19 | 17,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
20 | 18,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
21 | 19,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
22 | 20,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
23 | 21,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
24 | 22,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
25 | 23,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
26 | 24,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20


--------------------------------------------------------------------------------
/test/VRE_storage/wind/system/Network.csv:
--------------------------------------------------------------------------------
1 | Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,Line_Min_Flow_MW,transmission_path_name,Line_Reinforcement_Cost_per_MWyr,Line_Reinforcement_Cost_per_MW,Line_Loss_Percentage,Line_Max_Reinforcement_MW,DerateCapRes_1,CapRes_Excl_1,DerateCapRes_2,CapRes_Excl_2,DerateCapRes_3,CapRes_Excl_3
2 | z1,1.0,1,2,820.0,820.0,EIC_to_TRE,45958.0,948772.0,0.0649,410.0,0.95,0.0,0.95,0.0,0.95,0.0
3 | z2,2.0,1,3,1830.0,1830.0,EIC_to_WECC,71600.0,1478140.0,0.1001,915.0,0.95,0.0,0.95,0.0,0.95,0.0
4 | z3,,,,,,,,,,,,,,,,
5 | 


--------------------------------------------------------------------------------
/test/VRE_storage/wind/system/Vre_and_stor_wind_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_landbasedwind_class1_moderate_0,EIC_landbasedwind_class1_moderate_1,EIC_landbasedwind_class1_moderate_2,EIC_landbasedwind_class1_moderate_3,EIC_landbasedwind_class1_moderate_4,EIC_landbasedwind_class1_moderate_5,EIC_landbasedwind_class1_moderate_6,EIC_landbasedwind_class1_moderate_7,EIC_landbasedwind_class1_moderate_8,EIC_landbasedwind_class1_moderate_9,TRE_landbasedwind_class1_moderate_0,TRE_landbasedwind_class1_moderate_1,TRE_landbasedwind_class1_moderate_2,TRE_landbasedwind_class1_moderate_3,TRE_landbasedwind_class1_moderate_4,TRE_landbasedwind_class1_moderate_5,TRE_landbasedwind_class1_moderate_6,TRE_landbasedwind_class1_moderate_7,TRE_landbasedwind_class1_moderate_8,TRE_landbasedwind_class1_moderate_9,WECC_landbasedwind_class1_moderate_0,WECC_landbasedwind_class1_moderate_1,WECC_landbasedwind_class1_moderate_2,WECC_landbasedwind_class1_moderate_3,WECC_landbasedwind_class1_moderate_4,WECC_landbasedwind_class1_moderate_5,WECC_landbasedwind_class1_moderate_6,WECC_landbasedwind_class1_moderate_7,WECC_landbasedwind_class1_moderate_8,WECC_landbasedwind_class1_moderate_9
 2 | 1,0.966,0.978,0.936,0.939,0.867,0.752,0.666,0.527,0.548,0.98,0.84,0.705,0.752,0.794,0.614,0.749,0.485,0.799,0.637,1,0.814,0.752,0.532,0.49,0.407,0.945,0.371,0.889,0.325,0.969
 3 | 2,0.972,0.978,0.945,0.947,0.877,0.72,0.648,0.442,0.546,0.993,0.848,0.671,0.783,0.787,0.686,0.718,0.497,0.75,0.624,1,0.749,0.739,0.509,0.452,0.377,0.948,0.333,0.89,0.298,0.967
 4 | 3,0.967,0.978,0.951,0.946,0.899,0.694,0.644,0.435,0.533,0.985,0.872,0.858,0.805,0.826,0.641,0.622,0.469,0.513,0.646,1,0.594,0.705,0.459,0.373,0.366,0.929,0.341,0.855,0.327,0.962
 5 | 4,0.969,0.967,0.95,0.878,0.889,0.68,0.668,0.424,0.528,0.983,0.856,0.972,0.771,0.866,0.554,0.652,0.51,0.463,0.717,1,0.514,0.708,0.437,0.353,0.35,0.865,0.351,0.746,0.343,0.924
 6 | 5,0.953,0.949,0.95,0.834,0.898,0.688,0.681,0.389,0.456,0.974,0.8,0.929,0.71,0.806,0.619,0.66,0.702,0.634,0.861,0.996,0.436,0.614,0.418,0.367,0.351,0.751,0.342,0.644,0.323,0.735
 7 | 6,0.953,0.946,0.956,0.852,0.911,0.735,0.691,0.401,0.514,0.961,0.749,0.895,0.737,0.697,0.763,0.512,0.88,0.307,0.951,0.954,0.424,0.585,0.375,0.353,0.338,0.783,0.328,0.726,0.303,0.695
 8 | 7,0.95,0.949,0.954,0.842,0.915,0.766,0.69,0.415,0.581,0.936,0.758,0.896,0.802,0.68,0.851,0.476,0.889,0.219,0.92,0.788,0.391,0.56,0.357,0.349,0.345,0.791,0.335,0.822,0.29,0.689
 9 | 8,0.917,0.885,0.937,0.85,0.93,0.785,0.683,0.467,0.529,0.839,0.789,0.911,0.847,0.709,0.962,0.523,0.899,0.252,0.838,0.434,0.338,0.493,0.321,0.299,0.304,0.643,0.286,0.682,0.247,0.485
10 | 9,0.876,0.828,0.928,0.881,0.952,0.816,0.728,0.528,0.628,0.82,0.816,0.934,0.927,0.819,0.986,0.688,0.93,0.369,0.844,0.266,0.387,0.552,0.359,0.323,0.325,0.764,0.319,0.845,0.288,0.531
11 | 10,0.594,0.483,0.704,0.571,0.579,0.519,0.219,0.152,0.055,0.58,0.414,0.467,0.578,0.451,0.652,0.512,0.563,0.354,0.332,0.117,0.183,0.342,0.184,0.217,0.198,0.273,0.16,0.237,0.13,0.247
12 | 11,0.662,0.526,0.752,0.604,0.669,0.53,0.314,0.176,0.097,0.598,0.514,0.564,0.658,0.596,0.753,0.65,0.679,0.559,0.427,0.092,0.179,0.315,0.177,0.217,0.186,0.262,0.161,0.159,0.142,0.171
13 | 12,0.78,0.672,0.825,0.762,0.704,0.606,0.435,0.271,0.25,0.662,0.783,0.857,0.826,0.828,0.878,0.848,0.79,0.902,0.496,0.101,0.202,0.323,0.189,0.203,0.194,0.324,0.157,0.23,0.147,0.235
14 | 13,0.785,0.714,0.807,0.726,0.7,0.596,0.489,0.355,0.406,0.664,0.771,0.815,0.838,0.768,0.888,0.838,0.762,0.897,0.487,0.069,0.268,0.346,0.203,0.189,0.184,0.318,0.138,0.194,0.129,0.365
15 | 14,0.714,0.629,0.772,0.636,0.698,0.587,0.499,0.435,0.518,0.654,0.59,0.661,0.733,0.583,0.839,0.714,0.694,0.739,0.441,0.004,0.303,0.334,0.211,0.161,0.18,0.497,0.126,0.455,0.132,0.679
16 | 15,0.728,0.659,0.771,0.624,0.704,0.575,0.497,0.464,0.42,0.693,0.549,0.623,0.733,0.473,0.853,0.536,0.632,0.407,0.395,0,0.269,0.285,0.19,0.161,0.149,0.478,0.106,0.398,0.113,0.681
17 | 16,0.754,0.698,0.792,0.657,0.736,0.6,0.481,0.427,0.414,0.732,0.549,0.547,0.738,0.445,0.861,0.566,0.643,0.514,0.376,0,0.223,0.278,0.168,0.169,0.144,0.441,0.104,0.352,0.106,0.717
18 | 17,0.761,0.692,0.794,0.659,0.729,0.601,0.468,0.374,0.366,0.742,0.589,0.581,0.746,0.462,0.82,0.533,0.625,0.47,0.421,0,0.202,0.239,0.158,0.157,0.139,0.378,0.097,0.215,0.083,0.668
19 | 18,0.703,0.645,0.787,0.654,0.923,0.745,0.786,0.92,0.786,0.754,0.516,0.508,0.677,0.433,0.849,0.502,0.603,0.374,0.402,0,0.232,0.377,0.232,0.182,0.211,0.609,0.164,0.467,0.147,0.868
20 | 19,0.673,0.637,0.755,0.641,0.847,0.748,0.813,0.926,0.87,0.74,0.633,0.57,0.744,0.505,0.834,0.536,0.568,0.405,0.363,0,0.291,0.323,0.257,0.182,0.227,0.535,0.171,0.38,0.137,0.869
21 | 20,0.717,0.598,0.801,0.668,0.885,0.777,0.835,0.915,0.919,0.713,0.642,0.514,0.753,0.469,0.813,0.494,0.566,0.294,0.445,0.003,0.241,0.308,0.298,0.198,0.256,0.446,0.19,0.315,0.144,0.73
22 | 21,0.768,0.665,0.817,0.692,0.892,0.792,0.884,0.94,0.941,0.725,0.764,0.746,0.86,0.643,0.874,0.618,0.741,0.341,0.619,0.046,0.246,0.322,0.407,0.315,0.375,0.403,0.305,0.318,0.224,0.649
23 | 22,0.797,0.689,0.841,0.702,0.959,0.802,0.927,0.94,0.951,0.714,0.816,0.702,0.864,0.736,0.889,0.783,0.839,0.646,0.738,0.189,0.226,0.332,0.44,0.373,0.429,0.46,0.361,0.35,0.281,0.575
24 | 23,0.846,0.751,0.858,0.711,0.968,0.8,0.929,0.938,0.955,0.687,0.819,0.734,0.857,0.708,0.938,0.826,0.905,0.816,0.845,0.324,0.172,0.39,0.463,0.42,0.455,0.44,0.395,0.328,0.31,0.364
25 | 24,0.842,0.766,0.855,0.694,0.972,0.793,0.92,0.941,0.952,0.675,0.837,0.767,0.854,0.705,0.948,0.826,0.918,0.869,0.83,0.157,0.202,0.448,0.463,0.416,0.444,0.483,0.4,0.393,0.344,0.428


--------------------------------------------------------------------------------
/test/compute_conflicts/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: choose             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | #highs-specific solver settings
10 | 
11 | # run the crossover routine for ipx
12 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
13 | run_crossover: "on"
14 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0,0
3 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CapRes_1
2 | NE,z1,0.156
3 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,ConstraintDescription,Max_MW
2 | 1,PV,0
3 | 2,Wind,0
4 | 3,Batteries,0
5 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,CapRes_1,region,cluster
2 | battery,1,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,battery_mid,0.95,NE,0


--------------------------------------------------------------------------------
/test/compute_conflicts/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Resource_Type,CapRes_1,region,cluster
2 | natural_gas_combined_cycle,1,1,1,0,0,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,natural_gas_fired_combined_cycle,0.93,NE,1


--------------------------------------------------------------------------------
/test/compute_conflicts/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Resource_Type,CapRes_1,region,cluster
2 | solar_pv,1,1,1,0,0,-1,0,85300,18760,0,9.13,solar_photovoltaic,0.8,NE,1
3 | onshore_wind,1,1,1,0,0,-1,0,97200,43205,0.1,9.12,onshore_wind_turbine,0.8,NE,1


--------------------------------------------------------------------------------
/test/compute_conflicts/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
 2 | 50000,1,1,0,1,24,8760,1,11162
 3 | ,,,,,,,2,10556
 4 | ,,,,,,,3,10105
 5 | ,,,,,,,4,9878
 6 | ,,,,,,,5,9843
 7 | ,,,,,,,6,10017
 8 | ,,,,,,,7,10390
 9 | ,,,,,,,8,10727
10 | ,,,,,,,9,11298
11 | ,,,,,,,10,11859
12 | ,,,,,,,11,12196
13 | ,,,,,,,12,12321
14 | ,,,,,,,13,12381
15 | ,,,,,,,14,12270
16 | ,,,,,,,15,12149
17 | ,,,,,,,16,12219
18 | ,,,,,,,17,13410
19 | ,,,,,,,18,14539
20 | ,,,,,,,19,14454
21 | ,,,,,,,20,14012
22 | ,,,,,,,21,13494
23 | ,,,,,,,22,12772
24 | ,,,,,,,23,11877
25 | ,,,,,,,24,10874
26 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,NG
 2 | 0,0.05306
 3 | 1,5.28
 4 | 2,5.28
 5 | 3,5.28
 6 | 4,5.28
 7 | 5,5.28
 8 | 6,5.28
 9 | 7,5.28
10 | 8,5.28
11 | 9,5.28
12 | 10,5.28
13 | 11,5.28
14 | 12,5.28
15 | 13,5.28
16 | 14,5.28
17 | 15,5.28
18 | 16,5.28
19 | 17,5.28
20 | 18,5.28
21 | 19,5.28
22 | 20,5.28
23 | 21,5.28
24 | 22,5.28
25 | 23,5.28
26 | 24,5.28
27 | 


--------------------------------------------------------------------------------
/test/compute_conflicts/system/Generators_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,solar_pv,onshore_wind
 2 | 1,0,0.889717042
 3 | 2,0,0.877715468
 4 | 3,0,0.903424203
 5 | 4,0,0.895153165
 6 | 5,0,0.757258117
 7 | 6,0,0.630928695
 8 | 7,0,0.557177782
 9 | 8,0,0.6072492
10 | 9,0.1779,0.423417866
11 | 10,0.429,0.007470775
12 | 11,0.5748,0.002535942
13 | 12,0.6484,0.002153709
14 | 13,0.6208,0.00445132
15 | 14,0.596,0.007711587
16 | 15,0.5013,0.100848213
17 | 16,0.3311,0.201802149
18 | 17,0.0642,0.141933054
19 | 18,0,0.567022562
20 | 19,0,0.946024895
21 | 20,0,0.923394203
22 | 21,0,0.953386247
23 | 22,0,0.929205418
24 | 23,0,0.849528909
25 | 24,0,0.665570974
26 | 


--------------------------------------------------------------------------------
/test/electrolyzer/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-04       # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | TimeLimit: 1.0e23         # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
5 | Pre_Solve: on             # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
6 | Method: ipm               # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
7 | ipm_optimality_tolerance: 1e-04
8 | 


--------------------------------------------------------------------------------
/test/electrolyzer/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,ESR_1,ESR_2
2 | NE,z1,0.259,0.348


--------------------------------------------------------------------------------
/test/electrolyzer/policies/Hydrogen_demand.csv:
--------------------------------------------------------------------------------
1 | ï»¿H2DemandConstraint,ConstraintDescription,Hydrogen_Demand_kt,PriceCap
2 | 1,all,6000,9999


--------------------------------------------------------------------------------
/test/electrolyzer/resources/Electrolyzer.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,Zone,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Cap_Size,Resource_Type,ESR_1,ESR_2,region,cluster,Hydrogen_MWh_Per_Tonne,Electrolyzer_Min_kt,Hydrogen_Price_Per_Tonne
2 | electrolyzer,1,1,1,0,-1,-1,125000,15000,0,1,hydrogen_electrolyzer,0,1,NE,0,55,1000,1000


--------------------------------------------------------------------------------
/test/electrolyzer/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0
3 | battery_for_electrolyzer,1,1,1,1,0,0,-1,0,21542,24743,4895,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/electrolyzer/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,1,0,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/electrolyzer/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,0,-1,0,85300,18760,0,9.13,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,0,-1,0,97200,43205,0.1,9.12,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/electrolyzer/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,ESR_1,ESR_2
2 | solar_pv,1,1
3 | onshore_wind,1,1
4 | electrolyzer,0,1


--------------------------------------------------------------------------------
/test/electrolyzer/resources/policy_assignments/Resource_hourly_matching.csv:
--------------------------------------------------------------------------------
1 | Resource,Qualified_Supply
2 | solar_pv,1
3 | onshore_wind,0
4 | battery_for_electrolyzer,1
5 | 


--------------------------------------------------------------------------------
/test/electrolyzer/resources/policy_assignments/Resource_hydrogen_demand.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,H2_Demand_1
2 | electrolyzer,1


--------------------------------------------------------------------------------
/test/electrolyzer/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/electrolyzer/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/electrolyzer/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,solar_pv,onshore_wind
  2 | 1,0,0.523972332
  3 | 2,0,0.657110274
  4 | 3,0,0.757477045
  5 | 4,0,0.644009769
  6 | 5,0,0.467615873
  7 | 6,0,0.553678334
  8 | 7,0,0.77921623
  9 | 8,0,0.725531518
 10 | 9,0,0.786552846
 11 | 10,0.003,0.589495063
 12 | 11,0.0852,0.436854541
 13 | 12,0.1324,0.533977807
 14 | 13,0.1041,0.54939425
 15 | 14,0.1276,0.297182679
 16 | 15,0.1108,0.108885378
 17 | 16,0.0825,0.097908288
 18 | 17,0.0043,0.092191279
 19 | 18,0,0.112537816
 20 | 19,0,0.366680771
 21 | 20,0,0.794670165
 22 | 21,0,0.931621909
 23 | 22,0,1
 24 | 23,0,1
 25 | 24,0,1
 26 | 25,0,0.676885605
 27 | 26,0,0.738456726
 28 | 27,0,0.703836918
 29 | 28,0,0.697715104
 30 | 29,0,0.578294039
 31 | 30,0,0.478842616
 32 | 31,0,0.57159102
 33 | 32,0.0216,0.389114857
 34 | 33,0.1372,0.520889282
 35 | 34,0.3468,0.376534432
 36 | 35,0.3952,0.327963144
 37 | 36,0.4551,0.407575041
 38 | 37,0.5095,0.536571622
 39 | 38,0.5567,0.576452434
 40 | 39,0.5691,0.562025309
 41 | 40,0.4904,0.422575682
 42 | 41,0.3087,0.521396458
 43 | 42,0.1034,0.710955501
 44 | 43,0,0.683217525
 45 | 44,0,0.635520697
 46 | 45,0,0.5644238
 47 | 46,0,0.61978668
 48 | 47,0,0.516743779
 49 | 48,0,0.470443606
 50 | 49,0,0.500380576
 51 | 50,0,0.512022793
 52 | 51,0,0.404206336
 53 | 52,0,0.142279267
 54 | 53,0,0.133046106
 55 | 54,0.1356,0.133957967
 56 | 55,0.1041,0.041104347
 57 | 56,0.2399,0.029715812
 58 | 57,0.3785,0.064291924
 59 | 58,0.4837,0.043738909
 60 | 59,0.5323,0.056054953
 61 | 60,0.5114,0.101633437
 62 | 61,0.5175,0.238559932
 63 | 62,0.5099,0.194997847
 64 | 63,0.502,0.190832943
 65 | 64,0.4113,0.26438266
 66 | 65,0.3017,0.273810387
 67 | 66,0.1773,0.195969075
 68 | 67,0.0811,0.235671312
 69 | 68,0.0006,0.188544422
 70 | 69,0,0.179863051
 71 | 70,0,0.223087296
 72 | 71,0,0.457369655
 73 | 72,0,0.715852976
 74 | 73,0,0.280310601
 75 | 74,0,0.603805244
 76 | 75,0,0.741859972
 77 | 76,0,0.44207269
 78 | 77,0,0.534612
 79 | 78,0.0259,0.587511122
 80 | 79,0.096,0.48241505
 81 | 80,0.2133,0.226682097
 82 | 81,0.3624,0.376575917
 83 | 82,0.4795,0.272142261
 84 | 83,0.5633,0.132447034
 85 | 84,0.5708,0.091180928
 86 | 85,0.534,0.420845181
 87 | 86,0.5641,0.543866694
 88 | 87,0.5537,0.943579316
 89 | 88,0.457,0.83001256
 90 | 89,0.3439,0.698711514
 91 | 90,0.1642,0.536995411
 92 | 91,0.0638,0.770702124
 93 | 92,0,0.569594324
 94 | 93,0,0.668922722
 95 | 94,0,0.759383678
 96 | 95,0,0.672967851
 97 | 96,0,0.861851215
 98 | 97,0,0.000154842
 99 | 98,0,5.75e-5
100 | 99,0,7.18e-5
101 | 100,0,3.65e-5
102 | 101,0,3.0e-5
103 | 102,0,0
104 | 103,0,0.000772537
105 | 104,0,0.000930232
106 | 105,0.1029,0.000778525
107 | 106,0.2427,0.000131503
108 | 107,0.3353,0.005792293
109 | 108,0.3693,0.00257458
110 | 109,0.321,1.01e-5
111 | 110,0.2798,0.000134685
112 | 111,0.2887,0.000516413
113 | 112,0.1717,0.001232307
114 | 113,0,0.002655152
115 | 114,0,0.003173271
116 | 115,0,0.003878384
117 | 116,0,0.005781263
118 | 117,0,0.006259252
119 | 118,0,0.008088858
120 | 119,0,0.008165604
121 | 120,0,0.007110484


--------------------------------------------------------------------------------
/test/electrolyzer/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/expression_manipulation_test.jl:
--------------------------------------------------------------------------------
  1 | using JuMP
  2 | using HiGHS
  3 | 
  4 | function setup_sum_model()
  5 |     EP = Model(HiGHS.Optimizer)
  6 |     @variable(EP, x[i = 1:100, j = 1:4:200]>=0)
  7 |     @variable(EP, y[i = 1:100, j = 1:50]>=0)
  8 |     @expression(EP, eX[i = 1:100, j = 1:4:200], 2.0*x[i, j]+i+10.0*j)
  9 |     @expression(EP, eY[i = 1:100, j = 1:50], 3.0*y[i, j]+2*i+j)
 10 |     @expression(EP, eZ[i = 1:100, j = 1:50], 2.0 * x[i, (j - 1) * 4 + 1]+4.0 * y[i, j])
 11 |     return EP
 12 | end
 13 | 
 14 | function sum_disjoint_var()
 15 |     EP = setup_sum_model()
 16 |     try
 17 |         GenX.sum_expression(EP[:x])
 18 |     catch
 19 |         return false
 20 |     end
 21 |     return true
 22 | end
 23 | 
 24 | function sum_dense_var()
 25 |     EP = setup_sum_model()
 26 |     try
 27 |         GenX.sum_expression(EP[:y])
 28 |     catch
 29 |         return false
 30 |     end
 31 |     return true
 32 | end
 33 | 
 34 | function sum_disjoint_expr()
 35 |     EP = setup_sum_model()
 36 |     try
 37 |         GenX.sum_expression(EP[:eX])
 38 |     catch
 39 |         return false
 40 |     end
 41 |     return true
 42 | end
 43 | 
 44 | function sum_dense_expr()
 45 |     EP = setup_sum_model()
 46 |     try
 47 |         GenX.sum_expression(EP[:eY])
 48 |     catch
 49 |         return false
 50 |     end
 51 |     return true
 52 | end
 53 | 
 54 | function sum_combo_expr()
 55 |     EP = setup_sum_model()
 56 |     try
 57 |         GenX.sum_expression(EP[:eZ])
 58 |     catch
 59 |         return false
 60 |     end
 61 |     return true
 62 | end
 63 | 
 64 | let
 65 |     EP = Model(HiGHS.Optimizer)
 66 | 
 67 |     # Test fill_with_zeros!
 68 |     small_zeros_expr = Array{AffExpr, 2}(undef, (2, 3))
 69 |     GenX.fill_with_zeros!(small_zeros_expr)
 70 |     @test small_zeros_expr == AffExpr.([0.0 0.0 0.0; 0.0 0.0 0.0])
 71 | 
 72 |     # Test fill_with_const!
 73 |     small_const_expr = Array{AffExpr, 2}(undef, (3, 2))
 74 |     GenX.fill_with_const!(small_const_expr, 6.0)
 75 |     @test small_const_expr == AffExpr.([6.0 6.0; 6.0 6.0; 6.0 6.0])
 76 | 
 77 |     # Test create_empty_expression! with fill_with_const!
 78 |     large_dims = (2, 10, 20)
 79 |     GenX.create_empty_expression!(EP, :large_expr, large_dims)
 80 |     @test all(EP[:large_expr] .== 0.0)
 81 | 
 82 |     # Test create_empty_expression! with fill_with_const!
 83 |     large_dims_vector = collect(large_dims)
 84 |     GenX.create_empty_expression!(EP, :large_const_expr, large_dims)
 85 |     GenX.fill_with_const!(EP[:large_const_expr], 6.0)
 86 |     @test all(EP[:large_const_expr] .== 6.0)
 87 | 
 88 |     # Test add_similar_to_expression! only adds each term once
 89 |     GenX.add_similar_to_expression!(EP[:large_expr], EP[:large_const_expr])
 90 |     @test all(EP[:large_expr][:] .== 6.0)
 91 |     GenX.add_similar_to_expression!(EP[:large_expr], EP[:large_const_expr])
 92 |     GenX.add_similar_to_expression!(EP[:large_expr], EP[:large_const_expr])
 93 |     @test all(EP[:large_expr][:] .== 18.0)
 94 | 
 95 |     # Test add_similar_to_expression! with AbstractArray{Number}
 96 |     @expression(EP, eArr1[i = 1:100, j = 1:50], i * 10.0+j * 10.0)
 97 |     @expression(EP, eArr2[i = 1:100, j = 1:50], -(i * 10.0 + j * 10.0))
 98 |     GenX.add_similar_to_expression!(EP[:eArr1], EP[:eArr2])
 99 |     @test all(EP[:eArr1][:] .== 0.0)
100 | 
101 |     # Test add_similar_to_expression! returns an error if the dimensions don't match
102 |     GenX.create_empty_expression!(EP, :small_expr, (2, 3))
103 |     @test_throws ErrorException GenX.add_similar_to_expression!(EP[:large_expr],
104 |         EP[:small_expr])
105 | 
106 |     # Test we can add variables to an expression using add_similar_to_expression!
107 |     @variable(EP, test_var[1:large_dims[1], 1:large_dims[2], 1:large_dims[3]]>=0)
108 |     GenX.add_similar_to_expression!(EP[:large_expr], test_var)
109 |     @test EP[:large_expr][100] == test_var[100] + 18.0
110 | 
111 |     # Test add_term_to_expression! for a Float64
112 |     GenX.add_term_to_expression!(EP[:large_expr], 1.0)
113 |     @test EP[:large_expr][100] == test_var[100] + 19.0
114 | 
115 |     # Test add_term_to_expression! for an expression
116 |     GenX.add_term_to_expression!(EP[:large_expr], AffExpr(3.0))
117 |     @test EP[:large_expr][100] == test_var[100] + 22.0
118 | 
119 |     # Test sum_expression
120 |     @test sum_dense_var() == true
121 |     @test sum_disjoint_var() == true
122 |     @test sum_dense_expr() == true
123 |     @test sum_disjoint_expr() == true
124 |     @test sum_combo_expr() == true
125 | 
126 |     # Test add_term_to_expression! for variable
127 |     @variable(EP, single_var>=0)
128 |     GenX.add_term_to_expression!(EP[:large_expr], single_var)
129 |     @test EP[:large_expr][100] == test_var[100] + 22.0 + single_var
130 | 
131 |     # Test extracting some rows from a 2D matrix variable
132 |     columns = 10
133 |     @variable(EP, var_matrix[row in 1:4, col in 1:columns])
134 |     rows_to_extract = [3, 4]
135 |     expr = GenX.extract_time_series_to_expression(var_matrix, rows_to_extract)
136 |     @test size(expr) == (length(rows_to_extract), columns)
137 |     @test expr isa JuMP.Containers.DenseAxisArray
138 |     @test eltype(expr.data) == AffExpr
139 |     @test expr.axes[1] == rows_to_extract
140 |     @test expr.axes[2] == 1:columns
141 |     unregister(EP, :var_matrix)
142 | 
143 |     # Test extracting some rows from a 2D dense axis array variable
144 |     @variable(EP, var_denseaxisarray[row in [1, 3, 5, 11], col in 1:columns])
145 |     rows_to_extract = [3, 5]
146 |     expr = GenX.extract_time_series_to_expression(var_denseaxisarray, rows_to_extract)
147 |     @test size(expr) == (length(rows_to_extract), columns)
148 |     @test expr isa JuMP.Containers.DenseAxisArray
149 |     @test expr.axes[1] == rows_to_extract
150 |     @test expr.axes[2] == 1:columns
151 |     unregister(EP, :var_denseaxisarray)
152 | end
153 | 
154 | ###### ###### ###### ###### ###### ###### ###### 
155 | ###### ###### ###### ###### ###### ###### ###### 
156 | # Performance tests we can perhaps add later
157 | # These require the BenchmarkTests.jl package
158 | ###### ###### ###### ###### ###### ###### ###### 
159 | ###### ###### ###### ###### ###### ###### ###### 
160 | 
161 | # function test_performance(expr_dims)
162 | #     EP = Model(HiGHS.Optimizer)
163 | #     GenX.create_empty_expression!(EP, :e, expr_dims)
164 | #     GenX.create_empty_expression!(EP, :r, expr_dims)
165 | #     GenX.fill_with_const!(EP[:r], 6.0)
166 | #     @code_warntype GenX._add_similar_to_expression!(EP[:e], EP[:r])
167 | #     @code_warntype GenX.add_similar_to_expression!(EP[:e], EP[:r])
168 | #     benchmark_results = @benchmark GenX.add_similar_to_expression!(EP[:e], EP[:r])
169 | #     return benchmark_results
170 | # end
171 | 
172 | # small_benchmark = test_performance((2,3))
173 | # medium_benchmark = test_performance((2,10,20))
174 | # large_benchmark = test_performance((2,20,40))
175 | 


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/README.md:
--------------------------------------------------------------------------------
 1 | # Fusion test case without pulse behavior
 2 | 
 3 | These fusion plants have
 4 | - 0.2 passive parasitic power factor
 5 | - 0.1 active parasitic power factor
 6 | - 0.05 start energy parasitic power factor, estart
 7 | - a 1 hour max pulse time (pulsing every hour), Ï„pu
 8 | - 0.125 hour dwell time, Ï„dw
 9 | 
10 | Their nominal "active fraction" is f_act = 1 - Ï„dw / Ï„pu = 0.875
11 | 
12 | Their nominal "core net capacity factor" is
13 | f_netavgcap = f_act (1 - f_{parasitic,act}) - f_{parasitic,pass} - estart / Ï„pu = 0.5375
14 | 
15 | Therefore in a linear model, a steady-state demand of 1000MW will require a peak gross capacity of 1860.47 MW, which we see in capacity.csv.
16 | See also that `fusion_net_capacity.csv` has 1000 MW of NetCapacity.
17 | The maximum hourly gross energy output is f_act * 1860.47 = 1627.91, seen in power_balance.csv.
18 | The parasitic power will be 1860.47 * (f_act * f_{parasitic,act} + f_{parasitic,pass} + estart) = 627.91 MW.
19 | The net power generation then equals the demand of 1000 MW.
20 | 
21 | The plants require 8 hours of maintenance every other "day". (every 2 "years" in the input)
22 | In this example, plants have half of their normal passive parasitic power when under maintenance, or 0.1 of the gross capacity.
23 | 
24 | During the 8 lull hours the demand is 300MW.
25 | 558.14 MW of plants are needed to support the load of 300 MW, since 558.14 * fnetavgcap = 300
26 | To find the number of plants m that can go down for maintenance, solve:
27 | 
28 | 1000 - m 100 fnetavgcap = 300 + 0.1 100 m
29 | 
30 | where m is the number of plants and the cap_size is 100.
31 | This reduces to m = 10.98, which is what we see in `maint_down.csv`.
32 | 
33 | Therefore 762.43 MW (gross capacity) of plants do *not* go down for maintenance; they produce fact * 762.42 = 667.12 MW, as seen in power_balance.csv.
34 | 
35 | The parasitic load during these hours is 10.98 * 0.1 * 100 + 762.42 * (fact * ra + rp + estart) = 367.12, which we see in power_balance.csv.
36 | 
37 | Calculate total objective
38 | -------------------------
39 | The investment cost is 100000 per MW, so 1860.47 * 100000 = 1.860e8
40 | Each day the gross generation is 667.12 * 8 + 1626.91 * 16 and there are 365 per year, for a variable O&M cost of 1.1455e8
41 | The total objective is then 3.0059626e8.
42 | 


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm           #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Fusion,parasitic_passive,parasitic_active,parasitic_start_energy,parasitic_start_power,parasitic_passive_maintenance_remaining,dwell_time,max_starts,max_up_time,max_fpy_per_year,maint,maintenance_cycle_length_years,maintenance_duration,maintenance_begin_cadence,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | MA_fusion,1,1,1,0.2,0.1,0.05,0.00,0.5,0.125,-1,1,-1,1,2,8,1,1,0,0,-1,0,100000,0,10,0.0,None,100,0,0,6,6,0.8,0.8,0.200,0.25,0.5,0,0,MA,1
3 | 


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
 2 | 50000,1,1,1,2000,1,24,8760,1,300
 3 | ,2,0.9,0.04,1800,,,,2,300
 4 | ,3,0.55,0.024,1100,,,,3,300
 5 | ,4,0.2,0.003,400,,,,4,300
 6 | ,,,,,,,,5,300
 7 | ,,,,,,,,6,300
 8 | ,,,,,,,,7,300
 9 | ,,,,,,,,8,300
10 | ,,,,,,,,9,1000
11 | ,,,,,,,,10,1000
12 | ,,,,,,,,11,1000
13 | ,,,,,,,,12,1000
14 | ,,,,,,,,13,1000
15 | ,,,,,,,,14,1000
16 | ,,,,,,,,15,1000
17 | ,,,,,,,,16,1000
18 | ,,,,,,,,17,1000
19 | ,,,,,,,,18,1000
20 | ,,,,,,,,19,1000
21 | ,,,,,,,,20,1000
22 | ,,,,,,,,21,1000
23 | ,,,,,,,,22,1000
24 | ,,,,,,,,23,1000
25 | ,,,,,,,,24,1000
26 | 


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,None
 2 | 0,0
 3 | 1,0
 4 | 2,0
 5 | 3,0
 6 | 4,0
 7 | 5,0
 8 | 6,0
 9 | 7,0
10 | 8,0
11 | 9,0
12 | 10,0
13 | 11,0
14 | 12,0
15 | 13,0
16 | 14,0
17 | 15,0
18 | 16,0
19 | 17,0
20 | 18,0
21 | 19,0
22 | 20,0
23 | 21,0
24 | 22,0
25 | 23,0
26 | 24,0


--------------------------------------------------------------------------------
/test/fusion_pulse_every_hour/system/Generators_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,MA_fusion
 2 | 1,1
 3 | 2,1
 4 | 3,1
 5 | 4,1
 6 | 5,1
 7 | 6,1
 8 | 7,1
 9 | 8,1
10 | 9,1
11 | 10,1
12 | 11,1
13 | 12,1
14 | 13,1
15 | 14,1
16 | 15,1
17 | 16,1
18 | 17,1
19 | 18,1
20 | 19,1
21 | 20,1
22 | 21,1
23 | 22,1
24 | 23,1
25 | 24,1
26 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/generators_data.csv:
--------------------------------------------------------------------------------
 1 | region,cluster,Resource,Resource_Type,MGA,R_ID,Zone,THERM,STOR,HYDRO,FLEX,MUST_RUN,VRE,ELECTROLYZER,Num_VRE_Bins,LDS,CapRes_1,ESR_1,ESR_2,Existing_Cap_MW,Existing_Charge_Cap_MW,Existing_Cap_MWh,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Min_Charge_Cap_MW,Max_Charge_Cap_MW,Min_Cap_MWh,Max_Cap_MWh,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Inv_Cost_Charge_per_MWyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Hydro_Energy_to_Power_Ratio,Min_Duration,Max_Duration,Max_Flexible_Demand_Advance,Max_Flexible_Demand_Delay,Flexible_Demand_Energy_Eff,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MinCapTag_1,MinCapTag_2,MinCapTag_3,Hydrogen_MWh_Per_Tonne,Electrolyzer_Min_kt,Hydrogen_Price_Per_Tonne,Qualified_Hydrogen_Supply,PWFU_Fuel_Usage_Zero_Load_MMBTU_per_h,PWFU_Heat_Rate_MMBTU_per_MWh_1,PWFU_Heat_Rate_MMBTU_per_MWh_2,PWFU_Load_Point_MW_1,PWFU_Load_Point_MW_2,CO2_Capture_Fraction,CO2_Capture_Fraction_Startup,CCS_Disposal_Cost_per_Metric_Ton,Biomass,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW,MULTI_FUELS,Num_Fuels,Fuel1,Heat_Rate1_MMBTU_per_MWh,Fuel1_Min_Cofire_Level,Fuel1_Min_Cofire_Level_Start,Fuel1_Max_Cofire_Level,Fuel1_Max_Cofire_Level_Start,Fuel2,Heat_Rate2_MMBTU_per_MWh,Fuel2_Min_Cofire_Level,Fuel2_Max_Cofire_Level,Fuel2_Min_Cofire_Level_Start,Fuel2_Max_Cofire_Level_Start
 2 | NENGREST,1,NENGREST_conventional_hydroelectric_1,conventional_hydroelectric,1,2,1,0,0,1,0,0,0,0,0,1,0.8,0,1,662.983,0,0,0,0,11.24,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.117,0,1,1,1,0,0,0,0,1,0.083,0.083,0,0,0.006916667,0.013833333,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.039,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
 3 | NENG_CT,1,NENG_CT_conventional_hydroelectric_1,conventional_hydroelectric,1,15,2,0,0,1,0,0,0,0,0,1,0.8,0,1,67.7,0,0,0,0,13.54,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.18,0,1,1,1,0,0,0,0,1,0.083,0.083,0,0,0.006916667,0.013833333,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.017,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
 4 | NENG_ME,1,NENG_ME_conventional_hydroelectric_1,conventional_hydroelectric,1,26,3,0,0,1,0,0,0,0,0,1,0.8,0,1,327.81,0,0,0,0,7.8,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.402,0,1,1,1,0,0,0,0,1,0.083,0.083,0,0,0.006916667,0.013833333,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.024,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
 5 | NENGREST,1,NENGREST_biomass_1,biomass,1,1,1,1,0,0,0,0,0,0,0,0,0.93,1,1,106.062,0,0,0,0,3.21,0,0,0,-1,-1,-1,0,122976,0,0,0,0,5.08,0,0,0,14.58,None,0.45,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.027,20,20,0,0,0,1,2,mountain_naturalgas,6.36,0,0,0.12,1,hydrogen,6.36,0,0.12,0,0.12
 6 | NENGREST,1,NENGREST_natural_gas_fired_combined_cycle_1,natural_gas_fired_combined_cycle,1,4,1,1,0,0,0,0,0,0,0,0,0.93,0,0,7077.3,0,0,0,1,471.82,0,0,0,-1,-1,-1,0,10287,0,0,0,0,3.55,0,91,2,7.43,NENGREST_NG,0.468,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,400,6,7.2,160,250,0,0,-39,0,0.0195,20,20,0,0,0,1,2,mountain_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
 7 | NENGREST,2,NENGREST_natural_gas_fired_combined_cycle_2,natural_gas_fired_combined_cycle,1,5,1,1,0,0,0,0,0,0,0,0,0.93,0,0,2684.803,0,0,0,1,244.07,0,0,0,-1,-1,-1,0,16291,0,0,0,0,4.5,0,91,2,8.29,NENGREST_NG,0.507,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-28.936,0,0.0166,20,20,0,0,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
 8 | NENGREST,1,NENGREST_natural_gas_fired_combustion_turbine_1,natural_gas_fired_combustion_turbine,1,6,1,1,0,0,0,0,0,0,0,0,0.93,0,0,302.701,0,0,0,1,43.24,0,0,0,-1,-1,-1,0,12080,0,0,0,0,4.6,0,118,3.5,10.13,NENGREST_NG,0.456,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0137,20,20,0,0,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
 9 | NENGREST,2,NENGREST_natural_gas_fired_combustion_turbine_2,natural_gas_fired_combustion_turbine,1,7,1,1,0,0,0,0,0,0,0,0,0.93,0,0,62.704,0,0,0,1,7.84,0,0,0,-1,-1,-1,0,13991,0,0,0,0,4.6,0,118,3.5,4.74,NENGREST_NG,0.488,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0108,20,20,0,0,0,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
10 | NENGREST,1,NENGREST_natural_gas_steam_turbine_1,natural_gas_steam_turbine,1,8,1,1,0,0,0,0,0,0,0,0,0.93,0,0,0.6,0,0,0,1,0.6,0,0,0,-1,-1,-1,0,50678,0,0,0,0,1.04,0,86,13.7,0,NENGREST_NG,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-20.634,0,0.0079,20,20,0,0,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
11 | NENGREST,1,NENGREST_nuclear_1,nuclear,1,9,1,1,0,0,0,0,0,0,0,0,0.93,0,1,1242,0,0,0,1,1242,0,0,0,-1,-1,-1,0,271818,0,0,0,0,2.32,0,245,0,10.46,new_england_uranium,0.5,0,1,1,1,0,0,0,0,1,0.25,0.25,24,24,0.020833333,0.041666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.005,20,20,0,0,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
12 | NENG_CT,1,NENG_CT_biomass_1,biomass,1,14,2,1,0,0,0,0,0,0,0,0,0.93,1,1,27.248,0,0,0,0,3.41,0,0,0,-1,-1,-1,0,122976,0,0,0,0,5.37,0,0,0,15.33,Biomass,0.348,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,1,0.0021,20,20,0,0,0,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
13 | NENG_CT,1,NENG_CT_natural_gas_fired_combined_cycle_1,natural_gas_fired_combined_cycle,1,17,2,1,0,0,0,0,0,0,0,0,0.93,0,0,3488.704,0,0,0,1,436.09,0,0,0,-1,-1,-1,0,9698,0,0,0,0,3.57,0,91,2,7.12,NENG_CT_NG,0.338,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-26.5,0,0.039,20,20,0,0,0,1,2,south_atlantic_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
14 | NENG_CT,2,NENG_CT_natural_gas_fired_combined_cycle_2,natural_gas_fired_combined_cycle,1,18,2,1,0,0,0,0,0,0,0,0,0.93,0,0,35.2,0,0,0,1,17.6,0,0,0,-1,-1,-1,0,16291,0,0,0,0,4.5,0,91,2,10.77,NENG_CT_NG,0.466,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.017,20,20,0,0,0,1,2,south_atlantic_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
15 | NENG_CT,1,NENG_CT_natural_gas_fired_combustion_turbine_1,natural_gas_fired_combustion_turbine,1,19,2,1,0,0,0,0,0,0,0,0,0.93,0,0,434,0,0,0,1,54.25,0,0,0,-1,-1,-1,0,10609,0,0,0,0,4.6,0,118,3.5,11.06,NENG_CT_NG,0.124,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.024,20,20,0,0,0,1,2,south_atlantic_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
16 | NENG_CT,2,NENG_CT_natural_gas_fired_combustion_turbine_2,natural_gas_fired_combustion_turbine,1,20,2,1,0,0,0,0,0,0,0,0,0.93,0,0,124.9,0,0,0,1,24.98,0,0,0,-1,-1,-1,0,13991,0,0,0,0,4.6,0,118,3.5,8.35,NENG_CT_NG,0.476,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.027,20,20,0,0,0,1,2,new_england_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
17 | NENG_CT,1,NENG_CT_nuclear_1,nuclear,1,21,2,1,0,0,0,0,0,0,0,0,0.93,0,1,2162.9,0,0,0,1,1081.45,0,0,0,-1,-1,-1,0,190920,0,0,0,0,2.32,0,245,0,10.46,new_england_uranium,0.5,0,1,1,1,0,0,0,0,1,0.25,0.25,24,24,0.020833333,0.041666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0195,20,20,0,0,0,1,2,new_england_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
18 | NENG_ME,1,NENG_ME_biomass_1,biomass,1,25,3,1,0,0,0,0,0,0,0,0,0.93,1,1,24.95,0,0,0,0,2.5,0,0,0,-1,-1,-1,0,122976,0,0,0,0,4.85,0,0,0,13.84,None,0.404,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-24.632,0,0.0166,20,20,0,0,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
19 | NENG_ME,1,NENG_ME_natural_gas_fired_combined_cycle_1,natural_gas_fired_combined_cycle,1,27,3,1,0,0,0,0,0,0,0,0,0.93,0,0,274.5,0,0,0,1,137.25,0,0,0,-1,-1,-1,0,16291,0,0,0,0,4.5,0,91,2,12.62,NENG_ME_NG,0.474,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0137,20,20,0,0,0,0,1,east_north_central_coal,0,0,0,1,1,hydrogen,0,0,1,0,1
20 | NENG_ME,2,NENG_ME_natural_gas_fired_combined_cycle_2,natural_gas_fired_combined_cycle,1,28,3,1,0,0,0,0,0,0,0,0,0.93,0,0,1114.1,0,0,0,1,557.05,0,0,0,-1,-1,-1,0,9668,0,0,0,0,3.57,0,91,2,7.65,NENG_ME_NG,0.386,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0108,20,20,0,0,0,0,1,pacific_coal,0,0,0,1,1,hydrogen,0,0,1,0,1
21 | NENG_ME,1,NENG_ME_natural_gas_fired_combustion_turbine_1,natural_gas_fired_combustion_turbine,1,29,3,1,0,0,0,0,0,0,0,0,0.93,0,0,163.5,0,0,0,1,54.5,0,0,0,-1,-1,-1,0,11540,0,0,0,0,4.6,0,118,3.5,4.75,NENG_ME_NG,0.697,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-24.632,0,0.0079,20,20,0,0,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
22 | NENGREST,0,NENGREST_naturalgas_ccccsavgcf_mid_0,naturalgas_ccccsavgcf_mid,1,33,1,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,229388,27483,0,0,0,0,5.82,0,103,0,7.52,NENGREST_NG_ccs90,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.005,20,20,0,0,0,1,2,east_north_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
23 | NENGREST,0,NENGREST_naturalgas_ccavgcf_mid_0,naturalgas_ccavgcf_mid,1,34,1,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,500,0,-1,0,-1,-1,-1,110025,12441,0,0,0,0,1.61,0,103,2,6.27,NENGREST_NG,0.2,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0021,20,20,0,0,0,1,2,east_north_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
24 | NENGREST,0,NENGREST_naturalgas_ctavgcf_mid_0,naturalgas_ctavgcf_mid,1,35,1,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,100,0,-1,0,-1,-1,-1,81998,6960,0,0,0,0,4.49,0,134,3.5,9.9,NENGREST_NG,0.3,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-26.989,0,0.039,20,20,0,0,0,1,2,west_south_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
25 | NENGREST,0,NENGREST_naturalgas_ccs100_mid_0,naturalgas_ccs100_mid,1,37,1,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,239841,37153,0,0,0,0,6.26,0,103,0,7.89,NENGREST_NG_ccs100,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.017,20,20,0,0,0,1,2,west_south_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
26 | NENG_CT,0,NENG_CT_naturalgas_ccccsavgcf_mid_0,naturalgas_ccccsavgcf_mid,1,41,2,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,229388,27483,0,0,0,0,5.82,0,103,0,7.52,NENG_CT_NG_ccs90,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.024,20,20,0,0,0,1,2,west_south_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
27 | NENG_CT,0,NENG_CT_naturalgas_ccavgcf_mid_0,naturalgas_ccavgcf_mid,1,42,2,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,500,0,-1,0,-1,-1,-1,110025,12441,0,0,0,0,1.61,0,103,2,6.27,NENG_CT_NG,0.2,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-24.632,0,0.027,20,20,0,0,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
28 | NENG_CT,0,NENG_CT_naturalgas_ctavgcf_mid_0,naturalgas_ctavgcf_mid,1,43,2,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,100,0,-1,0,-1,-1,-1,81998,6960,0,0,0,0,4.49,0,134,3.5,9.9,NENG_CT_NG,0.3,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0195,20,20,0,0,0,1,2,east_north_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
29 | NENG_CT,0,NENG_CT_naturalgas_ccs100_mid_0,naturalgas_ccs100_mid,1,45,2,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,239841,37153,0,0,0,0,6.26,0,103,0,7.89,NENG_CT_NG_ccs100,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0166,20,20,0,0,0,1,2,east_north_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
30 | NENG_ME,0,NENG_ME_naturalgas_ccccsavgcf_mid_0,naturalgas_ccccsavgcf_mid,1,49,3,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,229388,27483,0,0,0,0,5.82,0,103,0,7.52,NENG_ME_NG_ccs90,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.9,0.9,-18.389,0,0.0137,20,20,0,0,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
31 | NENG_ME,0,NENG_ME_naturalgas_ccavgcf_mid_0,naturalgas_ccavgcf_mid,1,50,3,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,500,0,-1,0,-1,-1,-1,110025,12441,0,0,0,0,1.61,0,103,2,6.27,NENG_ME_NG,0.2,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0108,20,20,0,0,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
32 | NENG_ME,0,NENG_ME_naturalgas_ctavgcf_mid_0,naturalgas_ctavgcf_mid,1,51,3,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,1,1,100,0,-1,0,-1,-1,-1,81998,6960,0,0,0,0,4.49,0,134,3.5,9.9,NENG_ME_NG,0.3,0,1,1,1,0,0,0,0,1,3.78,3.78,1,1,0.315,0.63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.0079,20,20,0,0,0,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
33 | NENG_ME,0,NENG_ME_naturalgas_ccs100_mid_0,naturalgas_ccs100_mid,1,53,3,1,0,0,0,0,0,0,0,0,0.93,0,0,0,0,0,0,1,500,0,-1,0,-1,-1,-1,239841,37153,0,0,0,0,6.26,0,103,0,7.89,NENG_ME_NG_ccs100,0.6,0,1,1,1,0,0,0,0,1,0.64,0.64,6,6,0.053333333,0.106666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-39,0,0.005,20,20,0,0,0,1,2,middle_atlantic_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
34 | NENGREST,1,NENGREST_offshore_wind_turbine_1,offshore_wind_turbine,1,10,1,0,0,0,0,0,1,0,1,0,0.8,1,1,30,0,0,0,1,30,0,0,0,-1,-1,-1,0,128440,0,0,0,0,0,0,0,0,9.12,None,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0021,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
35 | NENGREST,1,NENGREST_onshore_wind_turbine_1,onshore_wind_turbine,1,11,1,0,0,0,0,0,1,0,1,0,0.8,1,1,145.8,0,0,0,1,9.75,0,0,0,-1,-1,-1,0,43205,0,0,0,0,-18,0,0,0,9.12,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0021,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
36 | NENGREST,1,NENGREST_solar_photovoltaic_1,solar_photovoltaic,1,13,1,0,0,0,0,0,1,0,1,0,0.8,1,1,821.4,0,0,0,1,2.6,0,0,0,-1,-1,-1,0,18760,0,0,0,0,0,0,0,0,9.13,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0.039,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
37 | NENG_CT,1,NENG_CT_onshore_wind_turbine_1,onshore_wind_turbine,1,22,2,0,0,0,0,0,1,0,1,0,0.8,1,1,6.5,0,0,0,1,5,0,0,0,-1,-1,-1,0,43205,0,0,0,0,-18,0,0,0,9.12,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.017,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
38 | NENG_CT,1,NENG_CT_solar_photovoltaic_1,solar_photovoltaic,1,24,2,0,0,0,0,0,1,0,1,0,0.8,1,1,374.6,0,0,0,1,5.67,0,0,0,-1,-1,-1,0,18760,0,0,0,0,0,0,0,0,9.16,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.024,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
39 | NENG_ME,1,NENG_ME_onshore_wind_turbine_1,onshore_wind_turbine,1,30,3,0,0,0,0,0,1,0,1,0,0.8,1,1,1190.9,0,0,0,1,48.5,0,0,0,-1,-1,-1,0,43205,0,0,0,0,-18,0,0,0,9.12,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.027,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
40 | NENG_ME,1,NENG_ME_solar_photovoltaic_1,solar_photovoltaic,1,32,3,0,0,0,0,0,1,0,1,0,0.8,1,1,11.8,0,0,0,1,1.5,0,0,0,-1,-1,-1,0,18760,0,0,0,0,0,0,0,0,9.12,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0195,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
41 | NENGREST,1,NENGREST_landbasedwind_ltrg1_mid_130_1,landbasedwind_ltrg1_mid_130,1,38,1,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,4888.236,0,-1,-1,-1,194100,41460,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0166,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
42 | NENGREST,1,NENGREST_utilitypv_losangeles_mid_80_0_2_1,utilitypv_losangeles_mid_80_0_2,1,39,1,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,20835.569,0,-1,-1,-1,99283,13055,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0137,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
43 | NENGREST,1,NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,offshorewind_otrg3_mid_fixed_1_176_77,1,40,1,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,9848.442,0,-1,-1,-1,260044,91549,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0108,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
44 | NENG_CT,1,NENG_CT_landbasedwind_ltrg1_mid_110_1,landbasedwind_ltrg1_mid_110,1,46,2,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,1982.895,0,-1,-1,-1,185181,41460,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0079,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
45 | NENG_CT,1,NENG_CT_utilitypv_losangeles_mid_80_0_2_1,utilitypv_losangeles_mid_80_0_2,1,47,2,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,17063.264,0,-1,-1,-1,98631,13055,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.005,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
46 | NENG_CT,1,NENG_CT_offshorewind_otrg3_mid_fixed_1_176_77_1,offshorewind_otrg3_mid_fixed_1_176_77,1,48,2,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,477.5,0,-1,-1,-1,247542,91549,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0021,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
47 | NENG_ME,1,NENG_ME_landbasedwind_ltrg1_mid_110_1,landbasedwind_ltrg1_mid_110,1,54,3,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,20430.499,0,-1,-1,-1,233173,41460,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.039,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
48 | NENG_ME,1,NENG_ME_utilitypv_losangeles_mid_100_0_2_1,utilitypv_losangeles_mid_100_0_2,1,55,3,0,0,0,0,0,1,0,1,0,0.8,1,1,0,0,0,1,1,1,0,21535.709,0,-1,-1,-1,98706,13055,0,0,0,0,0,0,0,0,0,None,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.017,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
49 | NENGREST,1,NENGREST_hydroelectric_pumped_storage_1,hydroelectric_pumped_storage,0,3,1,0,1,0,0,0,0,0,0,0,0.95,0,0,1768.002,0,280635.2381,0,0,294.67,0,0,0,-1,0,-1,0,40113,0,0,0,0,0,0,0,0,0,None,0.532,0,0.866,0.866,158.730159,0,200,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.024,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
50 | NENG_CT,1,NENG_CT_hydroelectric_pumped_storage_1,hydroelectric_pumped_storage,0,16,2,0,1,0,0,0,0,0,0,0,0.95,0,0,30.999,0,4920.47619,0,0,10.33,0,0,0,-1,0,-1,0,40113,0,0,0,0,0,0,0,0,0,None,0.871,0,0.866,0.866,158.730159,0,200,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.027,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
51 | NENGREST,0,NENGREST_battery_mid_0,battery_mid,0,36,1,0,1,0,0,0,0,0,0,0,0.95,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,19584,4895,22494,5622,0,0,0.15,0.15,0,0,0,None,0,0,0.92,0.92,1,1,10,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0195,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
52 | NENG_CT,0,NENG_CT_battery_mid_0,battery_mid,0,44,2,0,1,0,0,0,0,0,0,0,0.95,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,19584,4895,22494,5622,0,0,0.15,0.15,0,0,0,None,0,0,0.92,0.92,1,1,10,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0166,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
53 | NENG_ME,0,NENG_ME_battery_mid_0,battery_mid,0,52,3,0,1,0,0,0,0,0,0,0,0.95,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,19584,4895,22494,5622,0,0,0.15,0.15,0,0,0,None,0,0,0.92,0.92,1,1,10,0,0,1,1,1,0,0,0.083333333,0.166666667,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0137,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
54 | NENGREST,1,NENGREST_hydrogen_storage_1,hydrogen_storage,0,59,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,39761,5000,404,0,38914,29750,4.3,0,0,0,0,None,0,0,0.67,0.4,0,48,2000,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0108,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
55 | NENG_CT,1,NENG_CT_hydrogen_storage_1,hydrogen_storage,0,60,2,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,49333,5000,404,0,38914,29750,4.3,0,0,0,0,None,0,0,0.67,0.4,0,48,2000,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0079,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
56 | NENG_ME,1,NENG_ME_hydrogen_storage_1,hydrogen_storage,0,61,3,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,-1,0,-1,0,-1,38489,5000,404,0,38914,29750,4.3,0,0,0,0,None,0,0,0.67,0.4,0,48,2000,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.005,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
57 | NENGREST,1,NENGREST_heat_load_shifting_1,heat_load_shifting,1,56,1,0,0,0,1,0,0,0,0,0,0.95,0,0,165.52,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,None,0,0,0,0,0,0,0,0,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0021,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
58 | NENG_CT,1,NENG_CT_heat_load_shifting_1,heat_load_shifting,1,57,2,0,0,0,1,0,0,0,0,0,0.95,0,0,47.27,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,None,0,0,0,0,0,0,0,0,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.039,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
59 | NENG_ME,1,NENG_ME_heat_load_shifting_1,heat_load_shifting,1,58,3,0,0,0,1,0,0,0,0,0,0.95,0,0,22.56,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,None,0,0,0,0,0,0,0,0,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.017,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
60 | NENGREST,1,NENGREST_small_hydroelectric_1,small_hydroelectric,1,12,1,0,0,0,0,1,0,0,0,0,0,1,1,186.355,0,0,0,0,0.79,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.117,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.024,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
61 | NENG_CT,1,NENG_CT_small_hydroelectric_1,small_hydroelectric,1,23,2,0,0,0,0,1,0,0,0,0,0,1,1,18.711,0,0,0,0,0.57,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.18,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.027,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
62 | NENG_ME,1,NENG_ME_small_hydroelectric_1,small_hydroelectric,1,31,3,0,0,0,0,1,0,0,0,0,0,1,1,195.266,0,0,0,0,1.1,0,0,0,-1,-1,-1,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.192,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0195,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1
63 | NENG_ME,0,NENG_ME_electrolyzer,hydrogen_electrolyzer,0,62,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1,1,-1,-1,0,-1,-1,-1,125000,15000,0,0,0,0,0,0,0,0,0,None,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,55,1000,1000,0,0,0,0,0,0,0,0,0,0,0.0195,20,20,0,0,0,0,1,None,0,0,0,1,1,None,0,0,1,0,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/inputs_after_loadgen.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/load_resources/test_gen_non_colocated/inputs_after_loadgen.jld2


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/inputs_before_loadgen.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/load_resources/test_gen_non_colocated/inputs_before_loadgen.jld2


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_Mtons_1
2 | NENGREST,z1,1,8.59
3 | NENG_CT,z2,1,2.31
4 | NENG_ME,z3,1,1.29


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | Zone_name,Network_zones,CapRes_1
2 | NENGREST,z1,0.156
3 | NENG_CT,z2,0.156
4 | NENG_ME,z3,0.156


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿Zone_name,Network_zones,ESR_1,ESR_2
2 | NENGREST,z1,0.259,0.348
3 | NENG_CT,z2,0.44,0.44
4 | NENG_ME,z3,0.776,0.776


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿MinCapReqConstraint,Constraint_Description,Min_MW
2 | 1,ME_Wind,8000
3 | 2,ME_OSW,5000
4 | 3,MA_Solar,3200


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Electrolyzer.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Hydrogen_MWh_Per_Tonne,Electrolyzer_Min_Kt,Hydrogen_Price_Per_Tonne,Qualified_Hydrogen_Supply,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Heat_Rate_Mmbtu_Per_MWh,Fuel,Min_Power,Ramp_Up_Percentage,Ramp_Dn_Percentage,Region,Cluster,Resource_Type
2 | NENG_ME_electrolyzer,1,55,1000,1000,0,1,1,0,-1,-1,125000,15000,0,None,0,1,1,NENG_ME,0,hydrogen_electrolyzer


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Flex_demand.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,MGA,Resource_Type,Max_Flexible_Demand_Advance,Max_Flexible_Demand_Delay,Flexible_Demand_Energy_Eff,Existing_Cap_MW,Cap_Size,Min_Cap_MW,Max_Cap_MW,New_Build,Can_Retire,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Var_Om_Cost_Per_MWh,Var_Om_Cost_Per_MWh_In,Heat_Rate_Mmbtu_Per_MWh,Region,Cluster
2 | NENGREST_heat_load_shifting_1,1,1,heat_load_shifting,0,4,1,165.52,0,0,0,0,0,0,0,0,0,0,NENGREST,1
3 | NENG_CT_heat_load_shifting_1,2,1,heat_load_shifting,0,4,1,47.27,0,0,0,0,0,0,0,0,0,0,NENG_CT,1
4 | NENG_ME_heat_load_shifting_1,3,1,heat_load_shifting,0,4,1,22.56,0,0,0,0,0,0,0,0,0,0,NENG_ME,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Hydro.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Hydro_Energy_To_Power_Ratio,Min_Power,Ramp_Up_Percentage,Ramp_Dn_Percentage,Mga,Resource_Type,Must_Run,LDS,Existing_Cap_MW,Cap_Size,New_Build,Can_Retire,Min_Cap_MW,Max_Cap_MW,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Var_Om_Cost_Per_MWh,Heat_Rate_Mmbtu_Per_MWh,Fuel,Reg_Cost,Rsv_Cost,Reg_Max,Rsv_Max,Region,Cluster
2 | NENGREST_conventional_hydroelectric_1,1,1,0.117,0.083,0.083,1,conventional_hydroelectric,0,1,662.983,11.24,0,0,0,0,0,46475,0,9.12,None,0,0,0.006916667,0.013833333,NENGREST,1
3 | NENG_CT_conventional_hydroelectric_1,2,1,0.18,0.083,0.083,1,conventional_hydroelectric,0,1,67.7,13.54,0,0,0,0,0,46475,0,9.12,None,0,0,0.006916667,0.013833333,NENG_CT,1
4 | NENG_ME_conventional_hydroelectric_1,3,1,0.402,0.083,0.083,1,conventional_hydroelectric,0,1,327.81,7.8,0,0,0,0,0,46475,0,9.12,None,0,0,0.006916667,0.013833333,NENG_ME,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Must_run.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,Zone,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Inv_Cost_Per_MWhyr,Fixed_Om_Cost_Per_MWhyr,Inv_Cost_Charge_Per_MWyr,Fixed_Om_Cost_Charge_Per_MWyr,Var_Om_Cost_Per_MWh,Var_Om_Cost_Per_MWh_In,Start_Cost_Per_MW,Start_Fuel_Mmbtu_Per_MW,Heat_Rate_Mmbtu_Per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Hydro_Energy_To_Power_Ratio,Min_Duration,Max_Duration,Max_Flexible_Demand_Advance,Max_Flexible_Demand_Delay,Flexible_Demand_Energy_Eff,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,Resource_Type,MGA,Region,Cluster
2 | NENGREST_small_hydroelectric_1,1,186.355,0,0,0.79,0,0,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.117,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,small_hydroelectric,1,NENGREST,1
3 | NENG_CT_small_hydroelectric_1,2,18.711,0,0,0.57,0,0,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.18,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,small_hydroelectric,1,NENG_CT,1
4 | NENG_ME_small_hydroelectric_1,3,195.266,0,0,1.1,0,0,0,46475,0,0,0,0,0,0,0,0,9.12,None,0.192,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,small_hydroelectric,1,NENG_ME,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,Lifetime
 2 | NENGREST_conventional_hydroelectric_1,0.039,20,20
 3 | NENG_CT_conventional_hydroelectric_1,0.017,20,20
 4 | NENG_ME_conventional_hydroelectric_1,0.024,20,20
 5 | NENGREST_biomass_1,0.027,20,20
 6 | NENGREST_natural_gas_fired_combined_cycle_1,0.0195,20,20
 7 | NENGREST_natural_gas_fired_combined_cycle_2,0.0166,20,20
 8 | NENGREST_natural_gas_fired_combustion_turbine_1,0.0137,20,20
 9 | NENGREST_natural_gas_fired_combustion_turbine_2,0.0108,20,20
10 | NENGREST_natural_gas_steam_turbine_1,0.0079,20,20
11 | NENGREST_nuclear_1,0.005,20,20
12 | NENG_CT_biomass_1,0.0021,20,20
13 | NENG_CT_natural_gas_fired_combined_cycle_1,0.039,20,20
14 | NENG_CT_natural_gas_fired_combined_cycle_2,0.017,20,20
15 | NENG_CT_natural_gas_fired_combustion_turbine_1,0.024,20,20
16 | NENG_CT_natural_gas_fired_combustion_turbine_2,0.027,20,20
17 | NENG_CT_nuclear_1,0.0195,20,20
18 | NENG_ME_biomass_1,0.0166,20,20
19 | NENG_ME_natural_gas_fired_combined_cycle_1,0.0137,20,20
20 | NENG_ME_natural_gas_fired_combined_cycle_2,0.0108,20,20
21 | NENG_ME_natural_gas_fired_combustion_turbine_1,0.0079,20,20
22 | NENGREST_naturalgas_ccccsavgcf_mid_0,0.005,20,20
23 | NENGREST_naturalgas_ccavgcf_mid_0,0.0021,20,20
24 | NENGREST_naturalgas_ctavgcf_mid_0,0.039,20,20
25 | NENGREST_naturalgas_ccs100_mid_0,0.017,20,20
26 | NENG_CT_naturalgas_ccccsavgcf_mid_0,0.024,20,20
27 | NENG_CT_naturalgas_ccavgcf_mid_0,0.027,20,20
28 | NENG_CT_naturalgas_ctavgcf_mid_0,0.0195,20,20
29 | NENG_CT_naturalgas_ccs100_mid_0,0.0166,20,20
30 | NENG_ME_naturalgas_ccccsavgcf_mid_0,0.0137,20,20
31 | NENG_ME_naturalgas_ccavgcf_mid_0,0.0108,20,20
32 | NENG_ME_naturalgas_ctavgcf_mid_0,0.0079,20,20
33 | NENG_ME_naturalgas_ccs100_mid_0,0.005,20,20
34 | NENGREST_offshore_wind_turbine_1,0.0021,20,20
35 | NENGREST_onshore_wind_turbine_1,0.0021,20,20
36 | NENGREST_solar_photovoltaic_1,0.039,20,20
37 | NENG_CT_onshore_wind_turbine_1,0.017,20,20
38 | NENG_CT_solar_photovoltaic_1,0.024,20,20
39 | NENG_ME_onshore_wind_turbine_1,0.027,20,20
40 | NENG_ME_solar_photovoltaic_1,0.0195,20,20
41 | NENGREST_landbasedwind_ltrg1_mid_130_1,0.0166,20,20
42 | NENGREST_utilitypv_losangeles_mid_80_0_2_1,0.0137,20,20
43 | NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,0.0108,20,20
44 | NENG_CT_landbasedwind_ltrg1_mid_110_1,0.0079,20,20
45 | NENG_CT_utilitypv_losangeles_mid_80_0_2_1,0.005,20,20
46 | NENG_CT_offshorewind_otrg3_mid_fixed_1_176_77_1,0.0021,20,20
47 | NENG_ME_landbasedwind_ltrg1_mid_110_1,0.039,20,20
48 | NENG_ME_utilitypv_losangeles_mid_100_0_2_1,0.017,20,20
49 | NENGREST_hydroelectric_pumped_storage_1,0.024,20,20
50 | NENG_CT_hydroelectric_pumped_storage_1,0.027,20,20
51 | NENGREST_battery_mid_0,0.0195,20,20
52 | NENG_CT_battery_mid_0,0.0166,20,20
53 | NENG_ME_battery_mid_0,0.0137,20,20
54 | NENGREST_hydrogen_storage_1,0.0108,20,20
55 | NENG_CT_hydrogen_storage_1,0.0079,20,20
56 | NENG_ME_hydrogen_storage_1,0.005,20,20
57 | NENGREST_heat_load_shifting_1,0.0021,20,20
58 | NENG_CT_heat_load_shifting_1,0.039,20,20
59 | NENG_ME_heat_load_shifting_1,0.017,20,20
60 | NENGREST_small_hydroelectric_1,0.024,20,20
61 | NENG_CT_small_hydroelectric_1,0.027,20,20
62 | NENG_ME_small_hydroelectric_1,0.0195,20,20
63 | NENG_ME_electrolyzer,0.0195,20,20


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,LDS,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Cap_Size,Min_Cap_MW,Max_Cap_MW,Min_Cap_MWh,Max_Cap_MWh,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Inv_Cost_Per_MWhyr,Fixed_Om_Cost_Per_MWhyr,Var_Om_Cost_Per_MWh,Reg_Cost,Rsv_Cost,Reg_Max,Rsv_Max,Region,Cluster,Resource_Type,Mga
2 | NENGREST_hydroelectric_pumped_storage_1,1,1,0,0,0.866,0.866,0,200,0,0,1768.002,280635.2381,294.67,0,0,0,-1,0,40113,0,0,0,0,0,0.083333333,0.166666667,NENGREST,1,hydroelectric_pumped_storage,0
3 | NENG_CT_hydroelectric_pumped_storage_1,2,1,0,0,0.866,0.866,0,200,0,0,30.999,4920.47619,10.33,0,0,0,-1,0,40113,0,0,0,0,0,0.083333333,0.166666667,NENG_CT,1,hydroelectric_pumped_storage,0
4 | NENGREST_battery_mid_0,1,1,0,0,0.92,0.92,1,10,1,1,0,0,1,0,-1,0,-1,19584,4895,22494,5622,0.15,0,0,0.083333333,0.166666667,NENGREST,0,battery_mid,0
5 | NENG_CT_battery_mid_0,2,1,0,0,0.92,0.92,1,10,1,1,0,0,1,0,-1,0,-1,19584,4895,22494,5622,0.15,0,0,0.083333333,0.166666667,NENG_CT,0,battery_mid,0
6 | NENG_ME_battery_mid_0,3,1,0,0,0.92,0.92,1,10,1,1,0,0,1,0,-1,0,-1,19584,4895,22494,5622,0.15,0,0,0.083333333,0.166666667,NENG_ME,0,battery_mid,0
7 | NENGREST_hydrogen_storage_1,1,1,1,0,0.67,0.4,48,2000,1,1,0,0,1,0,-1,0,-1,39761,5000,404,0,4.3,0,0,0,0,NENGREST,1,hydrogen_storage,0
8 | NENG_CT_hydrogen_storage_1,2,1,1,0,0.67,0.4,48,2000,1,1,0,0,1,0,-1,0,-1,49333,5000,404,0,4.3,0,0,0,0,NENG_CT,1,hydrogen_storage,0
9 | NENG_ME_hydrogen_storage_1,3,1,1,0,0.67,0.4,48,2000,1,1,0,0,1,0,-1,0,-1,38489,5000,404,0,4.3,0,0,0,0,NENG_ME,1,hydrogen_storage,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Model,MGA,Resource_Type,Min_Power,Ramp_Up_Percentage,Ramp_Dn_Percentage,Existing_Cap_MW,Cap_Size,Min_Cap_MW,Max_Cap_MW,New_Build,Can_Retire,Fuel,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Var_Om_Cost_Per_MWh,Up_Time,Down_Time,Start_Cost_Per_MW,Start_Fuel_Mmbtu_Per_MW,Heat_Rate_Mmbtu_Per_MWh,Reg_Cost,Rsv_Cost,Reg_Max,Rsv_Max,Region,Cluster,CO2_Capture_Fraction,CO2_Capture_Fraction_Startup,CCS_Disposal_Cost_per_Metric_Ton,Biomass,MULTI_FUELS,Num_Fuels,Fuel1,Heat_Rate1_MMBTU_per_MWh,Fuel1_Min_Cofire_Level,Fuel1_Min_Cofire_Level_Start,Fuel1_Max_Cofire_Level,Fuel1_Max_Cofire_Level_Start,Fuel2,Heat_Rate2_MMBTU_per_MWh,Fuel2_Min_Cofire_Level,Fuel2_Max_Cofire_Level,Fuel2_Min_Cofire_Level_Start,Fuel2_Max_Cofire_Level_Start
 2 | NENGREST_biomass_1,1,1,1,biomass,0.45,1,1,106.062,3.21,0,0,0,0,None,0,122976,5.08,0,0,0,0,14.58,0,0,0.083333333,0.166666667,NENGREST,1,0,0,-39,0,1,2,mountain_naturalgas,6.36,0,0,0.12,1,hydrogen,6.36,0,0.12,0,0.12
 3 | NENGREST_natural_gas_fired_combined_cycle_1,1,1,1,natural_gas_fired_combined_cycle,0.468,0.64,0.64,7077.3,471.82,0,0,0,1,NENGREST_NG,0,10287,3.55,6,6,91,2,7.43,0,0,0.053333333,0.106666667,NENGREST,1,0,0,-39,0,1,2,mountain_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
 4 | NENGREST_natural_gas_fired_combined_cycle_2,1,1,1,natural_gas_fired_combined_cycle,0.507,0.64,0.64,2684.803,244.07,0,0,0,1,NENGREST_NG,0,16291,4.5,6,6,91,2,8.29,0,0,0.053333333,0.106666667,NENGREST,2,0.9,0.9,-28.936,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
 5 | NENGREST_natural_gas_fired_combustion_turbine_1,1,1,1,natural_gas_fired_combustion_turbine,0.456,3.78,3.78,302.701,43.24,0,0,0,1,NENGREST_NG,0,12080,4.6,1,1,118,3.5,10.13,0,0,0.315,0.63,NENGREST,1,0,0,-39,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
 6 | NENGREST_natural_gas_fired_combustion_turbine_2,1,1,1,natural_gas_fired_combustion_turbine,0.488,3.78,3.78,62.704,7.84,0,0,0,1,NENGREST_NG,0,13991,4.6,1,1,118,3.5,4.74,0,0,0.315,0.63,NENGREST,2,0,0,-39,0,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
 7 | NENGREST_natural_gas_steam_turbine_1,1,1,1,natural_gas_steam_turbine,0,0,0,0.6,0.6,0,0,0,1,NENGREST_NG,0,50678,1.04,0,0,86,13.7,0,0,0,0,0,NENGREST,1,0.9,0.9,-20.634,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
 8 | NENGREST_nuclear_1,1,1,1,nuclear,0.5,0.25,0.25,1242,1242,0,0,0,1,new_england_uranium,0,271818,2.32,24,24,245,0,10.46,0,0,0.020833333,0.041666667,NENGREST,1,0,0,-39,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
 9 | NENG_CT_biomass_1,2,1,1,biomass,0.348,1,1,27.248,3.41,0,0,0,0,Biomass,0,122976,5.37,0,0,0,0,15.33,0,0,0.083333333,0.166666667,NENG_CT,1,0,0,-39,1,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
10 | NENG_CT_natural_gas_fired_combined_cycle_1,2,1,1,natural_gas_fired_combined_cycle,0.338,0.64,0.64,3488.704,436.09,0,0,0,1,NENG_CT_NG,0,9698,3.57,6,6,91,2,7.12,0,0,0.053333333,0.106666667,NENG_CT,1,0.9,0.9,-26.5,0,1,2,south_atlantic_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
11 | NENG_CT_natural_gas_fired_combined_cycle_2,2,1,1,natural_gas_fired_combined_cycle,0.466,0.64,0.64,35.2,17.6,0,0,0,1,NENG_CT_NG,0,16291,4.5,6,6,91,2,10.77,0,0,0.053333333,0.106666667,NENG_CT,2,0,0,-39,0,1,2,south_atlantic_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
12 | NENG_CT_natural_gas_fired_combustion_turbine_1,2,1,1,natural_gas_fired_combustion_turbine,0.124,3.78,3.78,434,54.25,0,0,0,1,NENG_CT_NG,0,10609,4.6,1,1,118,3.5,11.06,0,0,0.315,0.63,NENG_CT,1,0,0,-39,0,1,2,south_atlantic_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
13 | NENG_CT_natural_gas_fired_combustion_turbine_2,2,1,1,natural_gas_fired_combustion_turbine,0.476,3.78,3.78,124.9,24.98,0,0,0,1,NENG_CT_NG,0,13991,4.6,1,1,118,3.5,8.35,0,0,0.315,0.63,NENG_CT,2,0,0,-39,0,1,2,new_england_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
14 | NENG_CT_nuclear_1,2,1,1,nuclear,0.5,0.25,0.25,2162.9,1081.45,0,0,0,1,new_england_uranium,0,190920,2.32,24,24,245,0,10.46,0,0,0.020833333,0.041666667,NENG_CT,1,0,0,-39,0,1,2,new_england_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
15 | NENG_ME_biomass_1,3,1,1,biomass,0.404,1,1,24.95,2.5,0,0,0,0,None,0,122976,4.85,0,0,0,0,13.84,0,0,0.083333333,0.166666667,NENG_ME,1,0.9,0.9,-24.632,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
16 | NENG_ME_natural_gas_fired_combined_cycle_1,3,1,1,natural_gas_fired_combined_cycle,0.474,0.64,0.64,274.5,137.25,0,0,0,1,NENG_ME_NG,0,16291,4.5,6,6,91,2,12.62,0,0,0.053333333,0.106666667,NENG_ME,1,0,0,-39,0,0,1,east_north_central_coal,0,0,0,1,1,hydrogen,0,0,1,0,1
17 | NENG_ME_natural_gas_fired_combined_cycle_2,3,1,1,natural_gas_fired_combined_cycle,0.386,0.64,0.64,1114.1,557.05,0,0,0,1,NENG_ME_NG,0,9668,3.57,6,6,91,2,7.65,0,0,0.053333333,0.106666667,NENG_ME,2,0,0,-39,0,0,1,pacific_coal,0,0,0,1,1,hydrogen,0,0,1,0,1
18 | NENG_ME_natural_gas_fired_combustion_turbine_1,3,1,1,natural_gas_fired_combustion_turbine,0.697,3.78,3.78,163.5,54.5,0,0,0,1,NENG_ME_NG,0,11540,4.6,1,1,118,3.5,4.75,0,0,0.315,0.63,NENG_ME,1,0.9,0.9,-24.632,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
19 | NENGREST_naturalgas_ccccsavgcf_mid_0,1,1,1,naturalgas_ccccsavgcf_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENGREST_NG_ccs90,229388,27483,5.82,6,6,103,0,7.52,0,0,0.053333333,0.106666667,NENGREST,0,0,0,-39,0,1,2,east_north_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
20 | NENGREST_naturalgas_ccavgcf_mid_0,1,1,1,naturalgas_ccavgcf_mid,0.2,0.64,0.64,0,500,0,-1,1,1,NENGREST_NG,110025,12441,1.61,6,6,103,2,6.27,0,0,0.053333333,0.106666667,NENGREST,0,0,0,-39,0,1,2,east_north_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
21 | NENGREST_naturalgas_ctavgcf_mid_0,1,1,1,naturalgas_ctavgcf_mid,0.3,3.78,3.78,0,100,0,-1,1,1,NENGREST_NG,81998,6960,4.49,1,1,134,3.5,9.9,0,0,0.315,0.63,NENGREST,0,0.9,0.9,-26.989,0,1,2,west_south_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
22 | NENGREST_naturalgas_ccs100_mid_0,1,1,1,naturalgas_ccs100_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENGREST_NG_ccs100,239841,37153,6.26,6,6,103,0,7.89,0,0,0.053333333,0.106666667,NENGREST,0,0,0,-39,0,1,2,west_south_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
23 | NENG_CT_naturalgas_ccccsavgcf_mid_0,2,1,1,naturalgas_ccccsavgcf_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENG_CT_NG_ccs90,229388,27483,5.82,6,6,103,0,7.52,0,0,0.053333333,0.106666667,NENG_CT,0,0,0,-39,0,1,2,west_south_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
24 | NENG_CT_naturalgas_ccavgcf_mid_0,2,1,1,naturalgas_ccavgcf_mid,0.2,0.64,0.64,0,500,0,-1,1,1,NENG_CT_NG,110025,12441,1.61,6,6,103,2,6.27,0,0,0.053333333,0.106666667,NENG_CT,0,0.9,0.9,-24.632,0,1,2,east_north_central_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
25 | NENG_CT_naturalgas_ctavgcf_mid_0,2,1,1,naturalgas_ctavgcf_mid,0.3,3.78,3.78,0,100,0,-1,1,1,NENG_CT_NG,81998,6960,4.49,1,1,134,3.5,9.9,0,0,0.315,0.63,NENG_CT,0,0,0,-39,0,1,2,east_north_central_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
26 | NENG_CT_naturalgas_ccs100_mid_0,2,1,1,naturalgas_ccs100_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENG_CT_NG_ccs100,239841,37153,6.26,6,6,103,0,7.89,0,0,0.053333333,0.106666667,NENG_CT,0,0,0,-39,0,1,2,east_north_central_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
27 | NENG_ME_naturalgas_ccccsavgcf_mid_0,3,1,1,naturalgas_ccccsavgcf_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENG_ME_NG_ccs90,229388,27483,5.82,6,6,103,0,7.52,0,0,0.053333333,0.106666667,NENG_ME,0,0.9,0.9,-18.389,0,1,2,pacific_naturalgas,7.16,0,0,1,1,hydrogen,7.16,0,0.12,0,0.12
28 | NENG_ME_naturalgas_ccavgcf_mid_0,3,1,1,naturalgas_ccavgcf_mid,0.2,0.64,0.64,0,500,0,-1,1,1,NENG_ME_NG,110025,12441,1.61,6,6,103,2,6.27,0,0,0.053333333,0.106666667,NENG_ME,0,0,0,-39,0,1,2,pacific_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12
29 | NENG_ME_naturalgas_ctavgcf_mid_0,3,1,1,naturalgas_ctavgcf_mid,0.3,3.78,3.78,0,100,0,-1,1,1,NENG_ME_NG,81998,6960,4.49,1,1,134,3.5,9.9,0,0,0.315,0.63,NENG_ME,0,0,0,-39,0,1,2,pacific_naturalgas,9.72,0,0,1,1,hydrogen,9.72,0,0.12,0,0.12
30 | NENG_ME_naturalgas_ccs100_mid_0,3,1,1,naturalgas_ccs100_mid,0.6,0.64,0.64,0,500,0,-1,0,1,NENG_ME_NG_ccs100,239841,37153,6.26,6,6,103,0,7.89,0,0,0.053333333,0.106666667,NENG_ME,0,0,0,-39,0,1,2,middle_atlantic_naturalgas,6.36,0,0,1,1,hydrogen,6.36,0,0.12,0,0.12


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/Vre.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,MGA,Resource_Type,Num_Vre_Bins,Existing_Cap_MW,Cap_Size,Min_Cap_MW,Max_Cap_MW,New_Build,Can_Retire,Inv_Cost_Per_MWyr,Fixed_Om_Cost_Per_MWyr,Var_Om_Cost_Per_MWh,Heat_Rate_Mmbtu_Per_MWh,Reg_Cost,Rsv_Cost,Reg_Max,Rsv_Max,Region,Cluster
 2 | NENGREST_offshore_wind_turbine_1,1,1,offshore_wind_turbine,1,30,30,0,0,0,1,0,128440,0,9.12,0,0,0,0,NENGREST,1
 3 | NENGREST_onshore_wind_turbine_1,1,1,onshore_wind_turbine,1,145.8,9.75,0,0,0,1,0,43205,-18,9.12,0,0,0.083333333,0.166666667,NENGREST,1
 4 | NENGREST_solar_photovoltaic_1,1,1,solar_photovoltaic,1,821.4,2.6,0,0,0,1,0,18760,0,9.13,0,0,0.083333333,0.166666667,NENGREST,1
 5 | NENG_CT_onshore_wind_turbine_1,2,1,onshore_wind_turbine,1,6.5,5,0,0,0,1,0,43205,-18,9.12,0,0,0.083333333,0.166666667,NENG_CT,1
 6 | NENG_CT_solar_photovoltaic_1,2,1,solar_photovoltaic,1,374.6,5.67,0,0,0,1,0,18760,0,9.16,0,0,0.083333333,0.166666667,NENG_CT,1
 7 | NENG_ME_onshore_wind_turbine_1,3,1,onshore_wind_turbine,1,1190.9,48.5,0,0,0,1,0,43205,-18,9.12,0,0,0.083333333,0.166666667,NENG_ME,1
 8 | NENG_ME_solar_photovoltaic_1,3,1,solar_photovoltaic,1,11.8,1.5,0,0,0,1,0,18760,0,9.12,0,0,0.083333333,0.166666667,NENG_ME,1
 9 | NENGREST_landbasedwind_ltrg1_mid_130_1,1,1,landbasedwind_ltrg1_mid_130,1,0,1,0,4888.236,1,1,194100,41460,0,0,0,0,0.083333333,0.166666667,NENGREST,1
10 | NENGREST_utilitypv_losangeles_mid_80_0_2_1,1,1,utilitypv_losangeles_mid_80_0_2,1,0,1,0,20835.569,1,1,99283,13055,0,0,0,0,0.083333333,0.166666667,NENGREST,1
11 | NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,1,1,offshorewind_otrg3_mid_fixed_1_176_77,1,0,1,0,9848.442,1,1,260044,91549,0,0,0,0,0.083333333,0.166666667,NENGREST,1
12 | NENG_CT_landbasedwind_ltrg1_mid_110_1,2,1,landbasedwind_ltrg1_mid_110,1,0,1,0,1982.895,1,1,185181,41460,0,0,0,0,0.083333333,0.166666667,NENG_CT,1
13 | NENG_CT_utilitypv_losangeles_mid_80_0_2_1,2,1,utilitypv_losangeles_mid_80_0_2,1,0,1,0,17063.264,1,1,98631,13055,0,0,0,0,0.083333333,0.166666667,NENG_CT,1
14 | NENG_CT_offshorewind_otrg3_mid_fixed_1_176_77_1,2,1,offshorewind_otrg3_mid_fixed_1_176_77,1,0,1,0,477.5,1,1,247542,91549,0,0,0,0,0.083333333,0.166666667,NENG_CT,1
15 | NENG_ME_landbasedwind_ltrg1_mid_110_1,3,1,landbasedwind_ltrg1_mid_110,1,0,1,0,20430.499,1,1,233173,41460,0,0,0,0,0.083333333,0.166666667,NENG_ME,1
16 | NENG_ME_utilitypv_losangeles_mid_100_0_2_1,3,1,utilitypv_losangeles_mid_100_0_2,1,0,1,0,21535.709,1,1,98706,13055,0,0,0,0,0.083333333,0.166666667,NENG_ME,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
 1 | ï»¿Resource,Derating_Factor
 2 | NENGREST_conventional_hydroelectric_1,0.8
 3 | NENG_CT_conventional_hydroelectric_1,0.8
 4 | NENG_ME_conventional_hydroelectric_1,0.8
 5 | NENGREST_heat_load_shifting_1,0.95
 6 | NENG_CT_heat_load_shifting_1,0.95
 7 | NENG_ME_heat_load_shifting_1,0.95
 8 | NENGREST_hydroelectric_pumped_storage_1,0.95
 9 | NENG_CT_hydroelectric_pumped_storage_1,0.95
10 | NENGREST_battery_mid_0,0.95
11 | NENG_CT_battery_mid_0,0.95
12 | NENG_ME_battery_mid_0,0.95
13 | NENGREST_biomass_1,0.93
14 | NENGREST_natural_gas_fired_combined_cycle_1,0.93
15 | NENGREST_natural_gas_fired_combined_cycle_2,0.93
16 | NENGREST_natural_gas_fired_combustion_turbine_1,0.93
17 | NENGREST_natural_gas_fired_combustion_turbine_2,0.93
18 | NENGREST_natural_gas_steam_turbine_1,0.93
19 | NENGREST_nuclear_1,0.93
20 | NENG_CT_biomass_1,0.93
21 | NENG_CT_natural_gas_fired_combined_cycle_1,0.93
22 | NENG_CT_natural_gas_fired_combined_cycle_2,0.93
23 | NENG_CT_natural_gas_fired_combustion_turbine_1,0.93
24 | NENG_CT_natural_gas_fired_combustion_turbine_2,0.93
25 | NENG_CT_nuclear_1,0.93
26 | NENG_ME_biomass_1,0.93
27 | NENG_ME_natural_gas_fired_combined_cycle_1,0.93
28 | NENG_ME_natural_gas_fired_combined_cycle_2,0.93
29 | NENG_ME_natural_gas_fired_combustion_turbine_1,0.93
30 | NENGREST_naturalgas_ccccsavgcf_mid_0,0.93
31 | NENGREST_naturalgas_ccavgcf_mid_0,0.93
32 | NENGREST_naturalgas_ctavgcf_mid_0,0.93
33 | NENGREST_naturalgas_ccs100_mid_0,0.93
34 | NENG_CT_naturalgas_ccccsavgcf_mid_0,0.93
35 | NENG_CT_naturalgas_ccavgcf_mid_0,0.93
36 | NENG_CT_naturalgas_ctavgcf_mid_0,0.93
37 | NENG_CT_naturalgas_ccs100_mid_0,0.93
38 | NENG_ME_naturalgas_ccccsavgcf_mid_0,0.93
39 | NENG_ME_naturalgas_ccavgcf_mid_0,0.93
40 | NENG_ME_naturalgas_ctavgcf_mid_0,0.93
41 | NENG_ME_naturalgas_ccs100_mid_0,0.93
42 | NENGREST_offshore_wind_turbine_1,0.8
43 | NENGREST_onshore_wind_turbine_1,0.8
44 | NENGREST_solar_photovoltaic_1,0.8
45 | NENG_CT_onshore_wind_turbine_1,0.8
46 | NENG_CT_solar_photovoltaic_1,0.8
47 | NENG_ME_onshore_wind_turbine_1,0.8
48 | NENG_ME_solar_photovoltaic_1,0.8
49 | NENGREST_landbasedwind_ltrg1_mid_130_1,0.8
50 | NENGREST_utilitypv_losangeles_mid_80_0_2_1,0.8
51 | NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,0.8
52 | NENG_CT_landbasedwind_ltrg1_mid_110_1,0.8
53 | NENG_CT_utilitypv_losangeles_mid_80_0_2_1,0.8
54 | NENG_CT_offshorewind_otrg3_mid_fixed_1_176_77_1,0.8
55 | NENG_ME_landbasedwind_ltrg1_mid_110_1,0.8
56 | NENG_ME_utilitypv_losangeles_mid_100_0_2_1,0.8


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
 1 | ï»¿Resource,ESR_1,ESR_2
 2 | NENGREST_conventional_hydroelectric_1,0,1
 3 | NENG_CT_conventional_hydroelectric_1,0,1
 4 | NENG_ME_conventional_hydroelectric_1,0,1
 5 | NENGREST_small_hydroelectric_1,1,1
 6 | NENG_CT_small_hydroelectric_1,1,1
 7 | NENG_ME_small_hydroelectric_1,1,1
 8 | NENGREST_biomass_1,1,1
 9 | NENGREST_nuclear_1,0,1
10 | NENG_CT_biomass_1,1,1
11 | NENG_CT_nuclear_1,0,1
12 | NENG_ME_biomass_1,1,1
13 | NENGREST_offshore_wind_turbine_1,1,1
14 | NENGREST_onshore_wind_turbine_1,1,1
15 | NENGREST_solar_photovoltaic_1,1,1
16 | NENG_CT_onshore_wind_turbine_1,1,1
17 | NENG_CT_solar_photovoltaic_1,1,1
18 | NENG_ME_onshore_wind_turbine_1,1,1
19 | NENG_ME_solar_photovoltaic_1,1,1
20 | NENGREST_landbasedwind_ltrg1_mid_130_1,1,1
21 | NENGREST_utilitypv_losangeles_mid_80_0_2_1,1,1
22 | NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,1,1
23 | NENG_CT_landbasedwind_ltrg1_mid_110_1,1,1
24 | NENG_CT_utilitypv_losangeles_mid_80_0_2_1,1,1
25 | NENG_CT_offshorewind_otrg3_mid_fixed_1_176_77_1,1,1
26 | NENG_ME_landbasedwind_ltrg1_mid_110_1,1,1
27 | NENG_ME_utilitypv_losangeles_mid_100_0_2_1,1,1
28 | NENG_ME_electrolyzer,0,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | NENGREST_offshore_wind_turbine_1,1,1,0
3 | NENGREST_onshore_wind_turbine_1,1,0,0
4 | NENGREST_solar_photovoltaic_1,0,0,1
5 | NENG_ME_onshore_wind_turbine_1,1,0,0
6 | NENGREST_landbasedwind_ltrg1_mid_130_1,1,0,0
7 | NENGREST_utilitypv_losangeles_mid_80_0_2_1,0,0,1
8 | NENGREST_offshorewind_otrg3_mid_fixed_1_176_77_1,1,1,0
9 | NENG_ME_landbasedwind_ltrg1_mid_110_1,1,0,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/settings/genx_settings.yml:
--------------------------------------------------------------------------------
 1 | NetworkExpansion: 1
 2 | ParameterScale: 1
 3 | EnergyShareRequirement: 1
 4 | Trans_Loss_Segments: 1
 5 | CapacityReserveMargin: 1
 6 | OperationalReserves: 1
 7 | StorageLosses: 1
 8 | OverwriteResults: 1
 9 | UCommit: 2
10 | MinCapReq: 1
11 | CO2Cap: 1
12 | WriteShadowPrices: 1
13 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/settings/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: choose             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | #highs-specific solver settings
10 | 
11 | # run the crossover routine for ipx
12 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
13 | run_crossover: "on"
14 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
 1 | IterativelyAddPeriods: 1
 2 | ExtremePeriods:
 3 |   Wind:
 4 |     System:
 5 |       Absolute:
 6 |         Min: 0
 7 |         Max: 0
 8 |       Integral:
 9 |         Min: 1
10 |         Max: 0
11 |     Zone:
12 |       Absolute:
13 |         Min: 0
14 |         Max: 0
15 |       Integral:
16 |         Min: 0
17 |         Max: 0
18 |   Demand:
19 |     System:
20 |       Absolute:
21 |         Min: 0
22 |         Max: 1
23 |       Integral:
24 |         Min: 0
25 |         Max: 0
26 |     Zone:
27 |       Absolute:
28 |         Min: 0
29 |         Max: 0
30 |       Integral:
31 |         Min: 0
32 |         Max: 0
33 |   PV:
34 |     System:
35 |       Absolute:
36 |         Min: 0
37 |         Max: 0
38 |       Integral:
39 |         Min: 1
40 |         Max: 0
41 |     Zone:
42 |       Absolute:
43 |         Min: 0
44 |         Max: 0
45 |       Integral:
46 |         Min: 0
47 |         Max: 0
48 | UseExtremePeriods: 1
49 | MinPeriods: 5
50 | MaxPeriods: 5
51 | DemandWeight: 1
52 | ClusterFuelPrices: 0
53 | nReps: 100
54 | Threshold: 0.05
55 | TimestepsPerRepPeriod: 24
56 | IterateMethod: "cluster"
57 | ScalingMethod: "S"
58 | ClusterMethod: "kmeans"
59 | WeightTotal: 8760
60 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
  2 | 2000,1,1,1,2000,5,96,2112,1,8953,2557,1220
  3 | ,2,0.9,0.04,1800,,,2880,2,8388,2395,1144
  4 | ,3,0.55,0.024,1100,,,1632,3,8016,2290,1093
  5 | ,4,0.2,0.003,400,,,2016,4,7790,2225,1062
  6 | ,,,,,,,96,5,7739,2210,1055
  7 | ,,,,,,,,6,7807,2230,1065
  8 | ,,,,,,,,7,8107,2316,1105
  9 | ,,,,,,,,8,8824,2520,1203
 10 | ,,,,,,,,9,9731,2779,1327
 11 | ,,,,,,,,10,10541,3011,1437
 12 | ,,,,,,,,11,11119,3175,1515
 13 | ,,,,,,,,12,11425,3262,1557
 14 | ,,,,,,,,13,11542,3296,1574
 15 | ,,,,,,,,14,11550,3299,1575
 16 | ,,,,,,,,15,11459,3272,1562
 17 | ,,,,,,,,16,11195,3198,1526
 18 | ,,,,,,,,17,10966,3132,1496
 19 | ,,,,,,,,18,10858,3101,1481
 20 | ,,,,,,,,19,10692,3053,1458
 21 | ,,,,,,,,20,10550,3012,1438
 22 | ,,,,,,,,21,10553,3014,1439
 23 | ,,,,,,,,22,10177,2907,1387
 24 | ,,,,,,,,23,9511,2716,1296
 25 | ,,,,,,,,24,8764,2503,1195
 26 | ,,,,,,,,25,8114,2317,1106
 27 | ,,,,,,,,26,7691,2197,1048
 28 | ,,,,,,,,27,7414,2118,1011
 29 | ,,,,,,,,28,7254,2072,988
 30 | ,,,,,,,,29,7216,2061,984
 31 | ,,,,,,,,30,7273,2077,991
 32 | ,,,,,,,,31,7399,2113,1008
 33 | ,,,,,,,,32,7880,2251,1074
 34 | ,,,,,,,,33,8565,2446,1168
 35 | ,,,,,,,,34,9180,2622,1251
 36 | ,,,,,,,,35,9605,2743,1309
 37 | ,,,,,,,,36,9924,2834,1353
 38 | ,,,,,,,,37,10117,2889,1379
 39 | ,,,,,,,,38,10140,2896,1382
 40 | ,,,,,,,,39,10108,2887,1378
 41 | ,,,,,,,,40,10060,2873,1372
 42 | ,,,,,,,,41,10158,2902,1385
 43 | ,,,,,,,,42,10299,2942,1404
 44 | ,,,,,,,,43,10241,2924,1396
 45 | ,,,,,,,,44,10094,2883,1377
 46 | ,,,,,,,,45,10205,2914,1391
 47 | ,,,,,,,,46,9904,2828,1350
 48 | ,,,,,,,,47,9154,2615,1248
 49 | ,,,,,,,,48,8340,2382,1137
 50 | ,,,,,,,,49,7697,2199,1049
 51 | ,,,,,,,,50,7297,2084,994
 52 | ,,,,,,,,51,7070,2019,964
 53 | ,,,,,,,,52,6978,1992,951
 54 | ,,,,,,,,53,7123,2034,971
 55 | ,,,,,,,,54,7552,2158,1029
 56 | ,,,,,,,,55,8389,2396,1144
 57 | ,,,,,,,,56,9466,2703,1290
 58 | ,,,,,,,,57,10292,2939,1403
 59 | ,,,,,,,,58,10907,3115,1487
 60 | ,,,,,,,,59,11444,3268,1560
 61 | ,,,,,,,,60,11836,3381,1614
 62 | ,,,,,,,,61,12132,3465,1653
 63 | ,,,,,,,,62,12456,3558,1698
 64 | ,,,,,,,,63,12667,3618,1727
 65 | ,,,,,,,,64,12784,3652,1743
 66 | ,,,,,,,,65,12883,3680,1757
 67 | ,,,,,,,,66,12812,3658,1747
 68 | ,,,,,,,,67,12469,3561,1700
 69 | ,,,,,,,,68,12004,3428,1637
 70 | ,,,,,,,,69,11893,3397,1622
 71 | ,,,,,,,,70,11349,3242,1548
 72 | ,,,,,,,,71,10234,2923,1395
 73 | ,,,,,,,,72,9136,2609,1246
 74 | ,,,,,,,,73,8338,2382,1137
 75 | ,,,,,,,,74,7843,2240,1070
 76 | ,,,,,,,,75,7549,2156,1029
 77 | ,,,,,,,,76,7403,2115,1009
 78 | ,,,,,,,,77,7491,2140,1022
 79 | ,,,,,,,,78,7905,2257,1077
 80 | ,,,,,,,,79,8725,2492,1189
 81 | ,,,,,,,,80,9745,2783,1329
 82 | ,,,,,,,,81,10474,2992,1427
 83 | ,,,,,,,,82,10995,3140,1500
 84 | ,,,,,,,,83,11445,3269,1560
 85 | ,,,,,,,,84,11722,3348,1598
 86 | ,,,,,,,,85,11882,3393,1620
 87 | ,,,,,,,,86,12062,3445,1644
 88 | ,,,,,,,,87,12064,3446,1644
 89 | ,,,,,,,,88,11937,3409,1628
 90 | ,,,,,,,,89,11813,3374,1610
 91 | ,,,,,,,,90,11683,3337,1593
 92 | ,,,,,,,,91,11469,3276,1564
 93 | ,,,,,,,,92,11308,3230,1542
 94 | ,,,,,,,,93,11382,3251,1552
 95 | ,,,,,,,,94,10872,3105,1482
 96 | ,,,,,,,,95,9922,2834,1352
 97 | ,,,,,,,,96,8995,2569,1226
 98 | ,,,,,,,,97,7909,2258,1078
 99 | ,,,,,,,,98,7636,2181,1041
100 | ,,,,,,,,99,7537,2153,1028
101 | ,,,,,,,,100,7535,2152,1027
102 | ,,,,,,,,101,7765,2218,1059
103 | ,,,,,,,,102,8486,2424,1157
104 | ,,,,,,,,103,9799,2799,1336
105 | ,,,,,,,,104,10421,2976,1421
106 | ,,,,,,,,105,10462,2988,1426
107 | ,,,,,,,,106,10430,2978,1421
108 | ,,,,,,,,107,10410,2973,1420
109 | ,,,,,,,,108,10320,2948,1407
110 | ,,,,,,,,109,10201,2913,1391
111 | ,,,,,,,,110,10110,2887,1378
112 | ,,,,,,,,111,9996,2855,1363
113 | ,,,,,,,,112,9942,2839,1355
114 | ,,,,,,,,113,10151,2899,1383
115 | ,,,,,,,,114,10934,3123,1491
116 | ,,,,,,,,115,11231,3208,1531
117 | ,,,,,,,,116,10947,3127,1492
118 | ,,,,,,,,117,10521,3004,1434
119 | ,,,,,,,,118,9831,2808,1340
120 | ,,,,,,,,119,8930,2551,1217
121 | ,,,,,,,,120,8132,2322,1109
122 | ,,,,,,,,121,7589,2167,1034
123 | ,,,,,,,,122,7299,2084,995
124 | ,,,,,,,,123,7158,2044,976
125 | ,,,,,,,,124,7144,2040,974
126 | ,,,,,,,,125,7342,2096,1001
127 | ,,,,,,,,126,8068,2304,1100
128 | ,,,,,,,,127,9367,2675,1277
129 | ,,,,,,,,128,10061,2873,1372
130 | ,,,,,,,,129,10198,2912,1390
131 | ,,,,,,,,130,10231,2922,1395
132 | ,,,,,,,,131,10260,2930,1399
133 | ,,,,,,,,132,10215,2917,1392
134 | ,,,,,,,,133,10093,2883,1377
135 | ,,,,,,,,134,10037,2866,1368
136 | ,,,,,,,,135,9922,2834,1352
137 | ,,,,,,,,136,9884,2822,1347
138 | ,,,,,,,,137,10127,2893,1381
139 | ,,,,,,,,138,10851,3099,1479
140 | ,,,,,,,,139,11101,3171,1513
141 | ,,,,,,,,140,10840,3096,1478
142 | ,,,,,,,,141,10398,2969,1418
143 | ,,,,,,,,142,9705,2772,1323
144 | ,,,,,,,,143,8792,2512,1199
145 | ,,,,,,,,144,7960,2273,1085
146 | ,,,,,,,,145,7455,2129,1017
147 | ,,,,,,,,146,7188,2052,980
148 | ,,,,,,,,147,7085,2023,966
149 | ,,,,,,,,148,7134,2037,972
150 | ,,,,,,,,149,7364,2103,1004
151 | ,,,,,,,,150,8128,2321,1108
152 | ,,,,,,,,151,9425,2692,1285
153 | ,,,,,,,,152,10057,2872,1372
154 | ,,,,,,,,153,10138,2895,1382
155 | ,,,,,,,,154,10153,2900,1384
156 | ,,,,,,,,155,10133,2894,1381
157 | ,,,,,,,,156,10080,2879,1374
158 | ,,,,,,,,157,10018,2861,1366
159 | ,,,,,,,,158,10015,2860,1366
160 | ,,,,,,,,159,9941,2839,1355
161 | ,,,,,,,,160,9976,2850,1360
162 | ,,,,,,,,161,10336,2952,1409
163 | ,,,,,,,,162,11007,3144,1501
164 | ,,,,,,,,163,11151,3184,1520
165 | ,,,,,,,,164,10872,3105,1482
166 | ,,,,,,,,165,10440,2982,1423
167 | ,,,,,,,,166,9743,2782,1328
168 | ,,,,,,,,167,8823,2520,1203
169 | ,,,,,,,,168,8004,2286,1091
170 | ,,,,,,,,169,7441,2125,1015
171 | ,,,,,,,,170,7121,2034,971
172 | ,,,,,,,,171,6951,1986,947
173 | ,,,,,,,,172,6924,1978,943
174 | ,,,,,,,,173,7104,2029,968
175 | ,,,,,,,,174,7763,2217,1059
176 | ,,,,,,,,175,8985,2566,1225
177 | ,,,,,,,,176,9713,2774,1324
178 | ,,,,,,,,177,9918,2832,1352
179 | ,,,,,,,,178,9971,2848,1359
180 | ,,,,,,,,179,9985,2852,1362
181 | ,,,,,,,,180,9908,2830,1351
182 | ,,,,,,,,181,9741,2781,1328
183 | ,,,,,,,,182,9622,2748,1312
184 | ,,,,,,,,183,9461,2702,1290
185 | ,,,,,,,,184,9374,2678,1279
186 | ,,,,,,,,185,9539,2724,1300
187 | ,,,,,,,,186,10190,2909,1389
188 | ,,,,,,,,187,10492,2996,1430
189 | ,,,,,,,,188,10231,2922,1395
190 | ,,,,,,,,189,9886,2823,1347
191 | ,,,,,,,,190,9393,2683,1281
192 | ,,,,,,,,191,8703,2486,1187
193 | ,,,,,,,,192,7986,2281,1089
194 | ,,,,,,,,193,8496,2427,1159
195 | ,,,,,,,,194,8193,2340,1116
196 | ,,,,,,,,195,8007,2287,1091
197 | ,,,,,,,,196,7935,2266,1081
198 | ,,,,,,,,197,8002,2286,1091
199 | ,,,,,,,,198,8261,2360,1126
200 | ,,,,,,,,199,8772,2506,1196
201 | ,,,,,,,,200,9381,2679,1279
202 | ,,,,,,,,201,10060,2873,1372
203 | ,,,,,,,,202,10651,3041,1452
204 | ,,,,,,,,203,11015,3146,1502
205 | ,,,,,,,,204,11171,3190,1523
206 | ,,,,,,,,205,11170,3190,1523
207 | ,,,,,,,,206,11028,3149,1504
208 | ,,,,,,,,207,10848,3098,1479
209 | ,,,,,,,,208,10772,3076,1468
210 | ,,,,,,,,209,11183,3193,1525
211 | ,,,,,,,,210,11889,3395,1621
212 | ,,,,,,,,211,11767,3360,1604
213 | ,,,,,,,,212,11359,3244,1549
214 | ,,,,,,,,213,10940,3124,1491
215 | ,,,,,,,,214,10396,2969,1417
216 | ,,,,,,,,215,9729,2778,1327
217 | ,,,,,,,,216,9075,2592,1238
218 | ,,,,,,,,217,8565,2446,1168
219 | ,,,,,,,,218,8285,2366,1130
220 | ,,,,,,,,219,8150,2327,1111
221 | ,,,,,,,,220,8090,2311,1103
222 | ,,,,,,,,221,8144,2326,1111
223 | ,,,,,,,,222,8366,2389,1140
224 | ,,,,,,,,223,8759,2502,1195
225 | ,,,,,,,,224,9189,2624,1253
226 | ,,,,,,,,225,9759,2786,1331
227 | ,,,,,,,,226,10110,2887,1378
228 | ,,,,,,,,227,10249,2927,1397
229 | ,,,,,,,,228,10247,2926,1396
230 | ,,,,,,,,229,10185,2908,1388
231 | ,,,,,,,,230,10108,2887,1378
232 | ,,,,,,,,231,10078,2878,1374
233 | ,,,,,,,,232,10095,2883,1377
234 | ,,,,,,,,233,10566,3017,1441
235 | ,,,,,,,,234,11269,3218,1536
236 | ,,,,,,,,235,11273,3219,1537
237 | ,,,,,,,,236,11067,3161,1509
238 | ,,,,,,,,237,10661,3045,1454
239 | ,,,,,,,,238,9993,2855,1362
240 | ,,,,,,,,239,9247,2641,1260
241 | ,,,,,,,,240,8489,2424,1158
242 | ,,,,,,,,241,7944,2269,1083
243 | ,,,,,,,,242,7667,2189,1045
244 | ,,,,,,,,243,7554,2158,1030
245 | ,,,,,,,,244,7560,2160,1031
246 | ,,,,,,,,245,7795,2226,1063
247 | ,,,,,,,,246,8509,2429,1159
248 | ,,,,,,,,247,9810,2801,1337
249 | ,,,,,,,,248,10540,3010,1436
250 | ,,,,,,,,249,10697,3056,1459
251 | ,,,,,,,,250,10786,3081,1470
252 | ,,,,,,,,251,10870,3105,1482
253 | ,,,,,,,,252,10855,3099,1480
254 | ,,,,,,,,253,10750,3070,1465
255 | ,,,,,,,,254,10677,3049,1456
256 | ,,,,,,,,255,10561,3016,1440
257 | ,,,,,,,,256,10566,3017,1441
258 | ,,,,,,,,257,11048,3155,1506
259 | ,,,,,,,,258,11750,3355,1602
260 | ,,,,,,,,259,11653,3328,1589
261 | ,,,,,,,,260,11283,3222,1539
262 | ,,,,,,,,261,10751,3070,1465
263 | ,,,,,,,,262,9969,2847,1359
264 | ,,,,,,,,263,8988,2566,1225
265 | ,,,,,,,,264,8100,2313,1105
266 | ,,,,,,,,265,7535,2152,1027
267 | ,,,,,,,,266,7177,2050,978
268 | ,,,,,,,,267,7002,1999,954
269 | ,,,,,,,,268,6957,1987,948
270 | ,,,,,,,,269,7155,2043,976
271 | ,,,,,,,,270,7815,2232,1066
272 | ,,,,,,,,271,9128,2606,1245
273 | ,,,,,,,,272,9853,2814,1343
274 | ,,,,,,,,273,9926,2835,1353
275 | ,,,,,,,,274,9885,2823,1347
276 | ,,,,,,,,275,9897,2826,1349
277 | ,,,,,,,,276,9856,2815,1343
278 | ,,,,,,,,277,9742,2782,1328
279 | ,,,,,,,,278,9668,2762,1318
280 | ,,,,,,,,279,9564,2732,1303
281 | ,,,,,,,,280,9572,2733,1305
282 | ,,,,,,,,281,10051,2870,1371
283 | ,,,,,,,,282,10932,3123,1491
284 | ,,,,,,,,283,10942,3125,1492
285 | ,,,,,,,,284,10682,3050,1456
286 | ,,,,,,,,285,10258,2930,1398
287 | ,,,,,,,,286,9557,2730,1302
288 | ,,,,,,,,287,8681,2479,1184
289 | ,,,,,,,,288,7862,2246,1071
290 | ,,,,,,,,289,7141,2039,973
291 | ,,,,,,,,290,6781,1937,924
292 | ,,,,,,,,291,6566,1875,895
293 | ,,,,,,,,292,6498,1856,886
294 | ,,,,,,,,293,6636,1895,904
295 | ,,,,,,,,294,7126,2035,972
296 | ,,,,,,,,295,8188,2339,1115
297 | ,,,,,,,,296,9111,2602,1243
298 | ,,,,,,,,297,9562,2732,1303
299 | ,,,,,,,,298,9841,2811,1342
300 | ,,,,,,,,299,10049,2869,1371
301 | ,,,,,,,,300,10190,2910,1389
302 | ,,,,,,,,301,10212,2917,1392
303 | ,,,,,,,,302,10252,2928,1397
304 | ,,,,,,,,303,10199,2913,1390
305 | ,,,,,,,,304,10149,2899,1383
306 | ,,,,,,,,305,10146,2898,1383
307 | ,,,,,,,,306,10064,2874,1372
308 | ,,,,,,,,307,9882,2822,1347
309 | ,,,,,,,,308,9729,2778,1327
310 | ,,,,,,,,309,9858,2816,1343
311 | ,,,,,,,,310,9575,2734,1305
312 | ,,,,,,,,311,8811,2516,1201
313 | ,,,,,,,,312,7946,2269,1083
314 | ,,,,,,,,313,7289,2081,993
315 | ,,,,,,,,314,6891,1968,940
316 | ,,,,,,,,315,6649,1900,906
317 | ,,,,,,,,316,6527,1864,890
318 | ,,,,,,,,317,6541,1868,892
319 | ,,,,,,,,318,6640,1896,905
320 | ,,,,,,,,319,7019,2005,957
321 | ,,,,,,,,320,7737,2209,1055
322 | ,,,,,,,,321,8583,2451,1169
323 | ,,,,,,,,322,9273,2648,1264
324 | ,,,,,,,,323,9748,2784,1329
325 | ,,,,,,,,324,10054,2871,1371
326 | ,,,,,,,,325,10237,2924,1396
327 | ,,,,,,,,326,10296,2940,1404
328 | ,,,,,,,,327,10335,2952,1409
329 | ,,,,,,,,328,10335,2952,1409
330 | ,,,,,,,,329,10408,2972,1419
331 | ,,,,,,,,330,10408,2972,1419
332 | ,,,,,,,,331,10262,2931,1399
333 | ,,,,,,,,332,10071,2876,1373
334 | ,,,,,,,,333,10168,2904,1386
335 | ,,,,,,,,334,9880,2821,1347
336 | ,,,,,,,,335,9070,2590,1237
337 | ,,,,,,,,336,8197,2340,1117
338 | ,,,,,,,,337,7469,2133,1018
339 | ,,,,,,,,338,7002,1999,954
340 | ,,,,,,,,339,6688,1909,912
341 | ,,,,,,,,340,6498,1856,886
342 | ,,,,,,,,341,6411,1831,874
343 | ,,,,,,,,342,6313,1803,860
344 | ,,,,,,,,343,6535,1866,891
345 | ,,,,,,,,344,7104,2029,968
346 | ,,,,,,,,345,7816,2233,1066
347 | ,,,,,,,,346,8449,2413,1152
348 | ,,,,,,,,347,8856,2529,1207
349 | ,,,,,,,,348,9131,2608,1245
350 | ,,,,,,,,349,9295,2654,1267
351 | ,,,,,,,,350,9322,2662,1271
352 | ,,,,,,,,351,9341,2668,1273
353 | ,,,,,,,,352,9390,2682,1280
354 | ,,,,,,,,353,9479,2707,1292
355 | ,,,,,,,,354,9519,2718,1298
356 | ,,,,,,,,355,9366,2675,1277
357 | ,,,,,,,,356,9188,2624,1252
358 | ,,,,,,,,357,9362,2674,1277
359 | ,,,,,,,,358,9170,2619,1249
360 | ,,,,,,,,359,8537,2438,1164
361 | ,,,,,,,,360,7792,2225,1062
362 | ,,,,,,,,361,7194,2055,981
363 | ,,,,,,,,362,6800,1943,928
364 | ,,,,,,,,363,6579,1879,897
365 | ,,,,,,,,364,6470,1848,882
366 | ,,,,,,,,365,6484,1852,884
367 | ,,,,,,,,366,6545,1870,893
368 | ,,,,,,,,367,6845,1955,933
369 | ,,,,,,,,368,7460,2130,1017
370 | ,,,,,,,,369,8287,2367,1130
371 | ,,,,,,,,370,8975,2563,1224
372 | ,,,,,,,,371,9499,2713,1294
373 | ,,,,,,,,372,9889,2824,1348
374 | ,,,,,,,,373,10168,2904,1386
375 | ,,,,,,,,374,10270,2933,1400
376 | ,,,,,,,,375,10340,2952,1410
377 | ,,,,,,,,376,10418,2976,1421
378 | ,,,,,,,,377,10561,3016,1440
379 | ,,,,,,,,378,10665,3045,1454
380 | ,,,,,,,,379,10545,3012,1437
381 | ,,,,,,,,380,10414,2974,1420
382 | ,,,,,,,,381,10556,3015,1439
383 | ,,,,,,,,382,10084,2880,1375
384 | ,,,,,,,,383,9059,2587,1235
385 | ,,,,,,,,384,8076,2306,1101
386 | ,,,,,,,,385,9966,2846,1358
387 | ,,,,,,,,386,9488,2710,1293
388 | ,,,,,,,,387,9182,2622,1252
389 | ,,,,,,,,388,9021,2576,1230
390 | ,,,,,,,,389,9083,2594,1238
391 | ,,,,,,,,390,9497,2712,1295
392 | ,,,,,,,,391,10491,2996,1430
393 | ,,,,,,,,392,11808,3372,1610
394 | ,,,,,,,,393,12831,3665,1749
395 | ,,,,,,,,394,13653,3899,1862
396 | ,,,,,,,,395,14376,4106,1960
397 | ,,,,,,,,396,14958,4272,2040
398 | ,,,,,,,,397,15407,4400,2100
399 | ,,,,,,,,398,15793,4511,2153
400 | ,,,,,,,,399,15875,4534,2165
401 | ,,,,,,,,400,15907,4543,2169
402 | ,,,,,,,,401,15877,4534,2165
403 | ,,,,,,,,402,15759,4501,2149
404 | ,,,,,,,,403,15392,4396,2099
405 | ,,,,,,,,404,14909,4258,2033
406 | ,,,,,,,,405,14720,4204,2007
407 | ,,,,,,,,406,14135,4037,1927
408 | ,,,,,,,,407,12785,3651,1743
409 | ,,,,,,,,408,11449,3270,1561
410 | ,,,,,,,,409,10503,3000,1432
411 | ,,,,,,,,410,9889,2825,1348
412 | ,,,,,,,,411,9493,2711,1294
413 | ,,,,,,,,412,9245,2640,1261
414 | ,,,,,,,,413,9268,2647,1263
415 | ,,,,,,,,414,9643,2754,1315
416 | ,,,,,,,,415,10684,3051,1457
417 | ,,,,,,,,416,12036,3437,1641
418 | ,,,,,,,,417,13120,3747,1789
419 | ,,,,,,,,418,14080,4021,1919
420 | ,,,,,,,,419,14910,4258,2033
421 | ,,,,,,,,420,15478,4421,2110
422 | ,,,,,,,,421,15870,4533,2164
423 | ,,,,,,,,422,16225,4633,2212
424 | ,,,,,,,,423,16448,4698,2242
425 | ,,,,,,,,424,16617,4746,2266
426 | ,,,,,,,,425,16717,4774,2279
427 | ,,,,,,,,426,16579,4735,2261
428 | ,,,,,,,,427,16199,4626,2209
429 | ,,,,,,,,428,15701,4484,2140
430 | ,,,,,,,,429,15416,4403,2102
431 | ,,,,,,,,430,14854,4243,2025
432 | ,,,,,,,,431,13581,3878,1852
433 | ,,,,,,,,432,12317,3518,1679
434 | ,,,,,,,,433,11428,3264,1558
435 | ,,,,,,,,434,10876,3106,1483
436 | ,,,,,,,,435,10527,3006,1435
437 | ,,,,,,,,436,10316,2946,1407
438 | ,,,,,,,,437,10305,2943,1405
439 | ,,,,,,,,438,10666,3046,1454
440 | ,,,,,,,,439,11610,3316,1583
441 | ,,,,,,,,440,12998,3712,1772
442 | ,,,,,,,,441,13972,3990,1905
443 | ,,,,,,,,442,14756,4214,2012
444 | ,,,,,,,,443,15564,4445,2122
445 | ,,,,,,,,444,16180,4621,2206
446 | ,,,,,,,,445,16567,4732,2259
447 | ,,,,,,,,446,16579,4735,2261
448 | ,,,,,,,,447,16191,4624,2207
449 | ,,,,,,,,448,15434,4408,2105
450 | ,,,,,,,,449,14862,4244,2026
451 | ,,,,,,,,450,14616,4174,1993
452 | ,,,,,,,,451,14244,4068,1942
453 | ,,,,,,,,452,13888,3967,1893
454 | ,,,,,,,,453,13782,3937,1879
455 | ,,,,,,,,454,13334,3808,1818
456 | ,,,,,,,,455,12202,3485,1664
457 | ,,,,,,,,456,11020,3147,1503
458 | ,,,,,,,,457,10113,2888,1378
459 | ,,,,,,,,458,9460,2702,1290
460 | ,,,,,,,,459,9045,2583,1233
461 | ,,,,,,,,460,8791,2511,1198
462 | ,,,,,,,,461,8777,2506,1196
463 | ,,,,,,,,462,9086,2595,1239
464 | ,,,,,,,,463,9840,2810,1342
465 | ,,,,,,,,464,10757,3072,1467
466 | ,,,,,,,,465,11290,3225,1540
467 | ,,,,,,,,466,11661,3331,1590
468 | ,,,,,,,,467,12023,3434,1639
469 | ,,,,,,,,468,12273,3506,1673
470 | ,,,,,,,,469,12425,3549,1694
471 | ,,,,,,,,470,12644,3611,1724
472 | ,,,,,,,,471,12722,3633,1735
473 | ,,,,,,,,472,12820,3661,1748
474 | ,,,,,,,,473,12921,3690,1762
475 | ,,,,,,,,474,12885,3680,1757
476 | ,,,,,,,,475,12514,3574,1707
477 | ,,,,,,,,476,12068,3446,1645
478 | ,,,,,,,,477,11994,3426,1635
479 | ,,,,,,,,478,11578,3306,1579
480 | ,,,,,,,,479,10569,3018,1441
481 | ,,,,,,,,480,9506,2715,1296


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/system/Network.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,Network_Lines,z1,z2,z3,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1
2 | NENGREST,z1,1,1,-1,0,2950,NENGREST_to_NENG_CT,123.0584,0.012305837,2950,12060,0.95,0
3 | NENG_CT,z2,2,1,0,-1,2000,NENGREST_to_NENG_ME,196.5385,0.019653847,2000,19261,0.95,0
4 | NENG_ME,z3,,,,,,,,,,,,


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_non_colocated/system/Period_map.csv:
--------------------------------------------------------------------------------
 1 | Period_Index,Rep_Period,Rep_Period_Index
 2 | 1,4,1
 3 | 2,4,1
 4 | 3,4,1
 5 | 4,4,1
 6 | 5,4,1
 7 | 6,4,1
 8 | 7,4,1
 9 | 8,4,1
10 | 9,4,1
11 | 10,4,1
12 | 11,4,1
13 | 12,4,1
14 | 13,4,1
15 | 14,4,1
16 | 15,4,1
17 | 16,4,1
18 | 17,4,1
19 | 18,4,1
20 | 19,4,1
21 | 20,4,1
22 | 21,4,1
23 | 22,4,1
24 | 23,24,2
25 | 24,24,2
26 | 25,24,2
27 | 26,24,2
28 | 27,24,2
29 | 28,24,2
30 | 29,24,2
31 | 30,24,2
32 | 31,24,2
33 | 32,24,2
34 | 33,24,2
35 | 34,24,2
36 | 35,24,2
37 | 36,24,2
38 | 37,24,2
39 | 38,24,2
40 | 39,24,2
41 | 40,24,2
42 | 41,24,2
43 | 42,24,2
44 | 43,24,2
45 | 44,24,2
46 | 45,24,2
47 | 46,24,2
48 | 47,24,2
49 | 48,24,2
50 | 49,24,2
51 | 50,24,2
52 | 51,24,2
53 | 52,24,2
54 | 53,51,3
55 | 54,51,3
56 | 55,51,3
57 | 56,51,3
58 | 57,51,3
59 | 58,51,3
60 | 59,51,3
61 | 60,51,3
62 | 61,51,3
63 | 62,51,3
64 | 63,51,3
65 | 64,51,3
66 | 65,51,3
67 | 66,51,3
68 | 67,51,3
69 | 68,51,3
70 | 69,51,3
71 | 70,77,4
72 | 71,77,4
73 | 72,77,4
74 | 73,77,4
75 | 74,77,4
76 | 75,77,4
77 | 76,77,4
78 | 77,77,4
79 | 78,77,4
80 | 79,77,4
81 | 80,77,4
82 | 81,77,4
83 | 82,77,4
84 | 83,77,4
85 | 84,77,4
86 | 85,77,4
87 | 86,77,4
88 | 87,77,4
89 | 88,77,4
90 | 89,77,4
91 | 90,77,4
92 | 91,69,5


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/Vre_and_stor_data.csv:
--------------------------------------------------------------------------------
 1 | region,Resource,technology,cluster,R_ID,Zone,LDS_VRE_STOR,CapResVreStor_1,MinCapTag_1,MinCapTag_2,MinCapTag_3,MaxCapTag_1,MaxCapTag_2,MaxCapTag_3,CapResVreStor_2,CapResVreStor_3,Resource_Type,Inv_Cost_Solar_per_MWyr,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Wind_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,MinCapTagStor_1,MinCapTagSolar_1,MinCapTagWind_1,MinCapTagStor_2,MinCapTagSolar_2,MinCapTagWind_2,MinCapTagStor_3,MinCapTagSolar_3,MinCapTagWind_3,MaxCapTagStor_1,MaxCapTagSolar_1,MaxCapTagWind_1,MaxCapTagStor_2,MaxCapTagSolar_2,MaxCapTagWind_2,MaxCapTagStor_3,MaxCapTagSolar_3,MaxCapTagWind_3,STOR_AC_DISCHARGE,STOR_AC_CHARGE,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Charge_AC_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Discharge_AC_MW,Min_Cap_Inverter_MW,Min_Cap_Charge_AC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Charge_AC,Var_OM_Cost_per_MWh_Discharge_AC,Max_Cap_Inverter_MW,Max_Cap_Charge_AC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_DC,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,EtaInverter,Power_to_Energy_DC,Power_to_Energy_AC,ESR_VRESTOR_1,ESR_VRESTOR_2
 2 | EIC,EIC_landbasedwind_class1_moderate_0,LandbasedWind_Class1_Moderate_,0,209,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,117315.5,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,1,1
 3 | EIC,EIC_landbasedwind_class1_moderate_1,LandbasedWind_Class1_Moderate_,1,210,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56817,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,139803.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 4 | EIC,EIC_landbasedwind_class1_moderate_2,LandbasedWind_Class1_Moderate_,2,211,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,114313.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 5 | EIC,EIC_landbasedwind_class1_moderate_3,LandbasedWind_Class1_Moderate_,3,212,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,81237.6,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 6 | EIC,EIC_landbasedwind_class1_moderate_4,LandbasedWind_Class1_Moderate_,4,213,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,81092.2,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 7 | EIC,EIC_landbasedwind_class1_moderate_5,LandbasedWind_Class1_Moderate_,5,214,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,54453.3,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 8 | EIC,EIC_landbasedwind_class1_moderate_6,LandbasedWind_Class1_Moderate_,6,215,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,82417.2,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
 9 | EIC,EIC_landbasedwind_class1_moderate_7,LandbasedWind_Class1_Moderate_,7,216,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,26531.1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
10 | EIC,EIC_landbasedwind_class1_moderate_8,LandbasedWind_Class1_Moderate_,8,217,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56817,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,58187.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
11 | EIC,EIC_landbasedwind_class1_moderate_9,LandbasedWind_Class1_Moderate_,9,218,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_wind,0,7522,56816,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,194921.8,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
12 | EIC,EIC_storage_metalair_advanced_0,Storage_MetalAir_Advanced,0,219,1,1,0.95,0,0,0,0,0,0,0,0,standalone_storage,0,7522,0,0,1875,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
13 | EIC,EIC_utilitypv_class1_moderate_0,UtilityPV_Class1_Moderate_,0,220,1,1,0.95,1,1,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1351663.04,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
14 | EIC,EIC_utilitypv_class1_moderate_1,UtilityPV_Class1_Moderate_,1,221,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,787394.14,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
15 | EIC,EIC_utilitypv_class1_moderate_2,UtilityPV_Class1_Moderate_,2,222,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1683583.59,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
16 | EIC,EIC_utilitypv_class1_moderate_3,UtilityPV_Class1_Moderate_,3,223,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1148387.24,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
17 | EIC,EIC_utilitypv_class1_moderate_4,UtilityPV_Class1_Moderate_,4,224,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,2254699.98,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
18 | EIC,EIC_utilitypv_class1_moderate_5,UtilityPV_Class1_Moderate_,5,225,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,879389.55,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
19 | EIC,EIC_utilitypv_class1_moderate_6,UtilityPV_Class1_Moderate_,6,226,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1998829.95,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
20 | EIC,EIC_utilitypv_class1_moderate_7,UtilityPV_Class1_Moderate_,7,227,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1123362.89,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
21 | EIC,EIC_utilitypv_class1_moderate_8,UtilityPV_Class1_Moderate_,8,228,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,2501477.94,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
22 | EIC,EIC_utilitypv_class1_moderate_9,UtilityPV_Class1_Moderate_,9,229,1,1,0.95,0,0,0,0,0,0,0,0,hybrid_pv,22706,7522,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,326479.4,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
23 | TRE,TRE_landbasedwind_class1_moderate_0,LandbasedWind_Class1_Moderate_,0,230,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41880,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,20796.6,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
24 | TRE,TRE_landbasedwind_class1_moderate_1,LandbasedWind_Class1_Moderate_,1,231,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41880,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,27529.5,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
25 | TRE,TRE_landbasedwind_class1_moderate_2,LandbasedWind_Class1_Moderate_,2,232,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41881,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,22035.5,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
26 | TRE,TRE_landbasedwind_class1_moderate_3,LandbasedWind_Class1_Moderate_,3,233,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41881,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,22639.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
27 | TRE,TRE_landbasedwind_class1_moderate_4,LandbasedWind_Class1_Moderate_,4,234,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41881,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,21021.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
28 | TRE,TRE_landbasedwind_class1_moderate_5,LandbasedWind_Class1_Moderate_,5,235,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41880,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,21153.5,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
29 | TRE,TRE_landbasedwind_class1_moderate_6,LandbasedWind_Class1_Moderate_,6,236,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41881,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,32345.3,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
30 | TRE,TRE_landbasedwind_class1_moderate_7,LandbasedWind_Class1_Moderate_,7,237,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41880,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,12398.9,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
31 | TRE,TRE_landbasedwind_class1_moderate_8,LandbasedWind_Class1_Moderate_,8,238,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41880,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,34789.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
32 | TRE,TRE_landbasedwind_class1_moderate_9,LandbasedWind_Class1_Moderate_,9,239,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_wind,0,7303,41881,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,2448.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
33 | TRE,TRE_storage_metalair_advanced_0,Storage_MetalAir_Advanced,0,240,2,1,0,0,0,0,0,0,0,0.95,0,standalone_storage,0,7303,0,0,1875,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
34 | TRE,TRE_utilitypv_class1_moderate_0,UtilityPV_Class1_Moderate_,0,241,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,249716.61,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
35 | TRE,TRE_utilitypv_class1_moderate_1,UtilityPV_Class1_Moderate_,1,242,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,150550.53,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
36 | TRE,TRE_utilitypv_class1_moderate_2,UtilityPV_Class1_Moderate_,2,243,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,340227.68,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
37 | TRE,TRE_utilitypv_class1_moderate_3,UtilityPV_Class1_Moderate_,3,244,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,232869.52,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
38 | TRE,TRE_utilitypv_class1_moderate_4,UtilityPV_Class1_Moderate_,4,245,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,409644.17,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
39 | TRE,TRE_utilitypv_class1_moderate_5,UtilityPV_Class1_Moderate_,5,246,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,224977.87,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
40 | TRE,TRE_utilitypv_class1_moderate_6,UtilityPV_Class1_Moderate_,6,247,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,393113.89,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
41 | TRE,TRE_utilitypv_class1_moderate_7,UtilityPV_Class1_Moderate_,7,248,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,248585.87,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
42 | TRE,TRE_utilitypv_class1_moderate_8,UtilityPV_Class1_Moderate_,8,249,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,124347.08,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
43 | TRE,TRE_utilitypv_class1_moderate_9,UtilityPV_Class1_Moderate_,9,250,2,1,0,0,0,0,0,0,0,0.95,0,hybrid_pv,21612,7303,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,477756.89,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
44 | WECC,WECC_landbasedwind_class1_moderate_0,LandbasedWind_Class1_Moderate_,0,251,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74338,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,109860.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
45 | WECC,WECC_landbasedwind_class1_moderate_1,LandbasedWind_Class1_Moderate_,1,252,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74338,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,47257.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
46 | WECC,WECC_landbasedwind_class1_moderate_2,LandbasedWind_Class1_Moderate_,2,253,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74337,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,88662.6,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
47 | WECC,WECC_landbasedwind_class1_moderate_3,LandbasedWind_Class1_Moderate_,3,254,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74338,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,40824.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
48 | WECC,WECC_landbasedwind_class1_moderate_4,LandbasedWind_Class1_Moderate_,4,255,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74337,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,109163.8,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
49 | WECC,WECC_landbasedwind_class1_moderate_5,LandbasedWind_Class1_Moderate_,5,256,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74337,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,25095.7,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
50 | WECC,WECC_landbasedwind_class1_moderate_6,LandbasedWind_Class1_Moderate_,6,257,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74337,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,100227,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
51 | WECC,WECC_landbasedwind_class1_moderate_7,LandbasedWind_Class1_Moderate_,7,258,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74337,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,34790.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
52 | WECC,WECC_landbasedwind_class1_moderate_8,LandbasedWind_Class1_Moderate_,8,259,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74338,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,64367.5,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
53 | WECC,WECC_landbasedwind_class1_moderate_9,LandbasedWind_Class1_Moderate_,9,260,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_wind,0,7609,74338,0,1875,36613,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,77014.4,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
54 | WECC,WECC_storage_metalair_advanced_0,Storage_MetalAir_Advanced,0,261,3,1,0,0,0,0,0,0,0,0,0.95,standalone_storage,0,7609,0,0,1875,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
55 | WECC,WECC_utilitypv_class1_moderate_0,UtilityPV_Class1_Moderate_,0,262,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,775652.15,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
56 | WECC,WECC_utilitypv_class1_moderate_1,UtilityPV_Class1_Moderate_,1,263,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,207870.65,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
57 | WECC,WECC_utilitypv_class1_moderate_2,UtilityPV_Class1_Moderate_,2,264,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1143504.83,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
58 | WECC,WECC_utilitypv_class1_moderate_3,UtilityPV_Class1_Moderate_,3,265,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,35742.72,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
59 | WECC,WECC_utilitypv_class1_moderate_4,UtilityPV_Class1_Moderate_,4,266,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1185544.36,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
60 | WECC,WECC_utilitypv_class1_moderate_5,UtilityPV_Class1_Moderate_,5,267,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,31049.98,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
61 | WECC,WECC_utilitypv_class1_moderate_6,UtilityPV_Class1_Moderate_,6,268,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1023622.34,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
62 | WECC,WECC_utilitypv_class1_moderate_7,UtilityPV_Class1_Moderate_,7,269,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,82238,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
63 | WECC,WECC_utilitypv_class1_moderate_8,UtilityPV_Class1_Moderate_,8,270,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,1134234.27,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0
64 | WECC,WECC_utilitypv_class1_moderate_9,UtilityPV_Class1_Moderate_,9,271,3,1,0,0,0,0,0,0,0,0,0.95,hybrid_pv,23643,7609,0,12550,1875,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,94348.41,-1,-1,-1,0.15,0.15,0.65,0.65,0.65,0.65,0.967,0.005,0.005,0,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/inputs_after_loadgen.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/load_resources/test_gen_vre_stor/inputs_after_loadgen.jld2


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/inputs_before_loadgen.jld2:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/LuisE-PRA/GenX.jl-main_v01/main/test/load_resources/test_gen_vre_stor/inputs_before_loadgen.jld2


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Max_Mtons_1,CO_2_Cap_Zone_1
2 | EIC,z1,0.0,1
3 | TRE,z2,0.0,1
4 | WECC,z3,0.0,1
5 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | region,Network_zones,CapRes_1,CapRes_2,CapRes_3
2 | EIC,z1,0.1572,0.0,0.0
3 | TRE,z2,0.0,0.1375,0.0
4 | WECC,z3,0.0,0.0,0.1538
5 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿Zone_name,Network_zones,ESR_1,ESR_2
2 | NENGREST,z1,0.259,0.348
3 | NENG_CT,z2,0.44,0.44
4 | NENG_ME,z3,0.776,0.776


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,Constraint_Description,Max_MW
2 | 1,LDES_1,0
3 | 2,LDES_2,0
4 | 3,LDES_3,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿MinCapReqConstraint,Constraint_Description,Min_MW
2 | 1,ME_Wind,8000
3 | 2,ME_OSW,5000
4 | 3,MA_Solar,3200


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Flex_demand.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Max_Flexible_Demand_Delay,Max_Flexible_Demand_Advance,Flexible_Demand_Energy_Eff,region,technology,cluster
 2 | WECC_trans_light_duty_1,3,0,88930.5,0,0,0,0,0,5,0,1,WECC,trans_light_duty,1
 3 | EIC_trans_light_duty_1,1,0,227552.1,0,0,0,0,0,5,0,1,EIC,trans_light_duty,1
 4 | TRE_trans_light_duty_1,2,0,34387.8,0,0,0,0,0,5,0,1,TRE,trans_light_duty,1
 5 | WECC_comm_water_heat_1,3,0,1130.3,0,0,0,0,0,2,2,1,WECC,comm_water_heat,1
 6 | EIC_comm_water_heat_1,1,0,2922.1,0,0,0,0,0,2,2,1,EIC,comm_water_heat,1
 7 | TRE_comm_water_heat_1,2,0,368.7,0,0,0,0,0,2,2,1,TRE,comm_water_heat,1
 8 | WECC_res_water_heat_1,3,0,2578.7,0,0,0,0,0,2,2,1,WECC,res_water_heat,1
 9 | EIC_res_water_heat_1,1,0,8238.2,0,0,0,0,0,2,2,1,EIC,res_water_heat,1
10 | TRE_res_water_heat_1,2,0,1049.5,0,0,0,0,0,2,2,1,TRE,res_water_heat,1
11 | WECC_comm_space_heat_cool_1,3,0,7483.3,0,0,0,0,0,1,1,1,WECC,comm_space_heat_cool,1
12 | EIC_comm_space_heat_cool_1,1,0,41624.8,0,0,0,0,0,1,1,1,EIC,comm_space_heat_cool,1
13 | TRE_comm_space_heat_cool_1,2,0,6978.6,0,0,0,0,0,1,1,1,TRE,comm_space_heat_cool,1
14 | WECC_res_space_heat_cool_1,3,0,12467.5,0,0,0,0,0,1,1,1,WECC,res_space_heat_cool,1
15 | EIC_res_space_heat_cool_1,1,0,47457,0,0,0,0,0,1,1,1,EIC,res_space_heat_cool,1
16 | TRE_res_space_heat_cool_1,2,0,7585.9,0,0,0,0,0,1,1,1,TRE,res_space_heat_cool,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Hydro.csv:
--------------------------------------------------------------------------------
1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Hydro_Energy_to_Power_Ratio	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
2 | EIC_conventional_hydroelectric_1	1	0	24200.8	0	0	32.35	0	0	0	47048	0	10.34	None	0.273	0	1	1	1	1	1	0	0	EIC	Conventional Hydroelectric	1
3 | TRE_conventional_hydroelectric_1	2	0	477	0	0	25.1	0	0	0	47048	0	10.34	None	0	0	1	1	1	1	1	0	0	TRE	Conventional Hydroelectric	1
4 | WECC_conventional_hydroelectric_1	3	0	46528	0	0	72.7	0	0	0	47048	0	10.34	None	0.214	0	1	1	1	1	1	0	0	WECC	Conventional Hydroelectric	1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Must_run.csv:
--------------------------------------------------------------------------------
 1 | Resource	Zone	Existing_Cap_MWh	Existing_Cap_MW	New_Build	Can_Retire	Cap_Size	Min_Cap_MW	Max_Cap_MW	Inv_Cost_per_MWyr	Fixed_OM_Cost_per_MWyr	Var_OM_Cost_per_MWh	Start_Cost_per_MW	Heat_Rate_MMBTU_per_MWh	Fuel	Min_Power	Self_Disch	Eff_Up	Eff_Down	Ramp_Up_Percentage	Ramp_Dn_Percentage	Up_Time	Down_Time	region	technology	cluster
 2 | EIC_biomass_1	1	0	1722.5	0	0	1.27	0	0	0	150850	7.32	172	17.03	biomass	0.308	0	1	1	1	1	0	0	EIC	Biomass	1
 3 | EIC_small_hydroelectric_1	1	0	1672.2	0	0	1.06	0	0	0	47048	0	0	10.34	None	0.273	0	1	1	1	1	0	0	EIC	Small Hydroelectric	1
 4 | TRE_biomass_1	2	0	44.5	0	0	1.48	0	0	0	150850	6.51	172	15.15	biomass	0.591	0	1	1	1	1	0	0	TRE	Biomass	1
 5 | TRE_small_hydroelectric_1	2	0	11.2	0	0	0.75	0	0	0	47048	0	0	10.34	None	0	0	1	1	1	1	0	0	TRE	Small Hydroelectric	1
 6 | WECC_biomass_1	3	0	551	0	0	2.01	0	0	0	150850	7.14	172	16.63	biomass	0.362	0	1	1	1	1	0	0	WECC	Biomass	1
 7 | WECC_small_hydroelectric_1	3	0	1064.3	0	0	1.62	0	0	0	47048	0	0	10.34	None	0.181	0	1	1	1	1	0	0	WECC	Small Hydroelectric	1
 8 | WECC_distributed_generation_1	3	0	250535	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	WECC	distributed_generation	1
 9 | EIC_distributed_generation_1	1	0	1770000	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	EIC	distributed_generation	1
10 | TRE_distributed_generation_1	2	0	17006	0	0	0	0	0	0	0	0	0	0	None	0	0	1	1	1	1	0	0	TRE	distributed_generation	1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Max_Cap_MW,Max_Cap_MWh,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,region,technology,cluster
2 | EIC_batteries_1,1,1,1424.4,712.2,0,0,16.96,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.041,0,0.92,0.92,1,10,EIC,Batteries,1
3 | EIC_hydroelectric_pumped_storage_1,1,1,275638,17783.1,0,0,170.99,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.524,0,0.866,0.866,1,20,EIC,Hydroelectric Pumped Storage,1
4 | TRE_batteries_1,2,1,721.4,360.7,0,0,45.09,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.001,0,0.92,0.92,1,10,TRE,Batteries,1
5 | WECC_batteries_1,3,1,3611,1357.5,0,0,28.28,0,0,0,6235,0,0,0.15,0.15,10.34,None,0.02,0,0.92,0.92,1,10,WECC,Batteries,1
6 | WECC_hydroelectric_pumped_storage_1,3,1,70790,4567.1,0,0,101.49,0,0,0,47048,0,0,0.15,0.15,10.34,None,0.175,0,0.866,0.866,1,20,WECC,Hydroelectric Pumped Storage,1
7 | EIC_battery_moderate_0,1,1,0,0,1,1,1,-1,-1,19978,5955,11897,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,EIC,Battery_*_Moderate,0
8 | TRE_battery_moderate_0,2,1,0,0,1,1,1,-1,-1,19389,5955,11546,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,TRE,Battery_*_Moderate,0
9 | WECC_battery_moderate_0,3,1,0,0,1,1,1,-1,-1,20202,5955,12030,3546,0.15,0.15,0,None,0,0,0.92,0.92,1,10,WECC,Battery_*_Moderate,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Model,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Heat_Rate_MMBTU_per_MWh,Fuel,Min_Power,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,CO2_Capture_Rate,CO2_Capture_Cost_per_Metric_Ton,Ramp_Up_Percentage,Ramp_Dn_Percentage,Up_Time,Down_Time,region,technology,cluster
 2 | EIC_conventional_steam_coal_1,1,1,0,12806.9,0,1,177.87,0,0,0,78258,1.88,124,16.5,13.34,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,1
 3 | EIC_conventional_steam_coal_2,1,1,0,109345.4,0,1,584.74,0,0,0,64567,1.88,124,16.5,10.89,east_north_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,EIC,Conventional Steam Coal,2
 4 | EIC_natural_gas_fired_combined_cycle_1,1,1,0,27155.3,0,1,163.59,0,0,0,16322,4.53,92,2,9.24,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,1
 5 | EIC_natural_gas_fired_combined_cycle_2,1,1,0,169897.4,0,1,638.71,0,0,0,11042,3.58,92,2,7.34,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Fired Combined Cycle,2
 6 | EIC_natural_gas_fired_combustion_turbine_1,1,1,0,98926.5,0,1,100.13,0,0,0,10031,5.28,119,3.5,12.03,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,1
 7 | EIC_natural_gas_fired_combustion_turbine_2,1,1,0,10412.9,0,1,31.27,0,0,0,13557,5.28,119,3.5,14.66,east_north_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Fired Combustion Turbine,2
 8 | EIC_natural_gas_internal_combustion_engine_1,1,1,0,2578.5,0,1,4.44,0,0,0,21000,5.29,38,0,10.29,east_north_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,EIC,Natural Gas Internal Combustion Engine,1
 9 | EIC_natural_gas_steam_turbine_1,1,1,0,39625.2,0,1,203.21,0,0,0,35537,1.06,87,13.7,12.8,east_north_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,EIC,Natural Gas Steam Turbine,1
10 | EIC_nuclear_1,1,1,0,82406.6,0,1,1030.08,0,0,0,214812,2.84,248,0,10.45,east_north_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,EIC,Nuclear,1
11 | EIC_petroleum_liquids_1,1,1,0,23196.2,0,1,9.96,0,0,0,21000,7.97,38,0,15.5,east_north_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,Petroleum Liquids,1
12 | TRE_conventional_steam_coal_1,2,1,0,5063.6,0,1,723.37,0,0,0,60405,1.88,124,16.5,10.33,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,1
13 | TRE_conventional_steam_coal_2,2,1,0,3713,0,1,530.43,0,0,0,68432,1.88,124,16.5,12.13,west_south_central_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,TRE,Conventional Steam Coal,2
14 | TRE_natural_gas_fired_combined_cycle_1,2,1,0,30139.1,0,1,579.6,0,0,0,10912,3.59,92,2,7.72,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,1
15 | TRE_natural_gas_fired_combined_cycle_2,2,1,0,6317.6,0,1,315.88,0,0,0,15698,4.36,92,2,9.8,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Fired Combined Cycle,2
16 | TRE_natural_gas_fired_combustion_turbine_1,2,1,0,2924,0,1,81.22,0,0,0,10001,5.28,119,3.5,14.08,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,1
17 | TRE_natural_gas_fired_combustion_turbine_2,2,1,0,2826.9,0,1,50.48,0,0,0,11926,5.28,119,3.5,11.11,west_south_central_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Fired Combustion Turbine,2
18 | TRE_natural_gas_internal_combustion_engine_1,2,1,0,502.7,0,1,10.7,0,0,0,21000,4.72,38,0,9.18,west_south_central_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,TRE,Natural Gas Internal Combustion Engine,1
19 | TRE_natural_gas_steam_turbine_1,2,1,0,8249.5,0,1,235.7,0,0,0,34182,1.06,87,13.7,13.24,west_south_central_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,TRE,Natural Gas Steam Turbine,1
20 | TRE_nuclear_1,2,1,0,5120,0,1,1280,0,0,0,193275,2.84,248,0,10.45,west_south_central_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,TRE,Nuclear,1
21 | TRE_petroleum_liquids_1,2,1,0,23.7,0,1,1.48,0,0,0,21000,6.38,38,0,12.4,west_south_central_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,Petroleum Liquids,1
22 | WECC_conventional_steam_coal_1,3,1,0,11415.2,0,1,496.31,0,0,0,64165,1.88,124,16.5,10.63,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,1
23 | WECC_conventional_steam_coal_2,3,1,0,2074.5,0,1,129.66,0,0,0,77721,1.88,124,16.5,12.2,mountain_coal,0.5,0,0,0.095,0.19,0,0,0,0,0.57,0.57,24,24,WECC,Conventional Steam Coal,2
24 | WECC_natural_gas_fired_combined_cycle_1,3,1,0,37593.3,0,1,475.86,0,0,0,10399,3.6,92,2,7.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,1
25 | WECC_natural_gas_fired_combined_cycle_2,3,1,0,12502.4,0,1,158.26,0,0,0,16492,4.55,92,2,8.51,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Fired Combined Cycle,2
26 | WECC_natural_gas_fired_combustion_turbine_1,3,1,0,15252.7,0,1,71.61,0,0,0,10479,5.28,119,3.5,11.06,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,1
27 | WECC_natural_gas_fired_combustion_turbine_2,3,1,0,6281.6,0,1,27.92,0,0,0,13486,5.28,119,3.5,12.78,mountain_naturalgas,0.3,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Fired Combustion Turbine,2
28 | WECC_natural_gas_internal_combustion_engine_1,3,1,0,1282.7,0,1,6.51,0,0,0,21000,4.88,38,0,9.49,mountain_naturalgas,0.18,0,0,0.106666667,0.213333333,0,0,0,0,3.78,3.78,1,1,WECC,Natural Gas Internal Combustion Engine,1
29 | WECC_natural_gas_steam_turbine_1,3,1,0,2669.5,0,1,95.34,0,0,0,51303,1.06,87,13.7,12.4,mountain_naturalgas,0.5,0,0,0.63,1.26,0,0,0,0,0.64,0.64,6,6,WECC,Natural Gas Steam Turbine,1
30 | WECC_nuclear_1,3,1,0,5175,0,1,1293.75,0,0,0,211822,2.84,248,0,10.45,mountain_uranium,0.5,0,0,0.041666667,0.083333333,0,0,0,0,0.25,0.25,24,24,WECC,Nuclear,1
31 | WECC_petroleum_liquids_1,3,1,0,636.2,0,1,4.24,0,0,0,21000,7.2,38,0,14,mountain_distillate,0.18,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,Petroleum Liquids,1
32 | EIC_naturalgas_ccavgcf_moderate_0,1,1,0,0,1,1,500,0,-1,56026,28000,2,106,2,6.36,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,EIC,NaturalGas_CCAvgCF_Moderate,0
33 | EIC_naturalgas_ctavgcf_moderate_0,1,1,0,0,1,1,100,0,-1,45192,21000,5,137,3.5,9.72,east_north_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate,0
34 | EIC_naturalgas_ccccsavgcf_conservative_0,1,1,0,0,1,1,500,0,-1,120812,67000,6,106,0,7.16,east_north_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,EIC,NaturalGas_CCCCSAvgCF_Conservative,0
35 | EIC_advnuclear_atb_moderate_0,1,1,0,0,1,1,500,0,-1,45000,0,2.84,285,0,10.44,east_north_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,EIC,AdvNuclear_ATB_Moderate,0
36 | TRE_naturalgas_ccavgcf_moderate_0,2,1,0,0,1,1,500,0,-1,42007,28000,2,106,2,6.36,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,TRE,NaturalGas_CCAvgCF_Moderate,0
37 | TRE_naturalgas_ctavgcf_moderate_0,2,1,0,0,1,1,100,0,-1,35319,21000,5,137,3.5,9.72,west_south_central_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate,0
38 | TRE_naturalgas_ccccsavgcf_conservative_0,2,1,0,0,1,1,500,0,-1,106685,67000,6,106,0,7.16,west_south_central_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,TRE,NaturalGas_CCCCSAvgCF_Conservative,0
39 | TRE_advnuclear_atb_moderate_0,2,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,west_south_central_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,TRE,AdvNuclear_ATB_Moderate,0
40 | WECC_naturalgas_ccavgcf_moderate_0,3,1,0,0,1,1,500,0,-1,59543,28000,2,106,2,6.36,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,0.64,0.64,6,6,WECC,NaturalGas_CCAvgCF_Moderate,0
41 | WECC_naturalgas_ctavgcf_moderate_0,3,1,0,0,1,1,100,0,-1,45587,21000,5,137,3.5,9.72,mountain_naturalgas,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate,0
42 | WECC_naturalgas_ccccsavgcf_conservative_0,3,1,0,0,1,1,500,0,-1,119927,67000,6,106,0,7.16,mountain_naturalgas,0.6,0,0,0.106666667,0.213333333,0,0,0.9,27,0.64,0.64,6,6,WECC,NaturalGas_CCCCSAvgCF_Conservative,0
43 | WECC_advnuclear_atb_moderate_0,3,1,0,0,1,1,500,0,-1,450000,0,2.84,285,0,10.44,mountain_uranium,0.5,0,0,0,0,0,0,0,0,0.25,0.25,24,24,WECC,AdvNuclear_ATB_Moderate,0
44 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,1,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,EIC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
45 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,2,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,TRE,NaturalGas_CTAvgCF_Moderate_zerocarbon,0
46 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,3,1,0,0,1,1,100,0,-1,61000,0,5,137,3.5,9.72,zerocarbon_fuel,0.3,0,0,0,0,0,0,0,0,3.78,3.78,1,1,WECC,NaturalGas_CTAvgCF_Moderate_zerocarbon,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Vre.csv:
--------------------------------------------------------------------------------
  1 | Resource,Zone,Num_VRE_Bins,Existing_Cap_MWh,Existing_Cap_MW,New_Build,Can_Retire,Cap_Size,Min_Cap_MW,Max_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Self_Disch,Eff_Up,Eff_Down,Ramp_Up_Percentage,Ramp_Dn_Percentage,region,technology,cluster
  2 | EIC_offshore_wind_turbine_1,1,1,0,29.3,0,1,29.3,0,0,0,111496,0,10.34,None,0,1,1,1,1,EIC,Offshore Wind Turbine,1
  3 | EIC_onshore_wind_turbine_1,1,1,0,47407.4,0,1,66.77,0,0,0,43000,0,10.34,None,0,1,1,1,1,EIC,Onshore Wind Turbine,1
  4 | EIC_solar_photovoltaic_1,1,1,0,8533.9,0,1,5.95,0,0,0,22623,0,10.34,None,0,1,1,1,1,EIC,Solar Photovoltaic,1
  5 | TRE_onshore_wind_turbine_1,2,1,0,21683.1,0,1,163.03,0,0,0,43000,0,10.34,None,0,1,1,1,1,TRE,Onshore Wind Turbine,1
  6 | TRE_solar_photovoltaic_1,2,1,0,1821.5,0,1,65.05,0,0,0,22623,0,10.34,None,0,1,1,1,1,TRE,Solar Photovoltaic,1
  7 | WECC_geothermal_1,3,1,0,1752.4,0,0,12,0,0,0,209101,0,10.34,None,0,1,1,1,1,WECC,Geothermal,1
  8 | WECC_onshore_wind_turbine_1,3,1,0,20644.2,0,1,68.81,0,0,0,43000,0,10.34,None,0,1,1,1,1,WECC,Onshore Wind Turbine,1
  9 | WECC_solar_photovoltaic_1,3,1,0,14659.8,0,1,14.87,0,0,0,22623,0,10.34,None,0,1,1,1,1,WECC,Solar Photovoltaic,1
 10 | EIC_offshorewind_class3_moderate_fixed_1_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,0
 11 | EIC_offshorewind_class3_moderate_fixed_1_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,1
 12 | EIC_offshorewind_class3_moderate_fixed_1_2,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,2
 13 | EIC_offshorewind_class3_moderate_fixed_1_3,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,3
 14 | EIC_offshorewind_class3_moderate_fixed_1_4,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,4
 15 | EIC_offshorewind_class3_moderate_fixed_1_5,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,5
 16 | EIC_offshorewind_class3_moderate_fixed_1_6,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,6
 17 | EIC_offshorewind_class3_moderate_fixed_1_7,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,7
 18 | EIC_offshorewind_class3_moderate_fixed_1_8,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,8
 19 | EIC_offshorewind_class3_moderate_fixed_1_9,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_1,9
 20 | EIC_offshorewind_class3_moderate_fixed_0_0,1,1,0,0,1,1,1,0,65762.8,147250,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,0
 21 | EIC_offshorewind_class3_moderate_fixed_0_1,1,1,0,0,1,1,1,0,14399.2,157328,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,1
 22 | EIC_offshorewind_class3_moderate_fixed_0_4,1,1,0,0,1,1,1,0,34280.8,153961,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,4
 23 | EIC_offshorewind_class3_moderate_fixed_0_5,1,1,0,0,1,1,1,0,101840.5,168852,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,5
 24 | EIC_offshorewind_class3_moderate_fixed_0_10,1,1,0,0,1,1,1,0,118605,164784,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,10
 25 | EIC_offshorewind_class3_moderate_fixed_0_11,1,1,0,0,1,1,1,0,18875.6,146792,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,11
 26 | EIC_offshorewind_class3_moderate_fixed_0_18,1,1,0,0,1,1,1,0,79943.7,144977,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,18
 27 | EIC_offshorewind_class3_moderate_fixed_0_19,1,1,0,0,1,1,1,0,23454.7,347411,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,19
 28 | EIC_offshorewind_class3_moderate_fixed_0_28,1,1,0,0,1,1,1,0,59461.7,393568,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,28
 29 | EIC_offshorewind_class3_moderate_fixed_0_29,1,1,0,0,1,1,1,0,73503.9,155384,78449,0,0,None,0,0,0,0,0,EIC,OffShoreWind_Class3_Moderate_fixed_0,29
 30 | EIC_offshorewind_class12_moderate_floating_1_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,0
 31 | EIC_offshorewind_class12_moderate_floating_1_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,1
 32 | EIC_offshorewind_class12_moderate_floating_1_6,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,6
 33 | EIC_offshorewind_class12_moderate_floating_1_7,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,7
 34 | EIC_offshorewind_class12_moderate_floating_1_18,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,18
 35 | EIC_offshorewind_class12_moderate_floating_1_19,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,19
 36 | EIC_offshorewind_class12_moderate_floating_1_38,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,38
 37 | EIC_offshorewind_class12_moderate_floating_1_39,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,39
 38 | EIC_offshorewind_class12_moderate_floating_1_68,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,68
 39 | EIC_offshorewind_class12_moderate_floating_1_69,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_1,69
 40 | EIC_offshorewind_class12_moderate_floating_0_0,1,1,0,0,1,1,1,0,65762.8,204577,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,0
 41 | EIC_offshorewind_class12_moderate_floating_0_1,1,1,0,0,1,1,1,0,14399.2,214655,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,1
 42 | EIC_offshorewind_class12_moderate_floating_0_8,1,1,0,0,1,1,1,0,34280.8,211288,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,8
 43 | EIC_offshorewind_class12_moderate_floating_0_9,1,1,0,0,1,1,1,0,101840.5,226179,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,9
 44 | EIC_offshorewind_class12_moderate_floating_0_28,1,1,0,0,1,1,1,0,118605,222111,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,28
 45 | EIC_offshorewind_class12_moderate_floating_0_29,1,1,0,0,1,1,1,0,18875.6,204119,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,29
 46 | EIC_offshorewind_class12_moderate_floating_0_68,1,1,0,0,1,1,1,0,79943.7,202304,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,68
 47 | EIC_offshorewind_class12_moderate_floating_0_69,1,1,0,0,1,1,1,0,23454.7,404738,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,69
 48 | EIC_offshorewind_class12_moderate_floating_0_138,1,1,0,0,1,1,1,0,59461.7,450895,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,138
 49 | EIC_offshorewind_class12_moderate_floating_0_139,1,1,0,0,1,1,1,0,73503.9,212711,68827,0,0,None,0,1,1,1,1,EIC,OffShoreWind_Class12_Moderate_floating_0,139
 50 | TRE_offshorewind_class3_moderate_fixed_1_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,0
 51 | TRE_offshorewind_class3_moderate_fixed_1_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,1
 52 | TRE_offshorewind_class3_moderate_fixed_1_2,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,2
 53 | TRE_offshorewind_class3_moderate_fixed_1_3,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,3
 54 | TRE_offshorewind_class3_moderate_fixed_1_4,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,4
 55 | TRE_offshorewind_class3_moderate_fixed_1_5,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,5
 56 | TRE_offshorewind_class3_moderate_fixed_1_6,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,6
 57 | TRE_offshorewind_class3_moderate_fixed_1_7,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,7
 58 | TRE_offshorewind_class3_moderate_fixed_1_8,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,8
 59 | TRE_offshorewind_class3_moderate_fixed_1_9,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_1,9
 60 | TRE_offshorewind_class3_moderate_fixed_0_0,2,1,0,0,1,1,1,0,13077.5,145004,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,0
 61 | TRE_offshorewind_class3_moderate_fixed_0_1,2,1,0,0,1,1,1,0,9995,158104,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,1
 62 | TRE_offshorewind_class3_moderate_fixed_0_4,2,1,0,0,1,1,1,0,22842.5,140443,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,4
 63 | TRE_offshorewind_class3_moderate_fixed_0_5,2,1,0,0,1,1,1,0,895,157772,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,5
 64 | TRE_offshorewind_class3_moderate_fixed_0_10,2,1,0,0,1,1,1,0,20865,142961,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,10
 65 | TRE_offshorewind_class3_moderate_fixed_0_11,2,1,0,0,1,1,1,0,4480,166128,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,11
 66 | TRE_offshorewind_class3_moderate_fixed_0_18,2,1,0,0,1,1,1,0,23652,166849,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,18
 67 | TRE_offshorewind_class3_moderate_fixed_0_19,2,1,0,0,1,1,1,0,10070,157895,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,19
 68 | TRE_offshorewind_class3_moderate_fixed_0_28,2,1,0,0,1,1,1,0,20680,167576,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,28
 69 | TRE_offshorewind_class3_moderate_fixed_0_29,2,1,0,0,1,1,1,0,16746,156072,78449,0,0,None,0,0,0,0,0,TRE,OffShoreWind_Class3_Moderate_fixed_0,29
 70 | TRE_offshorewind_class12_moderate_floating_1_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,0
 71 | TRE_offshorewind_class12_moderate_floating_1_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,1
 72 | TRE_offshorewind_class12_moderate_floating_1_6,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,6
 73 | TRE_offshorewind_class12_moderate_floating_1_7,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,7
 74 | TRE_offshorewind_class12_moderate_floating_1_18,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,18
 75 | TRE_offshorewind_class12_moderate_floating_1_19,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,19
 76 | TRE_offshorewind_class12_moderate_floating_1_38,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,38
 77 | TRE_offshorewind_class12_moderate_floating_1_39,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,39
 78 | TRE_offshorewind_class12_moderate_floating_1_68,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,68
 79 | TRE_offshorewind_class12_moderate_floating_1_69,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_1,69
 80 | TRE_offshorewind_class12_moderate_floating_0_0,2,1,0,0,1,1,1,0,13077.5,200994,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,0
 81 | TRE_offshorewind_class12_moderate_floating_0_1,2,1,0,0,1,1,1,0,9995,214094,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,1
 82 | TRE_offshorewind_class12_moderate_floating_0_8,2,1,0,0,1,1,1,0,22842.5,196433,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,8
 83 | TRE_offshorewind_class12_moderate_floating_0_9,2,1,0,0,1,1,1,0,895,213762,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,9
 84 | TRE_offshorewind_class12_moderate_floating_0_28,2,1,0,0,1,1,1,0,20865,198951,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,28
 85 | TRE_offshorewind_class12_moderate_floating_0_29,2,1,0,0,1,1,1,0,4480,222118,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,29
 86 | TRE_offshorewind_class12_moderate_floating_0_68,2,1,0,0,1,1,1,0,23652,222839,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,68
 87 | TRE_offshorewind_class12_moderate_floating_0_69,2,1,0,0,1,1,1,0,10070,213885,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,69
 88 | TRE_offshorewind_class12_moderate_floating_0_138,2,1,0,0,1,1,1,0,20680,223566,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,138
 89 | TRE_offshorewind_class12_moderate_floating_0_139,2,1,0,0,1,1,1,0,16746,212062,68827,0,0,None,0,1,1,1,1,TRE,OffShoreWind_Class12_Moderate_floating_0,139
 90 | WECC_offshorewind_class3_moderate_fixed_1_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,0
 91 | WECC_offshorewind_class3_moderate_fixed_1_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,1
 92 | WECC_offshorewind_class3_moderate_fixed_1_2,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,2
 93 | WECC_offshorewind_class3_moderate_fixed_1_3,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,3
 94 | WECC_offshorewind_class3_moderate_fixed_1_4,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,4
 95 | WECC_offshorewind_class3_moderate_fixed_1_5,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,5
 96 | WECC_offshorewind_class3_moderate_fixed_1_6,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,6
 97 | WECC_offshorewind_class3_moderate_fixed_1_7,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,7
 98 | WECC_offshorewind_class3_moderate_fixed_1_8,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,8
 99 | WECC_offshorewind_class3_moderate_fixed_1_9,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_1,9
100 | WECC_offshorewind_class3_moderate_fixed_0_0,3,1,0,0,1,1,1,0,26916.5,174794,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,0
101 | WECC_offshorewind_class3_moderate_fixed_0_1,3,1,0,0,1,1,1,0,29943.3,179346,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,1
102 | WECC_offshorewind_class3_moderate_fixed_0_4,3,1,0,0,1,1,1,0,39553.5,177553,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,4
103 | WECC_offshorewind_class3_moderate_fixed_0_5,3,1,0,0,1,1,1,0,18780,162737,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,5
104 | WECC_offshorewind_class3_moderate_fixed_0_10,3,1,0,0,1,1,1,0,19994,174072,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,10
105 | WECC_offshorewind_class3_moderate_fixed_0_11,3,1,0,0,1,1,1,0,36016,175097,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,11
106 | WECC_offshorewind_class3_moderate_fixed_0_18,3,1,0,0,1,1,1,0,53762,174641,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,18
107 | WECC_offshorewind_class3_moderate_fixed_0_19,3,1,0,0,1,1,1,0,1544,151442,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,19
108 | WECC_offshorewind_class3_moderate_fixed_0_28,3,1,0,0,1,1,1,0,44128,176829,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,28
109 | WECC_offshorewind_class3_moderate_fixed_0_29,3,1,0,0,1,1,1,0,9122,151351,78449,0,0,None,0,0,0,0,0,WECC,OffShoreWind_Class3_Moderate_fixed_0,29
110 | WECC_offshorewind_class12_moderate_floating_1_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,0
111 | WECC_offshorewind_class12_moderate_floating_1_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,1
112 | WECC_offshorewind_class12_moderate_floating_1_6,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,6
113 | WECC_offshorewind_class12_moderate_floating_1_7,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,7
114 | WECC_offshorewind_class12_moderate_floating_1_18,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,18
115 | WECC_offshorewind_class12_moderate_floating_1_19,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,19
116 | WECC_offshorewind_class12_moderate_floating_1_38,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,38
117 | WECC_offshorewind_class12_moderate_floating_1_39,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,39
118 | WECC_offshorewind_class12_moderate_floating_1_68,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,68
119 | WECC_offshorewind_class12_moderate_floating_1_69,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_1,69
120 | WECC_offshorewind_class12_moderate_floating_0_0,3,1,0,0,1,1,1,0,26916.5,232121,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,0
121 | WECC_offshorewind_class12_moderate_floating_0_1,3,1,0,0,1,1,1,0,29943.3,236673,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,1
122 | WECC_offshorewind_class12_moderate_floating_0_8,3,1,0,0,1,1,1,0,39553.5,234880,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,8
123 | WECC_offshorewind_class12_moderate_floating_0_9,3,1,0,0,1,1,1,0,18780,220064,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,9
124 | WECC_offshorewind_class12_moderate_floating_0_28,3,1,0,0,1,1,1,0,19994,231399,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,28
125 | WECC_offshorewind_class12_moderate_floating_0_29,3,1,0,0,1,1,1,0,36016,232424,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,29
126 | WECC_offshorewind_class12_moderate_floating_0_68,3,1,0,0,1,1,1,0,53762,231968,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,68
127 | WECC_offshorewind_class12_moderate_floating_0_69,3,1,0,0,1,1,1,0,1544,208769,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,69
128 | WECC_offshorewind_class12_moderate_floating_0_138,3,1,0,0,1,1,1,0,44128,234156,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,138
129 | WECC_offshorewind_class12_moderate_floating_0_139,3,1,0,0,1,1,1,0,9122,208678,68827,0,0,None,0,1,1,1,1,WECC,OffShoreWind_Class12_Moderate_floating_0,139


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,New_Build,Can_Retire,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,Resource_Type,technology,cluster
 2 | EIC_landbasedwind_class1_moderate_0,1,0,1,2,2,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
 3 | EIC_landbasedwind_class1_moderate_1,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,139803.7,-1,-1,-1,-1,17082,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
 4 | EIC_landbasedwind_class1_moderate_2,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,114313.7,-1,-1,-1,-1,17267,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
 5 | EIC_landbasedwind_class1_moderate_3,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81237.6,-1,-1,-1,-1,25483,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
 6 | EIC_landbasedwind_class1_moderate_4,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,81092.2,-1,-1,-1,-1,16488,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
 7 | EIC_landbasedwind_class1_moderate_5,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,54453.3,-1,-1,-1,-1,25720,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
 8 | EIC_landbasedwind_class1_moderate_6,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,82417.2,-1,-1,-1,-1,21224,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
 9 | EIC_landbasedwind_class1_moderate_7,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,26531.1,-1,-1,-1,-1,32633,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
10 | EIC_landbasedwind_class1_moderate_8,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,58187.4,-1,-1,-1,-1,28526,0,0,0,0.15,7522,0,56817,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
11 | EIC_landbasedwind_class1_moderate_9,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,194921.8,-1,-1,-1,-1,244462,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
12 | EIC_storage_metalair_advanced_0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,standalone_storage,Storage_MetalAir_Advanced,0
13 | EIC_utilitypv_class1_moderate_0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,0
14 | EIC_utilitypv_class1_moderate_1,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,787394.14,-1,-1,-1,-1,-1,4464,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,1
15 | EIC_utilitypv_class1_moderate_2,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1683583.59,-1,-1,-1,-1,-1,14630,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,2
16 | EIC_utilitypv_class1_moderate_3,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1148387.24,-1,-1,-1,-1,-1,10126,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,3
17 | EIC_utilitypv_class1_moderate_4,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2254699.98,-1,-1,-1,-1,-1,16248,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,4
18 | EIC_utilitypv_class1_moderate_5,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,879389.55,-1,-1,-1,-1,-1,22825,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,5
19 | EIC_utilitypv_class1_moderate_6,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1998829.95,-1,-1,-1,-1,-1,24566,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,6
20 | EIC_utilitypv_class1_moderate_7,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1123362.89,-1,-1,-1,-1,-1,21181,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,7
21 | EIC_utilitypv_class1_moderate_8,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,2501477.94,-1,-1,-1,-1,-1,32414,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,8
22 | EIC_utilitypv_class1_moderate_9,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,326479.4,-1,-1,-1,-1,-1,148669,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,EIC,hybrid_pv,UtilityPV_Class1_Moderate_,9
23 | TRE_landbasedwind_class1_moderate_0,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,20796.6,-1,-1,-1,-1,14393,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,0
24 | TRE_landbasedwind_class1_moderate_1,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,27529.5,-1,-1,-1,-1,20298,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,1
25 | TRE_landbasedwind_class1_moderate_2,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22035.5,-1,-1,-1,-1,14755,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,2
26 | TRE_landbasedwind_class1_moderate_3,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,22639.4,-1,-1,-1,-1,23630,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,3
27 | TRE_landbasedwind_class1_moderate_4,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21021.7,-1,-1,-1,-1,12498,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,4
28 | TRE_landbasedwind_class1_moderate_5,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,21153.5,-1,-1,-1,-1,23788,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,5
29 | TRE_landbasedwind_class1_moderate_6,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,32345.3,-1,-1,-1,-1,15633,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,6
30 | TRE_landbasedwind_class1_moderate_7,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,12398.9,-1,-1,-1,-1,29021,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,7
31 | TRE_landbasedwind_class1_moderate_8,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34789.4,-1,-1,-1,-1,40897,0,0,0,0.15,7303,0,41880,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,8
32 | TRE_landbasedwind_class1_moderate_9,2,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,2448.4,-1,-1,-1,-1,146712,0,0,0,0.15,7303,0,41881,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_wind,LandbasedWind_Class1_Moderate_,9
33 | TRE_storage_metalair_advanced_0,2,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,standalone_storage,Storage_MetalAir_Advanced,0
34 | TRE_utilitypv_class1_moderate_0,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,249716.61,-1,-1,-1,-1,-1,6412,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,0
35 | TRE_utilitypv_class1_moderate_1,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,150550.53,-1,-1,-1,-1,-1,8461,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,1
36 | TRE_utilitypv_class1_moderate_2,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,340227.68,-1,-1,-1,-1,-1,10479,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,2
37 | TRE_utilitypv_class1_moderate_3,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,232869.52,-1,-1,-1,-1,-1,14103,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,3
38 | TRE_utilitypv_class1_moderate_4,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,409644.17,-1,-1,-1,-1,-1,14224,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,4
39 | TRE_utilitypv_class1_moderate_5,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,224977.87,-1,-1,-1,-1,-1,18539,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,5
40 | TRE_utilitypv_class1_moderate_6,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,393113.89,-1,-1,-1,-1,-1,22325,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,6
41 | TRE_utilitypv_class1_moderate_7,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,248585.87,-1,-1,-1,-1,-1,17464,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,7
42 | TRE_utilitypv_class1_moderate_8,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,124347.08,-1,-1,-1,-1,-1,74721,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,8
43 | TRE_utilitypv_class1_moderate_9,2,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,477756.89,-1,-1,-1,-1,-1,29582,0,0,0,0.15,7303,21612,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,TRE,hybrid_pv,UtilityPV_Class1_Moderate_,9
44 | WECC_landbasedwind_class1_moderate_0,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109860.7,-1,-1,-1,-1,20294,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,0
45 | WECC_landbasedwind_class1_moderate_1,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,47257.4,-1,-1,-1,-1,19872,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,1
46 | WECC_landbasedwind_class1_moderate_2,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,88662.6,-1,-1,-1,-1,27185,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,2
47 | WECC_landbasedwind_class1_moderate_3,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,40824.7,-1,-1,-1,-1,19137,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,3
48 | WECC_landbasedwind_class1_moderate_4,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,109163.8,-1,-1,-1,-1,26039,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,4
49 | WECC_landbasedwind_class1_moderate_5,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,25095.7,-1,-1,-1,-1,133609,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,5
50 | WECC_landbasedwind_class1_moderate_6,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,100227,-1,-1,-1,-1,29900,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,6
51 | WECC_landbasedwind_class1_moderate_7,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,34790.4,-1,-1,-1,-1,160193,0,0,0,0.15,7609,0,74337,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,7
52 | WECC_landbasedwind_class1_moderate_8,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,64367.5,-1,-1,-1,-1,38235,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,8
53 | WECC_landbasedwind_class1_moderate_9,3,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,77014.4,-1,-1,-1,-1,274991,0,0,0,0.15,7609,0,74338,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_wind,LandbasedWind_Class1_Moderate_,9
54 | WECC_storage_metalair_advanced_0,3,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,standalone_storage,Storage_MetalAir_Advanced,0
55 | WECC_utilitypv_class1_moderate_0,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,775652.15,-1,-1,-1,-1,-1,10320,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,0
56 | WECC_utilitypv_class1_moderate_1,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,207870.65,-1,-1,-1,-1,-1,6016,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,1
57 | WECC_utilitypv_class1_moderate_2,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1143504.83,-1,-1,-1,-1,-1,19411,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,2
58 | WECC_utilitypv_class1_moderate_3,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,35742.72,-1,-1,-1,-1,-1,3992,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,3
59 | WECC_utilitypv_class1_moderate_4,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1185544.36,-1,-1,-1,-1,-1,25714,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,4
60 | WECC_utilitypv_class1_moderate_5,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,31049.98,-1,-1,-1,-1,-1,8052,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,5
61 | WECC_utilitypv_class1_moderate_6,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1023622.34,-1,-1,-1,-1,-1,33457,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,6
62 | WECC_utilitypv_class1_moderate_7,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,82238,-1,-1,-1,-1,-1,16842,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,7
63 | WECC_utilitypv_class1_moderate_8,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,1134234.27,-1,-1,-1,-1,-1,105939,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,8
64 | WECC_utilitypv_class1_moderate_9,3,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,-1,-1,-1,94348.41,-1,-1,-1,-1,-1,28290,0,0,0,0.15,7609,23643,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,WECC,hybrid_pv,UtilityPV_Class1_Moderate_,9


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
  1 | Resource,Derating_Factor_1,Derating_Factor_2,Derating_Factor_3
  2 | EIC_landbasedwind_class1_moderate_0,0.95,0,0
  3 | EIC_landbasedwind_class1_moderate_1,0.95,0,0
  4 | EIC_landbasedwind_class1_moderate_2,0.95,0,0
  5 | EIC_landbasedwind_class1_moderate_3,0.95,0,0
  6 | EIC_landbasedwind_class1_moderate_4,0.95,0,0
  7 | EIC_landbasedwind_class1_moderate_5,0.95,0,0
  8 | EIC_landbasedwind_class1_moderate_6,0.95,0,0
  9 | EIC_landbasedwind_class1_moderate_7,0.95,0,0
 10 | EIC_landbasedwind_class1_moderate_8,0.95,0,0
 11 | EIC_landbasedwind_class1_moderate_9,0.95,0,0
 12 | EIC_storage_metalair_advanced_0,0.95,0,0
 13 | EIC_utilitypv_class1_moderate_0,0.95,0,0
 14 | EIC_utilitypv_class1_moderate_1,0.95,0,0
 15 | EIC_utilitypv_class1_moderate_2,0.95,0,0
 16 | EIC_utilitypv_class1_moderate_3,0.95,0,0
 17 | EIC_utilitypv_class1_moderate_4,0.95,0,0
 18 | EIC_utilitypv_class1_moderate_5,0.95,0,0
 19 | EIC_utilitypv_class1_moderate_6,0.95,0,0
 20 | EIC_utilitypv_class1_moderate_7,0.95,0,0
 21 | EIC_utilitypv_class1_moderate_8,0.95,0,0
 22 | EIC_utilitypv_class1_moderate_9,0.95,0,0
 23 | TRE_landbasedwind_class1_moderate_0,0,0.95,0
 24 | TRE_landbasedwind_class1_moderate_1,0,0.95,0
 25 | TRE_landbasedwind_class1_moderate_2,0,0.95,0
 26 | TRE_landbasedwind_class1_moderate_3,0,0.95,0
 27 | TRE_landbasedwind_class1_moderate_4,0,0.95,0
 28 | TRE_landbasedwind_class1_moderate_5,0,0.95,0
 29 | TRE_landbasedwind_class1_moderate_6,0,0.95,0
 30 | TRE_landbasedwind_class1_moderate_7,0,0.95,0
 31 | TRE_landbasedwind_class1_moderate_8,0,0.95,0
 32 | TRE_landbasedwind_class1_moderate_9,0,0.95,0
 33 | TRE_storage_metalair_advanced_0,0,0.95,0
 34 | TRE_utilitypv_class1_moderate_0,0,0.95,0
 35 | TRE_utilitypv_class1_moderate_1,0,0.95,0
 36 | TRE_utilitypv_class1_moderate_2,0,0.95,0
 37 | TRE_utilitypv_class1_moderate_3,0,0.95,0
 38 | TRE_utilitypv_class1_moderate_4,0,0.95,0
 39 | TRE_utilitypv_class1_moderate_5,0,0.95,0
 40 | TRE_utilitypv_class1_moderate_6,0,0.95,0
 41 | TRE_utilitypv_class1_moderate_7,0,0.95,0
 42 | TRE_utilitypv_class1_moderate_8,0,0.95,0
 43 | TRE_utilitypv_class1_moderate_9,0,0.95,0
 44 | WECC_landbasedwind_class1_moderate_0,0,0,0.95
 45 | WECC_landbasedwind_class1_moderate_1,0,0,0.95
 46 | WECC_landbasedwind_class1_moderate_2,0,0,0.95
 47 | WECC_landbasedwind_class1_moderate_3,0,0,0.95
 48 | WECC_landbasedwind_class1_moderate_4,0,0,0.95
 49 | WECC_landbasedwind_class1_moderate_5,0,0,0.95
 50 | WECC_landbasedwind_class1_moderate_6,0,0,0.95
 51 | WECC_landbasedwind_class1_moderate_7,0,0,0.95
 52 | WECC_landbasedwind_class1_moderate_8,0,0,0.95
 53 | WECC_landbasedwind_class1_moderate_9,0,0,0.95
 54 | WECC_storage_metalair_advanced_0,0,0,0.95
 55 | WECC_utilitypv_class1_moderate_0,0,0,0.95
 56 | WECC_utilitypv_class1_moderate_1,0,0,0.95
 57 | WECC_utilitypv_class1_moderate_2,0,0,0.95
 58 | WECC_utilitypv_class1_moderate_3,0,0,0.95
 59 | WECC_utilitypv_class1_moderate_4,0,0,0.95
 60 | WECC_utilitypv_class1_moderate_5,0,0,0.95
 61 | WECC_utilitypv_class1_moderate_6,0,0,0.95
 62 | WECC_utilitypv_class1_moderate_7,0,0,0.95
 63 | WECC_utilitypv_class1_moderate_8,0,0,0.95
 64 | WECC_utilitypv_class1_moderate_9,0,0,0.95
 65 | EIC_batteries_1,0,0,0.95
 66 | EIC_biomass_1,0.95,0,0
 67 | EIC_conventional_hydroelectric_1,0,0.95,0
 68 | EIC_conventional_steam_coal_1,0,0,0.95
 69 | EIC_conventional_steam_coal_2,0.95,0,0
 70 | EIC_hydroelectric_pumped_storage_1,0,0.95,0
 71 | EIC_natural_gas_fired_combined_cycle_1,0,0,0.95
 72 | EIC_natural_gas_fired_combined_cycle_2,0.95,0,0
 73 | EIC_natural_gas_fired_combustion_turbine_1,0,0.95,0
 74 | EIC_natural_gas_fired_combustion_turbine_2,0,0,0.95
 75 | EIC_natural_gas_internal_combustion_engine_1,0.95,0,0
 76 | EIC_natural_gas_steam_turbine_1,0,0.95,0
 77 | EIC_nuclear_1,0,0,0.95
 78 | EIC_offshore_wind_turbine_1,0.95,0,0
 79 | EIC_onshore_wind_turbine_1,0,0.95,0
 80 | EIC_petroleum_liquids_1,0.8,0,0
 81 | EIC_small_hydroelectric_1,0,0.8,0
 82 | EIC_solar_photovoltaic_1,0,0,0.8
 83 | TRE_batteries_1,0.93,0,0
 84 | TRE_biomass_1,0.8,0,0
 85 | TRE_conventional_hydroelectric_1,0,0.93,0
 86 | TRE_conventional_steam_coal_1,0,0.8,0
 87 | TRE_conventional_steam_coal_2,0,0,0.93
 88 | TRE_natural_gas_fired_combined_cycle_1,0,0,0.8
 89 | TRE_natural_gas_fired_combined_cycle_2,0,0,0.8
 90 | TRE_natural_gas_fired_combustion_turbine_1,0.8,0,0
 91 | TRE_natural_gas_fired_combustion_turbine_2,0,0.8,0
 92 | TRE_natural_gas_internal_combustion_engine_1,0.95,0,0
 93 | TRE_natural_gas_steam_turbine_1,0.95,0,0
 94 | TRE_nuclear_1,0,0.95,0
 95 | TRE_onshore_wind_turbine_1,0,0,0.95
 96 | TRE_petroleum_liquids_1,0,0,0.95
 97 | TRE_small_hydroelectric_1,0.95,0,0
 98 | TRE_solar_photovoltaic_1,0,0.95,0
 99 | WECC_batteries_1,0,0,0.95
100 | WECC_biomass_1,0.93,0,0
101 | WECC_conventional_hydroelectric_1,0.93,0,0
102 | WECC_conventional_steam_coal_1,0.93,0,0
103 | WECC_conventional_steam_coal_2,0.93,0,0
104 | WECC_geothermal_1,0.93,0,0
105 | WECC_hydroelectric_pumped_storage_1,0.93,0,0
106 | WECC_natural_gas_fired_combined_cycle_1,0.93,0,0
107 | WECC_natural_gas_fired_combined_cycle_2,0.93,0,0
108 | WECC_natural_gas_fired_combustion_turbine_1,0.93,0,0
109 | WECC_natural_gas_fired_combustion_turbine_2,0.93,0,0
110 | WECC_natural_gas_internal_combustion_engine_1,0,0.93,0
111 | WECC_natural_gas_steam_turbine_1,0,0.93,0
112 | WECC_nuclear_1,0,0.93,0
113 | WECC_onshore_wind_turbine_1,0,0.93,0
114 | WECC_petroleum_liquids_1,0,0.93,0
115 | WECC_small_hydroelectric_1,0,0.93,0
116 | WECC_solar_photovoltaic_1,0,0.93,0
117 | WECC_distributed_generation_1,0,0.93,0
118 | EIC_distributed_generation_1,0,0.93,0
119 | TRE_distributed_generation_1,0,0.93,0
120 | EIC_naturalgas_ccavgcf_moderate_0,0,0,0.93
121 | EIC_naturalgas_ctavgcf_moderate_0,0,0,0.93
122 | EIC_battery_moderate_0,0,0,0.93
123 | EIC_naturalgas_ccccsavgcf_conservative_0,0,0,0.93
124 | EIC_advnuclear_atb_moderate_0,0,0,0.93
125 | EIC_offshorewind_class3_moderate_fixed_1_0,0,0,0.93
126 | EIC_offshorewind_class3_moderate_fixed_1_1,0,0,0.93
127 | EIC_offshorewind_class3_moderate_fixed_1_2,0,0,0.93
128 | EIC_offshorewind_class3_moderate_fixed_1_3,0,0,0.93
129 | EIC_offshorewind_class3_moderate_fixed_1_4,0,0,0.93
130 | EIC_offshorewind_class3_moderate_fixed_1_5,0.93,0,0
131 | EIC_offshorewind_class3_moderate_fixed_1_6,0.93,0,0
132 | EIC_offshorewind_class3_moderate_fixed_1_7,0.93,0,0
133 | EIC_offshorewind_class3_moderate_fixed_1_8,0.93,0,0
134 | EIC_offshorewind_class3_moderate_fixed_1_9,0,0.93,0
135 | EIC_offshorewind_class3_moderate_fixed_0_0,0,0.93,0
136 | EIC_offshorewind_class3_moderate_fixed_0_1,0,0.93,0
137 | EIC_offshorewind_class3_moderate_fixed_0_4,0,0.93,0
138 | EIC_offshorewind_class3_moderate_fixed_0_5,0,0,0.93
139 | EIC_offshorewind_class3_moderate_fixed_0_10,0,0,0.93
140 | EIC_offshorewind_class3_moderate_fixed_0_11,0,0,0.93
141 | EIC_offshorewind_class3_moderate_fixed_0_18,0,0,0.93
142 | EIC_offshorewind_class3_moderate_fixed_0_19,0.93,0,0
143 | EIC_offshorewind_class3_moderate_fixed_0_28,0,0.93,0
144 | EIC_offshorewind_class3_moderate_fixed_0_29,0,0,0.93
145 | EIC_offshorewind_class12_moderate_floating_1_0,0.8,0,0
146 | EIC_offshorewind_class12_moderate_floating_1_1,0.8,0,0
147 | EIC_offshorewind_class12_moderate_floating_1_6,0.8,0,0
148 | EIC_offshorewind_class12_moderate_floating_1_7,0,0.8,0
149 | EIC_offshorewind_class12_moderate_floating_1_18,0,0.8,0
150 | EIC_offshorewind_class12_moderate_floating_1_19,0,0,0.93
151 | EIC_offshorewind_class12_moderate_floating_1_38,0,0,0.8
152 | EIC_offshorewind_class12_moderate_floating_1_39,0,0,0.8
153 | EIC_offshorewind_class12_moderate_floating_1_68,0.8,0,0
154 | EIC_offshorewind_class12_moderate_floating_1_69,0.8,0,0
155 | EIC_offshorewind_class12_moderate_floating_0_0,0.8,0,0
156 | EIC_offshorewind_class12_moderate_floating_0_1,0.8,0,0
157 | EIC_offshorewind_class12_moderate_floating_0_8,0.8,0,0
158 | EIC_offshorewind_class12_moderate_floating_0_9,0.8,0,0
159 | EIC_offshorewind_class12_moderate_floating_0_28,0.8,0,0
160 | EIC_offshorewind_class12_moderate_floating_0_29,0.8,0,0
161 | EIC_offshorewind_class12_moderate_floating_0_68,0.8,0,0
162 | EIC_offshorewind_class12_moderate_floating_0_69,0.8,0,0
163 | EIC_offshorewind_class12_moderate_floating_0_138,0.8,0,0
164 | EIC_offshorewind_class12_moderate_floating_0_139,0.8,0,0
165 | TRE_naturalgas_ccavgcf_moderate_0,0.8,0,0
166 | TRE_naturalgas_ctavgcf_moderate_0,0.8,0,0
167 | TRE_battery_moderate_0,0.8,0,0
168 | TRE_naturalgas_ccccsavgcf_conservative_0,0.8,0,0
169 | TRE_advnuclear_atb_moderate_0,0.8,0,0
170 | TRE_offshorewind_class3_moderate_fixed_1_0,0.8,0,0
171 | TRE_offshorewind_class3_moderate_fixed_1_1,0.8,0,0
172 | TRE_offshorewind_class3_moderate_fixed_1_2,0.8,0,0
173 | TRE_offshorewind_class3_moderate_fixed_1_3,0.8,0,0
174 | TRE_offshorewind_class3_moderate_fixed_1_4,0.8,0,0
175 | TRE_offshorewind_class3_moderate_fixed_1_5,0.8,0,0
176 | TRE_offshorewind_class3_moderate_fixed_1_6,0.8,0,0
177 | TRE_offshorewind_class3_moderate_fixed_1_7,0.8,0,0
178 | TRE_offshorewind_class3_moderate_fixed_1_8,0.8,0,0
179 | TRE_offshorewind_class3_moderate_fixed_1_9,0.8,0,0
180 | TRE_offshorewind_class3_moderate_fixed_0_0,0.8,0,0
181 | TRE_offshorewind_class3_moderate_fixed_0_1,0.8,0,0
182 | TRE_offshorewind_class3_moderate_fixed_0_4,0.8,0,0
183 | TRE_offshorewind_class3_moderate_fixed_0_5,0.8,0,0
184 | TRE_offshorewind_class3_moderate_fixed_0_10,0.8,0,0
185 | TRE_offshorewind_class3_moderate_fixed_0_11,0.8,0,0
186 | TRE_offshorewind_class3_moderate_fixed_0_18,0.8,0,0
187 | TRE_offshorewind_class3_moderate_fixed_0_19,0.8,0,0
188 | TRE_offshorewind_class3_moderate_fixed_0_28,0.8,0,0
189 | TRE_offshorewind_class3_moderate_fixed_0_29,0.8,0,0
190 | TRE_offshorewind_class12_moderate_floating_1_0,0.8,0,0
191 | TRE_offshorewind_class12_moderate_floating_1_1,0.8,0,0
192 | TRE_offshorewind_class12_moderate_floating_1_6,0.8,0,0
193 | TRE_offshorewind_class12_moderate_floating_1_7,0,0.8,0
194 | TRE_offshorewind_class12_moderate_floating_1_18,0,0.8,0
195 | TRE_offshorewind_class12_moderate_floating_1_19,0,0.8,0
196 | TRE_offshorewind_class12_moderate_floating_1_38,0,0.8,0
197 | TRE_offshorewind_class12_moderate_floating_1_39,0,0.8,0
198 | TRE_offshorewind_class12_moderate_floating_1_68,0,0.8,0
199 | TRE_offshorewind_class12_moderate_floating_1_69,0,0.8,0
200 | TRE_offshorewind_class12_moderate_floating_0_0,0,0.8,0
201 | TRE_offshorewind_class12_moderate_floating_0_1,0,0.8,0
202 | TRE_offshorewind_class12_moderate_floating_0_8,0,0.8,0
203 | TRE_offshorewind_class12_moderate_floating_0_9,0,0.8,0
204 | TRE_offshorewind_class12_moderate_floating_0_28,0,0.8,0
205 | TRE_offshorewind_class12_moderate_floating_0_29,0,0.8,0
206 | TRE_offshorewind_class12_moderate_floating_0_68,0,0.8,0
207 | TRE_offshorewind_class12_moderate_floating_0_69,0,0.8,0
208 | TRE_offshorewind_class12_moderate_floating_0_138,0,0.8,0
209 | TRE_offshorewind_class12_moderate_floating_0_139,0,0.8,0
210 | WECC_naturalgas_ccavgcf_moderate_0,0,0.8,0
211 | WECC_naturalgas_ctavgcf_moderate_0,0,0.8,0
212 | WECC_battery_moderate_0,0,0.8,0
213 | WECC_naturalgas_ccccsavgcf_conservative_0,0,0.8,0
214 | WECC_advnuclear_atb_moderate_0,0,0.8,0
215 | WECC_offshorewind_class3_moderate_fixed_1_0,0,0.8,0
216 | WECC_offshorewind_class3_moderate_fixed_1_1,0,0.8,0
217 | WECC_offshorewind_class3_moderate_fixed_1_2,0,0.8,0
218 | WECC_offshorewind_class3_moderate_fixed_1_3,0,0.8,0
219 | WECC_offshorewind_class3_moderate_fixed_1_4,0,0.8,0
220 | WECC_offshorewind_class3_moderate_fixed_1_5,0,0.8,0
221 | WECC_offshorewind_class3_moderate_fixed_1_6,0,0.8,0
222 | WECC_offshorewind_class3_moderate_fixed_1_7,0,0.8,0
223 | WECC_offshorewind_class3_moderate_fixed_1_8,0,0.8,0
224 | WECC_offshorewind_class3_moderate_fixed_1_9,0,0.8,0
225 | WECC_offshorewind_class3_moderate_fixed_0_0,0,0.8,0
226 | WECC_offshorewind_class3_moderate_fixed_0_1,0,0.8,0
227 | WECC_offshorewind_class3_moderate_fixed_0_4,0,0.8,0
228 | WECC_offshorewind_class3_moderate_fixed_0_5,0,0.8,0
229 | WECC_offshorewind_class3_moderate_fixed_0_10,0,0.8,0
230 | WECC_offshorewind_class3_moderate_fixed_0_11,0,0.8,0
231 | WECC_offshorewind_class3_moderate_fixed_0_18,0,0.8,0
232 | WECC_offshorewind_class3_moderate_fixed_0_19,0,0.8,0
233 | WECC_offshorewind_class3_moderate_fixed_0_28,0,0,0.8
234 | WECC_offshorewind_class3_moderate_fixed_0_29,0,0,0.8
235 | WECC_offshorewind_class12_moderate_floating_1_0,0,0,0.8
236 | WECC_offshorewind_class12_moderate_floating_1_1,0,0,0.8
237 | WECC_offshorewind_class12_moderate_floating_1_6,0,0,0.8
238 | WECC_offshorewind_class12_moderate_floating_1_7,0,0,0.8
239 | WECC_offshorewind_class12_moderate_floating_1_18,0,0,0.8
240 | WECC_offshorewind_class12_moderate_floating_1_19,0,0,0.8
241 | WECC_offshorewind_class12_moderate_floating_1_38,0,0,0.8
242 | WECC_offshorewind_class12_moderate_floating_1_39,0,0,0.8
243 | WECC_offshorewind_class12_moderate_floating_1_68,0,0,0.8
244 | WECC_offshorewind_class12_moderate_floating_1_69,0,0,0.8
245 | WECC_offshorewind_class12_moderate_floating_0_0,0,0,0.8
246 | WECC_offshorewind_class12_moderate_floating_0_1,0,0,0.8
247 | WECC_offshorewind_class12_moderate_floating_0_8,0,0,0.8
248 | WECC_offshorewind_class12_moderate_floating_0_9,0,0,0.8
249 | WECC_offshorewind_class12_moderate_floating_0_28,0,0,0.8
250 | WECC_offshorewind_class12_moderate_floating_0_29,0,0,0.8
251 | WECC_offshorewind_class12_moderate_floating_0_68,0,0,0.8
252 | WECC_offshorewind_class12_moderate_floating_0_69,0,0,0.8
253 | WECC_offshorewind_class12_moderate_floating_0_138,0,0,0.8
254 | WECC_offshorewind_class12_moderate_floating_0_139,0,0,0.8
255 | WECC_trans_light_duty_1,0,0,0.8
256 | EIC_trans_light_duty_1,0,0,0.8
257 | TRE_trans_light_duty_1,0,0,0.8
258 | WECC_comm_water_heat_1,0,0,0.8
259 | EIC_comm_water_heat_1,0,0,0.8
260 | TRE_comm_water_heat_1,0,0,0.8
261 | WECC_res_water_heat_1,0,0,0.8
262 | EIC_res_water_heat_1,0,0,0.8
263 | TRE_res_water_heat_1,0,0,0.8
264 | WECC_comm_space_heat_cool_1,0,0,0.8
265 | EIC_comm_space_heat_cool_1,0,0,0.8
266 | TRE_comm_space_heat_cool_1,0,0,0.8
267 | WECC_res_space_heat_cool_1,0,0,0.8
268 | EIC_res_space_heat_cool_1,0,0,0.8
269 | TRE_res_space_heat_cool_1,0,0,0.8
270 | EIC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.8
271 | TRE_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.8
272 | WECC_naturalgas_ctavgcf_moderate_0_zerocarbon,0,0,0.8


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,ESR_VREStor_1,ESR_VREStor_2
2 | EIC_landbasedwind_class1_moderate_0,1,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3,Max_Cap_Stor_1,Max_Cap_Solar_1,Max_Cap_Wind_1,Max_Cap_Stor_2,Max_Cap_Solar_2,Max_Cap_Wind_2,Max_Cap_Stor_3,Max_Cap_Solar_3,Max_Cap_Wind_3
2 | EIC_landbasedwind_class1_moderate_0,0,0,0,1,1,1,1,1,1,1,1,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3,Min_Cap_Stor_1,Min_Cap_Solar_1,Min_Cap_Wind_1,Min_Cap_Stor_2,Min_Cap_Solar_2,Min_Cap_Wind_2,Min_Cap_Stor_3,Min_Cap_Solar_3,Min_Cap_Wind_3
2 | EIC_landbasedwind_class1_moderate_0,0,0,0,1,1,1,1,1,1,1,1,1


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/settings/genx_settings.yml:
--------------------------------------------------------------------------------
 1 | NetworkExpansion: 1
 2 | ParameterScale: 1
 3 | EnergyShareRequirement: 1
 4 | Trans_Loss_Segments: 1
 5 | CapacityReserveMargin: 1
 6 | OperationalReserves: 1
 7 | StorageLosses: 1
 8 | OverwriteResults: 1
 9 | UCommit: 2
10 | MinCapReq: 1
11 | CO2Cap: 1
12 | WriteShadowPrices: 1
13 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/settings/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: choose             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | #highs-specific solver settings
10 | 
11 | # run the crossover routine for ipx
12 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
13 | run_crossover: "on"
14 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/settings/time_domain_reduction_settings.yml:
--------------------------------------------------------------------------------
 1 | IterativelyAddPeriods: 1
 2 | ExtremePeriods:
 3 |   Wind:
 4 |     System:
 5 |       Absolute:
 6 |         Min: 0
 7 |         Max: 0
 8 |       Integral:
 9 |         Min: 1
10 |         Max: 0
11 |     Zone:
12 |       Absolute:
13 |         Min: 0
14 |         Max: 0
15 |       Integral:
16 |         Min: 0
17 |         Max: 0
18 |   Demand:
19 |     System:
20 |       Absolute:
21 |         Min: 0
22 |         Max: 1
23 |       Integral:
24 |         Min: 0
25 |         Max: 0
26 |     Zone:
27 |       Absolute:
28 |         Min: 0
29 |         Max: 0
30 |       Integral:
31 |         Min: 0
32 |         Max: 0
33 |   PV:
34 |     System:
35 |       Absolute:
36 |         Min: 0
37 |         Max: 0
38 |       Integral:
39 |         Min: 1
40 |         Max: 0
41 |     Zone:
42 |       Absolute:
43 |         Min: 0
44 |         Max: 0
45 |       Integral:
46 |         Min: 0
47 |         Max: 0
48 | UseExtremePeriods: 1
49 | MinPeriods: 5
50 | MaxPeriods: 5
51 | DemandWeight: 1
52 | ClusterFuelPrices: 0
53 | nReps: 100
54 | Threshold: 0.05
55 | TimestepsPerRepPeriod: 24
56 | IterateMethod: "cluster"
57 | ScalingMethod: "S"
58 | ClusterMethod: "kmeans"
59 | WeightTotal: 8760
60 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
 2 | 2000,1,1,1,2000,1,24,8760,1,433055,56250,158195
 3 | ,2,0.9,0.04,1800,,,,2,406808,53975,151211
 4 | ,3,0.55,0.024,1100,,,,3,394480,51413,144460
 5 | ,4,0.2,0.003,400,,,,4,389845,50217,137745
 6 | ,,,,,,,,5,387098,49407,131059
 7 | ,,,,,,,,6,392355,48847,129242
 8 | ,,,,,,,,7,404654,49928,127643
 9 | ,,,,,,,,8,416313,52099,127594
10 | ,,,,,,,,9,428156,53971,131035
11 | ,,,,,,,,10,443175,56180,136863
12 | ,,,,,,,,11,461485,59324,140327
13 | ,,,,,,,,12,478750,61430,146574
14 | ,,,,,,,,13,500639,63720,153859
15 | ,,,,,,,,14,510242,66292,160582
16 | ,,,,,,,,15,512939,66236,167097
17 | ,,,,,,,,16,520359,66270,172644
18 | ,,,,,,,,17,542617,66603,173528
19 | ,,,,,,,,18,567183,68052,174662
20 | ,,,,,,,,19,589765,70029,179348
21 | ,,,,,,,,20,597606,78675,189488
22 | ,,,,,,,,21,578601,79796,200159
23 | ,,,,,,,,22,551207,77624,206282
24 | ,,,,,,,,23,519544,74795,201139
25 | ,,,,,,,,24,480627,70153,190159
26 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,None,biomass,east_north_central_coal,east_north_central_naturalgas,east_north_central_uranium,east_north_central_distillate,west_south_central_coal,west_south_central_naturalgas,west_south_central_uranium,west_south_central_distillate,mountain_coal,mountain_naturalgas,mountain_uranium,mountain_distillate,zerocarbon_fuel
 2 | 0,0,0,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0.09552,0.05306,0,0.07315,0
 3 | 1,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 4 | 2,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 5 | 3,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 6 | 4,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 7 | 5,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 8 | 6,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
 9 | 7,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
10 | 8,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
11 | 9,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
12 | 10,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
13 | 11,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
14 | 12,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
15 | 13,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
16 | 14,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
17 | 15,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
18 | 16,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
19 | 17,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
20 | 18,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
21 | 19,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
22 | 20,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
23 | 21,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
24 | 22,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
25 | 23,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20
26 | 24,0,5,1.81,3.13,0.73,17.8,1.71,3.51,0.73,19.31,1.36,4.35,0.73,22.83,20


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Network.csv:
--------------------------------------------------------------------------------
1 | Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,Line_Min_Flow_MW,transmission_path_name,Line_Reinforcement_Cost_per_MWyr,Line_Reinforcement_Cost_per_MW,Line_Loss_Percentage,Line_Max_Reinforcement_MW,DerateCapRes_1,CapRes_Excl_1,DerateCapRes_2,CapRes_Excl_2,DerateCapRes_3,CapRes_Excl_3
2 | z1,1.0,1,2,820.0,820.0,EIC_to_TRE,45958.0,948772.0,0.0649,410.0,0.95,0.0,0.95,0.0,0.95,0.0
3 | z2,2.0,1,3,1830.0,1830.0,EIC_to_WECC,71600.0,1478140.0,0.1001,915.0,0.95,0.0,0.95,0.0,0.95,0.0
4 | z3,,,,,,,,,,,,,,,,
5 | 


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Vre_and_stor_solar_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_utilitypv_class1_moderate_0,EIC_utilitypv_class1_moderate_1,EIC_utilitypv_class1_moderate_2,EIC_utilitypv_class1_moderate_3,EIC_utilitypv_class1_moderate_4,EIC_utilitypv_class1_moderate_5,EIC_utilitypv_class1_moderate_6,EIC_utilitypv_class1_moderate_7,EIC_utilitypv_class1_moderate_8,EIC_utilitypv_class1_moderate_9,TRE_utilitypv_class1_moderate_0,TRE_utilitypv_class1_moderate_1,TRE_utilitypv_class1_moderate_2,TRE_utilitypv_class1_moderate_3,TRE_utilitypv_class1_moderate_4,TRE_utilitypv_class1_moderate_5,TRE_utilitypv_class1_moderate_6,TRE_utilitypv_class1_moderate_7,TRE_utilitypv_class1_moderate_8,TRE_utilitypv_class1_moderate_9,WECC_utilitypv_class1_moderate_0,WECC_utilitypv_class1_moderate_1,WECC_utilitypv_class1_moderate_2,WECC_utilitypv_class1_moderate_3,WECC_utilitypv_class1_moderate_4,WECC_utilitypv_class1_moderate_5,WECC_utilitypv_class1_moderate_6,WECC_utilitypv_class1_moderate_7,WECC_utilitypv_class1_moderate_8,WECC_utilitypv_class1_moderate_9
 2 | 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 3 | 2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 4 | 3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 5 | 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 6 | 5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 7 | 6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 8 | 7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 9 | 8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
10 | 9,0,0.081,0,0.077,0.043,0,0.005,0.09,0.058,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
11 | 10,0.151,0.403,0.168,0.367,0.294,0.114,0.162,0.408,0.343,0.027,0.247,0.23,0.258,0.224,0.253,0.209,0.2,0.258,0.11,0.217,0,0,0,0,0,0,0,0,0,0
12 | 11,0.44,0.574,0.452,0.542,0.515,0.463,0.465,0.568,0.533,0.429,0.524,0.52,0.531,0.516,0.529,0.507,0.499,0.532,0.458,0.477,0.193,0.189,0.199,0,0.184,0,0.096,0,0.135,0
13 | 12,0.597,0.657,0.624,0.619,0.628,0.656,0.614,0.648,0.623,0.615,0.692,0.694,0.699,0.685,0.694,0.682,0.68,0.696,0.655,0.636,0.469,0.429,0.473,0.043,0.458,0.001,0.367,0,0.395,0
14 | 13,0.697,0.695,0.717,0.635,0.674,0.764,0.677,0.672,0.661,0.723,0.79,0.782,0.793,0.779,0.789,0.786,0.783,0.789,0.769,0.723,0.626,0.599,0.614,0.249,0.601,0.215,0.554,0.215,0.548,0.248
15 | 14,0.734,0.697,0.752,0.637,0.678,0.811,0.695,0.666,0.666,0.79,0.826,0.827,0.835,0.834,0.834,0.838,0.834,0.826,0.826,0.761,0.721,0.689,0.682,0.371,0.667,0.383,0.659,0.423,0.623,0.444
16 | 15,0.731,0.667,0.745,0.62,0.661,0.808,0.686,0.645,0.636,0.806,0.831,0.839,0.838,0.841,0.828,0.844,0.828,0.816,0.837,0.751,0.768,0.694,0.725,0.427,0.7,0.478,0.714,0.447,0.662,0.5
17 | 16,0.674,0.605,0.689,0.565,0.599,0.757,0.635,0.554,0.55,0.747,0.794,0.796,0.795,0.799,0.785,0.805,0.802,0.782,0.8,0.725,0.772,0.667,0.723,0.447,0.713,0.452,0.729,0.443,0.651,0.434
18 | 17,0.543,0.463,0.565,0.415,0.455,0.642,0.52,0.407,0.399,0.646,0.698,0.698,0.7,0.706,0.697,0.715,0.715,0.691,0.72,0.648,0.732,0.595,0.678,0.421,0.667,0.432,0.697,0.441,0.591,0.44
19 | 18,0.377,0.205,0.386,0.147,0.218,0.483,0.323,0.161,0.183,0.469,0.556,0.559,0.562,0.573,0.561,0.586,0.583,0.546,0.599,0.474,0.675,0.51,0.594,0.321,0.567,0.373,0.608,0.4,0.482,0.467
20 | 19,0.106,0.011,0.076,0.001,0.001,0.124,0.033,0.005,0.007,0.112,0.297,0.291,0.299,0.308,0.298,0.326,0.33,0.28,0.344,0.232,0.515,0.297,0.408,0.178,0.369,0.347,0.44,0.314,0.294,0.295
21 | 20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.254,0.031,0.165,0.05,0.126,0.138,0.144,0.13,0.077,0.083
22 | 21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
23 | 22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
24 | 23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
25 | 24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0


--------------------------------------------------------------------------------
/test/load_resources/test_gen_vre_stor/system/Vre_and_stor_wind_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,EIC_landbasedwind_class1_moderate_0,EIC_landbasedwind_class1_moderate_1,EIC_landbasedwind_class1_moderate_2,EIC_landbasedwind_class1_moderate_3,EIC_landbasedwind_class1_moderate_4,EIC_landbasedwind_class1_moderate_5,EIC_landbasedwind_class1_moderate_6,EIC_landbasedwind_class1_moderate_7,EIC_landbasedwind_class1_moderate_8,EIC_landbasedwind_class1_moderate_9,TRE_landbasedwind_class1_moderate_0,TRE_landbasedwind_class1_moderate_1,TRE_landbasedwind_class1_moderate_2,TRE_landbasedwind_class1_moderate_3,TRE_landbasedwind_class1_moderate_4,TRE_landbasedwind_class1_moderate_5,TRE_landbasedwind_class1_moderate_6,TRE_landbasedwind_class1_moderate_7,TRE_landbasedwind_class1_moderate_8,TRE_landbasedwind_class1_moderate_9,WECC_landbasedwind_class1_moderate_0,WECC_landbasedwind_class1_moderate_1,WECC_landbasedwind_class1_moderate_2,WECC_landbasedwind_class1_moderate_3,WECC_landbasedwind_class1_moderate_4,WECC_landbasedwind_class1_moderate_5,WECC_landbasedwind_class1_moderate_6,WECC_landbasedwind_class1_moderate_7,WECC_landbasedwind_class1_moderate_8,WECC_landbasedwind_class1_moderate_9
 2 | 1,0.966,0.978,0.936,0.939,0.867,0.752,0.666,0.527,0.548,0.98,0.84,0.705,0.752,0.794,0.614,0.749,0.485,0.799,0.637,1,0.814,0.752,0.532,0.49,0.407,0.945,0.371,0.889,0.325,0.969
 3 | 2,0.972,0.978,0.945,0.947,0.877,0.72,0.648,0.442,0.546,0.993,0.848,0.671,0.783,0.787,0.686,0.718,0.497,0.75,0.624,1,0.749,0.739,0.509,0.452,0.377,0.948,0.333,0.89,0.298,0.967
 4 | 3,0.967,0.978,0.951,0.946,0.899,0.694,0.644,0.435,0.533,0.985,0.872,0.858,0.805,0.826,0.641,0.622,0.469,0.513,0.646,1,0.594,0.705,0.459,0.373,0.366,0.929,0.341,0.855,0.327,0.962
 5 | 4,0.969,0.967,0.95,0.878,0.889,0.68,0.668,0.424,0.528,0.983,0.856,0.972,0.771,0.866,0.554,0.652,0.51,0.463,0.717,1,0.514,0.708,0.437,0.353,0.35,0.865,0.351,0.746,0.343,0.924
 6 | 5,0.953,0.949,0.95,0.834,0.898,0.688,0.681,0.389,0.456,0.974,0.8,0.929,0.71,0.806,0.619,0.66,0.702,0.634,0.861,0.996,0.436,0.614,0.418,0.367,0.351,0.751,0.342,0.644,0.323,0.735
 7 | 6,0.953,0.946,0.956,0.852,0.911,0.735,0.691,0.401,0.514,0.961,0.749,0.895,0.737,0.697,0.763,0.512,0.88,0.307,0.951,0.954,0.424,0.585,0.375,0.353,0.338,0.783,0.328,0.726,0.303,0.695
 8 | 7,0.95,0.949,0.954,0.842,0.915,0.766,0.69,0.415,0.581,0.936,0.758,0.896,0.802,0.68,0.851,0.476,0.889,0.219,0.92,0.788,0.391,0.56,0.357,0.349,0.345,0.791,0.335,0.822,0.29,0.689
 9 | 8,0.917,0.885,0.937,0.85,0.93,0.785,0.683,0.467,0.529,0.839,0.789,0.911,0.847,0.709,0.962,0.523,0.899,0.252,0.838,0.434,0.338,0.493,0.321,0.299,0.304,0.643,0.286,0.682,0.247,0.485
10 | 9,0.876,0.828,0.928,0.881,0.952,0.816,0.728,0.528,0.628,0.82,0.816,0.934,0.927,0.819,0.986,0.688,0.93,0.369,0.844,0.266,0.387,0.552,0.359,0.323,0.325,0.764,0.319,0.845,0.288,0.531
11 | 10,0.594,0.483,0.704,0.571,0.579,0.519,0.219,0.152,0.055,0.58,0.414,0.467,0.578,0.451,0.652,0.512,0.563,0.354,0.332,0.117,0.183,0.342,0.184,0.217,0.198,0.273,0.16,0.237,0.13,0.247
12 | 11,0.662,0.526,0.752,0.604,0.669,0.53,0.314,0.176,0.097,0.598,0.514,0.564,0.658,0.596,0.753,0.65,0.679,0.559,0.427,0.092,0.179,0.315,0.177,0.217,0.186,0.262,0.161,0.159,0.142,0.171
13 | 12,0.78,0.672,0.825,0.762,0.704,0.606,0.435,0.271,0.25,0.662,0.783,0.857,0.826,0.828,0.878,0.848,0.79,0.902,0.496,0.101,0.202,0.323,0.189,0.203,0.194,0.324,0.157,0.23,0.147,0.235
14 | 13,0.785,0.714,0.807,0.726,0.7,0.596,0.489,0.355,0.406,0.664,0.771,0.815,0.838,0.768,0.888,0.838,0.762,0.897,0.487,0.069,0.268,0.346,0.203,0.189,0.184,0.318,0.138,0.194,0.129,0.365
15 | 14,0.714,0.629,0.772,0.636,0.698,0.587,0.499,0.435,0.518,0.654,0.59,0.661,0.733,0.583,0.839,0.714,0.694,0.739,0.441,0.004,0.303,0.334,0.211,0.161,0.18,0.497,0.126,0.455,0.132,0.679
16 | 15,0.728,0.659,0.771,0.624,0.704,0.575,0.497,0.464,0.42,0.693,0.549,0.623,0.733,0.473,0.853,0.536,0.632,0.407,0.395,0,0.269,0.285,0.19,0.161,0.149,0.478,0.106,0.398,0.113,0.681
17 | 16,0.754,0.698,0.792,0.657,0.736,0.6,0.481,0.427,0.414,0.732,0.549,0.547,0.738,0.445,0.861,0.566,0.643,0.514,0.376,0,0.223,0.278,0.168,0.169,0.144,0.441,0.104,0.352,0.106,0.717
18 | 17,0.761,0.692,0.794,0.659,0.729,0.601,0.468,0.374,0.366,0.742,0.589,0.581,0.746,0.462,0.82,0.533,0.625,0.47,0.421,0,0.202,0.239,0.158,0.157,0.139,0.378,0.097,0.215,0.083,0.668
19 | 18,0.703,0.645,0.787,0.654,0.923,0.745,0.786,0.92,0.786,0.754,0.516,0.508,0.677,0.433,0.849,0.502,0.603,0.374,0.402,0,0.232,0.377,0.232,0.182,0.211,0.609,0.164,0.467,0.147,0.868
20 | 19,0.673,0.637,0.755,0.641,0.847,0.748,0.813,0.926,0.87,0.74,0.633,0.57,0.744,0.505,0.834,0.536,0.568,0.405,0.363,0,0.291,0.323,0.257,0.182,0.227,0.535,0.171,0.38,0.137,0.869
21 | 20,0.717,0.598,0.801,0.668,0.885,0.777,0.835,0.915,0.919,0.713,0.642,0.514,0.753,0.469,0.813,0.494,0.566,0.294,0.445,0.003,0.241,0.308,0.298,0.198,0.256,0.446,0.19,0.315,0.144,0.73
22 | 21,0.768,0.665,0.817,0.692,0.892,0.792,0.884,0.94,0.941,0.725,0.764,0.746,0.86,0.643,0.874,0.618,0.741,0.341,0.619,0.046,0.246,0.322,0.407,0.315,0.375,0.403,0.305,0.318,0.224,0.649
23 | 22,0.797,0.689,0.841,0.702,0.959,0.802,0.927,0.94,0.951,0.714,0.816,0.702,0.864,0.736,0.889,0.783,0.839,0.646,0.738,0.189,0.226,0.332,0.44,0.373,0.429,0.46,0.361,0.35,0.281,0.575
24 | 23,0.846,0.751,0.858,0.711,0.968,0.8,0.929,0.938,0.955,0.687,0.819,0.734,0.857,0.708,0.938,0.826,0.905,0.816,0.845,0.324,0.172,0.39,0.463,0.42,0.455,0.44,0.395,0.328,0.31,0.364
25 | 24,0.842,0.766,0.855,0.694,0.972,0.793,0.92,0.941,0.952,0.675,0.837,0.767,0.854,0.705,0.948,0.826,0.918,0.869,0.83,0.157,0.202,0.448,0.463,0.416,0.444,0.483,0.4,0.393,0.344,0.428


--------------------------------------------------------------------------------
/test/multi_fuels/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 5 | Pre_Solve: on          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 6 | Method: ipm             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 7 | ipm_optimality_tolerance: 1e-04
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 


--------------------------------------------------------------------------------
/test/multi_fuels/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.018
3 | 


--------------------------------------------------------------------------------
/test/multi_fuels/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CapRes_1
2 | NE,z1,0.156
3 | 


--------------------------------------------------------------------------------
/test/multi_fuels/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,ESR_1,ESR_2
2 | NE,z1,0.259,0.348
3 | 


--------------------------------------------------------------------------------
/test/multi_fuels/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,ConstraintDescription,Max_MW
2 | 1,PV,50000
3 | 2,Wind,100000
4 | 3,Batteries,60000
5 | 


--------------------------------------------------------------------------------
/test/multi_fuels/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,PV,5000
3 | 2,Wind,10000
4 | 3,Batteries,6000
5 | 


--------------------------------------------------------------------------------
/test/multi_fuels/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,region,cluster,existing_cap_mw,existing_cap_mwh
2 | battery,1,1,1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,NE,0,0,0


--------------------------------------------------------------------------------
/test/multi_fuels/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,MULTI_FUELS,New_Build,Existing_cap_mw,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,MGA,Resource_Type,region,cluster,Num_Fuels,Fuel1,Heat_Rate1_MMBTU_per_MWh,Fuel1_Min_Cofire_Level,Fuel1_Max_Cofire_Level,Fuel1_Min_Cofire_Level_Start,Fuel1_Max_Cofire_Level_Start,Fuel2,Heat_Rate2_MMBTU_per_MWh,Fuel2_Min_Cofire_Level,Fuel2_Max_Cofire_Level,Fuel2_Min_Cofire_Level_Start,Fuel2_Max_Cofire_Level_Start
2 | natural_gas_combined_cycle,1,1,1,1,0,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,1,natural_gas_fired_combined_cycle,NE,1,2,NG,7.43,0,1,0,1,H2,7.43,0.05,1,0.05,1


--------------------------------------------------------------------------------
/test/multi_fuels/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,existing_cap_mw,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,0,0,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,0,0,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_fuels/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | Resource,Derating_Factor_1
2 | natural_gas_combined_cycle,0.93
3 | solar_pv,0.8
4 | onshore_wind,0.8
5 | battery,0.95


--------------------------------------------------------------------------------
/test/multi_fuels/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,ESR_1,ESR_2
2 | solar_pv,1,1
3 | onshore_wind,1,1


--------------------------------------------------------------------------------
/test/multi_fuels/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/multi_fuels/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/multi_fuels/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
 2 | 50000,1,1,1,1,24,8760,1,11162
 3 | ,,,,,,,2,10556
 4 | ,,,,,,,3,10105
 5 | ,,,,,,,4,9878
 6 | ,,,,,,,5,9843
 7 | ,,,,,,,6,10017
 8 | ,,,,,,,7,10390
 9 | ,,,,,,,8,10727
10 | ,,,,,,,9,11298
11 | ,,,,,,,10,11859
12 | ,,,,,,,11,12196
13 | ,,,,,,,12,12321
14 | ,,,,,,,13,12381
15 | ,,,,,,,14,12270
16 | ,,,,,,,15,12149
17 | ,,,,,,,16,12219
18 | ,,,,,,,17,13410
19 | ,,,,,,,18,14539
20 | ,,,,,,,19,14454
21 | ,,,,,,,20,14012
22 | ,,,,,,,21,13494
23 | ,,,,,,,22,12772
24 | ,,,,,,,23,11877
25 | ,,,,,,,24,10874


--------------------------------------------------------------------------------
/test/multi_fuels/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,NG,None,H2
 2 | 0,0.05306,0,0
 3 | 1,5.28,0,16
 4 | 2,5.28,0,16
 5 | 3,5.28,0,16
 6 | 4,5.28,0,16
 7 | 5,5.28,0,16
 8 | 6,5.28,0,16
 9 | 7,5.28,0,16
10 | 8,5.28,0,16
11 | 9,5.28,0,16
12 | 10,5.28,0,16
13 | 11,5.28,0,16
14 | 12,5.28,0,16
15 | 13,5.28,0,16
16 | 14,5.28,0,16
17 | 15,5.28,0,16
18 | 16,5.28,0,16
19 | 17,5.28,0,16
20 | 18,5.28,0,16
21 | 19,5.28,0,16
22 | 20,5.28,0,16
23 | 21,5.28,0,16
24 | 22,5.28,0,16
25 | 23,5.28,0,16
26 | 24,5.28,0,16


--------------------------------------------------------------------------------
/test/multi_fuels/system/Generators_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
 2 | 1,1,0,0.889717042,1
 3 | 2,1,0,0.877715468,1
 4 | 3,1,0,0.903424203,1
 5 | 4,1,0,0.895153165,1
 6 | 5,1,0,0.757258117,1
 7 | 6,1,0,0.630928695,1
 8 | 7,1,0,0.557177782,1
 9 | 8,1,0,0.6072492,1
10 | 9,1,0.1779,0.423417866,1
11 | 10,1,0.429,0.007470775,1
12 | 11,1,0.5748,0.002535942,1
13 | 12,1,0.6484,0.002153709,1
14 | 13,1,0.6208,0.00445132,1
15 | 14,1,0.596,0.007711587,1
16 | 15,1,0.5013,0.100848213,1
17 | 16,1,0.3311,0.201802149,1
18 | 17,1,0.0642,0.141933054,1
19 | 18,1,0,0.567022562,1
20 | 19,1,0,0.946024895,1
21 | 20,1,0,0.923394203,1
22 | 21,1,0,0.953386247,1
23 | 22,1,0,0.929205418,1
24 | 23,1,0,0.849528909,1
25 | 24,1,0,0.665570974,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05     # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05    # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23       # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: on           # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm             # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | ipm_optimality_tolerance: 1e-04
 9 | 
10 | # run the crossover routine for ipx
11 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
12 | run_crossover: "on"
13 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,1,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,0,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p1/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.5,0.5


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,0,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p2/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.05


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,0,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/can_retire/inputs_p3/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,capital_recovery_period_dc,tech_wacc_dc,capital_recovery_period_solar,tech_wacc_solar,capital_recovery_period_wind,tech_wacc_wind,capital_recovery_period_discharge_dc,tech_wacc_discharge_dc,capital_recovery_period_charge_dc,tech_wacc_charge_dc,capital_recovery_period_discharge_ac,tech_wacc_discharge_ac,capital_recovery_period_charge_ac,tech_wacc_charge_ac,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW,Min_Retired_Cap_Inverter_MW,Min_Retired_Cap_Solar_MW,Min_Retired_Cap_Wind_MW,Min_Retired_Cap_Charge_DC_MW,Min_Retired_Cap_Charge_AC_MW,Min_Retired_Cap_Discharge_DC_MW,Min_Retired_Cap_Discharge_AC_MW
 2 | natural_gas_combined_cycle,0.039,20,30,0.139,40,0.239,50,0.339,60,0.439,70,0.539,80,0.639,90,0.739,20,30,0,0,0,0,0,0,0,0,0
 3 | solar_pv,0.017,20,30,0.117,40,0.217,50,0.317,60,0.417,70,0.517,80,0.617,90,0.717,20,40,0,0,0,0,0,0,0,0,0
 4 | onshore_wind,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,10,0,0,0,0,0,0,0,0,0
 5 | battery_sym,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,5,15,0,0,0,0,0,0,0,0
 6 | battery_asym,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,6,16,26,0,0,0,0,0,0,0
 7 | landbasedwind_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,7,0,0,0,0,10,0,0,0,0
 8 | utilitypv_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,8,0,0,27,20,0,0,0,0,0
 9 | storage_sym_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,9,17,0,0,0,0,0,0,0,0
10 | storage_asym_ac_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,10,18,0,0,0,0,0,0,0,33
11 | storage_asym_dc_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,11,19,0,28,0,0,0,0,32,0
12 | storage_sym_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,12,20,0,0,0,0,0,0,0,0
13 | storage_asym_ac_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,13,21,0,0,0,0,0,31,0,0
14 | storage_asym_dc_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,14,22,0,29,0,0,30,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery_sym,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0
3 | battery_asym,1,2,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,cluster
2 | landbasedwind_class1_moderate,1,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
3 | utilitypv_class1_moderate,1,1,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
4 | storage_sym_discharge,1,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
5 | storage_asym_ac_discharge,1,0,0,0,0,2,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
6 | storage_asym_dc_discharge,1,0,0,2,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
7 | storage_sym_charge,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
8 | storage_asym_ac_charge,1,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
9 | storage_asym_dc_charge,1,0,0,0,2,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p1/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,capital_recovery_period_dc,tech_wacc_dc,capital_recovery_period_solar,tech_wacc_solar,capital_recovery_period_wind,tech_wacc_wind,capital_recovery_period_discharge_dc,tech_wacc_discharge_dc,capital_recovery_period_charge_dc,tech_wacc_charge_dc,capital_recovery_period_discharge_ac,tech_wacc_discharge_ac,capital_recovery_period_charge_ac,tech_wacc_charge_ac,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW,Min_Retired_Cap_Inverter_MW,Min_Retired_Cap_Solar_MW,Min_Retired_Cap_Wind_MW,Min_Retired_Cap_Charge_DC_MW,Min_Retired_Cap_Charge_AC_MW,Min_Retired_Cap_Discharge_DC_MW,Min_Retired_Cap_Discharge_AC_MW
 2 | natural_gas_combined_cycle,0.039,20,30,0.139,40,0.239,50,0.339,60,0.439,70,0.539,80,0.639,90,0.739,20,31,0,0,0,0,0,0,0,0,0
 3 | solar_pv,0.017,20,30,0.117,40,0.217,50,0.317,60,0.417,70,0.517,80,0.617,90,0.717,20,41,0,0,0,0,0,0,0,0,0
 4 | onshore_wind,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,11,0,0,0,0,0,0,0,0,0
 5 | battery_sym,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,6,16,0,0,0,0,0,0,0,0
 6 | battery_asym,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,7,17,27,0,0,0,0,0,0,0
 7 | landbasedwind_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,8,0,0,0,0,11,0,0,0,0
 8 | utilitypv_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,9,0,0,28,21,0,0,0,0,0
 9 | storage_sym_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,10,18,0,0,0,0,0,0,0,0
10 | storage_asym_ac_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,11,19,0,0,0,0,0,0,0,34
11 | storage_asym_dc_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,12,20,0,29,0,0,0,0,33,0
12 | storage_sym_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,13,21,0,0,0,0,0,0,0,0
13 | storage_asym_ac_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,14,22,0,0,0,0,0,32,0,0
14 | storage_asym_dc_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,15,23,0,30,0,0,31,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery_sym,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0
3 | battery_asym,1,2,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,cluster
2 | landbasedwind_class1_moderate,1,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
3 | utilitypv_class1_moderate,1,1,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
4 | storage_sym_discharge,1,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
5 | storage_asym_ac_discharge,1,0,0,0,0,2,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
6 | storage_asym_dc_discharge,1,0,0,2,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
7 | storage_sym_charge,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
8 | storage_asym_ac_charge,1,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
9 | storage_asym_dc_charge,1,0,0,0,2,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p2/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
 1 | Resource,WACC,Capital_Recovery_Period,capital_recovery_period_dc,tech_wacc_dc,capital_recovery_period_solar,tech_wacc_solar,capital_recovery_period_wind,tech_wacc_wind,capital_recovery_period_discharge_dc,tech_wacc_discharge_dc,capital_recovery_period_charge_dc,tech_wacc_charge_dc,capital_recovery_period_discharge_ac,tech_wacc_discharge_ac,capital_recovery_period_charge_ac,tech_wacc_charge_ac,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW,Min_Retired_Cap_Inverter_MW,Min_Retired_Cap_Solar_MW,Min_Retired_Cap_Wind_MW,Min_Retired_Cap_Charge_DC_MW,Min_Retired_Cap_Charge_AC_MW,Min_Retired_Cap_Discharge_DC_MW,Min_Retired_Cap_Discharge_AC_MW
 2 | natural_gas_combined_cycle,0.039,20,30,0.139,40,0.239,50,0.339,60,0.439,70,0.539,80,0.639,90,0.739,20,32,0,0,0,0,0,0,0,0,0
 3 | solar_pv,0.017,20,30,0.117,40,0.217,50,0.317,60,0.417,70,0.517,80,0.617,90,0.717,20,42,0,0,0,0,0,0,0,0,0
 4 | onshore_wind,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,12,0,0,0,0,0,0,0,0,0
 5 | battery_sym,0.024,20,30,0.124,40,0.224,50,0.324,60,0.424,70,0.524,80,0.624,90,0.724,20,7,17,0,0,0,0,0,0,0,0
 6 | battery_asym,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,8,18,28,0,0,0,0,0,0,0
 7 | landbasedwind_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,9,0,0,0,0,12,0,0,0,0
 8 | utilitypv_class1_moderate,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,10,0,0,29,22,0,0,0,0,0
 9 | storage_sym_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,11,19,0,0,0,0,0,0,0,0
10 | storage_asym_ac_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,12,20,0,0,0,0,0,0,0,35
11 | storage_asym_dc_discharge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,13,21,0,30,0,0,0,0,34,0
12 | storage_sym_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,14,22,0,0,0,0,0,0,0,0
13 | storage_asym_ac_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,15,23,0,0,0,0,0,33,0,0
14 | storage_asym_dc_charge,0.027,20,30,0.127,40,0.227,50,0.327,60,0.427,70,0.527,80,0.627,90,0.727,20,16,24,0,31,0,0,32,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery_sym,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0
3 | battery_asym,1,2,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/resources/Vre_stor.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,SOLAR,WIND,STOR_DC_DISCHARGE,STOR_DC_CHARGE,STOR_AC_DISCHARGE,STOR_AC_CHARGE,LDS_VRE_STOR,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Existing_Cap_Inverter_MW,Existing_Cap_Solar_MW,Existing_Cap_Wind_MW,Existing_Cap_Discharge_DC_MW,Existing_Cap_Charge_DC_MW,Existing_Cap_Discharge_AC_MW,Existing_Cap_Charge_AC_MW,Min_Cap_MW,Min_Cap_MWh,Min_Cap_Inverter_MW,Min_Cap_Solar_MW,Min_Cap_Wind_MW,Min_Cap_Discharge_DC_MW,Min_Cap_Charge_DC_MW,Min_Cap_Discharge_AC_MW,Min_Cap_Charge_AC_MW,Max_Cap_MW,Max_Cap_MWh,Max_Cap_Inverter_MW,Max_Cap_Solar_MW,Max_Cap_Wind_MW,Max_Cap_Discharge_DC_MW,Max_Cap_Charge_DC_MW,Max_Cap_Discharge_AC_MW,Max_Cap_Charge_AC_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Inv_Cost_Inverter_per_MWyr,Inv_Cost_Solar_per_MWyr,Inv_Cost_Wind_per_MWyr,Inv_Cost_Discharge_DC_per_MWyr,Inv_Cost_Charge_DC_per_MWyr,Inv_Cost_Discharge_AC_per_MWyr,Inv_Cost_Charge_AC_per_MWyr,Fixed_OM_Inverter_Cost_per_MWyr,Fixed_OM_Solar_Cost_per_MWyr,Fixed_OM_Wind_Cost_per_MWyr,Fixed_OM_Cost_Discharge_DC_per_MWyr,Fixed_OM_Cost_Charge_DC_per_MWyr,Fixed_OM_Cost_Discharge_AC_per_MWyr,Fixed_OM_Cost_Charge_AC_per_MWyr,Var_OM_Cost_per_MWh_Solar,Var_OM_Cost_per_MWh_Wind,Var_OM_Cost_per_MWh_Discharge_DC,Var_OM_Cost_per_MWh_Charge_DC,Var_OM_Cost_per_MWh_Discharge_AC,Var_OM_Cost_per_MWh_Charge_AC,EtaInverter,Inverter_Ratio_Wind,Inverter_Ratio_Solar,Power_to_Energy_DC,Power_to_Energy_AC,Self_Disch,Eff_Up_DC,Eff_Down_DC,Eff_Up_AC,Eff_Down_AC,region,cluster
2 | landbasedwind_class1_moderate,1,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,117315.5,-1,-1,-1,-1,14198,0,0,0,0.15,7522,0,56816,0,0,0,0,1875,0,36613,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
3 | utilitypv_class1_moderate,1,1,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,1351663.04,-1,-1,-1,-1,-1,8863,0,0,0,0.15,7522,22706,0,0,0,0,0,1875,12550,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
4 | storage_sym_discharge,1,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7522,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
5 | storage_asym_ac_discharge,1,0,0,0,0,2,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
6 | storage_asym_dc_discharge,1,0,0,2,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7303,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
7 | storage_sym_charge,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
8 | storage_asym_ac_charge,1,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0
9 | storage_asym_dc_charge,1,0,0,0,2,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0.15,7609,0,0,0,0,0,0,1875,0,0,0,0,0,0,0,0,0.15,0.15,0,0,0.967,-1,-1,0.005,0.005,0,0.65,0.65,0.65,0.65,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/cum_min_ret/inputs_p3/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05     # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05    # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23       # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: on           # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm             # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | ipm_optimality_tolerance: 1e-04
 9 | 
10 | # run the crossover routine for ipx
11 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
12 | run_crossover: "on"
13 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,1,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p1/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.5,0.5


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p2/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.05


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,1,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/inputs_p3/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05     # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05    # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23       # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: on           # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm             # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | ipm_optimality_tolerance: 1e-04
 9 | 
10 | # run the crossover routine for ipx
11 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
12 | run_crossover: "on"
13 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,1,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p1/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.5,0.5


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p2/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.05


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/resources/Resource_multistage_data.csv:
--------------------------------------------------------------------------------
1 | Resource,WACC,Capital_Recovery_Period,Lifetime,Min_Retired_Cap_MW,Min_Retired_Energy_Cap_MW,Min_Retired_Charge_Cap_MW
2 | natural_gas_combined_cycle,0.039,20,20,0,0,0
3 | solar_pv,0.017,20,20,0,0,0
4 | onshore_wind,0.024,20,20,0,0,0
5 | battery,0.027,20,20,0,0,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Fixed_OM_Cost_Charge_per_MWyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Resource_Type,region,cluster
2 | battery,1,1,1,1,0,0,-1,-1,0,0,19584,22494,4895,5622,5622,0.15,0.15,0,0.92,0.92,1,10,battery_mid,NE,0


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | natural_gas_combined_cycle,1,1,0,1,10000,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | solar_pv,1,1,1,1,500,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,NE,1
3 | onshore_wind,1,1,1,1,1000,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.28,0.0
  4 | 2,5.28,0.0
  5 | 3,5.28,0.0
  6 | 4,5.28,0.0
  7 | 5,5.28,0.0
  8 | 6,5.28,0.0
  9 | 7,5.28,0.0
 10 | 8,5.28,0.0
 11 | 9,5.28,0.0
 12 | 10,5.28,0.0
 13 | 11,5.28,0.0
 14 | 12,5.28,0.0
 15 | 13,5.28,0.0
 16 | 14,5.28,0.0
 17 | 15,5.28,0.0
 18 | 16,5.28,0.0
 19 | 17,5.28,0.0
 20 | 18,5.28,0.0
 21 | 19,5.28,0.0
 22 | 20,5.28,0.0
 23 | 21,5.28,0.0
 24 | 22,5.28,0.0
 25 | 23,5.28,0.0
 26 | 24,5.28,0.0
 27 | 25,3.69,0.0
 28 | 26,3.69,0.0
 29 | 27,3.69,0.0
 30 | 28,3.69,0.0
 31 | 29,3.69,0.0
 32 | 30,3.69,0.0
 33 | 31,3.69,0.0
 34 | 32,3.69,0.0
 35 | 33,3.69,0.0
 36 | 34,3.69,0.0
 37 | 35,3.69,0.0
 38 | 36,3.69,0.0
 39 | 37,3.69,0.0
 40 | 38,3.69,0.0
 41 | 39,3.69,0.0
 42 | 40,3.69,0.0
 43 | 41,3.69,0.0
 44 | 42,3.69,0.0
 45 | 43,3.69,0.0
 46 | 44,3.69,0.0
 47 | 45,3.69,0.0
 48 | 46,3.69,0.0
 49 | 47,3.69,0.0
 50 | 48,3.69,0.0
 51 | 49,2.23,0.0
 52 | 50,2.23,0.0
 53 | 51,2.23,0.0
 54 | 52,2.23,0.0
 55 | 53,2.23,0.0
 56 | 54,2.23,0.0
 57 | 55,2.23,0.0
 58 | 56,2.23,0.0
 59 | 57,2.23,0.0
 60 | 58,2.23,0.0
 61 | 59,2.23,0.0
 62 | 60,2.23,0.0
 63 | 61,2.23,0.0
 64 | 62,2.23,0.0
 65 | 63,2.23,0.0
 66 | 64,2.23,0.0
 67 | 65,2.23,0.0
 68 | 66,2.23,0.0
 69 | 67,2.23,0.0
 70 | 68,2.23,0.0
 71 | 69,2.23,0.0
 72 | 70,2.23,0.0
 73 | 71,2.23,0.0
 74 | 72,2.23,0.0
 75 | 73,2.34,0.0
 76 | 74,2.34,0.0
 77 | 75,2.34,0.0
 78 | 76,2.34,0.0
 79 | 77,2.34,0.0
 80 | 78,2.34,0.0
 81 | 79,2.34,0.0
 82 | 80,2.34,0.0
 83 | 81,2.34,0.0
 84 | 82,2.34,0.0
 85 | 83,2.34,0.0
 86 | 84,2.34,0.0
 87 | 85,2.34,0.0
 88 | 86,2.34,0.0
 89 | 87,2.34,0.0
 90 | 88,2.34,0.0
 91 | 89,2.34,0.0
 92 | 90,2.34,0.0
 93 | 91,2.34,0.0
 94 | 92,2.34,0.0
 95 | 93,2.34,0.0
 96 | 94,2.34,0.0
 97 | 95,2.34,0.0
 98 | 96,2.34,0.0
 99 | 97,2.74,0.0
100 | 98,2.74,0.0
101 | 99,2.74,0.0
102 | 100,2.74,0.0
103 | 101,2.74,0.0
104 | 102,2.74,0.0
105 | 103,2.74,0.0
106 | 104,2.74,0.0
107 | 105,2.74,0.0
108 | 106,2.74,0.0
109 | 107,2.74,0.0
110 | 108,2.74,0.0
111 | 109,2.74,0.0
112 | 110,2.74,0.0
113 | 111,2.74,0.0
114 | 112,2.74,0.0
115 | 113,2.74,0.0
116 | 114,2.74,0.0
117 | 115,2.74,0.0
118 | 116,2.74,0.0
119 | 117,2.74,0.0
120 | 118,2.74,0.0
121 | 119,2.74,0.0
122 | 120,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,solar_pv,onshore_wind,battery
  2 | 1,1.0,0.0,0.523972332,1.0
  3 | 2,1.0,0.0,0.657110274,1.0
  4 | 3,1.0,0.0,0.757477045,1.0
  5 | 4,1.0,0.0,0.644009769,1.0
  6 | 5,1.0,0.0,0.467615873,1.0
  7 | 6,1.0,0.0,0.553678334,1.0
  8 | 7,1.0,0.0,0.77921623,1.0
  9 | 8,1.0,0.0,0.725531518,1.0
 10 | 9,1.0,0.0,0.786552846,1.0
 11 | 10,1.0,0.003,0.589495063,1.0
 12 | 11,1.0,0.0852,0.436854541,1.0
 13 | 12,1.0,0.1324,0.533977807,1.0
 14 | 13,1.0,0.1041,0.54939425,1.0
 15 | 14,1.0,0.1276,0.297182679,1.0
 16 | 15,1.0,0.1108,0.108885378,1.0
 17 | 16,1.0,0.0825,0.097908288,1.0
 18 | 17,1.0,0.0043,0.092191279,1.0
 19 | 18,1.0,0.0,0.112537816,1.0
 20 | 19,1.0,0.0,0.366680771,1.0
 21 | 20,1.0,0.0,0.794670165,1.0
 22 | 21,1.0,0.0,0.931621909,1.0
 23 | 22,1.0,0.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0
 26 | 25,1.0,0.0,0.676885605,1.0
 27 | 26,1.0,0.0,0.738456726,1.0
 28 | 27,1.0,0.0,0.703836918,1.0
 29 | 28,1.0,0.0,0.697715104,1.0
 30 | 29,1.0,0.0,0.578294039,1.0
 31 | 30,1.0,0.0,0.478842616,1.0
 32 | 31,1.0,0.0,0.57159102,1.0
 33 | 32,1.0,0.0216,0.389114857,1.0
 34 | 33,1.0,0.1372,0.520889282,1.0
 35 | 34,1.0,0.3468,0.376534432,1.0
 36 | 35,1.0,0.3952,0.327963144,1.0
 37 | 36,1.0,0.4551,0.407575041,1.0
 38 | 37,1.0,0.5095,0.536571622,1.0
 39 | 38,1.0,0.5567,0.576452434,1.0
 40 | 39,1.0,0.5691,0.562025309,1.0
 41 | 40,1.0,0.4904,0.422575682,1.0
 42 | 41,1.0,0.3087,0.521396458,1.0
 43 | 42,1.0,0.1034,0.710955501,1.0
 44 | 43,1.0,0.0,0.683217525,1.0
 45 | 44,1.0,0.0,0.635520697,1.0
 46 | 45,1.0,0.0,0.5644238,1.0
 47 | 46,1.0,0.0,0.61978668,1.0
 48 | 47,1.0,0.0,0.516743779,1.0
 49 | 48,1.0,0.0,0.470443606,1.0
 50 | 49,1.0,0.0,0.500380576,1.0
 51 | 50,1.0,0.0,0.512022793,1.0
 52 | 51,1.0,0.0,0.404206336,1.0
 53 | 52,1.0,0.0,0.142279267,1.0
 54 | 53,1.0,0.0,0.133046106,1.0
 55 | 54,1.0,0.1356,0.133957967,1.0
 56 | 55,1.0,0.1041,0.041104347,1.0
 57 | 56,1.0,0.2399,0.029715812,1.0
 58 | 57,1.0,0.3785,0.064291924,1.0
 59 | 58,1.0,0.4837,0.043738909,1.0
 60 | 59,1.0,0.5323,0.056054953,1.0
 61 | 60,1.0,0.5114,0.101633437,1.0
 62 | 61,1.0,0.5175,0.238559932,1.0
 63 | 62,1.0,0.5099,0.194997847,1.0
 64 | 63,1.0,0.502,0.190832943,1.0
 65 | 64,1.0,0.4113,0.26438266,1.0
 66 | 65,1.0,0.3017,0.273810387,1.0
 67 | 66,1.0,0.1773,0.195969075,1.0
 68 | 67,1.0,0.0811,0.235671312,1.0
 69 | 68,1.0,0.0006,0.188544422,1.0
 70 | 69,1.0,0.0,0.179863051,1.0
 71 | 70,1.0,0.0,0.223087296,1.0
 72 | 71,1.0,0.0,0.457369655,1.0
 73 | 72,1.0,0.0,0.715852976,1.0
 74 | 73,1.0,0.0,0.280310601,1.0
 75 | 74,1.0,0.0,0.603805244,1.0
 76 | 75,1.0,0.0,0.741859972,1.0
 77 | 76,1.0,0.0,0.44207269,1.0
 78 | 77,1.0,0.0,0.534612,1.0
 79 | 78,1.0,0.0259,0.587511122,1.0
 80 | 79,1.0,0.096,0.48241505,1.0
 81 | 80,1.0,0.2133,0.226682097,1.0
 82 | 81,1.0,0.3624,0.376575917,1.0
 83 | 82,1.0,0.4795,0.272142261,1.0
 84 | 83,1.0,0.5633,0.132447034,1.0
 85 | 84,1.0,0.5708,0.091180928,1.0
 86 | 85,1.0,0.534,0.420845181,1.0
 87 | 86,1.0,0.5641,0.543866694,1.0
 88 | 87,1.0,0.5537,0.943579316,1.0
 89 | 88,1.0,0.457,0.83001256,1.0
 90 | 89,1.0,0.3439,0.698711514,1.0
 91 | 90,1.0,0.1642,0.536995411,1.0
 92 | 91,1.0,0.0638,0.770702124,1.0
 93 | 92,1.0,0.0,0.569594324,1.0
 94 | 93,1.0,0.0,0.668922722,1.0
 95 | 94,1.0,0.0,0.759383678,1.0
 96 | 95,1.0,0.0,0.672967851,1.0
 97 | 96,1.0,0.0,0.861851215,1.0
 98 | 97,1.0,0.0,0.000154842,1.0
 99 | 98,1.0,0.0,5.75e-5,1.0
100 | 99,1.0,0.0,7.18e-5,1.0
101 | 100,1.0,0.0,3.65e-5,1.0
102 | 101,1.0,0.0,3.0e-5,1.0
103 | 102,1.0,0.0,0.0,1.0
104 | 103,1.0,0.0,0.000772537,1.0
105 | 104,1.0,0.0,0.000930232,1.0
106 | 105,1.0,0.1029,0.000778525,1.0
107 | 106,1.0,0.2427,0.000131503,1.0
108 | 107,1.0,0.3353,0.005792293,1.0
109 | 108,1.0,0.3693,0.00257458,1.0
110 | 109,1.0,0.321,1.01e-5,1.0
111 | 110,1.0,0.2798,0.000134685,1.0
112 | 111,1.0,0.2887,0.000516413,1.0
113 | 112,1.0,0.1717,0.001232307,1.0
114 | 113,1.0,0.0,0.002655152,1.0
115 | 114,1.0,0.0,0.003173271,1.0
116 | 115,1.0,0.0,0.003878384,1.0
117 | 116,1.0,0.0,0.005781263,1.0
118 | 117,1.0,0.0,0.006259252,1.0
119 | 118,1.0,0.0,0.008088858,1.0
120 | 119,1.0,0.0,0.008165604,1.0
121 | 120,1.0,0.0,0.007110484,1.0
122 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/multi_stage/new_build/inputs_p3/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,72,2
  3 | 2,72,2
  4 | 3,72,2
  5 | 4,72,2
  6 | 5,72,2
  7 | 6,72,2
  8 | 7,72,2
  9 | 8,72,2
 10 | 9,72,2
 11 | 10,72,2
 12 | 11,72,2
 13 | 12,72,2
 14 | 13,72,2
 15 | 14,72,2
 16 | 15,72,2
 17 | 16,72,2
 18 | 17,72,2
 19 | 18,72,2
 20 | 19,72,2
 21 | 20,72,2
 22 | 21,72,2
 23 | 22,72,2
 24 | 23,72,2
 25 | 24,72,2
 26 | 25,72,2
 27 | 26,72,2
 28 | 27,27,1
 29 | 28,72,2
 30 | 29,72,2
 31 | 30,72,2
 32 | 31,72,2
 33 | 32,72,2
 34 | 33,72,2
 35 | 34,72,2
 36 | 35,72,2
 37 | 36,72,2
 38 | 37,72,2
 39 | 38,72,2
 40 | 39,72,2
 41 | 40,72,2
 42 | 41,72,2
 43 | 42,72,2
 44 | 43,72,2
 45 | 44,72,2
 46 | 45,72,2
 47 | 46,72,2
 48 | 47,72,2
 49 | 48,72,2
 50 | 49,72,2
 51 | 50,72,2
 52 | 51,72,2
 53 | 52,72,2
 54 | 53,72,2
 55 | 54,72,2
 56 | 55,72,2
 57 | 56,72,2
 58 | 57,72,2
 59 | 58,72,2
 60 | 59,72,2
 61 | 60,72,2
 62 | 61,72,2
 63 | 62,72,2
 64 | 63,72,2
 65 | 64,72,2
 66 | 65,72,2
 67 | 66,72,2
 68 | 67,72,2
 69 | 68,72,2
 70 | 69,72,2
 71 | 70,72,2
 72 | 71,72,2
 73 | 72,72,2
 74 | 73,72,2
 75 | 74,72,2
 76 | 75,72,2
 77 | 76,72,2
 78 | 77,72,2
 79 | 78,72,2
 80 | 79,72,2
 81 | 80,72,2
 82 | 81,72,2
 83 | 82,72,2
 84 | 83,72,2
 85 | 84,72,2
 86 | 85,72,2
 87 | 86,72,2
 88 | 87,72,2
 89 | 88,72,2
 90 | 89,72,2
 91 | 90,72,2
 92 | 91,72,2
 93 | 92,72,2
 94 | 93,72,2
 95 | 94,72,2
 96 | 95,72,2
 97 | 96,72,2
 98 | 97,72,2
 99 | 98,72,2
100 | 99,72,2
101 | 100,72,2
102 | 101,72,2
103 | 102,72,2
104 | 103,72,2
105 | 104,72,2
106 | 105,72,2
107 | 106,72,2
108 | 107,72,2
109 | 108,72,2
110 | 109,170,3
111 | 110,72,2
112 | 111,72,2
113 | 112,72,2
114 | 113,72,2
115 | 114,72,2
116 | 115,72,2
117 | 116,72,2
118 | 117,72,2
119 | 118,72,2
120 | 119,72,2
121 | 120,72,2
122 | 121,72,2
123 | 122,170,3
124 | 123,170,3
125 | 124,170,3
126 | 125,170,3
127 | 126,170,3
128 | 127,170,3
129 | 128,170,3
130 | 129,170,3
131 | 130,170,3
132 | 131,170,3
133 | 132,170,3
134 | 133,170,3
135 | 134,170,3
136 | 135,170,3
137 | 136,170,3
138 | 137,170,3
139 | 138,170,3
140 | 139,170,3
141 | 140,170,3
142 | 141,170,3
143 | 142,170,3
144 | 143,170,3
145 | 144,170,3
146 | 145,170,3
147 | 146,170,3
148 | 147,170,3
149 | 148,170,3
150 | 149,170,3
151 | 150,170,3
152 | 151,170,3
153 | 152,170,3
154 | 153,170,3
155 | 154,170,3
156 | 155,170,3
157 | 156,170,3
158 | 157,170,3
159 | 158,170,3
160 | 159,170,3
161 | 160,170,3
162 | 161,170,3
163 | 162,170,3
164 | 163,170,3
165 | 164,170,3
166 | 165,170,3
167 | 166,170,3
168 | 167,170,3
169 | 168,170,3
170 | 169,170,3
171 | 170,170,3
172 | 171,170,3
173 | 172,170,3
174 | 173,170,3
175 | 174,170,3
176 | 175,170,3
177 | 176,170,3
178 | 177,170,3
179 | 178,170,3
180 | 179,170,3
181 | 180,170,3
182 | 181,170,3
183 | 182,170,3
184 | 183,170,3
185 | 184,170,3
186 | 185,170,3
187 | 186,170,3
188 | 187,170,3
189 | 188,170,3
190 | 189,170,3
191 | 190,170,3
192 | 191,170,3
193 | 192,170,3
194 | 193,170,3
195 | 194,170,3
196 | 195,170,3
197 | 196,170,3
198 | 197,170,3
199 | 198,198,4
200 | 199,170,3
201 | 200,170,3
202 | 201,170,3
203 | 202,170,3
204 | 203,170,3
205 | 204,170,3
206 | 205,170,3
207 | 206,170,3
208 | 207,170,3
209 | 208,170,3
210 | 209,170,3
211 | 210,170,3
212 | 211,170,3
213 | 212,170,3
214 | 213,170,3
215 | 214,170,3
216 | 215,170,3
217 | 216,170,3
218 | 217,170,3
219 | 218,170,3
220 | 219,170,3
221 | 220,170,3
222 | 221,170,3
223 | 222,170,3
224 | 223,170,3
225 | 224,170,3
226 | 225,170,3
227 | 226,170,3
228 | 227,170,3
229 | 228,170,3
230 | 229,170,3
231 | 230,170,3
232 | 231,170,3
233 | 232,170,3
234 | 233,170,3
235 | 234,170,3
236 | 235,170,3
237 | 236,170,3
238 | 237,170,3
239 | 238,170,3
240 | 239,170,3
241 | 240,170,3
242 | 241,170,3
243 | 242,170,3
244 | 243,170,3
245 | 244,170,3
246 | 245,170,3
247 | 246,170,3
248 | 247,170,3
249 | 248,170,3
250 | 249,170,3
251 | 250,170,3
252 | 251,170,3
253 | 252,170,3
254 | 253,170,3
255 | 254,170,3
256 | 255,170,3
257 | 256,170,3
258 | 257,170,3
259 | 258,170,3
260 | 259,170,3
261 | 260,170,3
262 | 261,170,3
263 | 262,170,3
264 | 263,170,3
265 | 264,170,3
266 | 265,170,3
267 | 266,170,3
268 | 267,170,3
269 | 268,170,3
270 | 269,170,3
271 | 270,170,3
272 | 271,170,3
273 | 272,170,3
274 | 273,170,3
275 | 274,170,3
276 | 275,170,3
277 | 276,170,3
278 | 277,170,3
279 | 278,170,3
280 | 279,170,3
281 | 280,170,3
282 | 281,170,3
283 | 282,170,3
284 | 283,170,3
285 | 284,170,3
286 | 285,170,3
287 | 286,170,3
288 | 287,170,3
289 | 288,170,3
290 | 289,170,3
291 | 290,170,3
292 | 291,170,3
293 | 292,170,3
294 | 293,170,3
295 | 294,170,3
296 | 295,170,3
297 | 296,170,3
298 | 297,170,3
299 | 298,170,3
300 | 299,170,3
301 | 300,170,3
302 | 301,170,3
303 | 302,170,3
304 | 303,170,3
305 | 304,170,3
306 | 305,170,3
307 | 306,170,3
308 | 307,72,2
309 | 308,72,2
310 | 309,170,3
311 | 310,170,3
312 | 311,170,3
313 | 312,72,2
314 | 313,170,3
315 | 314,170,3
316 | 315,170,3
317 | 316,170,3
318 | 317,170,3
319 | 318,170,3
320 | 319,170,3
321 | 320,170,3
322 | 321,170,3
323 | 322,170,3
324 | 323,170,3
325 | 324,170,3
326 | 325,170,3
327 | 326,170,3
328 | 327,170,3
329 | 328,72,2
330 | 329,170,3
331 | 330,170,3
332 | 331,331,5
333 | 332,170,3
334 | 333,170,3
335 | 334,170,3
336 | 335,170,3
337 | 336,72,2
338 | 337,72,2
339 | 338,72,2
340 | 339,72,2
341 | 340,72,2
342 | 341,72,2
343 | 342,72,2
344 | 343,72,2
345 | 344,72,2
346 | 345,72,2
347 | 346,72,2
348 | 347,72,2
349 | 348,72,2
350 | 349,72,2
351 | 350,72,2
352 | 351,72,2
353 | 352,72,2
354 | 353,72,2
355 | 354,72,2
356 | 355,72,2
357 | 356,72,2
358 | 357,72,2
359 | 358,72,2
360 | 359,72,2
361 | 360,72,2
362 | 361,72,2
363 | 362,72,2
364 | 363,72,2
365 | 364,72,2
366 | 365,72,2
367 | 


--------------------------------------------------------------------------------
/test/piecewise_fuel/highs_settings.yml:
--------------------------------------------------------------------------------
1 | # HiGHS Solver Parameters
2 | # Common solver settings
3 | Feasib_Tol: 1.0e-05     # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
4 | Optimal_Tol: 1.0e-05    # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
5 | TimeLimit: 1.0e23       # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
6 | Pre_Solve: on           # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
7 | Method: simplex         # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
8 | 


--------------------------------------------------------------------------------
/test/piecewise_fuel/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0,0
3 | 


--------------------------------------------------------------------------------
/test/piecewise_fuel/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Resource_Type,region,cluster,PWFU_Fuel_Usage_Zero_Load_MMBTU_per_h,PWFU_Heat_Rate_MMBTU_per_MWh_1,PWFU_Heat_Rate_MMBTU_per_MWh_2,PWFU_Load_Point_MW_1,PWFU_Load_Point_MW_2,CO2_Capture_Fraction,CO2_Capture_Fraction_Startup,CCS_Disposal_Cost_per_Metric_Ton,Biomass
2 | natural_gas_combined_cycle_ccs,1,1,1,15000,-1,0,0,0,5,0,NG,250,91,2,6,6,0.64,0.64,0.468,natural_gas_fired_combined_cycle_ccs,NE,1,400,6,7.2,160,250,0.9,0.6,20,0
3 | biomass_ccs,1,1,1,300,-1,0,0,0,10,10,Biomass,300,91,2,6,6,0.64,0.64,0.468,biomass_ccs,NE,1,0,0,0,0,0,0.9,0.6,20,1


--------------------------------------------------------------------------------
/test/piecewise_fuel/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Cap_Size,Resource_Type,region,cluster
2 | onshore_wind,1,1,0,1,15000,-1,0,0,0,0,100,onshore_wind_turbine,NE,1


--------------------------------------------------------------------------------
/test/piecewise_fuel/system/Demand_data.csv:
--------------------------------------------------------------------------------
 1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
 2 | 2000,1,1,1,2000,1,24,8760,1,10000
 3 | ,2,0.9,0.04,1800,,,,2,9500
 4 | ,3,0.55,0.024,1100,,,,3,9000
 5 | ,4,0.2,0.003,400,,,,4,8500
 6 | ,,,,,,,,5,8000
 7 | ,,,,,,,,6,7500
 8 | ,,,,,,,,7,8000
 9 | ,,,,,,,,8,8500
10 | ,,,,,,,,9,9000
11 | ,,,,,,,,10,9500
12 | ,,,,,,,,11,10000
13 | ,,,,,,,,12,10500
14 | ,,,,,,,,13,11000
15 | ,,,,,,,,14,11500
16 | ,,,,,,,,15,12000
17 | ,,,,,,,,16,12500
18 | ,,,,,,,,17,13000
19 | ,,,,,,,,18,14000
20 | ,,,,,,,,19,15000
21 | ,,,,,,,,20,16000
22 | ,,,,,,,,21,17000
23 | ,,,,,,,,22,16000
24 | ,,,,,,,,23,15000
25 | ,,,,,,,,24,14000
26 | 


--------------------------------------------------------------------------------
/test/piecewise_fuel/system/Fuels_data.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,NG,Biomass
 2 | 0,0.05306,0.095
 3 | 1,4,8
 4 | 2,4,8
 5 | 3,4,8
 6 | 4,4,8
 7 | 5,4,8
 8 | 6,4,8
 9 | 7,4,8
10 | 8,4,8
11 | 9,4,8
12 | 10,4,8
13 | 11,4,8
14 | 12,4,8
15 | 13,4,8
16 | 14,4,8
17 | 15,4,8
18 | 16,4,8
19 | 17,4,8
20 | 18,4,8
21 | 19,4,8
22 | 20,4,8
23 | 21,4,8
24 | 22,4,8
25 | 23,4,8
26 | 24,4,8
27 | 


--------------------------------------------------------------------------------
/test/piecewise_fuel/system/Generators_variability.csv:
--------------------------------------------------------------------------------
 1 | Time_Index,onshore_wind
 2 | 1,0.889717042
 3 | 2,0.877715468
 4 | 3,0.903424203
 5 | 4,0.895153165
 6 | 5,0.757258117
 7 | 6,0.630928695
 8 | 7,0.557177782
 9 | 8,0.6072492
10 | 9,0.423417866
11 | 10,0.007470775
12 | 11,0.002535942
13 | 12,0.002153709
14 | 13,0.00445132
15 | 14,0.007711587
16 | 15,0.100848213
17 | 16,0.201802149
18 | 17,0.141933054
19 | 18,0.567022562
20 | 19,0.946024895
21 | 20,0.923394203
22 | 21,0.953386247
23 | 22,0.929205418
24 | 23,0.849528909
25 | 24,0.665570974
26 | 


--------------------------------------------------------------------------------
/test/resource_test.jl:
--------------------------------------------------------------------------------
  1 | let
  2 |     Resource = GenX.GenXResource
  3 |     check_resource = GenX.check_resource
  4 | 
  5 |     therm = Resource(:Resource => "my_therm",
  6 |         :THERM => 1,
  7 |         :FLEX => 0,
  8 |         :HYDRO => 0,
  9 |         :VRE => 0,
 10 |         :MUST_RUN => 0,
 11 |         :STOR => 0,
 12 |         :LDS => 0)
 13 | 
 14 |     stor_lds = Resource(:Resource => "stor_lds",
 15 |         :THERM => 0,
 16 |         :FLEX => 0,
 17 |         :HYDRO => 0,
 18 |         :VRE => 0,
 19 |         :MUST_RUN => 0,
 20 |         :STOR => 1,
 21 |         :LDS => 1)
 22 | 
 23 |     hydro_lds = Resource(:Resource => "hydro_lds",
 24 |         :THERM => 0,
 25 |         :FLEX => 0,
 26 |         :HYDRO => 1,
 27 |         :VRE => 0,
 28 |         :MUST_RUN => 0,
 29 |         :STOR => 0,
 30 |         :LDS => 1)
 31 | 
 32 |     bad_lds = Resource(:Resource => "bad lds combo",
 33 |         :THERM => 0,
 34 |         :FLEX => 1,
 35 |         :HYDRO => 0,
 36 |         :VRE => 0,
 37 |         :MUST_RUN => 0,
 38 |         :STOR => 0,
 39 |         :LDS => 1)
 40 | 
 41 |     bad_none = Resource(:Resource => "none",
 42 |         :THERM => 0,
 43 |         :FLEX => 0,
 44 |         :HYDRO => 0,
 45 |         :VRE => 0,
 46 |         :MUST_RUN => 0,
 47 |         :STOR => 0,
 48 |         :LDS => 0)
 49 | 
 50 |     bad_twotypes = Resource(:Resource => "too many",
 51 |         :THERM => 1,
 52 |         :FLEX => 1,
 53 |         :HYDRO => 0,
 54 |         :VRE => 0,
 55 |         :MUST_RUN => 0,
 56 |         :STOR => 0,
 57 |         :LDS => 0)
 58 | 
 59 |     bad_multiple = Resource(:Resource => "multiple_bad",
 60 |         :THERM => 1,
 61 |         :FLEX => 1,
 62 |         :HYDRO => 0,
 63 |         :VRE => 0,
 64 |         :MUST_RUN => 0,
 65 |         :STOR => 0,
 66 |         :LDS => 1)
 67 | 
 68 |     # MUST_RUN units contribution to reserves
 69 |     must_run = Resource(:Resource => "must_run",
 70 |         :THERM => 0,
 71 |         :FLEX => 0,
 72 |         :HYDRO => 0,
 73 |         :VRE => 0,
 74 |         :MUST_RUN => 1,
 75 |         :STOR => 0,
 76 |         :LDS => 0,
 77 |         :Reg_Max => 0,
 78 |         :Rsv_Max => 0)
 79 |     bad_must_run = Resource(:Resource => "bad_must_run",
 80 |         :THERM => 0,
 81 |         :FLEX => 0,
 82 |         :HYDRO => 0,
 83 |         :VRE => 0,
 84 |         :MUST_RUN => 1,
 85 |         :STOR => 0,
 86 |         :LDS => 0,
 87 |         :Reg_Max => 0.083333333,
 88 |         :Rsv_Max => 0.166666667)
 89 |     bad_mustrun_reg = Resource(:Resource => "bad_mustrun_reg",
 90 |         :THERM => 0,
 91 |         :FLEX => 0,
 92 |         :HYDRO => 0,
 93 |         :VRE => 0,
 94 |         :MUST_RUN => 1,
 95 |         :STOR => 0,
 96 |         :LDS => 0,
 97 |         :Reg_Max => 0.083333333,
 98 |         :Rsv_Max => 0)
 99 |     bad_mustrun_rsv = Resource(:Resource => "bad_mustrun_rsv",
100 |         :THERM => 0,
101 |         :FLEX => 0,
102 |         :HYDRO => 0,
103 |         :VRE => 0,
104 |         :MUST_RUN => 1,
105 |         :STOR => 0,
106 |         :LDS => 0,
107 |         :Reg_Max => 0,
108 |         :Rsv_Max => 0.166666667)
109 | 
110 |     function check_okay(resource)
111 |         e = check_resource(resource)
112 |         @test length(e) == 0
113 |     end
114 | 
115 |     function check_bad(resource)
116 |         e = check_resource(resource)
117 |         @test length(e) > 0
118 |     end
119 | 
120 |     check_okay(therm)
121 |     check_okay(stor_lds)
122 |     check_okay(hydro_lds)
123 |     check_okay(must_run)
124 | 
125 |     check_bad(bad_lds)
126 |     check_bad(bad_none)
127 |     check_bad(bad_twotypes)
128 |     check_bad(bad_must_run)
129 |     check_bad(bad_mustrun_reg)
130 |     check_bad(bad_mustrun_rsv)
131 | 
132 |     multiple_resources = [therm, stor_lds, hydro_lds]
133 |     check_okay(multiple_resources)
134 | 
135 |     multiple_bad_resources = [bad_lds, bad_twotypes, bad_multiple]
136 |     e = check_resource(multiple_bad_resources)
137 |     @test length(e) > 3
138 | 
139 |     function test_validate_bad(resources)
140 |         with_logger(NullLogger()) do
141 |             @test_throws ErrorException GenX.validate_resources(resources)
142 |         end
143 |     end
144 | 
145 |     test_validate_bad(multiple_bad_resources)
146 | end
147 | 


--------------------------------------------------------------------------------
/test/retrofit/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: choose             #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | #highs-specific solver settings
10 | 
11 | # run the crossover routine for ipx
12 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
13 | run_crossover: "on"
14 | 


--------------------------------------------------------------------------------
/test/retrofit/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Max_tons_MWh_1,CO_2_Max_Mtons_1
2 | NE,z1,1,0.05,0.018
3 | 


--------------------------------------------------------------------------------
/test/retrofit/policies/Capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CapRes_1
2 | NE,z1,0.156
3 | 


--------------------------------------------------------------------------------
/test/retrofit/policies/Energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,ESR_1,ESR_2
2 | NE,z1,0.259,0.348
3 | 


--------------------------------------------------------------------------------
/test/retrofit/policies/Maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MaxCapReqConstraint,ConstraintDescription,Max_MW
2 | 1,PV,50000
3 | 2,Wind,100000
4 | 3,Batteries,60000
5 | 


--------------------------------------------------------------------------------
/test/retrofit/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,PV,5000
3 | 2,Wind,10000
4 | 3,Batteries,6000
5 | 


--------------------------------------------------------------------------------
/test/retrofit/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Retrofit_Id,cluster,Model,Retrofit,Can_Retrofit,Cap_Retire,New_Build,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region
2 | battery,1,0,1,1,0,0,0,1,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,0,battery_mid,NE
3 | energy_storage,1,1,1,1,1,0,0,1,0,0,-1,-1,0,0,5000,2000,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,0,battery_mid,NE


--------------------------------------------------------------------------------
/test/retrofit/resources/Thermal.csv:
--------------------------------------------------------------------------------
 1 | Resource,Zone,Retrofit_Id,Model,New_Build,Can_Retire,Retrofit_Efficiency,Retrofit,Can_Retrofit,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
 2 | natural_gas_combined_cycle,1,0,1,1,0,0,0,0,0,-1,0,65400,10287,3.55,7.43,NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,NE,1
 3 | coal_super_1,1,1,1,0,1,0,0,1,6000,0,0,112000,10287,0,7.43,coal,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,Coal_super,NE,1
 4 | coal_super_2,1,2,1,0,1,0,0,1,6000,0,0,112000,10287,0,7.43,coal,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,Coal_super,NE,2
 5 | coal_super_3,1,3,1,0,1,0,0,1,6000,0,0,112000,10287,0,7.43,coal,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,Coal_super,NE,3
 6 | coal_super_4,1,4,1,0,1,0,0,1,6000,0,0,112000,10287,0,7.43,coal,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,Coal_super,NE,4
 7 | coal_super_5,1,5,1,0,1,0,0,1,6000,0,0,112000,10287,0,7.43,coal,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,Coal_super,NE,5
 8 | 20A_retrofit_1,1,1,1,1,0,0.85,1,0,0,-1,0,2342,10287,0,5,blue_ammonia,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,ammonia,NE,1
 9 | 20A_retrofit_2,1,2,1,1,0,0.85,1,0,0,-1,0,2342,10287,0,5,blue_ammonia,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,ammonia,NE,2
10 | 20A_retrofit_3,1,3,1,1,0,0.85,1,0,0,-1,0,2342,10287,0,5,blue_ammonia,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,ammonia,NE,3
11 | 20A_retrofit_4,1,4,1,1,0,0.85,1,0,0,-1,0,2342,10287,0,5,blue_ammonia,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,ammonia,NE,4
12 | 20A_retrofit_5,1,5,1,1,0,0.85,1,0,0,-1,0,2342,10287,0,5,blue_ammonia,300,17,2,4,4,0.64,0.64,0.55,0.25,0.25,0,0,1,ammonia,NE,5


--------------------------------------------------------------------------------
/test/retrofit/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,cluster,Num_VRE_Bins,Retrofit,Cap_Retire,New_Build,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region
2 | solar_pv,1,1,1,0,0,1,0,-1,0,85300,18760,0,9.13,None,0,0,0,0,1,solar_photovoltaic,NE
3 | onshore_wind,1,1,1,0,0,1,0,-1,0,97200,43205,0.1,9.12,None,0,0,0,0,1,onshore_wind_turbine,NE


--------------------------------------------------------------------------------
/test/retrofit/resources/policy_assignments/Resource_capacity_reserve_margin.csv:
--------------------------------------------------------------------------------
 1 | Resource,Derating_factor
 2 | solar_pv,0.8
 3 | onshore_wind,0.8
 4 | battery,0.95
 5 | natural_gas_combined_cycle,0.93
 6 | coal_super_1,0.93
 7 | coal_super_2,0.93
 8 | coal_super_3,0.93
 9 | coal_super_4,0.93
10 | coal_super_5,0.93
11 | 20A_retrofit_1,0.93
12 | 20A_retrofit_2,0.93
13 | 20A_retrofit_3,0.93
14 | 20A_retrofit_4,0.93
15 | 20A_retrofit_5,0.93


--------------------------------------------------------------------------------
/test/retrofit/resources/policy_assignments/Resource_energy_share_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,ESR_1,ESR_2
2 | solar_pv,1,1
3 | onshore_wind,1,1


--------------------------------------------------------------------------------
/test/retrofit/resources/policy_assignments/Resource_maximum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Max_Cap_1,Max_Cap_2,Max_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/retrofit/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | Resource,Min_Cap_1,Min_Cap_2,Min_Cap_3
2 | solar_pv,1,0,0
3 | onshore_wind,0,1,0
4 | battery,0,0,1


--------------------------------------------------------------------------------
/test/retrofit/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1
  2 | 50000,1,1,1,5,24,24.0,1,11122.0
  3 | ,,,,,,3672.0,2,10655.0
  4 | ,,,,,,5016.0,3,10441.0
  5 | ,,,,,,24.0,4,10365.0
  6 | ,,,,,,24.0,5,10639.0
  7 | ,,,,,,,6,11577.0
  8 | ,,,,,,,7,13349.0
  9 | ,,,,,,,8,14550.0
 10 | ,,,,,,,9,14922.0
 11 | ,,,,,,,10,15165.0
 12 | ,,,,,,,11,15328.0
 13 | ,,,,,,,12,15380.0
 14 | ,,,,,,,13,15275.0
 15 | ,,,,,,,14,15154.0
 16 | ,,,,,,,15,14953.0
 17 | ,,,,,,,16,14885.0
 18 | ,,,,,,,17,15340.0
 19 | ,,,,,,,18,16003.0
 20 | ,,,,,,,19,15767.0
 21 | ,,,,,,,20,15236.0
 22 | ,,,,,,,21,14663.0
 23 | ,,,,,,,22,13889.0
 24 | ,,,,,,,23,12855.0
 25 | ,,,,,,,24,11809.0
 26 | ,,,,,,,25,9702.0
 27 | ,,,,,,,26,9229.0
 28 | ,,,,,,,27,9004.0
 29 | ,,,,,,,28,8951.0
 30 | ,,,,,,,29,9188.0
 31 | ,,,,,,,30,10087.0
 32 | ,,,,,,,31,11929.0
 33 | ,,,,,,,32,13166.0
 34 | ,,,,,,,33,13504.0
 35 | ,,,,,,,34,13632.0
 36 | ,,,,,,,35,13724.0
 37 | ,,,,,,,36,13742.0
 38 | ,,,,,,,37,13665.0
 39 | ,,,,,,,38,13641.0
 40 | ,,,,,,,39,13501.0
 41 | ,,,,,,,40,13366.0
 42 | ,,,,,,,41,13376.0
 43 | ,,,,,,,42,13524.0
 44 | ,,,,,,,43,13736.0
 45 | ,,,,,,,44,14401.0
 46 | ,,,,,,,45,14006.0
 47 | ,,,,,,,46,13006.0
 48 | ,,,,,,,47,11658.0
 49 | ,,,,,,,48,10416.0
 50 | ,,,,,,,49,10219.0
 51 | ,,,,,,,50,9671.0
 52 | ,,,,,,,51,9383.0
 53 | ,,,,,,,52,9269.0
 54 | ,,,,,,,53,9483.0
 55 | ,,,,,,,54,10103.0
 56 | ,,,,,,,55,11573.0
 57 | ,,,,,,,56,13059.0
 58 | ,,,,,,,57,13905.0
 59 | ,,,,,,,58,14430.0
 60 | ,,,,,,,59,14873.0
 61 | ,,,,,,,60,15179.0
 62 | ,,,,,,,61,15323.0
 63 | ,,,,,,,62,15515.0
 64 | ,,,,,,,63,15537.0
 65 | ,,,,,,,64,15481.0
 66 | ,,,,,,,65,15485.0
 67 | ,,,,,,,66,15440.0
 68 | ,,,,,,,67,15208.0
 69 | ,,,,,,,68,15028.0
 70 | ,,,,,,,69,15221.0
 71 | ,,,,,,,70,14913.0
 72 | ,,,,,,,71,13573.0
 73 | ,,,,,,,72,12159.0
 74 | ,,,,,,,73,14935.0
 75 | ,,,,,,,74,14062.0
 76 | ,,,,,,,75,13498.0
 77 | ,,,,,,,76,13146.0
 78 | ,,,,,,,77,13178.0
 79 | ,,,,,,,78,13712.0
 80 | ,,,,,,,79,15192.0
 81 | ,,,,,,,80,17114.0
 82 | ,,,,,,,81,18656.0
 83 | ,,,,,,,82,20020.0
 84 | ,,,,,,,83,21201.0
 85 | ,,,,,,,84,22009.0
 86 | ,,,,,,,85,22567.0
 87 | ,,,,,,,86,23070.0
 88 | ,,,,,,,87,23388.0
 89 | ,,,,,,,88,23629.0
 90 | ,,,,,,,89,23770.0
 91 | ,,,,,,,90,23575.0
 92 | ,,,,,,,91,23034.0
 93 | ,,,,,,,92,22325.0
 94 | ,,,,,,,93,21921.0
 95 | ,,,,,,,94,21122.0
 96 | ,,,,,,,95,19311.0
 97 | ,,,,,,,96,17514.0
 98 | ,,,,,,,97,11232.0
 99 | ,,,,,,,98,10825.0
100 | ,,,,,,,99,10632.0
101 | ,,,,,,,100,10622.0
102 | ,,,,,,,101,10948.0
103 | ,,,,,,,102,11984.0
104 | ,,,,,,,103,13879.0
105 | ,,,,,,,104,14890.0
106 | ,,,,,,,105,15134.0
107 | ,,,,,,,106,15241.0
108 | ,,,,,,,107,15360.0
109 | ,,,,,,,108,15407.0
110 | ,,,,,,,109,15385.0
111 | ,,,,,,,110,15372.0
112 | ,,,,,,,111,15285.0
113 | ,,,,,,,112,15482.0
114 | ,,,,,,,113,16544.0
115 | ,,,,,,,114,17247.0
116 | ,,,,,,,115,17114.0
117 | ,,,,,,,116,16657.0
118 | ,,,,,,,117,15936.0
119 | ,,,,,,,118,14783.0
120 | ,,,,,,,119,13342.0
121 | ,,,,,,,120,12052.0
122 | 


--------------------------------------------------------------------------------
/test/retrofit/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,NG,None,coal,blue_ammonia
  2 | 0,0.05306,0.0,0.09566,0.01
  3 | 1,5.28,0.0,1.8729355,1.8729355
  4 | 2,5.28,0.0,1.8729355,1.8729355
  5 | 3,5.28,0.0,1.8729355,1.8729355
  6 | 4,5.28,0.0,1.8729355,1.8729355
  7 | 5,5.28,0.0,1.8729355,1.8729355
  8 | 6,5.28,0.0,1.8729355,1.8729355
  9 | 7,5.28,0.0,1.8729355,1.8729355
 10 | 8,5.28,0.0,1.8729355,1.8729355
 11 | 9,5.28,0.0,1.8729355,1.8729355
 12 | 10,5.28,0.0,1.8729355,1.8729355
 13 | 11,5.28,0.0,1.8729355,1.8729355
 14 | 12,5.28,0.0,1.8729355,1.8729355
 15 | 13,5.28,0.0,1.8729355,1.8729355
 16 | 14,5.28,0.0,1.8729355,1.8729355
 17 | 15,5.28,0.0,1.8729355,1.8729355
 18 | 16,5.28,0.0,1.8729355,1.8729355
 19 | 17,5.28,0.0,1.8729355,1.8729355
 20 | 18,5.28,0.0,1.8729355,1.8729355
 21 | 19,5.28,0.0,1.8729355,1.8729355
 22 | 20,5.28,0.0,1.8729355,1.8729355
 23 | 21,5.28,0.0,1.8729355,1.8729355
 24 | 22,5.28,0.0,1.8729355,1.8729355
 25 | 23,5.28,0.0,1.8729355,1.8729355
 26 | 24,5.28,0.0,1.8729355,1.8729355
 27 | 25,3.69,0.0,1.8729355,1.8729355
 28 | 26,3.69,0.0,1.8729355,1.8729355
 29 | 27,3.69,0.0,1.8729355,1.8729355
 30 | 28,3.69,0.0,1.8729355,1.8729355
 31 | 29,3.69,0.0,1.8729355,1.8729355
 32 | 30,3.69,0.0,1.8729355,1.8729355
 33 | 31,3.69,0.0,1.8729355,1.8729355
 34 | 32,3.69,0.0,1.8729355,1.8729355
 35 | 33,3.69,0.0,1.8729355,1.8729355
 36 | 34,3.69,0.0,1.8729355,1.8729355
 37 | 35,3.69,0.0,1.8729355,1.8729355
 38 | 36,3.69,0.0,1.8729355,1.8729355
 39 | 37,3.69,0.0,1.8729355,1.8729355
 40 | 38,3.69,0.0,1.8729355,1.8729355
 41 | 39,3.69,0.0,1.8729355,1.8729355
 42 | 40,3.69,0.0,1.8729355,1.8729355
 43 | 41,3.69,0.0,1.8729355,1.8729355
 44 | 42,3.69,0.0,1.8729355,1.8729355
 45 | 43,3.69,0.0,1.8729355,1.8729355
 46 | 44,3.69,0.0,1.8729355,1.8729355
 47 | 45,3.69,0.0,1.8729355,1.8729355
 48 | 46,3.69,0.0,1.8729355,1.8729355
 49 | 47,3.69,0.0,1.8729355,1.8729355
 50 | 48,3.69,0.0,1.8729355,1.8729355
 51 | 49,2.23,0.0,1.8729355,1.8729355
 52 | 50,2.23,0.0,1.8729355,1.8729355
 53 | 51,2.23,0.0,1.8729355,1.8729355
 54 | 52,2.23,0.0,1.8729355,1.8729355
 55 | 53,2.23,0.0,1.8729355,1.8729355
 56 | 54,2.23,0.0,1.8729355,1.8729355
 57 | 55,2.23,0.0,1.8729355,1.8729355
 58 | 56,2.23,0.0,1.8729355,1.8729355
 59 | 57,2.23,0.0,1.8729355,1.8729355
 60 | 58,2.23,0.0,1.8729355,1.8729355
 61 | 59,2.23,0.0,1.8729355,1.8729355
 62 | 60,2.23,0.0,1.8729355,1.8729355
 63 | 61,2.23,0.0,1.8729355,1.8729355
 64 | 62,2.23,0.0,1.8729355,1.8729355
 65 | 63,2.23,0.0,1.8729355,1.8729355
 66 | 64,2.23,0.0,1.8729355,1.8729355
 67 | 65,2.23,0.0,1.8729355,1.8729355
 68 | 66,2.23,0.0,1.8729355,1.8729355
 69 | 67,2.23,0.0,1.8729355,1.8729355
 70 | 68,2.23,0.0,1.8729355,1.8729355
 71 | 69,2.23,0.0,1.8729355,1.8729355
 72 | 70,2.23,0.0,1.8729355,1.8729355
 73 | 71,2.23,0.0,1.8729355,1.8729355
 74 | 72,2.23,0.0,1.8729355,1.8729355
 75 | 73,2.34,0.0,1.8729355,1.8729355
 76 | 74,2.34,0.0,1.8729355,1.8729355
 77 | 75,2.34,0.0,1.8729355,1.8729355
 78 | 76,2.34,0.0,1.8729355,1.8729355
 79 | 77,2.34,0.0,1.8729355,1.8729355
 80 | 78,2.34,0.0,1.8729355,1.8729355
 81 | 79,2.34,0.0,1.8729355,1.8729355
 82 | 80,2.34,0.0,1.8729355,1.8729355
 83 | 81,2.34,0.0,1.8729355,1.8729355
 84 | 82,2.34,0.0,1.8729355,1.8729355
 85 | 83,2.34,0.0,1.8729355,1.8729355
 86 | 84,2.34,0.0,1.8729355,1.8729355
 87 | 85,2.34,0.0,1.8729355,1.8729355
 88 | 86,2.34,0.0,1.8729355,1.8729355
 89 | 87,2.34,0.0,1.8729355,1.8729355
 90 | 88,2.34,0.0,1.8729355,1.8729355
 91 | 89,2.34,0.0,1.8729355,1.8729355
 92 | 90,2.34,0.0,1.8729355,1.8729355
 93 | 91,2.34,0.0,1.8729355,1.8729355
 94 | 92,2.34,0.0,1.8729355,1.8729355
 95 | 93,2.34,0.0,1.8729355,1.8729355
 96 | 94,2.34,0.0,1.8729355,1.8729355
 97 | 95,2.34,0.0,1.8729355,1.8729355
 98 | 96,2.34,0.0,1.8729355,1.8729355
 99 | 97,2.74,0.0,1.8729355,1.8729355
100 | 98,2.74,0.0,1.8729355,1.8729355
101 | 99,2.74,0.0,1.8729355,1.8729355
102 | 100,2.74,0.0,1.8729355,1.8729355
103 | 101,2.74,0.0,1.8729355,1.8729355
104 | 102,2.74,0.0,1.8729355,1.8729355
105 | 103,2.74,0.0,1.8729355,1.8729355
106 | 104,2.74,0.0,1.8729355,1.8729355
107 | 105,2.74,0.0,1.8729355,1.8729355
108 | 106,2.74,0.0,1.8729355,1.8729355
109 | 107,2.74,0.0,1.8729355,1.8729355
110 | 108,2.74,0.0,1.8729355,1.8729355
111 | 109,2.74,0.0,1.8729355,1.8729355
112 | 110,2.74,0.0,1.8729355,1.8729355
113 | 111,2.74,0.0,1.8729355,1.8729355
114 | 112,2.74,0.0,1.8729355,1.8729355
115 | 113,2.74,0.0,1.8729355,1.8729355
116 | 114,2.74,0.0,1.8729355,1.8729355
117 | 115,2.74,0.0,1.8729355,1.8729355
118 | 116,2.74,0.0,1.8729355,1.8729355
119 | 117,2.74,0.0,1.8729355,1.8729355
120 | 118,2.74,0.0,1.8729355,1.8729355
121 | 119,2.74,0.0,1.8729355,1.8729355
122 | 120,2.74,0.0,1.8729355,1.8729355
123 | 


--------------------------------------------------------------------------------
/test/retrofit/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,natural_gas_combined_cycle,coal_super_1,coal_super_2,coal_super_3,coal_super_4,coal_super_5,20A_retrofit_1,20A_retrofit_2,20A_retrofit_3,20A_retrofit_4,20A_retrofit_5,solar_pv,onshore_wind,battery,energy_storage
  2 | 1,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.523972332,1.0,1.0
  3 | 2,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.657110274,1.0,1.0
  4 | 3,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.757477045,1.0,1.0
  5 | 4,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.644009769,1.0,1.0
  6 | 5,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.467615873,1.0,1.0
  7 | 6,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.553678334,1.0,1.0
  8 | 7,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.77921623,1.0,1.0
  9 | 8,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.725531518,1.0,1.0
 10 | 9,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.786552846,1.0,1.0
 11 | 10,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.003,0.589495063,1.0,1.0
 12 | 11,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0852,0.436854541,1.0,1.0
 13 | 12,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1324,0.533977807,1.0,1.0
 14 | 13,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1041,0.54939425,1.0,1.0
 15 | 14,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1276,0.297182679,1.0,1.0
 16 | 15,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1108,0.108885378,1.0,1.0
 17 | 16,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0825,0.097908288,1.0,1.0
 18 | 17,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0043,0.092191279,1.0,1.0
 19 | 18,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.112537816,1.0,1.0
 20 | 19,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.366680771,1.0,1.0
 21 | 20,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.794670165,1.0,1.0
 22 | 21,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.931621909,1.0,1.0
 23 | 22,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0,1.0
 24 | 23,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0,1.0
 25 | 24,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0,1.0
 26 | 25,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.676885605,1.0,1.0
 27 | 26,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.738456726,1.0,1.0
 28 | 27,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.703836918,1.0,1.0
 29 | 28,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.697715104,1.0,1.0
 30 | 29,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.578294039,1.0,1.0
 31 | 30,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.478842616,1.0,1.0
 32 | 31,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.57159102,1.0,1.0
 33 | 32,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0216,0.389114857,1.0,1.0
 34 | 33,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1372,0.520889282,1.0,1.0
 35 | 34,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3468,0.376534432,1.0,1.0
 36 | 35,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3952,0.327963144,1.0,1.0
 37 | 36,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.4551,0.407575041,1.0,1.0
 38 | 37,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5095,0.536571622,1.0,1.0
 39 | 38,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5567,0.576452434,1.0,1.0
 40 | 39,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5691,0.562025309,1.0,1.0
 41 | 40,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.4904,0.422575682,1.0,1.0
 42 | 41,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3087,0.521396458,1.0,1.0
 43 | 42,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1034,0.710955501,1.0,1.0
 44 | 43,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.683217525,1.0,1.0
 45 | 44,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.635520697,1.0,1.0
 46 | 45,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.5644238,1.0,1.0
 47 | 46,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.61978668,1.0,1.0
 48 | 47,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.516743779,1.0,1.0
 49 | 48,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.470443606,1.0,1.0
 50 | 49,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.500380576,1.0,1.0
 51 | 50,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.512022793,1.0,1.0
 52 | 51,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.404206336,1.0,1.0
 53 | 52,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.142279267,1.0,1.0
 54 | 53,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.133046106,1.0,1.0
 55 | 54,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1356,0.133957967,1.0,1.0
 56 | 55,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1041,0.041104347,1.0,1.0
 57 | 56,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.2399,0.029715812,1.0,1.0
 58 | 57,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3785,0.064291924,1.0,1.0
 59 | 58,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.4837,0.043738909,1.0,1.0
 60 | 59,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5323,0.056054953,1.0,1.0
 61 | 60,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5114,0.101633437,1.0,1.0
 62 | 61,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5175,0.238559932,1.0,1.0
 63 | 62,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5099,0.194997847,1.0,1.0
 64 | 63,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.502,0.190832943,1.0,1.0
 65 | 64,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.4113,0.26438266,1.0,1.0
 66 | 65,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3017,0.273810387,1.0,1.0
 67 | 66,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1773,0.195969075,1.0,1.0
 68 | 67,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0811,0.235671312,1.0,1.0
 69 | 68,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0006,0.188544422,1.0,1.0
 70 | 69,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.179863051,1.0,1.0
 71 | 70,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.223087296,1.0,1.0
 72 | 71,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.457369655,1.0,1.0
 73 | 72,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.715852976,1.0,1.0
 74 | 73,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.280310601,1.0,1.0
 75 | 74,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.603805244,1.0,1.0
 76 | 75,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.741859972,1.0,1.0
 77 | 76,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.44207269,1.0,1.0
 78 | 77,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.534612,1.0,1.0
 79 | 78,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0259,0.587511122,1.0,1.0
 80 | 79,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.096,0.48241505,1.0,1.0
 81 | 80,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.2133,0.226682097,1.0,1.0
 82 | 81,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3624,0.376575917,1.0,1.0
 83 | 82,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.4795,0.272142261,1.0,1.0
 84 | 83,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5633,0.132447034,1.0,1.0
 85 | 84,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5708,0.091180928,1.0,1.0
 86 | 85,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.534,0.420845181,1.0,1.0
 87 | 86,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5641,0.543866694,1.0,1.0
 88 | 87,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.5537,0.943579316,1.0,1.0
 89 | 88,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.457,0.83001256,1.0,1.0
 90 | 89,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3439,0.698711514,1.0,1.0
 91 | 90,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1642,0.536995411,1.0,1.0
 92 | 91,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0638,0.770702124,1.0,1.0
 93 | 92,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.569594324,1.0,1.0
 94 | 93,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.668922722,1.0,1.0
 95 | 94,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.759383678,1.0,1.0
 96 | 95,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.672967851,1.0,1.0
 97 | 96,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.861851215,1.0,1.0
 98 | 97,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.000154842,1.0,1.0
 99 | 98,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,5.75e-5,1.0,1.0
100 | 99,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,7.18e-5,1.0,1.0
101 | 100,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,3.65e-5,1.0,1.0
102 | 101,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,3.0e-5,1.0,1.0
103 | 102,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.0,1.0,1.0
104 | 103,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.000772537,1.0,1.0
105 | 104,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.000930232,1.0,1.0
106 | 105,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1029,0.000778525,1.0,1.0
107 | 106,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.2427,0.000131503,1.0,1.0
108 | 107,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3353,0.005792293,1.0,1.0
109 | 108,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.3693,0.00257458,1.0,1.0
110 | 109,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.321,1.01e-5,1.0,1.0
111 | 110,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.2798,0.000134685,1.0,1.0
112 | 111,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.2887,0.000516413,1.0,1.0
113 | 112,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.1717,0.001232307,1.0,1.0
114 | 113,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.002655152,1.0,1.0
115 | 114,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.003173271,1.0,1.0
116 | 115,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.003878384,1.0,1.0
117 | 116,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.005781263,1.0,1.0
118 | 117,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.006259252,1.0,1.0
119 | 118,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.008088858,1.0,1.0
120 | 119,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.008165604,1.0,1.0
121 | 120,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,0.007110484,1.0,1.0
122 | 


--------------------------------------------------------------------------------
/test/retrofit/system/Period_map.csv:
--------------------------------------------------------------------------------
 1 | Period_Index,Rep_Period,Rep_Period_Index
 2 | 1,1,1
 3 | 2,1,1
 4 | 3,1,1
 5 | 4,1,1
 6 | 5,7,2
 7 | 6,7,2
 8 | 7,7,2
 9 | 8,7,2
10 | 9,7,2
11 | 10,15,3
12 | 11,7,2
13 | 12,50,10
14 | 13,7,2
15 | 14,15,3
16 | 15,15,3
17 | 16,15,3
18 | 17,15,3
19 | 18,24,4
20 | 19,24,4
21 | 20,24,4
22 | 21,24,4
23 | 22,24,4
24 | 23,24,4
25 | 24,24,4
26 | 25,34,7
27 | 26,26,5
28 | 27,34,7
29 | 28,34,7
30 | 29,29,6
31 | 30,34,7
32 | 31,34,7
33 | 32,34,7
34 | 33,34,7
35 | 34,34,7
36 | 35,34,7
37 | 36,34,7
38 | 37,43,8
39 | 38,24,4
40 | 39,24,4
41 | 40,43,8
42 | 41,24,4
43 | 42,43,8
44 | 43,43,8
45 | 44,43,8
46 | 45,24,4
47 | 46,24,4
48 | 47,24,4
49 | 48,48,9
50 | 49,50,10
51 | 50,50,10
52 | 51,51,11
53 | 52,50,10
54 | 


--------------------------------------------------------------------------------
/test/runtests.jl:
--------------------------------------------------------------------------------
 1 | using GenX
 2 | using Test
 3 | using Logging
 4 | 
 5 | include("utilities.jl")
 6 | 
 7 | @testset "Expr manipulation" begin
 8 |     include("expression_manipulation_test.jl")
 9 | end
10 | 
11 | if VERSION â‰¥ v"1.7"
12 |     @testset "Resource loading" begin
13 |         include("test_load_resource_data.jl")
14 |     end
15 | end
16 | 
17 | # Test GenX modules
18 | @testset verbose=true "GenX modules" begin
19 |     @testset "Three zones" begin
20 |         include("test_threezones.jl")
21 |     end
22 | 
23 |     @testset "TDR" begin
24 |         include("test_time_domain_reduction.jl")
25 |     end
26 | 
27 |     @testset "Piecewise Fuel" begin
28 |         include("test_piecewisefuel.jl")
29 |     end
30 | 
31 |     @testset "VRE_STOR" begin
32 |         include("test_VRE_storage.jl")
33 |     end
34 | 
35 |     @testset "Electrolyzer" begin
36 |         include("test_electrolyzer.jl")
37 |     end
38 | 
39 |     @testset "Fusion" begin
40 |         include("test_fusion.jl")
41 |     end
42 | 
43 |     @testset "Multi Stage" begin
44 |         include("test_multistage.jl")
45 |     end
46 | 
47 |     @testset "DCOPF" begin
48 |         include("test_DCOPF.jl")
49 |     end
50 | 
51 |     @testset "Multi Fuels" begin
52 |         include("test_multifuels.jl")
53 |     end
54 | 
55 |     @testset "Compute Conflicts" begin
56 |         include("test_compute_conflicts.jl")
57 |     end
58 | 
59 |     @testset "Retrofit" begin
60 |         include("test_retrofit.jl")
61 |     end
62 | end
63 | 
64 | # Test writing outputs
65 | @testset "Writing outputs " begin
66 |     for test_file in filter!(x -> endswith(x, ".jl"), readdir("writing_outputs"))
67 |         include("writing_outputs/$test_file")
68 |     end
69 | end
70 | 
71 | # Remove temporary files
72 | isdir(results_path) && rm(results_path, force = true, recursive = true)
73 | 


--------------------------------------------------------------------------------
/test/test_DCOPF.jl:
--------------------------------------------------------------------------------
 1 | module TestDCOPF
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 395.171391
 8 | test_path = "DCOPF"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("Trans_Loss_Segments" => 0,
12 |     "StorageLosses" => 0,
13 |     "DC_OPF" => 1)
14 | 
15 | # Run the case and get the objective value and tolerance
16 | EP, _, _ = redirect_stdout(devnull) do
17 |     run_genx_case_testing(test_path, genx_setup)
18 | end
19 | obj_test = objective_value(EP)
20 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
21 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
22 | 
23 | # Test the objective value
24 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
25 | 
26 | # Round objective value and tolerance. Write to test log.
27 | obj_test = round_from_tol!(obj_test, optimal_tol)
28 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
29 | write_testlog(test_path, obj_test, optimal_tol, test_result)
30 | 
31 | end # module TestDCOPF
32 | 


--------------------------------------------------------------------------------
/test/test_VRE_storage.jl:
--------------------------------------------------------------------------------
 1 | module TestVREStor
 2 | 
 3 | using Test
 4 | include(joinpath(@__DIR__, "utilities.jl"))
 5 | 
 6 | function test_case(test_path, obj_true, genx_setup)
 7 |     # Run the case and get the objective value and tolerance
 8 |     EP, _, _ = redirect_stdout(devnull) do
 9 |         run_genx_case_testing(test_path, genx_setup)
10 |     end
11 |     obj_test = objective_value(EP)
12 |     optimal_tol_rel = get_attribute(EP, "dual_feasibility_tolerance")
13 |     optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
14 | 
15 |     # Test the objective value
16 |     test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
17 | 
18 |     # Round objective value and tolerance. Write to test log.
19 |     obj_test = round_from_tol!(obj_test, optimal_tol)
20 |     optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
21 |     write_testlog(test_path, obj_test, optimal_tol, test_result)
22 | 
23 |     return nothing
24 | end
25 | 
26 | # Test cases (format: (test_path, obj_true))
27 | test_cases = [("VRE_storage/solar_wind", 92376.060123),
28 |     ("VRE_storage/solar", 106798.88706),
29 |     ("VRE_storage/wind", 92376.275543)]
30 | 
31 | # Define test setup
32 | genx_setup = Dict("NetworkExpansion" => 1,
33 |     "UCommit" => 2,
34 |     "CapacityReserveMargin" => 1,
35 |     "MinCapReq" => 1,
36 |     "MaxCapReq" => 1,
37 |     "CO2Cap" => 1,
38 |     "StorageLosses" => 1,
39 |     "VirtualChargeDischargeCost" => 1,
40 |     "ParameterScale" => 1)
41 | 
42 | # Run test cases
43 | for (test_path, obj_true) in test_cases
44 |     test_case(test_path, obj_true, genx_setup)
45 | end
46 | 
47 | end # module TestVREStor
48 | 


--------------------------------------------------------------------------------
/test/test_compute_conflicts.jl:
--------------------------------------------------------------------------------
 1 | module TestConflicts
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | test_path = joinpath(@__DIR__, "compute_conflicts")
 7 | 
 8 | # Define test inputs
 9 | genx_setup = Dict{Any, Any}("Trans_Loss_Segments" => 1,
10 |     "CO2Cap" => 1,
11 |     "StorageLosses" => 1,
12 |     "MaxCapReq" => 1,
13 |     "ComputeConflicts" => 1)
14 | 
15 | genxoutput = redirect_stdout(devnull) do
16 |     run_genx_case_conflict_testing(test_path, genx_setup)
17 | end
18 | 
19 | test_result = @test length(genxoutput) == 2
20 | write_testlog(test_path,
21 |     "Testing that the infeasible model is correctly handled",
22 |     test_result)
23 | 
24 | end
25 | 


--------------------------------------------------------------------------------
/test/test_electrolyzer.jl:
--------------------------------------------------------------------------------
 1 | module TestElectrolyzer
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 34275.8599
 8 | test_path = "electrolyzer"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("Trans_Loss_Segments" => 1,
12 |     "UCommit" => 2,
13 |     "StorageLosses" => 1,
14 |     "ParameterScale" => 1,
15 |     "HourlyMatching" => 1,
16 |     "HydrogenHourlyMatching" => 1,
17 |     "HydrogenMinimumProduction" => 1
18 | )
19 | settings = GenX.default_settings()
20 | merge!(settings, genx_setup)
21 | 
22 | # Read in generator/resource related inputs
23 | inputs = @warn_error_logger GenX.load_inputs(settings, test_path)
24 | 
25 | # Run the case and get the objective value and tolerance
26 | EP, _, _ = redirect_stdout(devnull) do
27 |     run_genx_case_testing(test_path, genx_setup)
28 | end
29 | 
30 | obj_test = objective_value(EP)
31 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
32 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
33 | 
34 | # Test all the results
35 | ## Test loading functions and api for hourly matching constraint
36 | @test GenX.qualified_supply.(inputs["RESOURCES"], tag = 1) == [0, 1, 0, 0, 1, 0]
37 | @test inputs["QUALIFIED_SUPPLY"] == [2, 5]
38 | 
39 | ## Test the objective value
40 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
41 | 
42 | # Round objective value and tolerance. Write to test log.
43 | obj_test = round_from_tol!(obj_test, optimal_tol)
44 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
45 | write_testlog(test_path, obj_test, optimal_tol, test_result)
46 | 
47 | end # module TestElectrolyzer
48 | 


--------------------------------------------------------------------------------
/test/test_examples.jl:
--------------------------------------------------------------------------------
 1 | module TestExamples
 2 | 
 3 | using Test
 4 | using GenX
 5 | 
 6 | include(joinpath(@__DIR__, "utilities.jl"))
 7 | 
 8 | # Test that the examples in the example_systems directory run without error
 9 | function test_examples()
10 |     base_path = Base.dirname(Base.dirname(pathof(GenX)))
11 |     examples_path = joinpath(base_path, "example_systems")
12 | 
13 |     examples_dir = readdir(examples_path, join = true)
14 |     for example_dir in examples_dir
15 |         if isdir(example_dir) && isfile(joinpath(example_dir, "Run.jl"))
16 |             @info "Running example in $example_dir"
17 |             result = @warn_error_logger run_genx_case!(example_dir)
18 |             @test isnothing(result)
19 |         end
20 |     end
21 | end
22 | 
23 | @testset "Test examples" begin
24 |     test_examples()
25 | end
26 | 
27 | end # module
28 | 


--------------------------------------------------------------------------------
/test/test_fusion.jl:
--------------------------------------------------------------------------------
 1 | module TestFusionNoPulse
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 300.5962608 # see fusion_pulse_every_hour/README.md
 8 | test_path = "fusion_pulse_every_hour"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("UCommit" => 2,
12 |     "ParameterScale" => 1,
13 | )
14 | settings = GenX.default_settings()
15 | merge!(settings, genx_setup)
16 | 
17 | # Read in generator/resource related inputs
18 | inputs = @warn_error_logger GenX.load_inputs(settings, test_path)
19 | 
20 | # Run the case and get the objective value and tolerance
21 | EP, _, _ = redirect_stdout(devnull) do
22 |     run_genx_case_testing(test_path, genx_setup)
23 | end
24 | 
25 | obj_test = objective_value(EP)
26 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
27 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
28 | 
29 | ## Test loading functions and api
30 | @test GenX.ids_with(inputs["RESOURCES"], :fusion) == [1]
31 | 
32 | ## Test the objective value
33 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
34 | 
35 | # Round objective value and tolerance. Write to test log.
36 | obj_test = round_from_tol!(obj_test, optimal_tol)
37 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
38 | write_testlog(test_path, obj_test, optimal_tol, test_result)
39 | 
40 | end
41 | 


--------------------------------------------------------------------------------
/test/test_load_resource_data.jl:
--------------------------------------------------------------------------------
  1 | module TestLoadResourceData
  2 | 
  3 | using Test
  4 | using GenX
  5 | using JLD2
  6 | using Logging, LoggingExtras
  7 | import DataFrames: rename!
  8 | 
  9 | struct InputsTrue
 10 |     gen_filename::AbstractString
 11 |     inputs_filename::AbstractString
 12 | end
 13 | 
 14 | function test_macro_interface(attr::Symbol, gen, dfGen)
 15 |     f = getfield(GenX, attr)
 16 |     @test f.(gen) == dfGen[!, attr]
 17 | end
 18 | 
 19 | function test_ids_with(attr::Symbol, gen, dfGen)
 20 |     @test GenX.ids_with(gen, attr) == dfGen[dfGen[!, attr] .!= 0, :r_id]
 21 | end
 22 | 
 23 | function test_ids_with_nonneg(attr::Symbol, gen, dfGen)
 24 |     @test GenX.ids_with_nonneg(gen, attr) == dfGen[dfGen[!, attr] .>= 0, :r_id]
 25 | end
 26 | 
 27 | function test_ids_with_positive(attr::Symbol, gen, dfGen)
 28 |     @test GenX.ids_with_positive(gen, attr) == dfGen[dfGen[!, attr] .> 0, :r_id]
 29 | end
 30 | 
 31 | function prepare_inputs_true(test_path::AbstractString,
 32 |         in_filenames::InputsTrue,
 33 |         setup::Dict)
 34 |     gen_filename = in_filenames.gen_filename
 35 |     inputs_filename = in_filenames.inputs_filename
 36 |     dfGen = GenX.load_dataframe(joinpath(test_path, gen_filename))
 37 |     scale_factor = setup["ParameterScale"] == 1 ? GenX.ModelScalingFactor : 1.0
 38 |     GenX.rename!(dfGen, lowercase.(names(dfGen)))
 39 |     GenX.scale_resources_data!(dfGen, scale_factor)
 40 |     dfGen[!, :r_id] = 1:size(dfGen, 1)
 41 |     inputs_true = load(joinpath(test_path, inputs_filename))
 42 |     return dfGen, inputs_true
 43 | end
 44 | 
 45 | function test_load_scaled_resources_data(gen, dfGen)
 46 | 
 47 |     ## Test that the data loaded correctly
 48 |     # Test resource types
 49 |     @test GenX.storage(gen) == dfGen[dfGen.stor .== 1, :r_id]
 50 |     @test GenX.thermal(gen) == dfGen[dfGen.therm .== 1, :r_id]
 51 |     @test GenX.vre(gen) == dfGen[dfGen.vre .== 1, :r_id]
 52 |     @test GenX.hydro(gen) == dfGen[dfGen.hydro .== 1, :r_id]
 53 |     @test GenX.flex_demand(gen) == dfGen[dfGen.flex .== 1, :r_id]
 54 |     @test GenX.electrolyzer(gen) == dfGen[dfGen.electrolyzer .== 1, :r_id]
 55 |     @test GenX.must_run(gen) == dfGen[dfGen.must_run .== 1, :r_id]
 56 | 
 57 |     @test GenX.is_LDS(gen) == dfGen[dfGen.lds .== 1, :r_id]
 58 |     @test GenX.is_SDS(gen) == dfGen[dfGen.lds .== 0, :r_id]
 59 | 
 60 |     # Test resource attributes
 61 |     @test GenX.resource_name.(gen) == dfGen.resource
 62 |     @test GenX.resource_id.(gen) == dfGen.r_id
 63 |     @test GenX.resource_type_mga.(gen) == dfGen.resource_type
 64 |     @test GenX.zone_id.(gen) == dfGen.zone
 65 | 
 66 |     @test GenX.max_cap_mw.(gen) == dfGen.max_cap_mw
 67 |     @test GenX.min_cap_mw.(gen) == dfGen.min_cap_mw
 68 |     @test GenX.min_cap_mwh.(gen) == dfGen.min_cap_mwh
 69 | 
 70 |     @test GenX.existing_cap_mw.(gen) == dfGen.existing_cap_mw
 71 |     @test GenX.existing_cap_mwh.(gen) == dfGen.existing_cap_mwh
 72 | 
 73 |     @test GenX.num_vre_bins.(gen) == dfGen.num_vre_bins
 74 | 
 75 |     @test GenX.qualified_hydrogen_supply.(gen) == dfGen.qualified_hydrogen_supply
 76 | 
 77 |     @test GenX.reg_cost.(gen) == dfGen.reg_cost
 78 |     @test GenX.reg_max.(gen) == dfGen.reg_max
 79 |     @test GenX.rsv_cost.(gen) == dfGen.rsv_cost
 80 |     @test GenX.rsv_max.(gen) == dfGen.rsv_max
 81 | 
 82 |     @test GenX.inv_cost_per_mwyr.(gen) == dfGen.inv_cost_per_mwyr
 83 |     @test GenX.fixed_om_cost_per_mwyr.(gen) == dfGen.fixed_om_cost_per_mwyr
 84 |     @test GenX.var_om_cost_per_mwh.(gen) == dfGen.var_om_cost_per_mwh
 85 |     @test GenX.inv_cost_per_mwhyr.(gen) == dfGen.inv_cost_per_mwhyr
 86 |     @test GenX.fixed_om_cost_per_mwhyr.(gen) == dfGen.fixed_om_cost_per_mwhyr
 87 |     @test GenX.start_cost_per_mw.(gen) == dfGen.start_cost_per_mw
 88 | 
 89 |     @test GenX.fuel.(gen) == dfGen.fuel
 90 |     @test GenX.co2_capture_fraction.(gen) == dfGen.co2_capture_fraction
 91 |     @test GenX.co2_capture_fraction_startup.(gen) == dfGen.co2_capture_fraction_startup
 92 |     @test GenX.ccs_disposal_cost_per_metric_ton.(gen) ==
 93 |           dfGen.ccs_disposal_cost_per_metric_ton
 94 |     @test GenX.biomass.(gen) == dfGen.biomass
 95 |     ## multi-fuel flags
 96 |     @test GenX.ids_with_fuel(gen) == dfGen[(dfGen[!, :fuel] .!= "None"), :r_id]
 97 |     @test GenX.ids_with_positive(gen, GenX.co2_capture_fraction) ==
 98 |           dfGen[dfGen.co2_capture_fraction .> 0, :r_id]
 99 |     @test GenX.ids_with_singlefuel(gen) == dfGen[dfGen.multi_fuels .!= 1, :r_id]
100 |     @test GenX.ids_with_multifuels(gen) == dfGen[dfGen.multi_fuels .== 1, :r_id]
101 |     if !isempty(GenX.ids_with_multifuels(gen))
102 |         MULTI_FUELS = GenX.ids_with_multifuels(gen)
103 |         max_fuels = maximum(GenX.num_fuels.(gen))
104 |         for i in 1:max_fuels
105 |             @test findall(g -> GenX.max_cofire_cols(g, tag = i) < 1, gen[MULTI_FUELS]) ==
106 |                   dfGen[dfGen[!, Symbol(string("fuel", i, "_max_cofire_level"))] .< 1, :][
107 |                 !,
108 |                 :r_id]
109 |             @test findall(g -> GenX.max_cofire_start_cols(g, tag = i) < 1,
110 |                 gen[MULTI_FUELS]) == dfGen[
111 |                 dfGen[!, Symbol(string("fuel", i, "_max_cofire_level_start"))] .< 1,
112 |                 :][!,
113 |                 :r_id]
114 |             @test findall(g -> GenX.min_cofire_cols(g, tag = i) > 0, gen[MULTI_FUELS]) ==
115 |                   dfGen[dfGen[!, Symbol(string("fuel", i, "_min_cofire_level"))] .> 0, :][
116 |                 !,
117 |                 :r_id]
118 |             @test findall(g -> GenX.min_cofire_start_cols(g, tag = i) > 0,
119 |                 gen[MULTI_FUELS]) == dfGen[
120 |                 dfGen[!, Symbol(string("fuel", i, "_min_cofire_level_start"))] .> 0,
121 |                 :][!,
122 |                 :r_id]
123 |             @test GenX.fuel_cols.(gen, tag = i) == dfGen[!, Symbol(string("fuel", i))]
124 |             @test GenX.heat_rate_cols.(gen, tag = i) ==
125 |                   dfGen[!, Symbol(string("heat_rate", i, "_mmbtu_per_mwh"))]
126 |             @test GenX.max_cofire_cols.(gen, tag = i) ==
127 |                   dfGen[!, Symbol(string("fuel", i, "_max_cofire_level"))]
128 |             @test GenX.min_cofire_cols.(gen, tag = i) ==
129 |                   dfGen[!, Symbol(string("fuel", i, "_min_cofire_level"))]
130 |             @test GenX.max_cofire_start_cols.(gen, tag = i) ==
131 |                   dfGen[!, Symbol(string("fuel", i, "_max_cofire_level_start"))]
132 |             @test GenX.min_cofire_start_cols.(gen, tag = i) ==
133 |                   dfGen[!, Symbol(string("fuel", i, "_min_cofire_level_start"))]
134 |         end
135 |     end
136 |     @test GenX.ids_with_mga(gen) == dfGen[dfGen.mga .== 1, :r_id]
137 | 
138 |     @test GenX.region.(gen) == dfGen.region
139 |     @test GenX.cluster.(gen) == dfGen.cluster
140 | end
141 | 
142 | function test_add_policies_to_resources(gen, dfGen)
143 |     @test GenX.esr.(gen, tag = 1) == dfGen.esr_1
144 |     @test GenX.esr.(gen, tag = 2) == dfGen.esr_2
145 |     @test GenX.min_cap.(gen, tag = 1) == dfGen.mincaptag_1
146 |     @test GenX.min_cap.(gen, tag = 2) == dfGen.mincaptag_2
147 |     @test GenX.min_cap.(gen, tag = 3) == dfGen.mincaptag_3
148 |     @test GenX.derating_factor.(gen, tag = 1) == dfGen.capres_1
149 | end
150 | 
151 | function test_add_modules_to_resources(gen, dfGen)
152 |     @test GenX.tech_wacc.(gen) == dfGen.wacc
153 |     @test GenX.capital_recovery_period.(gen) == dfGen.capital_recovery_period
154 |     @test GenX.lifetime.(gen) == dfGen.lifetime
155 |     @test GenX.min_retired_cap_mw.(gen) == dfGen.min_retired_cap_mw
156 |     @test GenX.min_retired_energy_cap_mw.(gen) == dfGen.min_retired_energy_cap_mw
157 |     @test GenX.min_retired_charge_cap_mw.(gen) == dfGen.min_retired_charge_cap_mw
158 | end
159 | 
160 | function test_inputs_keys(inputs, inputs_true)
161 |     @test inputs["G"] == inputs_true["G"]
162 | 
163 |     @test inputs["HYDRO_RES"] == inputs_true["HYDRO_RES"]
164 |     @test inputs["HYDRO_RES_KNOWN_CAP"] == inputs_true["HYDRO_RES_KNOWN_CAP"]
165 |     @test inputs["STOR_ALL"] == inputs_true["STOR_ALL"]
166 |     @test inputs["STOR_SYMMETRIC"] == inputs_true["STOR_SYMMETRIC"]
167 |     @test inputs["STOR_ASYMMETRIC"] == inputs_true["STOR_ASYMMETRIC"]
168 |     @test inputs["STOR_SHORT_DURATION"] == inputs_true["STOR_SHORT_DURATION"]
169 |     @test inputs["STOR_LONG_DURATION"] == inputs_true["STOR_LONG_DURATION"]
170 |     @test inputs["STOR_HYDRO_LONG_DURATION"] == inputs_true["STOR_HYDRO_LONG_DURATION"]
171 |     @test inputs["VRE"] == inputs_true["VRE"]
172 |     @test inputs["FLEX"] == inputs_true["FLEX"]
173 |     @test inputs["MUST_RUN"] == inputs_true["MUST_RUN"]
174 |     @test inputs["ELECTROLYZER"] == inputs_true["ELECTROLYZER"]
175 |     @test inputs["RETROFIT_OPTIONS"] == inputs_true["RETRO"]
176 |     @test inputs["REG"] == inputs_true["REG"]
177 |     @test inputs["RSV"] == inputs_true["RSV"]
178 |     @test inputs["THERM_ALL"] == inputs_true["THERM_ALL"]
179 |     @test inputs["THERM_COMMIT"] == inputs_true["THERM_COMMIT"]
180 |     @test inputs["THERM_NO_COMMIT"] == inputs_true["THERM_NO_COMMIT"]
181 |     @test inputs["COMMIT"] == inputs_true["COMMIT"]
182 |     @test inputs["C_Start"] == inputs_true["C_Start"]
183 | 
184 |     @test Set(inputs["RET_CAP"]) == inputs_true["RET_CAP"]
185 |     @test Set(inputs["RET_CAP_CHARGE"]) == inputs_true["RET_CAP_CHARGE"]
186 |     @test Set(inputs["RET_CAP_ENERGY"]) == inputs_true["RET_CAP_ENERGY"]
187 |     @test Set(inputs["NEW_CAP"]) == inputs_true["NEW_CAP"]
188 |     @test Set(inputs["NEW_CAP_ENERGY"]) == inputs_true["NEW_CAP_ENERGY"]
189 |     @test Set(inputs["NEW_CAP_CHARGE"]) == inputs_true["NEW_CAP_CHARGE"]
190 | 
191 |     if isempty(inputs["MULTI_FUELS"])
192 |         @test string.(inputs["slope_cols"]) ==
193 |               lowercase.(string.(inputs_true["slope_cols"]))
194 |         @test string.(inputs["intercept_cols"]) ==
195 |               lowercase.(string.(inputs_true["intercept_cols"]))
196 |         @test inputs["PWFU_data"] ==
197 |               rename!(inputs_true["PWFU_data"], lowercase.(names(inputs_true["PWFU_data"])))
198 |         @test inputs["PWFU_Num_Segments"] == inputs_true["PWFU_Num_Segments"]
199 |         @test inputs["THERM_COMMIT_PWFU"] == inputs_true["THERM_COMMIT_PWFU"]
200 |     end
201 | 
202 |     @test inputs["R_ZONES"] == inputs_true["R_ZONES"]
203 |     @test inputs["RESOURCE_ZONES"] == inputs_true["RESOURCE_ZONES"]
204 |     @test inputs["RESOURCE_NAMES"] == inputs_true["RESOURCES"]
205 | end
206 | 
207 | function test_resource_specific_attributes(gen, dfGen, inputs)
208 |     @test GenX.is_buildable(gen) == dfGen[dfGen.new_build .== 1, :r_id]
209 |     @test GenX.is_retirable(gen) == dfGen[dfGen.can_retire .== 1, :r_id]
210 | 
211 |     rs = GenX.ids_with_positive(gen, GenX.max_cap_mwh)
212 |     @test rs == dfGen[dfGen.max_cap_mwh .> 0, :r_id]
213 |     @test GenX.max_cap_mwh.(rs) == dfGen[dfGen.max_cap_mwh .> 0, :r_id]
214 |     rs = GenX.ids_with_positive(gen, GenX.max_charge_cap_mw)
215 |     @test rs == dfGen[dfGen.max_charge_cap_mw .> 0, :r_id]
216 |     @test GenX.max_charge_cap_mw.(rs) == dfGen[dfGen.max_charge_cap_mw .> 0, :r_id]
217 |     rs = GenX.ids_with_unit_commitment(gen)
218 |     @test rs == dfGen[dfGen.therm .== 1, :r_id]
219 |     @test GenX.cap_size.(gen[rs]) == dfGen[dfGen.therm .== 1, :cap_size]
220 |     rs = setdiff(inputs["HAS_FUEL"], inputs["THERM_COMMIT"])
221 |     @test GenX.heat_rate_mmbtu_per_mwh.(gen[rs]) == dfGen[rs, :heat_rate_mmbtu_per_mwh]
222 |     rs = setdiff(inputs["THERM_COMMIT"], inputs["THERM_COMMIT_PWFU"])
223 |     @test GenX.heat_rate_mmbtu_per_mwh.(gen[rs]) == dfGen[rs, :heat_rate_mmbtu_per_mwh]
224 |     rs = inputs["THERM_COMMIT"]
225 |     @test GenX.start_fuel_mmbtu_per_mw.(gen[rs]) == dfGen[rs, :start_fuel_mmbtu_per_mw]
226 |     rs = union(inputs["STOR_ALL"], inputs["HYDRO_RES"])
227 |     @test GenX.efficiency_up.(gen[rs]) == dfGen[rs, :eff_up]
228 |     @test GenX.efficiency_down.(gen[rs]) == dfGen[rs, :eff_down]
229 |     rs = union(inputs["THERM_ALL"], inputs["HYDRO_RES"], inputs["ELECTROLYZER"])
230 |     @test GenX.min_power.(gen[rs]) == dfGen[rs, :min_power]
231 |     @test GenX.ramp_up_fraction.(gen[rs]) == dfGen[rs, :ramp_up_percentage]
232 |     @test GenX.ramp_down_fraction.(gen[rs]) == dfGen[rs, :ramp_dn_percentage]
233 |     rs = inputs["STOR_ASYMMETRIC"]
234 |     @test GenX.max_charge_cap_mw.(gen[rs]) == dfGen[rs, :max_charge_cap_mw]
235 |     @test GenX.min_charge_cap_mw.(gen[rs]) == dfGen[rs, :min_charge_cap_mw]
236 |     @test GenX.existing_charge_cap_mw.(gen[rs]) == dfGen[rs, :existing_charge_cap_mw]
237 |     @test GenX.inv_cost_charge_per_mwyr.(gen[rs]) == dfGen[rs, :inv_cost_charge_per_mwyr]
238 |     @test GenX.fixed_om_cost_charge_per_mwyr.(gen[rs]) ==
239 |           dfGen[rs, :fixed_om_cost_charge_per_mwyr]
240 |     rs = union(inputs["HYDRO_RES_KNOWN_CAP"], inputs["STOR_HYDRO_LONG_DURATION"])
241 |     @test GenX.hydro_energy_to_power_ratio.(gen[rs]) ==
242 |           dfGen[rs, :hydro_energy_to_power_ratio]
243 | end
244 | 
245 | function test_load_resources_data()
246 |     setup = Dict("ParameterScale" => 0,
247 |         "OperationalReserves" => 1,
248 |         "UCommit" => 2,
249 |         "MultiStage" => 1)
250 | 
251 |     # Merge the setup with the default settings
252 |     settings = GenX.default_settings()
253 |     merge!(settings, setup)
254 | 
255 |     test_path = joinpath("load_resources", "test_gen_non_colocated")
256 | 
257 |     # load dfGen and inputs_true to compare against
258 |     input_true_filenames = InputsTrue("generators_data.csv", "inputs_after_loadgen.jld2")
259 |     dfGen, inputs_true = prepare_inputs_true(test_path, input_true_filenames, settings)
260 | 
261 |     # Test resource data is loaded correctly
262 |     resources_path = joinpath(test_path, settings["ResourcesFolder"])
263 |     gen = GenX.create_resource_array(settings, resources_path)
264 |     @testset "Default fields" begin
265 |         test_load_scaled_resources_data(gen, dfGen)
266 |     end
267 | 
268 |     # Test policy fields are correctly added to the resource structs
269 |     resource_policies_path = joinpath(resources_path, settings["ResourcePoliciesFolder"])
270 |     GenX.validate_policy_files(resource_policies_path, settings)
271 |     GenX.add_policies_to_resources!(gen, resource_policies_path)
272 |     @testset "Policy attributes" begin
273 |         test_add_policies_to_resources(gen, dfGen)
274 |     end
275 | 
276 |     # Test modules are correctly added to the resource structs
277 |     GenX.add_modules_to_resources!(gen, settings, resources_path)
278 |     @testset "Module attributes" begin
279 |         test_add_modules_to_resources(gen, dfGen)
280 |     end
281 | 
282 |     # Test that the inputs keys are correctly set
283 |     inputs = load(joinpath(test_path, "inputs_before_loadgen.jld2"))
284 |     GenX.add_resources_to_input_data!(inputs, settings, test_path, gen)
285 |     @testset "Inputs keys" begin
286 |         test_inputs_keys(inputs, inputs_true)
287 |     end
288 | 
289 |     # Test that the resource-specific attributes are correctly set
290 |     @testset "resource-specific attributes" begin
291 |         test_resource_specific_attributes(gen, dfGen, inputs)
292 |     end
293 | end
294 | 
295 | function test_load_VRE_STOR_data()
296 |     setup = Dict("ParameterScale" => 0,
297 |         "OperationalReserves" => 1,
298 |         "UCommit" => 2,
299 |         "MultiStage" => 0)
300 | 
301 |     # Merge the setup with the default settings
302 |     settings = GenX.default_settings()
303 |     merge!(settings, setup)
304 | 
305 |     test_path = joinpath("load_resources", "test_gen_vre_stor")
306 |     input_true_filenames = InputsTrue("generators_data.csv", "inputs_after_loadgen.jld2")
307 |     dfGen, inputs_true = prepare_inputs_true(test_path, input_true_filenames, settings)
308 | 
309 |     dfVRE_STOR = GenX.load_dataframe(joinpath(test_path, "Vre_and_stor_data.csv"))
310 |     dfVRE_STOR = GenX.rename!(dfVRE_STOR, lowercase.(names(dfVRE_STOR)))
311 |     scale_factor = settings["ParameterScale"] == 1 ? GenX.ModelScalingFactor : 1.0
312 |     GenX.scale_vre_stor_data!(dfVRE_STOR, scale_factor)
313 | 
314 |     resources_path = joinpath(test_path, settings["ResourcesFolder"])
315 |     gen = GenX.create_resource_array(settings, resources_path)
316 |     resource_policies_path = joinpath(resources_path, settings["ResourcePoliciesFolder"])
317 |     GenX.validate_policy_files(resource_policies_path, settings)
318 |     GenX.add_policies_to_resources!(gen, resource_policies_path)
319 |     inputs = load(joinpath(test_path, "inputs_before_loadgen.jld2"))
320 |     GenX.add_resources_to_input_data!(inputs, settings, test_path, gen)
321 | 
322 |     @test GenX.vre_stor(gen) == dfGen[dfGen.vre_stor .== 1, :r_id]
323 |     sort!(dfVRE_STOR, :resource)
324 | 
325 |     rs = inputs["VRE_STOR"]
326 |     @test GenX.solar(gen) == dfVRE_STOR[dfVRE_STOR.solar .== 1, :r_id]
327 |     @test GenX.wind(gen) == dfVRE_STOR[dfVRE_STOR.wind .== 1, :r_id]
328 |     @test GenX.storage_dc_discharge(gen) ==
329 |           dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .>= 1, :r_id]
330 |     @test GenX.storage_sym_dc_discharge(gen) ==
331 |           dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .== 1, :r_id]
332 |     @test GenX.storage_asym_dc_discharge(gen) ==
333 |           dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .== 2, :r_id]
334 | 
335 |     @test GenX.storage_dc_charge(gen) == dfVRE_STOR[dfVRE_STOR.stor_dc_charge .>= 1, :r_id]
336 |     @test GenX.storage_sym_dc_charge(gen) ==
337 |           dfVRE_STOR[dfVRE_STOR.stor_dc_charge .== 1, :r_id]
338 |     @test GenX.storage_asym_dc_charge(gen) ==
339 |           dfVRE_STOR[dfVRE_STOR.stor_dc_charge .== 2, :r_id]
340 | 
341 |     @test GenX.storage_ac_discharge(gen) ==
342 |           dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .>= 1, :r_id]
343 |     @test GenX.storage_sym_ac_discharge(gen) ==
344 |           dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .== 1, :r_id]
345 |     @test GenX.storage_asym_ac_discharge(gen) ==
346 |           dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .== 2, :r_id]
347 | 
348 |     @test GenX.storage_ac_charge(gen) == dfVRE_STOR[dfVRE_STOR.stor_ac_charge .>= 1, :r_id]
349 |     @test GenX.storage_sym_ac_charge(gen) ==
350 |           dfVRE_STOR[dfVRE_STOR.stor_ac_charge .== 1, :r_id]
351 |     @test GenX.storage_asym_ac_charge(gen) ==
352 |           dfVRE_STOR[dfVRE_STOR.stor_ac_charge .== 2, :r_id]
353 | 
354 |     @test GenX.technology.(gen[rs]) == dfVRE_STOR.technology
355 |     @test GenX.is_LDS_VRE_STOR(gen) == dfVRE_STOR[dfVRE_STOR.lds_vre_stor .!= 0, :r_id]
356 | 
357 |     for attr in (:existing_cap_solar_mw,
358 |         :existing_cap_wind_mw,
359 |         :existing_cap_inverter_mw,
360 |         :existing_cap_charge_dc_mw,
361 |         :existing_cap_charge_ac_mw,
362 |         :existing_cap_discharge_dc_mw,
363 |         :existing_cap_discharge_ac_mw)
364 |         test_macro_interface(attr, gen[rs], dfVRE_STOR)
365 |         test_ids_with_nonneg(attr, gen[rs], dfVRE_STOR)
366 |     end
367 | 
368 |     for attr in (:max_cap_solar_mw,
369 |         :max_cap_wind_mw,
370 |         :max_cap_inverter_mw,
371 |         :max_cap_charge_dc_mw,
372 |         :max_cap_charge_ac_mw,
373 |         :max_cap_discharge_dc_mw,
374 |         :max_cap_discharge_ac_mw)
375 |         test_macro_interface(attr, gen[rs], dfVRE_STOR)
376 |         test_ids_with_nonneg(attr, gen[rs], dfVRE_STOR)
377 |         test_ids_with(attr, gen[rs], dfVRE_STOR)
378 |     end
379 | 
380 |     for attr in (:min_cap_solar_mw,
381 |         :min_cap_wind_mw,
382 |         :min_cap_inverter_mw,
383 |         :min_cap_charge_dc_mw,
384 |         :min_cap_charge_ac_mw,
385 |         :min_cap_discharge_dc_mw,
386 |         :min_cap_discharge_ac_mw,
387 |         :inverter_ratio_solar,
388 |         :inverter_ratio_wind)
389 |         test_macro_interface(attr, gen[rs], dfVRE_STOR)
390 |         test_ids_with_positive(attr, gen[rs], dfVRE_STOR)
391 |     end
392 | 
393 |     for attr in (:etainverter,
394 |         :inv_cost_inverter_per_mwyr,
395 |         :inv_cost_solar_per_mwyr,
396 |         :inv_cost_wind_per_mwyr,
397 |         :inv_cost_discharge_dc_per_mwyr,
398 |         :inv_cost_charge_dc_per_mwyr,
399 |         :inv_cost_discharge_ac_per_mwyr,
400 |         :inv_cost_charge_ac_per_mwyr,
401 |         :fixed_om_inverter_cost_per_mwyr,
402 |         :fixed_om_solar_cost_per_mwyr,
403 |         :fixed_om_wind_cost_per_mwyr,
404 |         :fixed_om_cost_discharge_dc_per_mwyr,
405 |         :fixed_om_cost_charge_dc_per_mwyr,
406 |         :fixed_om_cost_discharge_ac_per_mwyr,
407 |         :fixed_om_cost_charge_ac_per_mwyr,
408 |         :var_om_cost_per_mwh_solar,
409 |         :var_om_cost_per_mwh_wind,
410 |         :var_om_cost_per_mwh_charge_dc,
411 |         :var_om_cost_per_mwh_discharge_dc,
412 |         :var_om_cost_per_mwh_charge_ac,
413 |         :var_om_cost_per_mwh_discharge_ac,
414 |         :eff_up_ac,
415 |         :eff_down_ac,
416 |         :eff_up_dc,
417 |         :eff_down_dc,
418 |         :power_to_energy_ac,
419 |         :power_to_energy_dc)
420 |         test_macro_interface(attr, gen[rs], dfVRE_STOR)
421 |     end
422 | 
423 |     # policies
424 |     @test GenX.esr_vrestor.(gen[rs], tag = 1) == dfVRE_STOR.esr_vrestor_1
425 |     @test GenX.esr_vrestor.(gen[rs], tag = 2) == dfVRE_STOR.esr_vrestor_2
426 |     @test GenX.min_cap_stor.(gen[rs], tag = 1) == dfVRE_STOR.mincaptagstor_1
427 |     @test GenX.min_cap_stor.(gen[rs], tag = 2) == dfVRE_STOR.mincaptagstor_2
428 |     @test GenX.derating_factor.(gen[rs], tag = 1) == dfVRE_STOR.capresvrestor_1
429 |     @test GenX.derating_factor.(gen[rs], tag = 2) == dfVRE_STOR.capresvrestor_2
430 |     @test GenX.max_cap_stor.(gen[rs], tag = 1) == dfVRE_STOR.maxcaptagstor_1
431 |     @test GenX.max_cap_stor.(gen[rs], tag = 2) == dfVRE_STOR.maxcaptagstor_2
432 |     @test GenX.min_cap_solar.(gen[rs], tag = 1) == dfVRE_STOR.mincaptagsolar_1
433 |     @test GenX.max_cap_solar.(gen[rs], tag = 1) == dfVRE_STOR.maxcaptagsolar_1
434 |     @test GenX.min_cap_wind.(gen[rs], tag = 1) == dfVRE_STOR.mincaptagwind_1
435 |     @test GenX.max_cap_wind.(gen[rs], tag = 1) == dfVRE_STOR.maxcaptagwind_1
436 | 
437 |     @test GenX.ids_with_policy(gen, GenX.min_cap_solar, tag = 1) ==
438 |           dfVRE_STOR[dfVRE_STOR.mincaptagsolar_1 .== 1, :r_id]
439 |     @test GenX.ids_with_policy(gen, GenX.min_cap_wind, tag = 1) ==
440 |           dfVRE_STOR[dfVRE_STOR.mincaptagwind_1 .== 1, :r_id]
441 |     @test GenX.ids_with_policy(gen, GenX.min_cap_stor, tag = 1) ==
442 |           dfVRE_STOR[dfVRE_STOR.mincaptagstor_1 .== 1, :r_id]
443 |     @test GenX.ids_with_policy(gen, GenX.max_cap_solar, tag = 1) ==
444 |           dfVRE_STOR[dfVRE_STOR.maxcaptagsolar_1 .== 1, :r_id]
445 |     @test GenX.ids_with_policy(gen, GenX.max_cap_wind, tag = 1) ==
446 |           dfVRE_STOR[dfVRE_STOR.maxcaptagwind_1 .== 1, :r_id]
447 |     @test GenX.ids_with_policy(gen, GenX.max_cap_stor, tag = 1) ==
448 |           dfVRE_STOR[dfVRE_STOR.maxcaptagstor_1 .== 1, :r_id]
449 | 
450 |     # inputs keys
451 |     @test inputs["VRE_STOR"] == dfGen[dfGen.vre_stor .== 1, :r_id]
452 |     @test inputs["VS_SOLAR"] == dfVRE_STOR[(dfVRE_STOR.solar .!= 0), :r_id]
453 |     @test inputs["VS_WIND"] == dfVRE_STOR[(dfVRE_STOR.wind .!= 0), :r_id]
454 |     @test inputs["VS_DC"] == union(dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .>= 1, :r_id],
455 |         dfVRE_STOR[dfVRE_STOR.stor_dc_charge .>= 1, :r_id],
456 |         dfVRE_STOR[dfVRE_STOR.solar .!= 0, :r_id])
457 | 
458 |     @test inputs["VS_STOR"] == union(dfVRE_STOR[dfVRE_STOR.stor_dc_charge .>= 1, :r_id],
459 |         dfVRE_STOR[dfVRE_STOR.stor_ac_charge .>= 1, :r_id],
460 |         dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .>= 1, :r_id],
461 |         dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .>= 1, :r_id])
462 |     STOR = inputs["VS_STOR"]
463 |     @test inputs["VS_STOR_DC_DISCHARGE"] ==
464 |           dfVRE_STOR[(dfVRE_STOR.stor_dc_discharge .>= 1), :r_id]
465 |     @test inputs["VS_SYM_DC_DISCHARGE"] ==
466 |           dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .== 1, :r_id]
467 |     @test inputs["VS_ASYM_DC_DISCHARGE"] ==
468 |           dfVRE_STOR[dfVRE_STOR.stor_dc_discharge .== 2, :r_id]
469 |     @test inputs["VS_STOR_DC_CHARGE"] ==
470 |           dfVRE_STOR[(dfVRE_STOR.stor_dc_charge .>= 1), :r_id]
471 |     @test inputs["VS_SYM_DC_CHARGE"] == dfVRE_STOR[dfVRE_STOR.stor_dc_charge .== 1, :r_id]
472 |     @test inputs["VS_ASYM_DC_CHARGE"] == dfVRE_STOR[dfVRE_STOR.stor_dc_charge .== 2, :r_id]
473 |     @test inputs["VS_STOR_AC_DISCHARGE"] ==
474 |           dfVRE_STOR[(dfVRE_STOR.stor_ac_discharge .>= 1), :r_id]
475 |     @test inputs["VS_SYM_AC_DISCHARGE"] ==
476 |           dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .== 1, :r_id]
477 |     @test inputs["VS_ASYM_AC_DISCHARGE"] ==
478 |           dfVRE_STOR[dfVRE_STOR.stor_ac_discharge .== 2, :r_id]
479 |     @test inputs["VS_STOR_AC_CHARGE"] ==
480 |           dfVRE_STOR[(dfVRE_STOR.stor_ac_charge .>= 1), :r_id]
481 |     @test inputs["VS_SYM_AC_CHARGE"] == dfVRE_STOR[dfVRE_STOR.stor_ac_charge .== 1, :r_id]
482 |     @test inputs["VS_ASYM_AC_CHARGE"] == dfVRE_STOR[dfVRE_STOR.stor_ac_charge .== 2, :r_id]
483 |     @test inputs["VS_LDS"] == dfVRE_STOR[(dfVRE_STOR.lds_vre_stor .!= 0), :r_id]
484 |     @test inputs["VS_nonLDS"] == setdiff(STOR, inputs["VS_LDS"])
485 |     @test inputs["VS_ASYM"] == union(inputs["VS_ASYM_DC_CHARGE"],
486 |         inputs["VS_ASYM_DC_DISCHARGE"],
487 |         inputs["VS_ASYM_AC_DISCHARGE"],
488 |         inputs["VS_ASYM_AC_CHARGE"])
489 |     @test inputs["VS_SYM_DC"] ==
490 |           intersect(inputs["VS_SYM_DC_CHARGE"], inputs["VS_SYM_DC_DISCHARGE"])
491 |     @test inputs["VS_SYM_AC"] ==
492 |           intersect(inputs["VS_SYM_AC_CHARGE"], inputs["VS_SYM_AC_DISCHARGE"])
493 | 
494 |     buildable = dfGen[dfGen.new_build .== 1, :r_id]
495 |     retirable = dfGen[dfGen.can_retire .== 1, :r_id]
496 |     @test inputs["NEW_CAP_SOLAR"] == intersect(buildable,
497 |         dfVRE_STOR[dfVRE_STOR.solar .!= 0, :r_id],
498 |         dfVRE_STOR[dfVRE_STOR.max_cap_solar_mw .!= 0, :r_id])
499 |     @test inputs["RET_CAP_SOLAR"] == intersect(retirable,
500 |         dfVRE_STOR[dfVRE_STOR.solar .!= 0, :r_id],
501 |         dfVRE_STOR[dfVRE_STOR.existing_cap_solar_mw .>= 0, :r_id])
502 |     @test inputs["NEW_CAP_WIND"] == intersect(buildable,
503 |         dfVRE_STOR[dfVRE_STOR.wind .!= 0, :r_id],
504 |         dfVRE_STOR[dfVRE_STOR.max_cap_wind_mw .!= 0, :r_id])
505 |     @test inputs["RET_CAP_WIND"] == intersect(retirable,
506 |         dfVRE_STOR[dfVRE_STOR.wind .!= 0, :r_id],
507 |         dfVRE_STOR[dfVRE_STOR.existing_cap_wind_mw .>= 0, :r_id])
508 |     @test inputs["NEW_CAP_DC"] == intersect(buildable,
509 |         dfVRE_STOR[dfVRE_STOR.max_cap_inverter_mw .!= 0, :r_id],
510 |         inputs["VS_DC"])
511 |     @test inputs["RET_CAP_DC"] == intersect(retirable,
512 |         dfVRE_STOR[dfVRE_STOR.existing_cap_inverter_mw .>= 0, :r_id],
513 |         inputs["VS_DC"])
514 |     @test inputs["NEW_CAP_STOR"] ==
515 |           intersect(buildable, dfGen[dfGen.max_cap_mwh .!= 0, :r_id], inputs["VS_STOR"])
516 |     @test inputs["RET_CAP_STOR"] == intersect(retirable,
517 |         dfGen[dfGen.existing_cap_mwh .>= 0, :r_id],
518 |         inputs["VS_STOR"])
519 |     @test inputs["NEW_CAP_CHARGE_DC"] == intersect(buildable,
520 |         dfVRE_STOR[dfVRE_STOR.max_cap_charge_dc_mw .!= 0, :r_id],
521 |         inputs["VS_ASYM_DC_CHARGE"])
522 |     @test inputs["RET_CAP_CHARGE_DC"] == intersect(retirable,
523 |         dfVRE_STOR[dfVRE_STOR.existing_cap_charge_dc_mw .>= 0, :r_id],
524 |         inputs["VS_ASYM_DC_CHARGE"])
525 |     @test inputs["NEW_CAP_DISCHARGE_DC"] == intersect(buildable,
526 |         dfVRE_STOR[dfVRE_STOR.max_cap_discharge_dc_mw .!= 0, :r_id],
527 |         inputs["VS_ASYM_DC_DISCHARGE"])
528 |     @test inputs["RET_CAP_DISCHARGE_DC"] == intersect(retirable,
529 |         dfVRE_STOR[dfVRE_STOR.existing_cap_discharge_dc_mw .>= 0, :r_id],
530 |         inputs["VS_ASYM_DC_DISCHARGE"])
531 |     @test inputs["NEW_CAP_CHARGE_AC"] == intersect(buildable,
532 |         dfVRE_STOR[dfVRE_STOR.max_cap_charge_ac_mw .!= 0, :r_id],
533 |         inputs["VS_ASYM_AC_CHARGE"])
534 |     @test inputs["RET_CAP_CHARGE_AC"] == intersect(retirable,
535 |         dfVRE_STOR[dfVRE_STOR.existing_cap_charge_ac_mw .>= 0, :r_id],
536 |         inputs["VS_ASYM_AC_CHARGE"])
537 |     @test inputs["NEW_CAP_DISCHARGE_AC"] == intersect(buildable,
538 |         dfVRE_STOR[dfVRE_STOR.max_cap_discharge_ac_mw .!= 0, :r_id],
539 |         inputs["VS_ASYM_AC_DISCHARGE"])
540 |     @test inputs["RET_CAP_DISCHARGE_AC"] == intersect(retirable,
541 |         dfVRE_STOR[dfVRE_STOR.existing_cap_discharge_ac_mw .>= 0, :r_id],
542 |         inputs["VS_ASYM_AC_DISCHARGE"])
543 |     @test inputs["RESOURCE_NAMES_VRE_STOR"] ==
544 |           collect(skipmissing(dfVRE_STOR[!, :resource][1:size(inputs["VRE_STOR"])[1]]))
545 |     @test inputs["RESOURCE_NAMES_SOLAR"] == dfVRE_STOR[(dfVRE_STOR.solar .!= 0), :resource]
546 |     @test inputs["RESOURCE_NAMES_WIND"] == dfVRE_STOR[(dfVRE_STOR.wind .!= 0), :resource]
547 |     @test inputs["RESOURCE_NAMES_DC_DISCHARGE"] ==
548 |           dfVRE_STOR[(dfVRE_STOR.stor_dc_discharge .!= 0), :resource]
549 |     @test inputs["RESOURCE_NAMES_AC_DISCHARGE"] ==
550 |           dfVRE_STOR[(dfVRE_STOR.stor_ac_discharge .!= 0), :resource]
551 |     @test inputs["RESOURCE_NAMES_DC_CHARGE"] ==
552 |           dfVRE_STOR[(dfVRE_STOR.stor_dc_charge .!= 0), :resource]
553 |     @test inputs["RESOURCE_NAMES_AC_CHARGE"] ==
554 |           dfVRE_STOR[(dfVRE_STOR.stor_ac_charge .!= 0), :resource]
555 |     @test inputs["ZONES_SOLAR"] == dfVRE_STOR[(dfVRE_STOR.solar .!= 0), :zone]
556 |     @test inputs["ZONES_WIND"] == dfVRE_STOR[(dfVRE_STOR.wind .!= 0), :zone]
557 |     @test inputs["ZONES_DC_DISCHARGE"] ==
558 |           dfVRE_STOR[(dfVRE_STOR.stor_dc_discharge .!= 0), :zone]
559 |     @test inputs["ZONES_AC_DISCHARGE"] ==
560 |           dfVRE_STOR[(dfVRE_STOR.stor_ac_discharge .!= 0), :zone]
561 |     @test inputs["ZONES_DC_CHARGE"] == dfVRE_STOR[(dfVRE_STOR.stor_dc_charge .!= 0), :zone]
562 |     @test inputs["ZONES_AC_CHARGE"] == dfVRE_STOR[(dfVRE_STOR.stor_ac_charge .!= 0), :zone]
563 | end
564 | 
565 | with_logger(ConsoleLogger(stderr, Logging.Warn)) do
566 |     test_load_resources_data()
567 |     test_load_VRE_STOR_data()
568 | end
569 | 
570 | end # module TestLoadResourceData
571 | 


--------------------------------------------------------------------------------
/test/test_multifuels.jl:
--------------------------------------------------------------------------------
 1 | module TestMultiFuels
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 5494.7919354
 8 | test_path = "multi_fuels"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("Trans_Loss_Segments" => 1,
12 |     "EnergyShareRequirement" => 1,
13 |     "CapacityReserveMargin" => 1,
14 |     "StorageLosses" => 1,
15 |     "MinCapReq" => 1,
16 |     "MaxCapReq" => 1,
17 |     "ParameterScale" => 1,
18 |     "WriteShadowPrices" => 1,
19 |     "UCommit" => 2)
20 | 
21 | # Run the case and get the objective value and tolerance
22 | EP, _, _ = redirect_stdout(devnull) do
23 |     run_genx_case_testing(test_path, genx_setup)
24 | end
25 | obj_test = objective_value(EP)
26 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
27 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
28 | 
29 | # Test the objective value
30 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
31 | 
32 | # Round objective value and tolerance. Write to test log.
33 | obj_test = round_from_tol!(obj_test, optimal_tol)
34 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
35 | write_testlog(test_path, obj_test, optimal_tol, test_result)
36 | 
37 | end # module TestMultiFuels
38 | 


--------------------------------------------------------------------------------
/test/test_multistage.jl:
--------------------------------------------------------------------------------
  1 | module TestMultiStage
  2 | 
  3 | using Test
  4 | 
  5 | include(joinpath(@__DIR__, "utilities.jl"))
  6 | 
  7 | obj_true = [79734.80032, 41630.03494, 27855.20631]
  8 | test_path = joinpath(@__DIR__, "multi_stage")
  9 | 
 10 | # Define test inputs
 11 | multistage_setup = Dict("NumStages" => 3,
 12 |     "StageLengths" => [10, 10, 10],
 13 |     "WACC" => 0.045,
 14 |     "ConvergenceTolerance" => 0.01,
 15 |     "Myopic" => 0,
 16 |     "WriteIntermittentOutputs" => 0)
 17 | 
 18 | genx_setup = Dict("Trans_Loss_Segments" => 1,
 19 |     "OperationalReserves" => 1,
 20 |     "CO2Cap" => 2,
 21 |     "StorageLosses" => 1,
 22 |     "ParameterScale" => 1,
 23 |     "UCommit" => 2,
 24 |     "MultiStage" => 1,
 25 |     "MultiStageSettingsDict" => multistage_setup)
 26 | 
 27 | # Run the case and get the objective value and tolerance
 28 | EP, _, _ = redirect_stdout(devnull) do
 29 |     run_genx_case_testing(test_path, genx_setup)
 30 | end
 31 | obj_test = objective_value.(EP[i] for i in 1:multistage_setup["NumStages"])
 32 | optimal_tol_rel = get_attribute.((EP[i] for i in 1:multistage_setup["NumStages"]),
 33 |     "ipm_optimality_tolerance")
 34 | optimal_tol = optimal_tol_rel .* obj_test  # Convert to absolute tolerance
 35 | 
 36 | # Test the objective value
 37 | test_result = @test all(obj_true .- optimal_tol .<= obj_test .<= obj_true .+ optimal_tol)
 38 | 
 39 | # Round objective value and tolerance. Write to test log.
 40 | obj_test = round_from_tol!.(obj_test, optimal_tol)
 41 | optimal_tol = round_from_tol!.(optimal_tol, optimal_tol)
 42 | write_testlog(test_path, obj_test, optimal_tol, test_result)
 43 | 
 44 | function test_new_build(EP::Dict, inputs::Dict)
 45 |     ### Test that the resource with New_Build = 0 did not expand capacity
 46 |     a = true
 47 | 
 48 |     for t in keys(EP)
 49 |         if t == 1
 50 |             a = value(EP[t][:eTotalCap][1]) <=
 51 |                 GenX.existing_cap_mw(inputs[1]["RESOURCES"][1])[1]
 52 |         else
 53 |             a = value(EP[t][:eTotalCap][1]) <= value(EP[t - 1][:eTotalCap][1])
 54 |         end
 55 |         if a == false
 56 |             break
 57 |         end
 58 |     end
 59 | 
 60 |     return a
 61 | end
 62 | 
 63 | function test_can_retire(EP::Dict, inputs::Dict)
 64 |     ### Test that the resource with Can_Retire = 0 did not retire capacity
 65 |     a = true
 66 | 
 67 |     for t in keys(EP)
 68 |         if t == 1
 69 |             a = value(EP[t][:eTotalCap][1]) >=
 70 |                 GenX.existing_cap_mw(inputs[1]["RESOURCES"][1])[1]
 71 |         else
 72 |             a = value(EP[t][:eTotalCap][1]) >= value(EP[t - 1][:eTotalCap][1])
 73 |         end
 74 |         if a == false
 75 |             break
 76 |         end
 77 |     end
 78 | 
 79 |     return a
 80 | end
 81 | 
 82 | test_path_new_build = joinpath(test_path, "new_build")
 83 | EP, inputs, _ = redirect_stdout(devnull) do
 84 |     run_genx_case_testing(test_path_new_build, genx_setup)
 85 | end
 86 | 
 87 | new_build_test_result = @test test_new_build(EP, inputs)
 88 | write_testlog(test_path,
 89 |     "Testing that the resource with New_Build = 0 did not expand capacity",
 90 |     new_build_test_result)
 91 | 
 92 | test_path_can_retire = joinpath(test_path, "can_retire")
 93 | EP, inputs, _ = redirect_stdout(devnull) do
 94 |     run_genx_case_testing(test_path_can_retire, genx_setup)
 95 | end
 96 | can_retire_test_result = @test test_can_retire(EP, inputs)
 97 | write_testlog(test_path,
 98 |     "Testing that the resource with Can_Retire = 0 did not expand capacity",
 99 |     can_retire_test_result)
100 | 
101 | function test_update_cumulative_min_ret!()
102 |     # Merge the genx_setup with the default settings
103 |     settings = GenX.default_settings()
104 | 
105 |     for ParameterScale in [0, 1]
106 |         genx_setup["ParameterScale"] = ParameterScale
107 |         merge!(settings, genx_setup)
108 | 
109 |         inputs_dict = Dict()
110 |         true_min_retirements = Dict()
111 | 
112 |         scale_factor = settings["ParameterScale"] == 1 ? GenX.ModelScalingFactor : 1.0
113 |         redirect_stdout(devnull) do
114 |             warnerror_logger = ConsoleLogger(stderr, Logging.Warn)
115 |             with_logger(warnerror_logger) do
116 |                 for t in 1:3
117 |                     inpath_sub = joinpath(test_path, "cum_min_ret", string("inputs_p", t))
118 | 
119 |                     true_min_retirements[t] = CSV.read(
120 |                         joinpath(inpath_sub,
121 |                             "resources",
122 |                             "Resource_multistage_data.csv"),
123 |                         DataFrame)
124 |                     rename!(true_min_retirements[t],
125 |                         lowercase.(names(true_min_retirements[t])))
126 |                     GenX.scale_multistage_data!(true_min_retirements[t], scale_factor)
127 | 
128 |                     inputs_dict[t] = Dict()
129 |                     inputs_dict[t]["Z"] = 1
130 |                     GenX.load_demand_data!(settings, inpath_sub, inputs_dict[t])
131 |                     GenX.load_resources_data!(inputs_dict[t],
132 |                         settings,
133 |                         inpath_sub,
134 |                         joinpath(inpath_sub, settings["ResourcesFolder"]))
135 |                     compute_cumulative_min_retirements!(inputs_dict, t)
136 |                 end
137 |             end
138 |         end
139 | 
140 |         for t in 1:3
141 |             # Test that the cumulative min retirements are updated correctly
142 |             gen = inputs_dict[t]["RESOURCES"]
143 |             @test GenX.min_retired_cap_mw.(gen) ==
144 |                   true_min_retirements[t].min_retired_cap_mw
145 |             @test GenX.min_retired_energy_cap_mw.(gen) ==
146 |                   true_min_retirements[t].min_retired_energy_cap_mw
147 |             @test GenX.min_retired_charge_cap_mw.(gen) ==
148 |                   true_min_retirements[t].min_retired_charge_cap_mw
149 |             @test GenX.min_retired_cap_inverter_mw.(gen) ==
150 |                   true_min_retirements[t].min_retired_cap_inverter_mw
151 |             @test GenX.min_retired_cap_solar_mw.(gen) ==
152 |                   true_min_retirements[t].min_retired_cap_solar_mw
153 |             @test GenX.min_retired_cap_wind_mw.(gen) ==
154 |                   true_min_retirements[t].min_retired_cap_wind_mw
155 |             @test GenX.min_retired_cap_discharge_dc_mw.(gen) ==
156 |                   true_min_retirements[t].min_retired_cap_discharge_dc_mw
157 |             @test GenX.min_retired_cap_charge_dc_mw.(gen) ==
158 |                   true_min_retirements[t].min_retired_cap_charge_dc_mw
159 |             @test GenX.min_retired_cap_discharge_ac_mw.(gen) ==
160 |                   true_min_retirements[t].min_retired_cap_discharge_ac_mw
161 |             @test GenX.min_retired_cap_charge_ac_mw.(gen) ==
162 |                   true_min_retirements[t].min_retired_cap_charge_ac_mw
163 | 
164 |             @test GenX.cum_min_retired_cap_mw.(gen) ==
165 |                   sum(true_min_retirements[i].min_retired_cap_mw for i in 1:t)
166 |             @test GenX.cum_min_retired_energy_cap_mw.(gen) ==
167 |                   sum(true_min_retirements[i].min_retired_energy_cap_mw for i in 1:t)
168 |             @test GenX.cum_min_retired_charge_cap_mw.(gen) ==
169 |                   sum(true_min_retirements[i].min_retired_charge_cap_mw for i in 1:t)
170 |             @test GenX.cum_min_retired_cap_inverter_mw.(gen) ==
171 |                   sum(true_min_retirements[i].min_retired_cap_inverter_mw for i in 1:t)
172 |             @test GenX.cum_min_retired_cap_solar_mw.(gen) ==
173 |                   sum(true_min_retirements[i].min_retired_cap_solar_mw for i in 1:t)
174 |             @test GenX.cum_min_retired_cap_wind_mw.(gen) ==
175 |                   sum(true_min_retirements[i].min_retired_cap_wind_mw for i in 1:t)
176 |             @test GenX.cum_min_retired_cap_discharge_dc_mw.(gen) ==
177 |                   sum(true_min_retirements[i].min_retired_cap_discharge_dc_mw for i in 1:t)
178 |             @test GenX.cum_min_retired_cap_charge_dc_mw.(gen) ==
179 |                   sum(true_min_retirements[i].min_retired_cap_charge_dc_mw for i in 1:t)
180 |             @test GenX.cum_min_retired_cap_discharge_ac_mw.(gen) ==
181 |                   sum(true_min_retirements[i].min_retired_cap_discharge_ac_mw for i in 1:t)
182 |             @test GenX.cum_min_retired_cap_charge_ac_mw.(gen) ==
183 |                   sum(true_min_retirements[i].min_retired_cap_charge_ac_mw for i in 1:t)
184 |         end
185 |     end
186 | end
187 | 
188 | test_update_cumulative_min_ret!()
189 | 
190 | function test_can_retire_validation()
191 |     @testset "No resources switch from can_retire = 0 to can_retire = 1" begin
192 |         inputs = Dict{Int, Dict}()
193 |         inputs[1] = Dict("RESOURCES" => [
194 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
195 |                 :can_retire => 1)),
196 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
197 |                 :can_retire => 1)),
198 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
199 |                 :can_retire => 1)),
200 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
201 |                 :can_retire => 1))])
202 |         inputs[2] = Dict("RESOURCES" => [
203 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
204 |                 :can_retire => 0)),
205 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
206 |                 :can_retire => 1)),
207 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
208 |                 :can_retire => 1)),
209 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
210 |                 :can_retire => 1))])
211 |         inputs[3] = Dict("RESOURCES" => [
212 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
213 |                 :can_retire => 0)),
214 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
215 |                 :can_retire => 0)),
216 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
217 |                 :can_retire => 1)),
218 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
219 |                 :can_retire => 1))])
220 |         @test isnothing(GenX.validate_can_retire_multistage(inputs, 3))
221 |     end
222 | 
223 |     @testset "One resource switches from can_retire = 0 to can_retire = 1" begin
224 |         inputs = Dict{Int, Dict}()
225 |         inputs[1] = Dict("RESOURCES" => [
226 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
227 |                 :can_retire => 0)),
228 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
229 |                 :can_retire => 0)),
230 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
231 |                 :can_retire => 0)),
232 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
233 |                 :can_retire => 1))])
234 |         inputs[2] = Dict("RESOURCES" => [
235 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
236 |                 :can_retire => 0)),
237 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
238 |                 :can_retire => 0)),
239 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
240 |                 :can_retire => 1)),
241 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
242 |                 :can_retire => 1))])
243 |         inputs[3] = Dict("RESOURCES" => [
244 |             GenX.Thermal(Dict(:resource => "thermal", :id => 1,
245 |                 :can_retire => 0)),
246 |             GenX.Vre(Dict(:resource => "vre", :id => 2,
247 |                 :can_retire => 0)),
248 |             GenX.Hydro(Dict(:resource => "hydro", :id => 3,
249 |                 :can_retire => 1)),
250 |             GenX.FlexDemand(Dict(:resource => "flex_demand", :id => 4,
251 |                 :can_retire => 1))])
252 |         @test_throws ErrorException GenX.validate_can_retire_multistage(inputs, 3)
253 |     end
254 | end
255 | 
256 | with_logger(ConsoleLogger(stderr, Logging.Error)) do
257 |     test_can_retire_validation()
258 | end
259 | 
260 | end # module TestMultiStage
261 | 


--------------------------------------------------------------------------------
/test/test_piecewisefuel.jl:
--------------------------------------------------------------------------------
 1 | module TestPiecewiseFuelCO2
 2 | 
 3 | using Test
 4 | include(joinpath(@__DIR__, "utilities.jl"))
 5 | 
 6 | obj_true = 2341.82308
 7 | test_path = "piecewise_fuel"
 8 | 
 9 | # Define test inputs
10 | genx_setup = Dict("UCommit" => 2,
11 |     "CO2Cap" => 1,
12 |     "ParameterScale" => 1)
13 | 
14 | # Run the case and get the objective value and tolerance
15 | EP, _, _ = redirect_stdout(devnull) do
16 |     run_genx_case_testing(test_path, genx_setup)
17 | end
18 | obj_test = objective_value(EP)
19 | optimal_tol_rel = get_attribute(EP, "dual_feasibility_tolerance")
20 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
21 | 
22 | # Test the objective value
23 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
24 | 
25 | # Round objective value and tolerance. Write to test log.
26 | obj_test = round_from_tol!(obj_test, optimal_tol)
27 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
28 | write_testlog(test_path, obj_test, optimal_tol, test_result)
29 | 
30 | end # module TestPiecewiseFuelCO2
31 | 


--------------------------------------------------------------------------------
/test/test_retrofit.jl:
--------------------------------------------------------------------------------
 1 | module TestRetrofit
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 3179.6244
 8 | test_path = "retrofit"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("CO2Cap" => 2,
12 |     "StorageLosses" => 1,
13 |     "MinCapReq" => 1,
14 |     "MaxCapReq" => 1,
15 |     "ParameterScale" => 1,
16 |     "UCommit" => 2,
17 |     "EnergyShareRequirement" => 1,
18 |     "CapacityReserveMargin" => 1,
19 |     "MultiStage" => 0)
20 | 
21 | # Run the case and get the objective value and tolerance
22 | EP, inputs, _ = redirect_stdout(devnull) do
23 |     run_genx_case_testing(test_path, genx_setup)
24 | end
25 | obj_test = objective_value(EP)
26 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
27 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
28 | 
29 | # Test the objective value
30 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
31 | 
32 | # Round objective value and tolerance. Write to test log.
33 | obj_test = round_from_tol!(obj_test, optimal_tol)
34 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
35 | write_testlog(test_path, obj_test, optimal_tol, test_result)
36 | 
37 | end # module TestRetrofit
38 | 


--------------------------------------------------------------------------------
/test/test_threezones.jl:
--------------------------------------------------------------------------------
 1 | module TestThreeZones
 2 | 
 3 | using Test
 4 | 
 5 | include(joinpath(@__DIR__, "utilities.jl"))
 6 | 
 7 | obj_true = 6960.20855
 8 | test_path = "three_zones"
 9 | 
10 | # Define test inputs
11 | genx_setup = Dict("NetworkExpansion" => 1,
12 |     "Trans_Loss_Segments" => 1,
13 |     "CO2Cap" => 2,
14 |     "StorageLosses" => 1,
15 |     "MinCapReq" => 1,
16 |     "ParameterScale" => 1,
17 |     "UCommit" => 2)
18 | 
19 | # Run the case and get the objective value and tolerance
20 | EP, inputs, _ = redirect_stdout(devnull) do
21 |     run_genx_case_testing(test_path, genx_setup)
22 | end
23 | obj_test = objective_value(EP)
24 | optimal_tol_rel = get_attribute(EP, "ipm_optimality_tolerance")
25 | optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
26 | 
27 | # Test the objective value
28 | test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
29 | 
30 | # Round objective value and tolerance. Write to test log.
31 | obj_test = round_from_tol!(obj_test, optimal_tol)
32 | optimal_tol = round_from_tol!(optimal_tol, optimal_tol)
33 | write_testlog(test_path, obj_test, optimal_tol, test_result)
34 | 
35 | end # module TestThreeZones
36 | 


--------------------------------------------------------------------------------
/test/test_time_domain_reduction.jl:
--------------------------------------------------------------------------------
 1 | module TestTDR
 2 | 
 3 | import GenX
 4 | import Test
 5 | import JLD2, Clustering
 6 | 
 7 | include(joinpath(@__DIR__, "utilities.jl"))
 8 | 
 9 | # suppress printing
10 | console_out = stdout
11 | redirect_stdout(devnull)
12 | 
13 | test_folder = settings_path = "TDR"
14 | TDR_Results_test = joinpath(test_folder, "TDR_results_test")
15 | 
16 | # Folder with true clustering results for LTS and non-LTS versions
17 | TDR_Results_true = if VERSION == v"1.6.7"
18 |     joinpath(test_folder, "TDR_results_true_LTS")
19 | else
20 |     joinpath(test_folder, "TDR_results_true")
21 | end
22 | 
23 | # Remove test folder if it exists
24 | if isdir(TDR_Results_test)
25 |     rm(TDR_Results_test, recursive = true)
26 | end
27 | 
28 | # Inputs for cluster_inputs function
29 | genx_setup = Dict("TimeDomainReduction" => 1,
30 |     "TimeDomainReductionFolder" => "TDR_results_test",
31 |     "UCommit" => 2,
32 |     "CapacityReserveMargin" => 1,
33 |     "MinCapReq" => 1,
34 |     "MaxCapReq" => 1,
35 |     "EnergyShareRequirement" => 1,
36 |     "CO2Cap" => 2)
37 | 
38 | settings = GenX.default_settings()
39 | merge!(settings, genx_setup)
40 | 
41 | clustering_test = with_logger(ConsoleLogger(stderr, Logging.Warn)) do
42 |     GenX.cluster_inputs(test_folder, settings_path, settings, random = false)["ClusterObject"]
43 | end
44 | 
45 | # Load true clustering
46 | clustering_true = JLD2.load(joinpath(TDR_Results_true, "clusters_true.jld2"))["ClusterObject"]
47 | 
48 | # Clustering validation
49 | R = Clustering.randindex(clustering_test, clustering_true)
50 | I = Clustering.mutualinfo(clustering_test, clustering_true)
51 | 
52 | # restore printing
53 | redirect_stdout(console_out)
54 | 
55 | # test clusters
56 | Test.@test round(R[1], digits = 1) == 1   # Adjusted Rand index should be equal to 1
57 | Test.@test round(R[2], digits = 1) == 1   # Rand index should be equal to 1
58 | Test.@test round(I, digits = 1) == 1      # Mutual information should be equal to 1
59 | 
60 | # test if output files are correct
61 | for file in filter(endswith(".csv"), readdir(TDR_Results_true))
62 |     Test.@test cmp_csv(joinpath(TDR_Results_test, file), joinpath(TDR_Results_true, file))
63 | end
64 | 
65 | end # module TestTDR
66 | 


--------------------------------------------------------------------------------
/test/three_zones/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05    # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | TimeLimit: 1.0e23      # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 5 | Pre_Solve: on          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 6 | Method: ipm            # HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 7 | ipm_optimality_tolerance: 1e-04
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 


--------------------------------------------------------------------------------
/test/three_zones/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Cap_Zone_3,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_tons_MWh_3,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2,CO_2_Max_Mtons_3
2 | MA,z1,1,0,0,0.05,0,0,0.018,0,0
3 | CT,z2,0,1,0,0,0.05,0,0,0.025,0
4 | ME,z3,0,0,1,0,0,0.05,0,0,0.025
5 | 


--------------------------------------------------------------------------------
/test/three_zones/policies/Minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
1 | MinCapReqConstraint,ConstraintDescription,Min_MW
2 | 1,MA_PV,5000
3 | 2,CT_Wind,10000
4 | 3,All_Batteries,6000
5 | 


--------------------------------------------------------------------------------
/test/three_zones/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Min_Power,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,MinCapTag_1,MinCapTag_2,MinCapTag_3,Resource_Type,ESR_1,ESR_2,region,cluster
2 | MA_battery,1,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,MA,0
3 | CT_battery,2,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,CT,0
4 | ME_battery,3,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0,0.92,0.92,1,10,0,0,1,battery_mid,0,0,ME,0


--------------------------------------------------------------------------------
/test/three_zones/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,MGA,Resource_Type,region,cluster
2 | MA_natural_gas_combined_cycle,1,1,1,0,0,-1,0,65400,10287,3.55,7.43,MA_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,1,natural_gas_fired_combined_cycle,MA,1
3 | CT_natural_gas_combined_cycle,2,1,1,0,0,-1,0,65400,9698,3.57,7.12,CT_NG,250,91,2,6,6,0.64,0.64,0.338,0.133332722,0.266665444,0,0,1,natural_gas_fired_combined_cycle,CT,1
4 | ME_natural_gas_combined_cycle,3,1,1,0,0,-1,0,65400,16291,4.5,12.62,ME_NG,250,91,2,6,6,0.64,0.64,0.474,0.033333333,0.066666667,0,0,1,natural_gas_fired_combined_cycle,ME,1


--------------------------------------------------------------------------------
/test/three_zones/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,MGA,Resource_Type,region,cluster
2 | MA_solar_pv,1,1,1,0,0,-1,0,85300,18760,0,9.13,1,solar_photovoltaic,MA,1
3 | CT_onshore_wind,2,1,1,0,0,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,CT,1
4 | CT_solar_pv,2,1,1,0,0,-1,0,85300,18760,0,9.16,1,solar_photovoltaic,CT,1
5 | ME_onshore_wind,3,1,1,0,0,-1,0,97200,43205,0.1,9.12,1,onshore_wind_turbine,ME,1


--------------------------------------------------------------------------------
/test/three_zones/resources/policy_assignments/Resource_minimum_capacity_requirement.csv:
--------------------------------------------------------------------------------
 1 | Resource	Min_Cap_1	Min_Cap_2	Min_Cap_3
 2 | MA_natural_gas_combined_cycle	0	0	0
 3 | MA_solar_pv	1	0	0
 4 | CT_natural_gas_combined_cycle	0	0	0
 5 | CT_onshore_wind	0	1	0
 6 | CT_solar_pv	0	0	0
 7 | ME_natural_gas_combined_cycle	0	0	0
 8 | ME_onshore_wind	0	0	0
 9 | MA_battery	0	0	1
10 | CT_battery	0	0	1
11 | ME_battery	0	0	1


--------------------------------------------------------------------------------
/test/three_zones/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2,Demand_MW_z3
  2 | 50000,1,1.0,1.0,2000,5,24,24.0,1,7822.0,2234.0,1066.0
  3 | ,2,0.9,0.04,1800,,,24.0,2,7494.0,2140.0,1021.0
  4 | ,3,0.55,0.024,1100,,,8664.0,3,7343.0,2097.0,1001.0
  5 | ,4,0.2,0.003,400,,,24.0,4,7289.0,2082.0,994.0
  6 | ,,,,,,,24.0,5,7482.0,2137.0,1020.0
  7 | ,,,,,,,,6,8142.0,2325.0,1110.0
  8 | ,,,,,,,,7,9388.0,2681.0,1280.0
  9 | ,,,,,,,,8,10233.0,2922.0,1395.0
 10 | ,,,,,,,,9,10494.0,2997.0,1431.0
 11 | ,,,,,,,,10,10665.0,3046.0,1454.0
 12 | ,,,,,,,,11,10780.0,3079.0,1469.0
 13 | ,,,,,,,,12,10817.0,3089.0,1474.0
 14 | ,,,,,,,,13,10743.0,3068.0,1464.0
 15 | ,,,,,,,,14,10657.0,3044.0,1453.0
 16 | ,,,,,,,,15,10516.0,3003.0,1434.0
 17 | ,,,,,,,,16,10468.0,2990.0,1427.0
 18 | ,,,,,,,,17,10788.0,3081.0,1471.0
 19 | ,,,,,,,,18,11254.0,3214.0,1535.0
 20 | ,,,,,,,,19,11088.0,3167.0,1512.0
 21 | ,,,,,,,,20,10715.0,3060.0,1461.0
 22 | ,,,,,,,,21,10312.0,2945.0,1406.0
 23 | ,,,,,,,,22,9767.0,2790.0,1332.0
 24 | ,,,,,,,,23,9041.0,2582.0,1232.0
 25 | ,,,,,,,,24,8305.0,2372.0,1132.0
 26 | ,,,,,,,,25,10503.0,3000.0,1432.0
 27 | ,,,,,,,,26,9889.0,2825.0,1348.0
 28 | ,,,,,,,,27,9493.0,2711.0,1294.0
 29 | ,,,,,,,,28,9245.0,2640.0,1261.0
 30 | ,,,,,,,,29,9268.0,2647.0,1263.0
 31 | ,,,,,,,,30,9643.0,2754.0,1315.0
 32 | ,,,,,,,,31,10684.0,3051.0,1457.0
 33 | ,,,,,,,,32,12036.0,3437.0,1641.0
 34 | ,,,,,,,,33,13120.0,3747.0,1789.0
 35 | ,,,,,,,,34,14080.0,4021.0,1919.0
 36 | ,,,,,,,,35,14910.0,4258.0,2033.0
 37 | ,,,,,,,,36,15478.0,4421.0,2110.0
 38 | ,,,,,,,,37,15870.0,4533.0,2164.0
 39 | ,,,,,,,,38,16225.0,4633.0,2212.0
 40 | ,,,,,,,,39,16448.0,4698.0,2242.0
 41 | ,,,,,,,,40,16617.0,4746.0,2266.0
 42 | ,,,,,,,,41,16717.0,4774.0,2279.0
 43 | ,,,,,,,,42,16579.0,4735.0,2261.0
 44 | ,,,,,,,,43,16199.0,4626.0,2209.0
 45 | ,,,,,,,,44,15701.0,4484.0,2140.0
 46 | ,,,,,,,,45,15416.0,4403.0,2102.0
 47 | ,,,,,,,,46,14854.0,4243.0,2025.0
 48 | ,,,,,,,,47,13581.0,3878.0,1852.0
 49 | ,,,,,,,,48,12317.0,3518.0,1679.0
 50 | ,,,,,,,,49,6825.0,1949.0,930.0
 51 | ,,,,,,,,50,6525.0,1863.0,889.0
 52 | ,,,,,,,,51,6366.0,1818.0,868.0
 53 | ,,,,,,,,52,6353.0,1814.0,866.0
 54 | ,,,,,,,,53,6544.0,1868.0,892.0
 55 | ,,,,,,,,54,7251.0,2071.0,989.0
 56 | ,,,,,,,,55,8516.0,2432.0,1161.0
 57 | ,,,,,,,,56,9268.0,2647.0,1263.0
 58 | ,,,,,,,,57,9477.0,2706.0,1292.0
 59 | ,,,,,,,,58,9630.0,2750.0,1312.0
 60 | ,,,,,,,,59,9780.0,2793.0,1333.0
 61 | ,,,,,,,,60,9832.0,2808.0,1340.0
 62 | ,,,,,,,,61,9815.0,2803.0,1338.0
 63 | ,,,,,,,,62,9821.0,2805.0,1339.0
 64 | ,,,,,,,,63,9773.0,2791.0,1332.0
 65 | ,,,,,,,,64,9871.0,2819.0,1346.0
 66 | ,,,,,,,,65,10449.0,2985.0,1424.0
 67 | ,,,,,,,,66,11079.0,3165.0,1510.0
 68 | ,,,,,,,,67,10981.0,3136.0,1497.0
 69 | ,,,,,,,,68,10679.0,3050.0,1456.0
 70 | ,,,,,,,,69,10229.0,2921.0,1394.0
 71 | ,,,,,,,,70,9529.0,2721.0,1299.0
 72 | ,,,,,,,,71,8609.0,2459.0,1174.0
 73 | ,,,,,,,,72,7809.0,2230.0,1065.0
 74 | ,,,,,,,,73,7508.0,2144.0,1024.0
 75 | ,,,,,,,,74,7225.0,2063.0,985.0
 76 | ,,,,,,,,75,7088.0,2024.0,966.0
 77 | ,,,,,,,,76,7040.0,2010.0,959.0
 78 | ,,,,,,,,77,7101.0,2028.0,968.0
 79 | ,,,,,,,,78,7334.0,2094.0,999.0
 80 | ,,,,,,,,79,7705.0,2200.0,1050.0
 81 | ,,,,,,,,80,8157.0,2329.0,1112.0
 82 | ,,,,,,,,81,8671.0,2476.0,1182.0
 83 | ,,,,,,,,82,8939.0,2553.0,1219.0
 84 | ,,,,,,,,83,9005.0,2572.0,1227.0
 85 | ,,,,,,,,84,8996.0,2569.0,1226.0
 86 | ,,,,,,,,85,8922.0,2548.0,1216.0
 87 | ,,,,,,,,86,8825.0,2520.0,1203.0
 88 | ,,,,,,,,87,8781.0,2508.0,1197.0
 89 | ,,,,,,,,88,8986.0,2566.0,1225.0
 90 | ,,,,,,,,89,9858.0,2815.0,1344.0
 91 | ,,,,,,,,90,10631.0,3036.0,1449.0
 92 | ,,,,,,,,91,10584.0,3022.0,1443.0
 93 | ,,,,,,,,92,10304.0,2943.0,1405.0
 94 | ,,,,,,,,93,9937.0,2838.0,1355.0
 95 | ,,,,,,,,94,9289.0,2653.0,1267.0
 96 | ,,,,,,,,95,8529.0,2436.0,1163.0
 97 | ,,,,,,,,96,7851.0,2242.0,1070.0
 98 | ,,,,,,,,97,7899.0,2256.0,1077.0
 99 | ,,,,,,,,98,7613.0,2174.0,1038.0
100 | ,,,,,,,,99,7477.0,2135.0,1020.0
101 | ,,,,,,,,100,7470.0,2134.0,1018.0
102 | ,,,,,,,,101,7699.0,2199.0,1050.0
103 | ,,,,,,,,102,8428.0,2407.0,1149.0
104 | ,,,,,,,,103,9761.0,2787.0,1331.0
105 | ,,,,,,,,104,10471.0,2991.0,1428.0
106 | ,,,,,,,,105,10643.0,3040.0,1451.0
107 | ,,,,,,,,106,10719.0,3061.0,1461.0
108 | ,,,,,,,,107,10802.0,3085.0,1473.0
109 | ,,,,,,,,108,10835.0,3095.0,1477.0
110 | ,,,,,,,,109,10820.0,3090.0,1475.0
111 | ,,,,,,,,110,10811.0,3087.0,1474.0
112 | ,,,,,,,,111,10750.0,3070.0,1465.0
113 | ,,,,,,,,112,10888.0,3110.0,1484.0
114 | ,,,,,,,,113,11635.0,3323.0,1586.0
115 | ,,,,,,,,114,12129.0,3464.0,1654.0
116 | ,,,,,,,,115,12036.0,3437.0,1641.0
117 | ,,,,,,,,116,11714.0,3346.0,1597.0
118 | ,,,,,,,,117,11207.0,3201.0,1528.0
119 | ,,,,,,,,118,10396.0,2969.0,1418.0
120 | ,,,,,,,,119,9383.0,2680.0,1279.0
121 | ,,,,,,,,120,8476.0,2420.0,1156.0
122 | 


--------------------------------------------------------------------------------
/test/three_zones/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,CT_NG,ME_NG,MA_NG,None
  2 | 0,0.05306,0.05306,0.05306,0.0
  3 | 1,5.45,5.45,5.28,0.0
  4 | 2,5.45,5.45,5.28,0.0
  5 | 3,5.45,5.45,5.28,0.0
  6 | 4,5.45,5.45,5.28,0.0
  7 | 5,5.45,5.45,5.28,0.0
  8 | 6,5.45,5.45,5.28,0.0
  9 | 7,5.45,5.45,5.28,0.0
 10 | 8,5.45,5.45,5.28,0.0
 11 | 9,5.45,5.45,5.28,0.0
 12 | 10,5.45,5.45,5.28,0.0
 13 | 11,5.45,5.45,5.28,0.0
 14 | 12,5.45,5.45,5.28,0.0
 15 | 13,5.45,5.45,5.28,0.0
 16 | 14,5.45,5.45,5.28,0.0
 17 | 15,5.45,5.45,5.28,0.0
 18 | 16,5.45,5.45,5.28,0.0
 19 | 17,5.45,5.45,5.28,0.0
 20 | 18,5.45,5.45,5.28,0.0
 21 | 19,5.45,5.45,5.28,0.0
 22 | 20,5.45,5.45,5.28,0.0
 23 | 21,5.45,5.45,5.28,0.0
 24 | 22,5.45,5.45,5.28,0.0
 25 | 23,5.45,5.45,5.28,0.0
 26 | 24,5.45,5.45,5.28,0.0
 27 | 25,1.89,1.89,2.34,0.0
 28 | 26,1.89,1.89,2.34,0.0
 29 | 27,1.89,1.89,2.34,0.0
 30 | 28,1.89,1.89,2.34,0.0
 31 | 29,1.89,1.89,2.34,0.0
 32 | 30,1.89,1.89,2.34,0.0
 33 | 31,1.89,1.89,2.34,0.0
 34 | 32,1.89,1.89,2.34,0.0
 35 | 33,1.89,1.89,2.34,0.0
 36 | 34,1.89,1.89,2.34,0.0
 37 | 35,1.89,1.89,2.34,0.0
 38 | 36,1.89,1.89,2.34,0.0
 39 | 37,1.89,1.89,2.34,0.0
 40 | 38,1.89,1.89,2.34,0.0
 41 | 39,1.89,1.89,2.34,0.0
 42 | 40,1.89,1.89,2.34,0.0
 43 | 41,1.89,1.89,2.34,0.0
 44 | 42,1.89,1.89,2.34,0.0
 45 | 43,1.89,1.89,2.34,0.0
 46 | 44,1.89,1.89,2.34,0.0
 47 | 45,1.89,1.89,2.34,0.0
 48 | 46,1.89,1.89,2.34,0.0
 49 | 47,1.89,1.89,2.34,0.0
 50 | 48,1.89,1.89,2.34,0.0
 51 | 49,2.78,2.78,2.74,0.0
 52 | 50,2.78,2.78,2.74,0.0
 53 | 51,2.78,2.78,2.74,0.0
 54 | 52,2.78,2.78,2.74,0.0
 55 | 53,2.78,2.78,2.74,0.0
 56 | 54,2.78,2.78,2.74,0.0
 57 | 55,2.78,2.78,2.74,0.0
 58 | 56,2.78,2.78,2.74,0.0
 59 | 57,2.78,2.78,2.74,0.0
 60 | 58,2.78,2.78,2.74,0.0
 61 | 59,2.78,2.78,2.74,0.0
 62 | 60,2.78,2.78,2.74,0.0
 63 | 61,2.78,2.78,2.74,0.0
 64 | 62,2.78,2.78,2.74,0.0
 65 | 63,2.78,2.78,2.74,0.0
 66 | 64,2.78,2.78,2.74,0.0
 67 | 65,2.78,2.78,2.74,0.0
 68 | 66,2.78,2.78,2.74,0.0
 69 | 67,2.78,2.78,2.74,0.0
 70 | 68,2.78,2.78,2.74,0.0
 71 | 69,2.78,2.78,2.74,0.0
 72 | 70,2.78,2.78,2.74,0.0
 73 | 71,2.78,2.78,2.74,0.0
 74 | 72,2.78,2.78,2.74,0.0
 75 | 73,2.78,2.78,2.74,0.0
 76 | 74,2.78,2.78,2.74,0.0
 77 | 75,2.78,2.78,2.74,0.0
 78 | 76,2.78,2.78,2.74,0.0
 79 | 77,2.78,2.78,2.74,0.0
 80 | 78,2.78,2.78,2.74,0.0
 81 | 79,2.78,2.78,2.74,0.0
 82 | 80,2.78,2.78,2.74,0.0
 83 | 81,2.78,2.78,2.74,0.0
 84 | 82,2.78,2.78,2.74,0.0
 85 | 83,2.78,2.78,2.74,0.0
 86 | 84,2.78,2.78,2.74,0.0
 87 | 85,2.78,2.78,2.74,0.0
 88 | 86,2.78,2.78,2.74,0.0
 89 | 87,2.78,2.78,2.74,0.0
 90 | 88,2.78,2.78,2.74,0.0
 91 | 89,2.78,2.78,2.74,0.0
 92 | 90,2.78,2.78,2.74,0.0
 93 | 91,2.78,2.78,2.74,0.0
 94 | 92,2.78,2.78,2.74,0.0
 95 | 93,2.78,2.78,2.74,0.0
 96 | 94,2.78,2.78,2.74,0.0
 97 | 95,2.78,2.78,2.74,0.0
 98 | 96,2.78,2.78,2.74,0.0
 99 | 97,2.78,2.78,2.74,0.0
100 | 98,2.78,2.78,2.74,0.0
101 | 99,2.78,2.78,2.74,0.0
102 | 100,2.78,2.78,2.74,0.0
103 | 101,2.78,2.78,2.74,0.0
104 | 102,2.78,2.78,2.74,0.0
105 | 103,2.78,2.78,2.74,0.0
106 | 104,2.78,2.78,2.74,0.0
107 | 105,2.78,2.78,2.74,0.0
108 | 106,2.78,2.78,2.74,0.0
109 | 107,2.78,2.78,2.74,0.0
110 | 108,2.78,2.78,2.74,0.0
111 | 109,2.78,2.78,2.74,0.0
112 | 110,2.78,2.78,2.74,0.0
113 | 111,2.78,2.78,2.74,0.0
114 | 112,2.78,2.78,2.74,0.0
115 | 113,2.78,2.78,2.74,0.0
116 | 114,2.78,2.78,2.74,0.0
117 | 115,2.78,2.78,2.74,0.0
118 | 116,2.78,2.78,2.74,0.0
119 | 117,2.78,2.78,2.74,0.0
120 | 118,2.78,2.78,2.74,0.0
121 | 119,2.78,2.78,2.74,0.0
122 | 120,2.78,2.78,2.74,0.0
123 | 


--------------------------------------------------------------------------------
/test/three_zones/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,MA_natural_gas_combined_cycle,MA_solar_pv,CT_natural_gas_combined_cycle,CT_onshore_wind,CT_solar_pv,ME_natural_gas_combined_cycle,ME_onshore_wind,MA_battery,CT_battery,ME_battery
  2 | 1,1.0,0.0,1.0,0.705949306,0.0,1.0,0.780201435,1.0,1.0,1.0
  3 | 2,1.0,0.0,1.0,0.834924579,0.0,1.0,0.786337197,1.0,1.0,1.0
  4 | 3,1.0,0.0,1.0,0.832703173,0.0,1.0,0.797727823,1.0,1.0,1.0
  5 | 4,1.0,0.0,1.0,0.727586865,0.0,1.0,0.823553085,1.0,1.0,1.0
  6 | 5,1.0,0.0,1.0,0.626110256,0.0,1.0,0.758514643,1.0,1.0,1.0
  7 | 6,1.0,0.0,1.0,0.721315265,0.0,1.0,0.721159458,1.0,1.0,1.0
  8 | 7,1.0,0.0,1.0,0.785158873,0.0,1.0,0.718788862,1.0,1.0,1.0
  9 | 8,1.0,0.0,1.0,0.59819752,0.0,1.0,0.807962596,1.0,1.0,1.0
 10 | 9,1.0,0.0,1.0,0.567111433,0.0,1.0,0.934006155,1.0,1.0,1.0
 11 | 10,1.0,0.003,1.0,0.326491237,0.0064,1.0,0.948075294,1.0,1.0,1.0
 12 | 11,1.0,0.0852,1.0,0.390583217,0.116,1.0,0.981830955,1.0,1.0,1.0
 13 | 12,1.0,0.1324,1.0,0.287067473,0.0999,1.0,0.98286736,1.0,1.0,1.0
 14 | 13,1.0,0.1041,1.0,0.229321212,0.1202,1.0,0.940139234,1.0,1.0,1.0
 15 | 14,1.0,0.1276,1.0,0.154025629,0.192,1.0,0.877916396,1.0,1.0,1.0
 16 | 15,1.0,0.1108,1.0,0.115687042,0.1404,1.0,0.879350662,1.0,1.0,1.0
 17 | 16,1.0,0.0825,1.0,0.054644316,0.0697,1.0,0.896614492,1.0,1.0,1.0
 18 | 17,1.0,0.0043,1.0,0.088804618,0.0,1.0,0.837487161,1.0,1.0,1.0
 19 | 18,1.0,0.0,1.0,0.72049433,0.0,1.0,0.721934199,1.0,1.0,1.0
 20 | 19,1.0,0.0,1.0,0.834395289,0.0,1.0,0.659873962,1.0,1.0,1.0
 21 | 20,1.0,0.0,1.0,0.950648248,0.0,1.0,0.497243434,1.0,1.0,1.0
 22 | 21,1.0,0.0,1.0,0.999782085,0.0,1.0,0.501666129,1.0,1.0,1.0
 23 | 22,1.0,0.0,1.0,1.0,0.0,1.0,0.587158203,1.0,1.0,1.0
 24 | 23,1.0,0.0,1.0,1.0,0.0,1.0,0.723627448,1.0,1.0,1.0
 25 | 24,1.0,0.0,1.0,1.0,0.0,1.0,0.83999908,1.0,1.0,1.0
 26 | 25,1.0,0.0,1.0,0.46454832,0.0,1.0,0.091273665,1.0,1.0,1.0
 27 | 26,1.0,0.0,1.0,0.619871557,0.0,1.0,0.153806269,1.0,1.0,1.0
 28 | 27,1.0,0.0,1.0,0.782924116,0.0,1.0,0.185553581,1.0,1.0,1.0
 29 | 28,1.0,0.0,1.0,0.544351637,0.0,1.0,0.213648766,1.0,1.0,1.0
 30 | 29,1.0,0.0,1.0,0.388339579,0.0,1.0,0.246533602,1.0,1.0,1.0
 31 | 30,1.0,0.0259,1.0,0.188761607,0.0003,1.0,0.20844081,1.0,1.0,1.0
 32 | 31,1.0,0.096,1.0,0.056012779,0.0996,1.0,0.15391171,1.0,1.0,1.0
 33 | 32,1.0,0.2133,1.0,0.011642265,0.2184,1.0,0.141758978,1.0,1.0,1.0
 34 | 33,1.0,0.3624,1.0,0.005336904,0.3801,1.0,0.141372338,1.0,1.0,1.0
 35 | 34,1.0,0.4795,1.0,0.036412083,0.497,1.0,0.176750541,1.0,1.0,1.0
 36 | 35,1.0,0.5633,1.0,0.113800742,0.566,1.0,0.240983516,1.0,1.0,1.0
 37 | 36,1.0,0.5708,1.0,0.309363514,0.5632,1.0,0.291923583,1.0,1.0,1.0
 38 | 37,1.0,0.534,1.0,0.537328064,0.5305,1.0,0.310834885,1.0,1.0,1.0
 39 | 38,1.0,0.5641,1.0,0.75558275,0.5783,1.0,0.32536751,1.0,1.0,1.0
 40 | 39,1.0,0.5537,1.0,0.804839015,0.5735,1.0,0.281852484,1.0,1.0,1.0
 41 | 40,1.0,0.457,1.0,0.814335048,0.4853,1.0,0.264059514,1.0,1.0,1.0
 42 | 41,1.0,0.3439,1.0,0.82010901,0.4051,1.0,0.214059621,1.0,1.0,1.0
 43 | 42,1.0,0.1642,1.0,0.700861871,0.2135,1.0,0.283645898,1.0,1.0,1.0
 44 | 43,1.0,0.0638,1.0,0.377394527,0.0909,1.0,0.375071973,1.0,1.0,1.0
 45 | 44,1.0,0.0,1.0,0.301600695,0.0,1.0,0.475409746,1.0,1.0,1.0
 46 | 45,1.0,0.0,1.0,0.539320409,0.0,1.0,0.512138724,1.0,1.0,1.0
 47 | 46,1.0,0.0,1.0,0.604777336,0.0,1.0,0.561678171,1.0,1.0,1.0
 48 | 47,1.0,0.0,1.0,0.605847716,0.0,1.0,0.698435903,1.0,1.0,1.0
 49 | 48,1.0,0.0,1.0,0.867583036,0.0,1.0,0.629852653,1.0,1.0,1.0
 50 | 49,1.0,0.0,1.0,0.566133976,0.0,1.0,0.767054141,1.0,1.0,1.0
 51 | 50,1.0,0.0,1.0,0.705252767,0.0,1.0,0.732545972,1.0,1.0,1.0
 52 | 51,1.0,0.0,1.0,0.513045669,0.0,1.0,0.767071962,1.0,1.0,1.0
 53 | 52,1.0,0.0,1.0,0.510314405,0.0,1.0,0.481121004,1.0,1.0,1.0
 54 | 53,1.0,0.0,1.0,0.729553521,0.0,1.0,0.413037866,1.0,1.0,1.0
 55 | 54,1.0,0.0,1.0,0.761322439,0.0,1.0,0.607999206,1.0,1.0,1.0
 56 | 55,1.0,0.0,1.0,0.493663102,0.0,1.0,0.52047503,1.0,1.0,1.0
 57 | 56,1.0,0.0002,1.0,0.36528033,0.0,1.0,0.459775805,1.0,1.0,1.0
 58 | 57,1.0,0.2048,1.0,0.331763327,0.2009,1.0,0.419153154,1.0,1.0,1.0
 59 | 58,1.0,0.3617,1.0,0.315054476,0.3846,1.0,0.349077016,1.0,1.0,1.0
 60 | 59,1.0,0.4551,1.0,0.36612308,0.4206,1.0,0.233005673,1.0,1.0,1.0
 61 | 60,1.0,0.4406,1.0,0.407980204,0.4248,1.0,0.175957173,1.0,1.0,1.0
 62 | 61,1.0,0.3895,1.0,0.788694203,0.4079,1.0,0.30339554,1.0,1.0,1.0
 63 | 62,1.0,0.3436,1.0,0.471933067,0.3871,1.0,0.439860284,1.0,1.0,1.0
 64 | 63,1.0,0.2994,1.0,0.671246827,0.3139,1.0,0.449415863,1.0,1.0,1.0
 65 | 64,1.0,0.1652,1.0,0.435648322,0.2324,1.0,0.542967975,1.0,1.0,1.0
 66 | 65,1.0,0.012,1.0,0.209347382,0.0679,1.0,0.240013599,1.0,1.0,1.0
 67 | 66,1.0,0.0,1.0,0.228019759,0.0,1.0,0.114786729,1.0,1.0,1.0
 68 | 67,1.0,0.0,1.0,0.536509931,0.0,1.0,0.591418445,1.0,1.0,1.0
 69 | 68,1.0,0.0,1.0,0.538068175,0.0,1.0,0.592992246,1.0,1.0,1.0
 70 | 69,1.0,0.0,1.0,0.230950385,0.0,1.0,0.078851521,1.0,1.0,1.0
 71 | 70,1.0,0.0,1.0,0.169289395,0.0,1.0,0.0990365,1.0,1.0,1.0
 72 | 71,1.0,0.0,1.0,0.201660678,0.0,1.0,0.135033727,1.0,1.0,1.0
 73 | 72,1.0,0.0,1.0,0.138939247,0.0,1.0,0.119213603,1.0,1.0,1.0
 74 | 73,1.0,0.0,1.0,0.007332826,0.0,1.0,0.000770831,1.0,1.0,1.0
 75 | 74,1.0,0.0,1.0,0.009890662,0.0,1.0,0.000897505,1.0,1.0,1.0
 76 | 75,1.0,0.0,1.0,0.010256416,0.0,1.0,0.000182501,1.0,1.0,1.0
 77 | 76,1.0,0.0,1.0,0.00962998,0.0,1.0,0.000173381,1.0,1.0,1.0
 78 | 77,1.0,0.0,1.0,0.006760235,0.0,1.0,0.000792753,1.0,1.0,1.0
 79 | 78,1.0,0.0,1.0,0.008187366,0.0,1.0,0.001113133,1.0,1.0,1.0
 80 | 79,1.0,0.0,1.0,0.006208578,0.0,1.0,0.000379189,1.0,1.0,1.0
 81 | 80,1.0,0.0732,1.0,0.000949961,0.0626,1.0,0.000776284,1.0,1.0,1.0
 82 | 81,1.0,0.3249,1.0,0.00813111,0.3298,1.0,0.002293999,1.0,1.0,1.0
 83 | 82,1.0,0.5055,1.0,0.023034059,0.5071,1.0,0.001693855,1.0,1.0,1.0
 84 | 83,1.0,0.6259,1.0,0.036741018,0.6188,1.0,0.003433702,1.0,1.0,1.0
 85 | 84,1.0,0.6462,1.0,0.018753242,0.6542,1.0,0.000721696,1.0,1.0,1.0
 86 | 85,1.0,0.6498,1.0,0.014817446,0.6549,1.0,0.001589493,1.0,1.0,1.0
 87 | 86,1.0,0.6233,1.0,0.001068622,0.6278,1.0,0.000175662,1.0,1.0,1.0
 88 | 87,1.0,0.4959,1.0,0.000394323,0.4984,1.0,9.61e-5,1.0,1.0,1.0
 89 | 88,1.0,0.2951,1.0,0.000163447,0.3003,1.0,0.000151504,1.0,1.0,1.0
 90 | 89,1.0,0.0327,1.0,1.68e-5,0.0558,1.0,2.09e-5,1.0,1.0,1.0
 91 | 90,1.0,0.0,1.0,5.27e-5,0.0,1.0,4.39e-6,1.0,1.0,1.0
 92 | 91,1.0,0.0,1.0,0.001216543,0.0,1.0,3.11e-5,1.0,1.0,1.0
 93 | 92,1.0,0.0,1.0,0.002289178,0.0,1.0,0.001215237,1.0,1.0,1.0
 94 | 93,1.0,0.0,1.0,0.004496836,0.0,1.0,0.001903116,1.0,1.0,1.0
 95 | 94,1.0,0.0,1.0,0.014883439,0.0,1.0,0.001491165,1.0,1.0,1.0
 96 | 95,1.0,0.0,1.0,0.026143538,0.0,1.0,0.001652725,1.0,1.0,1.0
 97 | 96,1.0,0.0,1.0,0.039016221,0.0,1.0,0.001880916,1.0,1.0,1.0
 98 | 97,1.0,0.0,1.0,1.83e-5,0.0,1.0,0.03362409,1.0,1.0,1.0
 99 | 98,1.0,0.0,1.0,0.0,0.0,1.0,0.021175332,1.0,1.0,1.0
100 | 99,1.0,0.0,1.0,0.0,0.0,1.0,0.00341103,1.0,1.0,1.0
101 | 100,1.0,0.0,1.0,0.0,0.0,1.0,0.002389108,1.0,1.0,1.0
102 | 101,1.0,0.0,1.0,0.0,0.0,1.0,0.003944313,1.0,1.0,1.0
103 | 102,1.0,0.0,1.0,0.0,0.0,1.0,0.003100403,1.0,1.0,1.0
104 | 103,1.0,0.0,1.0,0.000799759,0.0,1.0,0.003511916,1.0,1.0,1.0
105 | 104,1.0,0.0,1.0,0.00032822,0.0,1.0,0.001128754,1.0,1.0,1.0
106 | 105,1.0,0.1029,1.0,0.0,0.0745,1.0,0.000772598,1.0,1.0,1.0
107 | 106,1.0,0.2427,1.0,0.0,0.2522,1.0,0.000660239,1.0,1.0,1.0
108 | 107,1.0,0.3353,1.0,5.05e-6,0.3334,1.0,0.000466652,1.0,1.0,1.0
109 | 108,1.0,0.3693,1.0,0.0,0.3485,1.0,4.58e-5,1.0,1.0,1.0
110 | 109,1.0,0.321,1.0,0.0,0.3388,1.0,1.65e-5,1.0,1.0,1.0
111 | 110,1.0,0.2798,1.0,0.0,0.3379,1.0,1.49e-6,1.0,1.0,1.0
112 | 111,1.0,0.2887,1.0,6.15e-5,0.3133,1.0,0.0,1.0,1.0,1.0
113 | 112,1.0,0.1717,1.0,0.000322065,0.1924,1.0,0.000578687,1.0,1.0,1.0
114 | 113,1.0,0.0,1.0,0.000258478,0.0,1.0,4.49e-7,1.0,1.0,1.0
115 | 114,1.0,0.0,1.0,0.000254347,0.0,1.0,4.73e-6,1.0,1.0,1.0
116 | 115,1.0,0.0,1.0,0.00095264,0.0,1.0,0.000105247,1.0,1.0,1.0
117 | 116,1.0,0.0,1.0,0.001598039,0.0,1.0,0.0005258,1.0,1.0,1.0
118 | 117,1.0,0.0,1.0,0.002736128,0.0,1.0,0.001642361,1.0,1.0,1.0
119 | 118,1.0,0.0,1.0,0.004819703,0.0,1.0,0.001275363,1.0,1.0,1.0
120 | 119,1.0,0.0,1.0,0.002815315,0.0,1.0,0.001441495,1.0,1.0,1.0
121 | 120,1.0,0.0,1.0,0.001111662,0.0,1.0,0.002369676,1.0,1.0,1.0
122 | 


--------------------------------------------------------------------------------
/test/three_zones/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0
3 | CT,z2,2,1,3,2000,MA_to_ME,196.5385,0.019653847,2000,19261,0.95,0
4 | ME,z3,,,,,,,,,,,


--------------------------------------------------------------------------------
/test/three_zones/system/Operational_reserves.csv:
--------------------------------------------------------------------------------
1 | Reg_Req_Percent_Demand,Reg_Req_Percent_VRE,Rsv_Req_Percent_Demand,Rsv_Req_Percent_VRE,Unmet_Rsv_Penalty_Dollar_per_MW,Dynamic_Contingency,Static_Contingency_MW
2 | 0.01,0.0032,0.033,0.0795,1000,0,0
3 | 


--------------------------------------------------------------------------------
/test/three_zones/system/Period_map.csv:
--------------------------------------------------------------------------------
  1 | Period_Index,Rep_Period,Rep_Period_Index
  2 | 1,317,3
  3 | 2,317,3
  4 | 3,317,3
  5 | 4,317,3
  6 | 5,317,3
  7 | 6,317,3
  8 | 7,317,3
  9 | 8,317,3
 10 | 9,317,3
 11 | 10,317,3
 12 | 11,317,3
 13 | 12,317,3
 14 | 13,317,3
 15 | 14,317,3
 16 | 15,317,3
 17 | 16,317,3
 18 | 17,317,3
 19 | 18,317,3
 20 | 19,317,3
 21 | 20,317,3
 22 | 21,317,3
 23 | 22,317,3
 24 | 23,317,3
 25 | 24,317,3
 26 | 25,317,3
 27 | 26,317,3
 28 | 27,27,1
 29 | 28,317,3
 30 | 29,317,3
 31 | 30,317,3
 32 | 31,317,3
 33 | 32,317,3
 34 | 33,317,3
 35 | 34,317,3
 36 | 35,317,3
 37 | 36,317,3
 38 | 37,317,3
 39 | 38,317,3
 40 | 39,317,3
 41 | 40,317,3
 42 | 41,317,3
 43 | 42,317,3
 44 | 43,317,3
 45 | 44,317,3
 46 | 45,317,3
 47 | 46,317,3
 48 | 47,317,3
 49 | 48,317,3
 50 | 49,317,3
 51 | 50,317,3
 52 | 51,317,3
 53 | 52,317,3
 54 | 53,317,3
 55 | 54,317,3
 56 | 55,317,3
 57 | 56,317,3
 58 | 57,317,3
 59 | 58,317,3
 60 | 59,317,3
 61 | 60,317,3
 62 | 61,317,3
 63 | 62,317,3
 64 | 63,317,3
 65 | 64,317,3
 66 | 65,317,3
 67 | 66,317,3
 68 | 67,317,3
 69 | 68,317,3
 70 | 69,317,3
 71 | 70,317,3
 72 | 71,317,3
 73 | 72,317,3
 74 | 73,317,3
 75 | 74,317,3
 76 | 75,317,3
 77 | 76,317,3
 78 | 77,317,3
 79 | 78,317,3
 80 | 79,317,3
 81 | 80,317,3
 82 | 81,317,3
 83 | 82,317,3
 84 | 83,317,3
 85 | 84,317,3
 86 | 85,317,3
 87 | 86,317,3
 88 | 87,317,3
 89 | 88,317,3
 90 | 89,317,3
 91 | 90,317,3
 92 | 91,317,3
 93 | 92,317,3
 94 | 93,317,3
 95 | 94,317,3
 96 | 95,317,3
 97 | 96,317,3
 98 | 97,317,3
 99 | 98,317,3
100 | 99,317,3
101 | 100,317,3
102 | 101,317,3
103 | 102,317,3
104 | 103,317,3
105 | 104,317,3
106 | 105,317,3
107 | 106,317,3
108 | 107,317,3
109 | 108,317,3
110 | 109,317,3
111 | 110,317,3
112 | 111,317,3
113 | 112,317,3
114 | 113,317,3
115 | 114,317,3
116 | 115,317,3
117 | 116,317,3
118 | 117,317,3
119 | 118,317,3
120 | 119,317,3
121 | 120,317,3
122 | 121,317,3
123 | 122,317,3
124 | 123,317,3
125 | 124,317,3
126 | 125,317,3
127 | 126,317,3
128 | 127,317,3
129 | 128,317,3
130 | 129,317,3
131 | 130,317,3
132 | 131,317,3
133 | 132,317,3
134 | 133,317,3
135 | 134,317,3
136 | 135,317,3
137 | 136,317,3
138 | 137,317,3
139 | 138,317,3
140 | 139,317,3
141 | 140,317,3
142 | 141,317,3
143 | 142,317,3
144 | 143,317,3
145 | 144,317,3
146 | 145,317,3
147 | 146,317,3
148 | 147,317,3
149 | 148,317,3
150 | 149,317,3
151 | 150,317,3
152 | 151,317,3
153 | 152,317,3
154 | 153,317,3
155 | 154,317,3
156 | 155,317,3
157 | 156,317,3
158 | 157,317,3
159 | 158,317,3
160 | 159,317,3
161 | 160,317,3
162 | 161,317,3
163 | 162,317,3
164 | 163,317,3
165 | 164,317,3
166 | 165,317,3
167 | 166,317,3
168 | 167,317,3
169 | 168,317,3
170 | 169,317,3
171 | 170,317,3
172 | 171,317,3
173 | 172,317,3
174 | 173,317,3
175 | 174,317,3
176 | 175,317,3
177 | 176,317,3
178 | 177,317,3
179 | 178,317,3
180 | 179,317,3
181 | 180,317,3
182 | 181,317,3
183 | 182,317,3
184 | 183,317,3
185 | 184,317,3
186 | 185,317,3
187 | 186,317,3
188 | 187,317,3
189 | 188,317,3
190 | 189,317,3
191 | 190,317,3
192 | 191,317,3
193 | 192,317,3
194 | 193,317,3
195 | 194,317,3
196 | 195,317,3
197 | 196,317,3
198 | 197,317,3
199 | 198,198,2
200 | 199,317,3
201 | 200,317,3
202 | 201,317,3
203 | 202,317,3
204 | 203,317,3
205 | 204,317,3
206 | 205,317,3
207 | 206,317,3
208 | 207,317,3
209 | 208,317,3
210 | 209,317,3
211 | 210,317,3
212 | 211,317,3
213 | 212,317,3
214 | 213,317,3
215 | 214,317,3
216 | 215,317,3
217 | 216,317,3
218 | 217,317,3
219 | 218,317,3
220 | 219,317,3
221 | 220,317,3
222 | 221,317,3
223 | 222,317,3
224 | 223,317,3
225 | 224,317,3
226 | 225,317,3
227 | 226,317,3
228 | 227,317,3
229 | 228,317,3
230 | 229,317,3
231 | 230,317,3
232 | 231,317,3
233 | 232,317,3
234 | 233,317,3
235 | 234,317,3
236 | 235,317,3
237 | 236,317,3
238 | 237,317,3
239 | 238,317,3
240 | 239,317,3
241 | 240,317,3
242 | 241,317,3
243 | 242,317,3
244 | 243,317,3
245 | 244,317,3
246 | 245,317,3
247 | 246,317,3
248 | 247,317,3
249 | 248,317,3
250 | 249,317,3
251 | 250,317,3
252 | 251,317,3
253 | 252,317,3
254 | 253,317,3
255 | 254,317,3
256 | 255,317,3
257 | 256,317,3
258 | 257,317,3
259 | 258,317,3
260 | 259,317,3
261 | 260,317,3
262 | 261,317,3
263 | 262,317,3
264 | 263,317,3
265 | 264,317,3
266 | 265,317,3
267 | 266,317,3
268 | 267,317,3
269 | 268,317,3
270 | 269,317,3
271 | 270,317,3
272 | 271,317,3
273 | 272,317,3
274 | 273,317,3
275 | 274,317,3
276 | 275,317,3
277 | 276,317,3
278 | 277,317,3
279 | 278,317,3
280 | 279,317,3
281 | 280,317,3
282 | 281,317,3
283 | 282,317,3
284 | 283,317,3
285 | 284,317,3
286 | 285,317,3
287 | 286,317,3
288 | 287,317,3
289 | 288,317,3
290 | 289,317,3
291 | 290,317,3
292 | 291,317,3
293 | 292,317,3
294 | 293,317,3
295 | 294,317,3
296 | 295,317,3
297 | 296,317,3
298 | 297,317,3
299 | 298,317,3
300 | 299,317,3
301 | 300,317,3
302 | 301,317,3
303 | 302,317,3
304 | 303,317,3
305 | 304,317,3
306 | 305,317,3
307 | 306,317,3
308 | 307,317,3
309 | 308,317,3
310 | 309,317,3
311 | 310,317,3
312 | 311,317,3
313 | 312,317,3
314 | 313,317,3
315 | 314,317,3
316 | 315,317,3
317 | 316,317,3
318 | 317,317,3
319 | 318,317,3
320 | 319,317,3
321 | 320,317,3
322 | 321,317,3
323 | 322,322,4
324 | 323,317,3
325 | 324,317,3
326 | 325,317,3
327 | 326,317,3
328 | 327,317,3
329 | 328,317,3
330 | 329,317,3
331 | 330,317,3
332 | 331,331,5
333 | 332,317,3
334 | 333,317,3
335 | 334,317,3
336 | 335,317,3
337 | 336,317,3
338 | 337,317,3
339 | 338,317,3
340 | 339,317,3
341 | 340,317,3
342 | 341,317,3
343 | 342,317,3
344 | 343,317,3
345 | 344,317,3
346 | 345,317,3
347 | 346,317,3
348 | 347,317,3
349 | 348,317,3
350 | 349,317,3
351 | 350,317,3
352 | 351,317,3
353 | 352,317,3
354 | 353,317,3
355 | 354,317,3
356 | 355,317,3
357 | 356,317,3
358 | 357,317,3
359 | 358,317,3
360 | 359,317,3
361 | 360,317,3
362 | 361,317,3
363 | 362,317,3
364 | 363,317,3
365 | 364,317,3
366 | 365,317,3
367 | 


--------------------------------------------------------------------------------
/test/utilities.jl:
--------------------------------------------------------------------------------
  1 | using GenX
  2 | using JuMP, HiGHS
  3 | using Dates
  4 | using CSV, DataFrames
  5 | using Logging, LoggingExtras
  6 | 
  7 | const TestResult = Union{Test.Result, String}
  8 | 
  9 | # Exception to throw if a csv file is not found
 10 | struct CSVFileNotFound <: Exception
 11 |     filefullpath::String
 12 | end
 13 | Base.showerror(io::IO, e::CSVFileNotFound) = print(io, e.filefullpath, " not found")
 14 | 
 15 | const results_path = "results"
 16 | !isdir(results_path) && mkdir(results_path)
 17 | 
 18 | function run_genx_case_testing(test_path::AbstractString,
 19 |         test_setup::Dict,
 20 |         optimizer::Any = HiGHS.Optimizer)
 21 |     # Merge the genx_setup with the default settings
 22 |     settings = GenX.default_settings()
 23 |     merge!(settings, test_setup)
 24 | 
 25 |     @assert settings["MultiStage"] âˆˆ [0, 1]
 26 |     # Create a ConsoleLogger that prints any log messages with level >= Warn to stderr
 27 |     warnerror_logger = ConsoleLogger(stderr, Logging.Warn)
 28 | 
 29 |     EP, inputs, OPTIMIZER = with_logger(warnerror_logger) do
 30 |         if settings["MultiStage"] == 0
 31 |             run_genx_case_simple_testing(test_path, settings, optimizer)
 32 |         else
 33 |             run_genx_case_multistage_testing(test_path, settings, optimizer)
 34 |         end
 35 |     end
 36 |     return EP, inputs, OPTIMIZER
 37 | end
 38 | 
 39 | function run_genx_case_conflict_testing(test_path::AbstractString,
 40 |         test_setup::Dict,
 41 |         optimizer::Any = HiGHS.Optimizer)
 42 | 
 43 |     # Merge the genx_setup with the default settings
 44 |     settings = GenX.default_settings()
 45 |     merge!(settings, test_setup)
 46 | 
 47 |     @assert settings["MultiStage"] âˆˆ [0, 1]
 48 |     # Create a ConsoleLogger that prints any log messages with level >= Error to stderr
 49 |     error_logger = ConsoleLogger(stderr, Logging.Error)
 50 | 
 51 |     output = with_logger(error_logger) do
 52 |         OPTIMIZER = configure_solver(test_path, optimizer)
 53 |         inputs = load_inputs(settings, test_path)
 54 |         EP = generate_model(settings, inputs, OPTIMIZER)
 55 |         solve_model(EP, settings)
 56 |     end
 57 |     return output
 58 | end
 59 | 
 60 | function run_genx_case_simple_testing(test_path::AbstractString,
 61 |         genx_setup::Dict,
 62 |         optimizer::Any)
 63 |     # Run the case
 64 |     OPTIMIZER = configure_solver(test_path, optimizer)
 65 |     inputs = load_inputs(genx_setup, test_path)
 66 |     EP = generate_model(genx_setup, inputs, OPTIMIZER)
 67 |     EP, _ = solve_model(EP, genx_setup)
 68 |     return EP, inputs, OPTIMIZER
 69 | end
 70 | 
 71 | function run_genx_case_multistage_testing(test_path::AbstractString,
 72 |         genx_setup::Dict,
 73 |         optimizer::Any)
 74 |     # Run the case
 75 |     OPTIMIZER = configure_solver(test_path, optimizer)
 76 | 
 77 |     model_dict = Dict()
 78 |     inputs_dict = Dict()
 79 | 
 80 |     for t in 1:genx_setup["MultiStageSettingsDict"]["NumStages"]
 81 |         # Step 0) Set Model Year
 82 |         genx_setup["MultiStageSettingsDict"]["CurStage"] = t
 83 | 
 84 |         # Step 1) Load Inputs
 85 |         inpath_sub = joinpath(test_path, string("inputs_p", t))
 86 |         inputs_dict[t] = load_inputs(genx_setup, inpath_sub)
 87 |         inputs_dict[t] = configure_multi_stage_inputs(inputs_dict[t],
 88 |             genx_setup["MultiStageSettingsDict"],
 89 |             genx_setup["NetworkExpansion"])
 90 | 
 91 |         compute_cumulative_min_retirements!(inputs_dict, t)
 92 | 
 93 |         # Step 2) Generate model
 94 |         model_dict[t] = generate_model(genx_setup, inputs_dict[t], OPTIMIZER)
 95 |     end
 96 |     model_dict, _, inputs_dict = run_ddp(results_path, model_dict, genx_setup, inputs_dict)
 97 |     return model_dict, inputs_dict, OPTIMIZER
 98 | end
 99 | 
100 | function write_testlog(test_path::AbstractString,
101 |         message::AbstractString,
102 |         test_result::TestResult)
103 |     # Save the results to a log file
104 |     # Format: datetime, message, test result
105 | 
106 |     Log_path = joinpath(@__DIR__, "Logs")
107 |     if !isdir(Log_path)
108 |         mkdir(Log_path)
109 |     end
110 | 
111 |     log_file_path = joinpath(Log_path, "$(basename(test_path)).log")
112 | 
113 |     logger = FormatLogger(open(log_file_path, "a")) do io, args
114 |         # Write only if the test passed or failed
115 |         println(io, split(args.message, "\n")[1])
116 |     end
117 | 
118 |     with_logger(logger) do
119 |         time = Dates.format(now(), "yyyy-mm-dd HH:MM:SS")
120 |         @info "$time | $message | $test_result"
121 |     end
122 | end
123 | 
124 | function write_testlog(test_path::AbstractString,
125 |         obj_test::Real,
126 |         optimal_tol::Real,
127 |         test_result::TestResult)
128 |     # Save the results to a log file
129 |     # Format: datetime, objective value Â± tolerance, test result
130 |     message = "$obj_test Â± $optimal_tol"
131 |     write_testlog(test_path, message, test_result)
132 | end
133 | 
134 | function write_testlog(test_path::AbstractString,
135 |         obj_test::Vector{<:Real},
136 |         optimal_tol::Vector{<:Real},
137 |         test_result::TestResult)
138 |     # Save the results to a log file
139 |     # Format: datetime, [objective value Â± tolerance], test result
140 |     @assert length(obj_test) == length(optimal_tol)
141 |     message = join(join.(zip(obj_test, optimal_tol), " Â± "), ", ")
142 |     write_testlog(test_path, message, test_result)
143 | end
144 | 
145 | function get_exponent_sciform(number::Real)
146 |     # Get the exponent of a number in scientific notation
147 |     return number == 0.0 ? 0 : Int(floor(log10(abs(number))))
148 | end
149 | 
150 | function round_from_tol!(obj::Real, tol::Real)
151 |     # Round the objective value to the same number of digits as the tolerance
152 |     return round(obj, digits = (-1) * get_exponent_sciform(tol))
153 | end
154 | 
155 | function cmp_csv(csv1::AbstractString, csv2::AbstractString)
156 |     # Compare two csv files
157 |     # Return true (false) if they are identical (different)
158 |     # Throw an error if one of the files does not exist
159 |     if !isfile(csv1)
160 |         throw(CSVFileNotFound(csv1))
161 |     end
162 |     if !isfile(csv2)
163 |         throw(CSVFileNotFound(csv2))
164 |     end
165 | 
166 |     df1 = CSV.read(csv1, DataFrame)
167 |     df2 = CSV.read(csv2, DataFrame)
168 | 
169 |     # Sort the csv files
170 |     cols = sort(names(df1))
171 |     cols â‰  sort(names(df2)) && error("Column names in $csv1 and $csv2 are different.")
172 | 
173 |     return isapprox_df(df1, df2)
174 | end
175 | 
176 | """
177 |     isapprox_df(df1::DataFrame, df2::DataFrame)
178 | 
179 | Compare two DataFrames. Return true if they are identical or approximately equal.
180 | 
181 | # Arguments
182 | - `df1::DataFrame`: first DataFrame
183 | - `df2::DataFrame`: second DataFrame
184 | 
185 | # Returns
186 | - `true` if the two DataFrames are identical or approximately equal
187 | - `false` otherwise
188 | """
189 | function isapprox_df(df1::DataFrame, df2::DataFrame)
190 |     @assert length(names(df1)) == length(names(df2))
191 |     @assert Set(names(df1)) == Set(names(df2))
192 |     is_approx = true
193 |     for col in names(df1)
194 |         !isapprox_col(df1[!, col], df2[!, col]) && return false
195 |     end
196 |     return is_approx
197 | end
198 | 
199 | """
200 |     isapprox_col(col1, col2)
201 | 
202 | Compare two columns of a DataFrame. Return true if they are identical or approximately equal.
203 | 
204 | # Arguments
205 | - `col1::Vector`: first column
206 | - `col2::Vector`: second column
207 | 
208 | # Returns
209 | - `true` if the two columns are identical or approximately equal
210 | - `false` otherwise
211 | """
212 | function isapprox_col(col1, col2)
213 |     if isequal(col1, col2) || (eltype(col1) <: Float64 && isapprox(col1, col2))
214 |         return true
215 |     elseif eltype(col1) <: AbstractString
216 |         isapprox_col = true
217 |         for i in eachindex(col1)
218 |             if !isapprox_col
219 |                 break
220 |             elseif !isnothing(tryparse(Float64, col1[i])) &&
221 |                    !isnothing(tryparse(Float64, col2[i]))
222 |                 isapprox_col = isapprox_col &&
223 |                                isapprox(parse(Float64, col1[i]), parse(Float64, col2[i]))
224 |             else
225 |                 isapprox_col = isapprox_col && isequal(col1[i], col2[i])
226 |             end
227 |         end
228 |         return isapprox_col
229 |     end
230 |     return false
231 | end
232 | 
233 | macro warn_error_logger(block)
234 |     quote
235 |         result = redirect_stdout(devnull) do
236 |             # Create a ConsoleLogger that prints any log messages with level >= Warn to stderr
237 |             warnerror_logger = ConsoleLogger(stderr, Logging.Warn)
238 |             with_logger(warnerror_logger) do
239 |                 result = $(esc(block))
240 |             end
241 |         end
242 |         result
243 |     end
244 | end
245 | 


--------------------------------------------------------------------------------
/test/writing_outputs/test_writing_stats_ms.jl:
--------------------------------------------------------------------------------
  1 | module TestWritingStatsMs
  2 | 
  3 | using Test
  4 | using CSV, DataFrames
  5 | using GenX
  6 | 
  7 | # create temporary directory for testing 
  8 | mkpath("writing_outputs/multi_stage_stats_tmp")
  9 | outpath = "writing_outputs/multi_stage_stats_tmp"
 10 | filename = GenX._get_multi_stage_stats_filename()
 11 | 
 12 | function test_header()
 13 |     # Note: if this test fails, it means that the header in the function _get_multi_stage_stats_header() has been changed.
 14 |     # Make sure to check that the code is consistent with the new header, and update the test accordingly.
 15 |     header = GenX._get_multi_stage_stats_header()
 16 |     @test header ==
 17 |           ["Iteration_Number", "Seconds", "Upper_Bound", "Lower_Bound", "Relative_Gap"]
 18 | end
 19 | 
 20 | function test_skip_existing_file()
 21 |     touch(joinpath(outpath, filename))
 22 |     # If the file already exists, don't overwrite it
 23 |     write_multi_stage_stats = GenX.write_multi_stage_stats(outpath, Dict())
 24 |     @test isnothing(write_multi_stage_stats)
 25 |     rm(joinpath(outpath, filename))
 26 | end
 27 | 
 28 | function test_write_multi_stage_stats(iter::Int64 = 10)
 29 |     # test writing stats to file for `iter` number of iterations
 30 |     times_a, upper_bounds_a, lower_bounds_a = rand(iter), rand(iter), rand(iter)
 31 |     stats_d = Dict("TIMES" => times_a, "UPPER_BOUNDS" => upper_bounds_a,
 32 |         "LOWER_BOUNDS" => lower_bounds_a)
 33 | 
 34 |     @test isnothing(GenX.write_multi_stage_stats(outpath, stats_d))
 35 |     df_stats = CSV.read(joinpath(outpath, filename), DataFrame)
 36 |     header = GenX._get_multi_stage_stats_header()
 37 |     @test size(df_stats) == (iter, length(header))
 38 |     for i in 1:iter
 39 |         test_stats_d(df_stats, i, times_a[i], upper_bounds_a[i], lower_bounds_a[i],
 40 |             (upper_bounds_a[i] - lower_bounds_a[i]) / lower_bounds_a[i])
 41 |     end
 42 |     rm(joinpath(outpath, filename))
 43 | end
 44 | 
 45 | function test_create_multi_stage_stats_file()
 46 |     GenX.create_multi_stage_stats_file(outpath)
 47 |     df_stats = CSV.read(joinpath(outpath, filename), DataFrame)
 48 |     @test size(df_stats, 1) == 0
 49 |     @test size(df_stats, 2) == 5
 50 |     @test names(df_stats) == GenX._get_multi_stage_stats_header()
 51 |     rm(joinpath(outpath, filename))
 52 | end
 53 | 
 54 | function test_update_multi_stage_stats_file(iter::Int64 = 10)
 55 |     # test updating the stats file with new values
 56 |     header = GenX._get_multi_stage_stats_header()
 57 |     GenX.create_multi_stage_stats_file(outpath)
 58 |     lower_bound = rand()
 59 |     iteration_time = rand()
 60 |     for i in 1:iter
 61 |         # upper bound is updated
 62 |         upper_bound = rand()
 63 |         GenX.update_multi_stage_stats_file(
 64 |             outpath, i, upper_bound, lower_bound, iteration_time, new_row = true)
 65 |         df_stats = CSV.read(joinpath(outpath, filename), DataFrame)
 66 |         test_stats_d(df_stats, i, iteration_time, upper_bound, lower_bound,
 67 |             (upper_bound - lower_bound) / lower_bound)
 68 |         # lower bound is updated
 69 |         lower_bound = rand()
 70 |         GenX.update_multi_stage_stats_file(
 71 |             outpath, i, upper_bound, lower_bound, iteration_time)
 72 |         df_stats = CSV.read(joinpath(outpath, filename), DataFrame)
 73 |         test_stats_d(df_stats, i, iteration_time, upper_bound, lower_bound,
 74 |             (upper_bound - lower_bound) / lower_bound)
 75 |         # iteration time is updated
 76 |         iteration_time = rand()
 77 |         GenX.update_multi_stage_stats_file(
 78 |             outpath, i, upper_bound, lower_bound, iteration_time)
 79 |         df_stats = CSV.read(joinpath(outpath, filename), DataFrame)
 80 |         test_stats_d(df_stats, i, iteration_time, upper_bound, lower_bound,
 81 |             (upper_bound - lower_bound) / lower_bound)
 82 |         # test size 
 83 |         @test size(df_stats) == (i, length(header))
 84 |     end
 85 |     rm(joinpath(outpath, filename))
 86 | end
 87 | 
 88 | function test_stats_d(df_stats, i, iteration_time, upper_bound, lower_bound, relative_gap)
 89 |     header = GenX._get_multi_stage_stats_header()
 90 |     @test df_stats[i, header[1]] == i
 91 |     @test df_stats[i, header[2]] == iteration_time
 92 |     @test df_stats[i, header[3]] == upper_bound
 93 |     @test df_stats[i, header[4]] == lower_bound
 94 |     @test df_stats[i, header[5]] == relative_gap
 95 | end
 96 | 
 97 | @testset "Test writing multi-stage stats" begin
 98 |     test_header()
 99 |     test_skip_existing_file()
100 |     test_write_multi_stage_stats()
101 |     test_create_multi_stage_stats_file()
102 |     test_update_multi_stage_stats_file()
103 | end
104 | 
105 | rm(outpath)
106 | 
107 | end # module TestWritingStatsMs
108 | 


--------------------------------------------------------------------------------
/test/writing_outputs/test_zone_no_resources.jl:
--------------------------------------------------------------------------------
 1 | module TestZoneNoResources
 2 | 
 3 | using Test
 4 | using DataFrames
 5 | 
 6 | include(joinpath(@__DIR__, "../utilities.jl"))
 7 | 
 8 | function prepare_costs_test(test_path, inputs, genx_setup, EP)
 9 |     settings = GenX.default_settings()
10 |     merge!(settings, genx_setup)
11 |     GenX.write_costs(test_path, inputs, settings, EP)
12 |     costs_path = joinpath(test_path, "costs.csv")
13 |     costs_test = CSV.read(costs_path, DataFrame)
14 |     costs_test[!, :Zone1] = tryparse.(Float64, replace(costs_test[!, :Zone1], "-" => "0.0"))
15 |     costs_test[!, :Zone2] = tryparse.(Float64, replace(costs_test[!, :Zone2], "-" => "0.0"))
16 |     costs_test[!, :Zone2] = replace(costs_test[!, :Zone2], nothing => 0.0)
17 |     return costs_test
18 | end
19 | 
20 | function prepare_costs_true()
21 |     df = DataFrame(
22 |         ["cTotal" 5.177363815260002e12 4.027191550200002e12 1.1501722650599993e12;
23 |          "cFix" 0.0 0.0 0.0;
24 |          "cVar" 5.849292224195126e-8 0.0 5.849292224195126e-8;
25 |          "cFuel" 0.0 0.0 0.0;
26 |          "cNSE" 5.177363815260002e12 4.027191550200002e12 1.1501722650599993e12;
27 |          "cStart" 0.0 0.0 0.0;
28 |          "cUnmetRsv" 0.0 0.0 0.0;
29 |          "cNetworkExp" 0.0 0.0 0.0;
30 |          "cUnmetPolicyPenalty" 0.0 0.0 0.0;
31 |          "cCO2" 0.0 0.0 0.0],
32 |         [:Costs, :Total, :Zone1, :Zone2])
33 | 
34 |     df[!, :Costs] = convert(Vector{String}, df[!, :Costs])
35 |     df[!, :Total] = convert(Vector{Float64}, df[!, :Total])
36 |     df[!, :Zone1] = convert(Vector{Float64}, df[!, :Zone1])
37 |     df[!, :Zone2] = convert(Vector{Float64}, df[!, :Zone2])
38 |     return df
39 | end
40 | 
41 | function test_case()
42 |     test_path = joinpath(@__DIR__, "zone_no_resources")
43 |     obj_true = 5.1773638153e12
44 |     costs_true = prepare_costs_true()
45 | 
46 |     # Define test setup
47 |     genx_setup = Dict("NetworkExpansion" => 1,
48 |         "Trans_Loss_Segments" => 1,
49 |         "UCommit" => 2,
50 |         "CO2Cap" => 2,
51 |         "StorageLosses" => 1,
52 |         "WriteShadowPrices" => 1)
53 | 
54 |     # Run the case and get the objective value and tolerance
55 |     EP, inputs, _ = redirect_stdout(devnull) do
56 |         run_genx_case_testing(test_path, genx_setup)
57 |     end
58 |     obj_test = objective_value(EP)
59 |     optimal_tol_rel = get_attribute(EP, "dual_feasibility_tolerance")
60 |     optimal_tol = optimal_tol_rel * obj_test  # Convert to absolute tolerance
61 | 
62 |     # Test the objective value
63 |     test_result = @test obj_testâ‰ˆobj_true atol=optimal_tol
64 | 
65 |     # Test the costs
66 |     costs_test = prepare_costs_test(test_path, inputs, genx_setup, EP)
67 |     test_result = @test costs_test[!, Not(:Costs)] â‰ˆ costs_true[!, Not(:Costs)]
68 | 
69 |     # Remove the costs file
70 |     rm(joinpath(test_path, "costs.csv"))
71 | 
72 |     return nothing
73 | end
74 | 
75 | test_case()
76 | 
77 | end # module TestZoneNoResources
78 | 


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/highs_settings.yml:
--------------------------------------------------------------------------------
 1 | # HiGHS Solver Parameters
 2 | # Common solver settings
 3 | Feasib_Tol: 1.0e-05        # Primal feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 4 | Optimal_Tol: 1.0e-05       # Dual feasibility tolerance # [type: double, advanced: false, range: [1e-10, inf], default: 1e-07]
 5 | TimeLimit: 1.0e23             # Time limit # [type: double, advanced: false, range: [0, inf], default: inf]
 6 | Pre_Solve: choose          # Presolve option: "off", "choose" or "on" # [type: string, advanced: false, default: "choose"]
 7 | Method: ipm           #HiGHS-specific solver settings # Solver option: "simplex", "choose" or "ipm" # [type: string, advanced: false, default: "choose"]
 8 | 
 9 | # run the crossover routine for ipx
10 | # [type: string, advanced: "on", range: {"off", "on"}, default: "off"]
11 | run_crossover: "on"
12 | 


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/policies/CO2_cap.csv:
--------------------------------------------------------------------------------
1 | ,Network_zones,CO_2_Cap_Zone_1,CO_2_Cap_Zone_2,CO_2_Max_tons_MWh_1,CO_2_Max_tons_MWh_2,CO_2_Max_Mtons_1,CO_2_Max_Mtons_2
2 | MA,z1,1,0,0.05,0,0.018,0
3 | CT,z2,0,1,0,0.05,0,0.025


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/resources/Storage.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Existing_Cap_MWh,Max_Cap_MW,Max_Cap_MWh,Min_Cap_MW,Min_Cap_MWh,Inv_Cost_per_MWyr,Inv_Cost_per_MWhyr,Fixed_OM_Cost_per_MWyr,Fixed_OM_Cost_per_MWhyr,Var_OM_Cost_per_MWh,Var_OM_Cost_per_MWh_In,Self_Disch,Eff_Up,Eff_Down,Min_Duration,Max_Duration,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | CT_battery,2,1,1,0,0,0,-1,-1,0,0,19584,22494,4895,5622,0.15,0.15,0,0.92,0.92,1,10,0,0,0,0,CT,0


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/resources/Thermal.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Model,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Heat_Rate_MMBTU_per_MWh,Fuel,Cap_Size,Start_Cost_per_MW,Start_Fuel_MMBTU_per_MW,Up_Time,Down_Time,Ramp_Up_Percentage,Ramp_Dn_Percentage,Min_Power,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | CT_natural_gas_combined_cycle,2,1,1,0,0,-1,0,65400,10287,3.55,7.43,CT_NG,250,91,2,6,6,0.64,0.64,0.468,0.25,0.5,0,0,CT,1


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/resources/Vre.csv:
--------------------------------------------------------------------------------
1 | Resource,Zone,Num_VRE_Bins,New_Build,Can_Retire,Existing_Cap_MW,Max_Cap_MW,Min_Cap_MW,Inv_Cost_per_MWyr,Fixed_OM_Cost_per_MWyr,Var_OM_Cost_per_MWh,Reg_Max,Rsv_Max,Reg_Cost,Rsv_Cost,region,cluster
2 | CT_onshore_wind,2,1,0,0,0,-1,0,97200,43205,0.1,0,0,0,0,CT,1
3 | CT_solar_pv,2,1,0,0,0,-1,0,85300,18760,0,0,0,0,0,CT,1


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/system/Demand_data.csv:
--------------------------------------------------------------------------------
  1 | Voll,Demand_Segment,Cost_of_Demand_Curtailment_per_MW,Max_Demand_Curtailment,$/MWh,Rep_Periods,Timesteps_per_Rep_Period,Sub_Weights,Time_Index,Demand_MW_z1,Demand_MW_z2
  2 | 50000,1,1.0,1.0,2000,5,24,24.0,1,7822.0,2234.0
  3 | ,2,0.9,0.04,1800,,,2592.0,2,7494.0,2140.0
  4 | ,3,0.55,0.024,1100,,,6096.0,3,7343.0,2097.0
  5 | ,4,0.2,0.003,400,,,24.0,4,7289.0,2082.0
  6 | ,,,,,,,24.0,5,7482.0,2137.0
  7 | ,,,,,,,,6,8142.0,2325.0
  8 | ,,,,,,,,7,9388.0,2681.0
  9 | ,,,,,,,,8,10233.0,2922.0
 10 | ,,,,,,,,9,10494.0,2997.0
 11 | ,,,,,,,,10,10665.0,3046.0
 12 | ,,,,,,,,11,10780.0,3079.0
 13 | ,,,,,,,,12,10817.0,3089.0
 14 | ,,,,,,,,13,10743.0,3068.0
 15 | ,,,,,,,,14,10657.0,3044.0
 16 | ,,,,,,,,15,10516.0,3003.0
 17 | ,,,,,,,,16,10468.0,2990.0
 18 | ,,,,,,,,17,10788.0,3081.0
 19 | ,,,,,,,,18,11254.0,3214.0
 20 | ,,,,,,,,19,11088.0,3167.0
 21 | ,,,,,,,,20,10715.0,3060.0
 22 | ,,,,,,,,21,10312.0,2945.0
 23 | ,,,,,,,,22,9767.0,2790.0
 24 | ,,,,,,,,23,9041.0,2582.0
 25 | ,,,,,,,,24,8305.0,2372.0
 26 | ,,,,,,,,25,7611.0,2174.0
 27 | ,,,,,,,,26,7284.0,2080.0
 28 | ,,,,,,,,27,7110.0,2031.0
 29 | ,,,,,,,,28,7082.0,2023.0
 30 | ,,,,,,,,29,7266.0,2075.0
 31 | ,,,,,,,,30,7941.0,2268.0
 32 | ,,,,,,,,31,9190.0,2625.0
 33 | ,,,,,,,,32,9935.0,2837.0
 34 | ,,,,,,,,33,10145.0,2897.0
 35 | ,,,,,,,,34,10199.0,2913.0
 36 | ,,,,,,,,35,10213.0,2917.0
 37 | ,,,,,,,,36,10135.0,2895.0
 38 | ,,,,,,,,37,9964.0,2845.0
 39 | ,,,,,,,,38,9842.0,2811.0
 40 | ,,,,,,,,39,9677.0,2764.0
 41 | ,,,,,,,,40,9588.0,2739.0
 42 | ,,,,,,,,41,9757.0,2786.0
 43 | ,,,,,,,,42,10423.0,2976.0
 44 | ,,,,,,,,43,10732.0,3065.0
 45 | ,,,,,,,,44,10465.0,2989.0
 46 | ,,,,,,,,45,10112.0,2888.0
 47 | ,,,,,,,,46,9608.0,2744.0
 48 | ,,,,,,,,47,8902.0,2543.0
 49 | ,,,,,,,,48,8169.0,2333.0
 50 | ,,,,,,,,49,7338.0,2096.0
 51 | ,,,,,,,,50,6938.0,1982.0
 52 | ,,,,,,,,51,6751.0,1928.0
 53 | ,,,,,,,,52,6676.0,1907.0
 54 | ,,,,,,,,53,6840.0,1953.0
 55 | ,,,,,,,,54,7300.0,2085.0
 56 | ,,,,,,,,55,8454.0,2414.0
 57 | ,,,,,,,,56,9469.0,2704.0
 58 | ,,,,,,,,57,10006.0,2858.0
 59 | ,,,,,,,,58,10341.0,2954.0
 60 | ,,,,,,,,59,10626.0,3035.0
 61 | ,,,,,,,,60,10780.0,3079.0
 62 | ,,,,,,,,61,10849.0,3099.0
 63 | ,,,,,,,,62,10977.0,3135.0
 64 | ,,,,,,,,63,10950.0,3127.0
 65 | ,,,,,,,,64,10892.0,3111.0
 66 | ,,,,,,,,65,10868.0,3104.0
 67 | ,,,,,,,,66,10767.0,3075.0
 68 | ,,,,,,,,67,10550.0,3013.0
 69 | ,,,,,,,,68,10414.0,2974.0
 70 | ,,,,,,,,69,10478.0,2992.0
 71 | ,,,,,,,,70,10018.0,2861.0
 72 | ,,,,,,,,71,9029.0,2579.0
 73 | ,,,,,,,,72,8087.0,2309.0
 74 | ,,,,,,,,73,10503.0,3000.0
 75 | ,,,,,,,,74,9889.0,2825.0
 76 | ,,,,,,,,75,9493.0,2711.0
 77 | ,,,,,,,,76,9245.0,2640.0
 78 | ,,,,,,,,77,9268.0,2647.0
 79 | ,,,,,,,,78,9643.0,2754.0
 80 | ,,,,,,,,79,10684.0,3051.0
 81 | ,,,,,,,,80,12036.0,3437.0
 82 | ,,,,,,,,81,13120.0,3747.0
 83 | ,,,,,,,,82,14080.0,4021.0
 84 | ,,,,,,,,83,14910.0,4258.0
 85 | ,,,,,,,,84,15478.0,4421.0
 86 | ,,,,,,,,85,15870.0,4533.0
 87 | ,,,,,,,,86,16225.0,4633.0
 88 | ,,,,,,,,87,16448.0,4698.0
 89 | ,,,,,,,,88,16617.0,4746.0
 90 | ,,,,,,,,89,16717.0,4774.0
 91 | ,,,,,,,,90,16579.0,4735.0
 92 | ,,,,,,,,91,16199.0,4626.0
 93 | ,,,,,,,,92,15701.0,4484.0
 94 | ,,,,,,,,93,15416.0,4403.0
 95 | ,,,,,,,,94,14854.0,4243.0
 96 | ,,,,,,,,95,13581.0,3878.0
 97 | ,,,,,,,,96,12317.0,3518.0
 98 | ,,,,,,,,97,7899.0,2256.0
 99 | ,,,,,,,,98,7613.0,2174.0
100 | ,,,,,,,,99,7477.0,2135.0
101 | ,,,,,,,,100,7470.0,2134.0
102 | ,,,,,,,,101,7699.0,2199.0
103 | ,,,,,,,,102,8428.0,2407.0
104 | ,,,,,,,,103,9761.0,2787.0
105 | ,,,,,,,,104,10471.0,2991.0
106 | ,,,,,,,,105,10643.0,3040.0
107 | ,,,,,,,,106,10719.0,3061.0
108 | ,,,,,,,,107,10802.0,3085.0
109 | ,,,,,,,,108,10835.0,3095.0
110 | ,,,,,,,,109,10820.0,3090.0
111 | ,,,,,,,,110,10811.0,3087.0
112 | ,,,,,,,,111,10750.0,3070.0
113 | ,,,,,,,,112,10888.0,3110.0
114 | ,,,,,,,,113,11635.0,3323.0
115 | ,,,,,,,,114,12129.0,3464.0
116 | ,,,,,,,,115,12036.0,3437.0
117 | ,,,,,,,,116,11714.0,3346.0
118 | ,,,,,,,,117,11207.0,3201.0
119 | ,,,,,,,,118,10396.0,2969.0
120 | ,,,,,,,,119,9383.0,2680.0
121 | ,,,,,,,,120,8476.0,2420.0
122 | 


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/system/Fuels_data.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,CT_NG,None
  2 | 0,0.05306,0.0
  3 | 1,5.45,0.0
  4 | 2,5.45,0.0
  5 | 3,5.45,0.0
  6 | 4,5.45,0.0
  7 | 5,5.45,0.0
  8 | 6,5.45,0.0
  9 | 7,5.45,0.0
 10 | 8,5.45,0.0
 11 | 9,5.45,0.0
 12 | 10,5.45,0.0
 13 | 11,5.45,0.0
 14 | 12,5.45,0.0
 15 | 13,5.45,0.0
 16 | 14,5.45,0.0
 17 | 15,5.45,0.0
 18 | 16,5.45,0.0
 19 | 17,5.45,0.0
 20 | 18,5.45,0.0
 21 | 19,5.45,0.0
 22 | 20,5.45,0.0
 23 | 21,5.45,0.0
 24 | 22,5.45,0.0
 25 | 23,5.45,0.0
 26 | 24,5.45,0.0
 27 | 25,4.09,0.0
 28 | 26,4.09,0.0
 29 | 27,4.09,0.0
 30 | 28,4.09,0.0
 31 | 29,4.09,0.0
 32 | 30,4.09,0.0
 33 | 31,4.09,0.0
 34 | 32,4.09,0.0
 35 | 33,4.09,0.0
 36 | 34,4.09,0.0
 37 | 35,4.09,0.0
 38 | 36,4.09,0.0
 39 | 37,4.09,0.0
 40 | 38,4.09,0.0
 41 | 39,4.09,0.0
 42 | 40,4.09,0.0
 43 | 41,4.09,0.0
 44 | 42,4.09,0.0
 45 | 43,4.09,0.0
 46 | 44,4.09,0.0
 47 | 45,4.09,0.0
 48 | 46,4.09,0.0
 49 | 47,4.09,0.0
 50 | 48,4.09,0.0
 51 | 49,1.82,0.0
 52 | 50,1.82,0.0
 53 | 51,1.82,0.0
 54 | 52,1.82,0.0
 55 | 53,1.82,0.0
 56 | 54,1.82,0.0
 57 | 55,1.82,0.0
 58 | 56,1.82,0.0
 59 | 57,1.82,0.0
 60 | 58,1.82,0.0
 61 | 59,1.82,0.0
 62 | 60,1.82,0.0
 63 | 61,1.82,0.0
 64 | 62,1.82,0.0
 65 | 63,1.82,0.0
 66 | 64,1.82,0.0
 67 | 65,1.82,0.0
 68 | 66,1.82,0.0
 69 | 67,1.82,0.0
 70 | 68,1.82,0.0
 71 | 69,1.82,0.0
 72 | 70,1.82,0.0
 73 | 71,1.82,0.0
 74 | 72,1.82,0.0
 75 | 73,1.89,0.0
 76 | 74,1.89,0.0
 77 | 75,1.89,0.0
 78 | 76,1.89,0.0
 79 | 77,1.89,0.0
 80 | 78,1.89,0.0
 81 | 79,1.89,0.0
 82 | 80,1.89,0.0
 83 | 81,1.89,0.0
 84 | 82,1.89,0.0
 85 | 83,1.89,0.0
 86 | 84,1.89,0.0
 87 | 85,1.89,0.0
 88 | 86,1.89,0.0
 89 | 87,1.89,0.0
 90 | 88,1.89,0.0
 91 | 89,1.89,0.0
 92 | 90,1.89,0.0
 93 | 91,1.89,0.0
 94 | 92,1.89,0.0
 95 | 93,1.89,0.0
 96 | 94,1.89,0.0
 97 | 95,1.89,0.0
 98 | 96,1.89,0.0
 99 | 97,2.78,0.0
100 | 98,2.78,0.0
101 | 99,2.78,0.0
102 | 100,2.78,0.0
103 | 101,2.78,0.0
104 | 102,2.78,0.0
105 | 103,2.78,0.0
106 | 104,2.78,0.0
107 | 105,2.78,0.0
108 | 106,2.78,0.0
109 | 107,2.78,0.0
110 | 108,2.78,0.0
111 | 109,2.78,0.0
112 | 110,2.78,0.0
113 | 111,2.78,0.0
114 | 112,2.78,0.0
115 | 113,2.78,0.0
116 | 114,2.78,0.0
117 | 115,2.78,0.0
118 | 116,2.78,0.0
119 | 117,2.78,0.0
120 | 118,2.78,0.0
121 | 119,2.78,0.0
122 | 120,2.78,0.0
123 | 


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/system/Generators_variability.csv:
--------------------------------------------------------------------------------
  1 | Time_Index,CT_onshore_wind,CT_solar_pv
  2 | 1,0.705949306,0
  3 | 2,0.834924579,0
  4 | 3,0.832703173,0
  5 | 4,0.727586865,0
  6 | 5,0.626110256,0
  7 | 6,0.721315265,0
  8 | 7,0.785158873,0
  9 | 8,0.59819752,0
 10 | 9,0.567111433,0
 11 | 10,0.326491237,0.0064
 12 | 11,0.390583217,0.116
 13 | 12,0.287067473,0.0999
 14 | 13,0.229321212,0.1202
 15 | 14,0.154025629,0.192
 16 | 15,0.115687042,0.1404
 17 | 16,0.054644316,0.0697
 18 | 17,0.088804618,0
 19 | 18,0.72049433,0
 20 | 19,0.834395289,0
 21 | 20,0.950648248,0
 22 | 21,0.999782085,0
 23 | 22,1,0
 24 | 23,1,0
 25 | 24,1,0
 26 | 25,0.465583175,0
 27 | 26,0.707297444,0
 28 | 27,0.895804107,0
 29 | 28,0.819945991,0
 30 | 29,0.610500693,0
 31 | 30,0.34757489,0
 32 | 31,0.285657108,0
 33 | 32,0.317218393,0
 34 | 33,0.254971772,0.1509
 35 | 34,0.306124657,0.3546
 36 | 35,0.72285372,0.5514
 37 | 36,0.749075055,0.5828
 38 | 37,0.766450584,0.5721
 39 | 38,0.583024323,0.5944
 40 | 39,0.89966023,0.5804
 41 | 40,0.768344879,0.5083
 42 | 41,0.941289306,0.3311
 43 | 42,0.691129565,0.0839
 44 | 43,0.369385242,0
 45 | 44,0.543988705,0
 46 | 45,0.627581239,0
 47 | 46,0.891589403,0
 48 | 47,0.663651288,0
 49 | 48,0.636843503,0
 50 | 49,0.431610733,0
 51 | 50,0.574139476,0
 52 | 51,0.5398283,0
 53 | 52,0.201132476,0
 54 | 53,0.107555799,0
 55 | 54,0.144015923,0.0126
 56 | 55,0.071583487,0.1019
 57 | 56,0.205921009,0.2045
 58 | 57,0.161220312,0.3112
 59 | 58,0.336054265,0.3663
 60 | 59,0.368090123,0.4167
 61 | 60,0.454866886,0.4684
 62 | 61,0.460774302,0.4928
 63 | 62,0.431218863,0.4656
 64 | 63,0.424021393,0.3782
 65 | 64,0.402401239,0.3149
 66 | 65,0.201657325,0.2465
 67 | 66,0.31398356,0.1617
 68 | 67,0.642302394,0.0083
 69 | 68,0.458561152,0
 70 | 69,0.278454691,0
 71 | 70,0.406244844,0
 72 | 71,0.48908928,0
 73 | 72,0.247558758,0
 74 | 73,0.46454832,0
 75 | 74,0.619871557,0
 76 | 75,0.782924116,0
 77 | 76,0.544351637,0
 78 | 77,0.388339579,0
 79 | 78,0.188761607,0.0003
 80 | 79,0.056012779,0.0996
 81 | 80,0.011642265,0.2184
 82 | 81,0.005336904,0.3801
 83 | 82,0.036412083,0.497
 84 | 83,0.113800742,0.566
 85 | 84,0.309363514,0.5632
 86 | 85,0.537328064,0.5305
 87 | 86,0.75558275,0.5783
 88 | 87,0.804839015,0.5735
 89 | 88,0.814335048,0.4853
 90 | 89,0.82010901,0.4051
 91 | 90,0.700861871,0.2135
 92 | 91,0.377394527,0.0909
 93 | 92,0.301600695,0
 94 | 93,0.539320409,0
 95 | 94,0.604777336,0
 96 | 95,0.605847716,0
 97 | 96,0.867583036,0
 98 | 97,1.83E-05,0
 99 | 98,0,0
100 | 99,0,0
101 | 100,0,0
102 | 101,0,0
103 | 102,0,0
104 | 103,0.000799759,0
105 | 104,0.00032822,0
106 | 105,0,0.0745
107 | 106,0,0.2522
108 | 107,5.05E-06,0.3334
109 | 108,0,0.3485
110 | 109,0,0.3388
111 | 110,0,0.3379
112 | 111,6.15E-05,0.3133
113 | 112,0.000322065,0.1924
114 | 113,0.000258478,0
115 | 114,0.000254347,0
116 | 115,0.00095264,0
117 | 116,0.001598039,0
118 | 117,0.002736128,0
119 | 118,0.004819703,0
120 | 119,0.002815315,0
121 | 120,0.001111662,0


--------------------------------------------------------------------------------
/test/writing_outputs/zone_no_resources/system/Network.csv:
--------------------------------------------------------------------------------
1 | ï»¿,Network_zones,Network_Lines,Start_Zone,End_Zone,Line_Max_Flow_MW,transmission_path_name,distance_mile,Line_Loss_Percentage,Line_Max_Reinforcement_MW,Line_Reinforcement_Cost_per_MWyr,DerateCapRes_1,CapRes_Excl_1
2 | MA,z1,1,1,2,2950,MA_to_CT,123.0584,0.012305837,2950,12060,0.95,0
3 | CT,z2,,,,,,,,,,,


--------------------------------------------------------------------------------

